"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["trade-modals"],{"./src/App/Components/Elements/Modals/UnsupportedContractModal/index.js":(e,t,o)=>{o.d(t,{Z:()=>u});var r=o("../../node_modules/prop-types/index.js"),i=o.n(r),n=o("react"),a=o.n(n),l=o("@deriv/components"),s=o("@deriv/translations"),c=o("./src/Stores/connect.js"),d=o("@deriv/shared"),_=function(e){var t=e.disableApp,o=e.enableApp,r=e.is_loading,i=e.is_visible,n=e.onConfirm,c=e.onClose;return a().createElement(l.Dialog,{title:(0,s.localize)("We’re working on it"),confirm_button_text:(0,s.localize)("Stay on {{website_domain}}",{website_domain:d.website_name}),cancel_button_text:(0,s.localize)("Go to Binary.com"),onConfirm:n,onCancel:c,disableApp:t,enableApp:o,is_loading:r,is_closed_on_cancel:!0,is_visible:i},a().createElement(s.Localize,{i18n_default_text:"You’ve selected a trade type that is currently unsupported, but we’re working on it."}))};_.propTypes={disableApp:i().func,enableApp:i().func,is_loading:i().bool,is_visible:i().bool,onClose:i().func,onConfirm:i().func};const u=(0,c.$j)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading}}))(_)},"./src/App/Containers/Modals/index.js":(e,t,o)=>{o.r(t),o.d(t,{default:()=>A});var r=o("react"),i=o.n(r),n=o("@deriv/shared"),a=o("./src/Stores/connect.js"),l=o("./src/App/Components/Elements/Modals/UnsupportedContractModal/index.js"),s=o("../../node_modules/prop-types/index.js"),c=o.n(s),d=o("@deriv/components"),_=o("@deriv/translations"),u=function(e){var t=e.disableApp,o=e.enableApp,r=e.is_loading,a=e.is_visible,l=e.onCancel,s=e.onConfirm;return i().createElement(d.Dialog,{className:"market-unavailable-modal",title:(0,_.localize)("We’re working on it"),confirm_button_text:(0,_.localize)("Stay on {{platform_name_trader}}",{platform_name_trader:(0,n.getPlatformSettings)("trader").name}),cancel_button_text:(0,_.localize)("Go to {{platform_name_smarttrader}}",{platform_name_smarttrader:(0,n.getPlatformSettings)("smarttrader").name}),onConfirm:s,onCancel:l,is_mobile_full_width:!1,is_visible:a,disableApp:t,enableApp:o,is_loading:r},i().createElement(_.Localize,{i18n_default_text:"This market is not yet available on {{platform_name_trader}}, but it is on {{platform_name_smarttrader}}.",values:{platform_name_trader:(0,n.getPlatformSettings)("trader").name,platform_name_smarttrader:(0,n.getPlatformSettings)("smarttrader").name}}))};u.propTypes={disableApp:c().func,enableApp:c().func,is_loading:c().bool,is_visible:c().bool,onCancel:c().func,onConfirm:c().func};const p=(0,a.$j)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading}}))(u);var m=function(e){switch(e){case"buy":return(0,_.localize)("Purchase Error");case"cancel":return(0,_.localize)("Deal Cancellation Error");case"contract_update":return(0,_.localize)("Contract Update Error");case"sell":return(0,_.localize)("Sell Error");default:return"Error"}},f=function(e){var t=e.is_visible,o=e.toggleModal,r=e.is_appstore,a=e.is_logged_in;return i().createElement(d.Modal,{id:"dt_authorization_required_modal",is_open:t,small:!0,toggleModal:o,title:(0,_.localize)("Start trading with us")},i().createElement(d.Modal.Body,null,(0,_.localize)("Log in or create a free account to place a trade.")),i().createElement(d.Modal.Footer,null,i().createElement(d.Button,{has_effect:!0,text:(0,_.localize)("Log in"),onClick:function(){return(0,n.redirectToLogin)(a,(0,_.getLanguage)())},secondary:!0}),i().createElement(d.Button,{has_effect:!0,text:(0,_.localize)("Create free account"),onClick:function(){return(0,n.redirectToSignUp)({is_appstore:r})},primary:!0})))};f.propTypes={is_appstore:c().bool,is_visible:c().bool,is_logged_in:c().bool,toggleModal:c().func};const g=f;var b=o("react-router-dom"),v=function(e){var t=e.history,o=e.is_virtual,r=e.is_visible,a=e.message,l=e.toggleModal;return i().createElement(d.Modal,{id:"dt_insufficient_balance_modal",is_open:r,small:!0,is_vertical_centered:(0,n.isMobile)(),toggleModal:l,title:(0,_.localize)("Insufficient balance")},i().createElement(d.Modal.Body,null,a),i().createElement(d.Modal.Footer,null,i().createElement(d.Button,{has_effect:!0,text:o?(0,_.localize)("OK"):(0,_.localize)("Deposit now"),onClick:function(){o?l():t.push(n.routes.cashier_deposit)},primary:!0})))};v.propTypes={history:c().object,is_virtual:c().bool,is_visible:c().bool,message:c().string,toggleModal:c().func};const E=(0,b.withRouter)(v);var y=function(e){var t=e.is_visible,o=e.onConfirm;return i().createElement(d.Modal,{is_open:t,small:!0,is_vertical_centered:(0,n.isMobile)(),toggleModal:o,title:(0,_.localize)("Purchase Error")},i().createElement(d.Modal.Body,null,i().createElement(_.Localize,{i18n_default_text:"No further trading is allowed on this contract type for the current trading session. For more info, refer to our <0>terms and conditions</0>.",components:[i().createElement(d.StaticUrl,{key:0,className:"link",href:"tnc/trading-terms.pdf",is_document:!0})]})),i().createElement(d.Modal.Footer,null,i().createElement(d.Button,{has_effect:!0,text:(0,_.localize)("OK"),onClick:o,primary:!0})))};y.propTypes={is_visible:c().bool,onConfirm:c().func};const C=y,h=function(e){var t=e.is_visible,o=e.onConfirm,r=(0,b.useHistory)();return i().createElement(d.Modal,{is_open:t,is_vertical_centered:(0,n.isMobile)(),className:"account-verification-required-modal",toggleModal:o,title:(0,_.localize)("Account verification required"),width:"440px",height:(0,n.isMobile)()?"auto":"220px"},i().createElement(d.Modal.Body,{className:"account-verification-required-modal-text"},i().createElement(_.Localize,{i18n_default_text:"Please submit your proof of identity and proof of address to verify your account and continue trading."})),i().createElement("div",{className:"account-verification-required-modal-button"},i().createElement(d.Modal.Footer,null,i().createElement(d.Button,{has_effect:!0,text:(0,_.localize)("Submit Proof"),onClick:function(){return r.push(n.routes.proof_of_identity)},primary:!0}))))};var M=function(e){var t=e.is_virtual,o=e.is_visible,r=e.is_logged_in,n=e.onConfirm,a=e.services_error,l=a.code,s=a.message;return l&&s?"AuthorizationRequired"===l?i().createElement(g,{is_logged_in:r,is_visible:o,toggleModal:n}):"InsufficientBalance"===l?i().createElement(E,{is_virtual:t,is_visible:o,message:s,toggleModal:n}):"CompanyWideLimitExceeded"===l?i().createElement(C,{is_visible:o,onConfirm:n}):"PleaseAuthenticate"===l?i().createElement(h,{is_visible:o,onConfirm:n}):i().createElement(d.Modal,{is_open:o,small:!0,title:m(a.type),toggleModal:n},i().createElement(d.Modal.Body,null,s),i().createElement(d.Modal.Footer,null,i().createElement(d.Button,{has_effect:!0,text:(0,_.localize)("OK"),onClick:n,primary:!0}))):null};M.propTypes={is_visible:c().bool,is_virtual:c().bool,is_logged_in:c().bool,onConfirm:c().func,services_error:c().object};const z=M,A=(0,a.$j)((function(e){var t=e.ui,o=e.modules,r=e.common,i=e.client;return{is_market_unavailable_visible:t.has_only_forward_starting_contracts,is_services_error_visible:t.is_services_error_visible,is_unsupported_contract_modal_visible:t.is_unsupported_contract_modal_visible,is_virtual:i.is_virtual,is_logged_in:i.is_logged_in,proposal_info:o.trade.proposal_info,purchase_info:o.trade.purchase_info,resetPreviousSymbol:o.trade.resetPreviousSymbol,clearPurchaseInfo:o.trade.clearPurchaseInfo,resetPurchase:o.trade.requestProposal,services_error:r.services_error,setHasOnlyForwardingContracts:t.setHasOnlyForwardingContracts,toggleServicesErrorModal:t.toggleServicesErrorModal,toggleUnsupportedContractModal:t.toggleUnsupportedContractModal}}))((function(e){var t=e.clearPurchaseInfo,o=e.is_unsupported_contract_modal_visible,r=e.is_market_unavailable_visible,a=e.is_services_error_visible,s=e.is_virtual,c=e.is_logged_in,d=e.toggleUnsupportedContractModal,_=e.setHasOnlyForwardingContracts,u=e.resetPreviousSymbol,m=e.toggleServicesErrorModal,f=e.resetPurchase,g=e.services_error,b=function(){_(!1),u()},v=function(){d(!1)};return i().createElement(i().Fragment,null,i().createElement(l.Z,{onConfirm:v,onClose:function(){var e=(0,n.urlFor)("user/portfoliows",{legacy:!0});window.open(e,"_blank"),v()},is_visible:o}),i().createElement(p,{onConfirm:function(){b()},onCancel:function(){window.open((0,n.getUrlSmartTrader)()),b()},is_visible:r}),i().createElement(z,{onConfirm:function(){m(!1),"buy"===g.type&&(t(),f())},services_error:g,is_visible:a,is_virtual:s,is_logged_in:c}))}))}}]);