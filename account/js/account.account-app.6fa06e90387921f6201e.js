/*! For license information please see account.account-app.6fa06e90387921f6201e.js.LICENSE.txt */
"use strict";(self.webpackChunk_deriv_account=self.webpackChunk_deriv_account||[]).push([["account-app","poa-status-codes"],{"./App.tsx":(e,t,n)=>{n.r(t),n.d(t,{default:()=>Va});var r=n("react"),a=n.n(r),o=n("../../../node_modules/prop-types/index.js"),i=n.n(o),l=n("react-router"),c=n("react-router-dom"),s=n("@deriv/shared"),u=n("@deriv/translations"),d=n("@deriv/components"),m=n("../../stores/src/index.ts"),f=n("./Components/form-sub-header/index.ts"),p=n("./Components/sent-email-modal/index.ts"),_=["styles"];function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}const y=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,_);return a().createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 -15 100 100"},t),a().createElement("path",{fill:"#FF444F",d:"M0 28A28 28 0 0128 0h16a28 28 0 0128 28v16a28 28 0 01-28 28H28A28 28 0 010 44V28z"}),a().createElement("path",{fill:"#fff",d:"M45.17 14.92l-2.32 13.16h-8.06c-7.52 0-14.69 6.1-16.02 13.61l-.56 3.2c-1.32 7.52 3.7 13.61 11.21 13.61h6.73c5.48 0 10.7-4.43 11.66-9.91L54 13.49l-8.83 1.43zm-5.72 32.43a3.72 3.72 0 01-3.51 3.07h-4.09c-3.38 0-5.64-2.75-5.04-6.13l.35-2a7.63 7.63 0 017.2-6.13h7.06l-1.97 11.19z"}))};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.email,n=e.is_eu_user,r=e.is_social_signup,o=e.social_identity_provider,i=e.financial_restricted_countries,l=v(a().useState(!1),2),c=l[0],m=l[1],_=function(){"apple"===o?s.WS.verifyEmail(t,"request_email"):s.WS.verifyEmail(t,"reset_password"),m(!0)},h=o?(0,s.toTitleCase)(o):"",g=(0,s.getBrandWebsiteName)(),b=(0,s.getPlatformSettings)("dbot").name,x=(0,s.getPlatformSettings)("go").name,E=(0,s.getPlatformSettings)("smarttrader").name,w=(0,s.getPlatformSettings)("trader").name,z=(0,s.getPlatformSettings)("derivez").name;return a().createElement(a().Fragment,null,a().createElement(f.default,{title:(0,u.localize)("Deriv password")}),a().createElement("div",{className:"account__passwords-wrapper"},a().createElement(a().Fragment,null,a().createElement(d.Text,{as:"p",className:"passwords-platform__desc",color:"prominent",size:"xs",weight:"lighter"},a().createElement((function(){var e="Use the <0>Deriv password</0> to log in to {{brand_website_name}}, {{platform_name_go}}, {{platform_name_trader}}, {{platform_name_smarttrader}}, and {{platform_name_dbot}}.",t={brand_website_name:g,platform_name_trader:w,platform_name_dbot:b,platform_name_smarttrader:E,platform_name_go:x};return n?(e="Use the <0>Deriv password</0> to log in to {{brand_website_name}} and {{platform_name_trader}}.",t={brand_website_name:g,platform_name_trader:w}):i&&(e="Use the <0>Deriv password</0> to log in to {{brand_website_name}}, {{platform_name_trader}} and {{platform_name_go}}.",t={brand_website_name:g,platform_name_trader:w,platform_name_go:x}),a().createElement(u.Localize,{i18n_default_text:e,components:[a().createElement("strong",{key:0})],values:t})}),null)),a().createElement(d.Text,{as:"p",className:"passwords-platform__desc",color:"prominent",size:"xs",weight:"lighter"},a().createElement(u.Localize,{i18n_default_text:"Apps you have linked to your <0>Deriv password:</0>",components:[a().createElement("strong",{key:0})]})),a().createElement("div",{className:"passwords-platform__logo-container"},a().createElement(y,null),a().createElement(d.Text,{line_height:"l",size:"xs",weight:"bold"},g)),a().createElement("div",{className:"passwords-platform__icons"},a().createElement(d.Popover,{alignment:"bottom",message:w},a().createElement(d.Icon,{icon:"".concat((0,s.getPlatformSettings)("trader").icon,"-dashboard"),size:32,description:"trader"})),!n&&!i&&a().createElement(a().Fragment,null,a().createElement(d.Popover,{alignment:"bottom",message:b},a().createElement(d.Icon,{icon:"".concat((0,s.getPlatformSettings)("dbot").icon,"-dashboard"),size:32,description:"dbot"})),a().createElement(d.Popover,{alignment:"bottom",message:E},a().createElement(d.Icon,{icon:"".concat((0,s.getPlatformSettings)("smarttrader").icon,"-dashboard"),size:32,description:"smarttrader"}))),(!n||i)&&a().createElement(a().Fragment,null,a().createElement(d.Popover,{alignment:"bottom",message:x},a().createElement(d.Icon,{icon:"".concat((0,s.getPlatformSettings)("go").icon,"-dashboard"),size:32,description:"derivgo"})),a().createElement(d.Popover,{alignment:"bottom",message:z},a().createElement(d.Icon,{icon:"".concat((0,s.getPlatformSettings)("derivez").icon),size:32,description:"derivez"}))))),r?a().createElement(a().Fragment,null,a().createElement("div",{className:"account__passwords-item passwords-social-buttons"},a().createElement("div",{className:"account__passwords-linked",onClick:_},o?a().createElement(a().Fragment,null,a().createElement(d.Icon,{icon:"IcStock".concat(h),size:16}),a().createElement(d.Text,{size:"xs"},a().createElement(u.Localize,{i18n_default_text:"Unlink from {{identifier_title}}",values:{identifier_title:h}})),a().createElement(d.Icon,{icon:"IcChevronRight",size:16})):""))):a().createElement("div",null,a().createElement(d.Text,{as:"p",className:"passwords-platform__desc",color:"prominent",size:"xs",weight:"lighter"},a().createElement(u.Localize,{i18n_default_text:"Click the <0>Change password</0> button to change your Deriv password.",components:[a().createElement("strong",{key:0})]})),a().createElement(d.Button,{className:"account__passwords-footer-btn",type:"button",onClick:_,has_effect:!0,text:(0,u.localize)("Change password"),primary:!0,large:!0})),a().createElement(p.default,{is_open:c,onClose:function(){return m(!1)},identifier_title:h,onClickSendEmail:_,is_modal_when_mobile:!0})))};b.propTypes={email:i().string,is_dark_mode_on:i().bool,is_eu_user:i().bool,financial_restricted_countries:i().bool,is_social_signup:i().bool,social_identity_provider:i().string};const x=b;var E=n("../../../node_modules/formik/dist/formik.esm.js"),w=function(e){var t=e.onClose,n=e.is_open,r=e.identifier_title,o=e.onClickSendEmail;return a().createElement(d.Modal,{className:"unlink-account__modal",is_open:n,has_close_icon:!0,toggleModal:t,width:"440px"},a().createElement(d.Modal.Body,null,a().createElement("div",{onClick:t,className:"unlink-account__modal-close"},a().createElement(d.Icon,{icon:"IcCross"})),a().createElement("div",{className:"unlink-account__modal-icon"},a().createElement(d.Icon,{icon:"IcEmailChanged",size:128})),a().createElement("div",{className:"unlink-account__modal-content"},a().createElement(d.Text,{className:"unlink-account__modal-title",weight:"bold",size:"s"},a().createElement(u.Localize,{i18n_default_text:"Change your login email"})),a().createElement(d.Text,{className:"unlink-account__modal-description",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"To change your email address, you'll first need to unlink your email address from your {{identifier_title}} account.",values:{identifier_title:r}})))),a().createElement(d.Modal.Footer,{className:"unlink-account__footer"},a().createElement(d.Button,{onClick:t,has_effect:!0,text:(0,u.localize)("Cancel"),secondary:!0,large:!0}),a().createElement(d.Button,{onClick:function(){t(),o()},has_effect:!0,primary:!0,large:!0},a().createElement(u.Localize,{i18n_default_text:"Unlink from {{identifier_title}}",values:{identifier_title:r}}))))};w.prototypes={onClose:i().func,is_open:i().bool,identifier_title:i().string,onClickSendEmail:i().func};const z=w;function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=(0,m.Pi)((function(e){var t=e.email,n=e.social_identity_provider,r=e.is_social_signup,o=(0,m.oR)().common.is_from_derivgo,i=S(a().useState(!1),2),l=i[0],c=i[1],_=S(a().useState(!1),2),h=_[0],y=_[1];return a().createElement(a().Fragment,null,a().createElement(f.default,{title:(0,u.localize)("Email address")}),a().createElement("div",{className:"account__email-wrapper"},a().createElement(a().Fragment,null,a().createElement(d.Text,{as:"p",className:"email-platform__desc",color:"prominent",size:"xs",weight:"lighter"},a().createElement(u.Localize,{i18n_default_text:"This is the email address associated with your Deriv account."}))),a().createElement("div",{className:"email-platform__content"},a().createElement(E.J9,null,a().createElement("fieldset",{className:"email-platform__content__fieldset"},a().createElement(d.Input,{className:"email-input","data-lpignore":"true",type:"text",name:"email",id:"email",label:(0,u.localize)("Email address*"),value:t,disabled:!0}))),!o&&a().createElement(d.Button,{className:"email-change_button",type:"submit",onClick:function(){r?c(!0):(s.WS.verifyEmail(t,"request_email"),y(!0))},has_effect:!0,is_disabled:!1,is_loading:!1,text:(0,u.localize)("Change email"),large:!0,primary:!0})),a().createElement(z,{is_open:l,onClose:function(){return c(!1)},identifier_title:(0,s.toTitleCase)(n),onClickSendEmail:function(){s.WS.verifyEmail(t,"request_email"),c(!1),y(!0)}}),a().createElement(p.default,{is_open:h,onClose:function(){return y(!1)},identifier_title:"Change_Email",onClickSendEmail:function(){s.WS.verifyEmail(t,"request_email")},has_live_chat:!0,is_modal_when_mobile:!0})))}));O.propTypes={email:i().string,is_dark_mode_on:i().bool,is_social_signup:i().bool,social_identity_provider:i().string};const L=(0,l.withRouter)(O);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t,n=e.email,r=e.has_dxtrade_accounts,o=e.has_mt5_accounts,i=j(a().useState(""),2),l=i[0],c=i[1],m=j(a().useState(!1),2),_=m[0],h=m[1],y=(0,s.getPlatformSettings)("dxtrade").name,v=function(e){var t=e===s.CFD_PLATFORMS.MT5?"trading_platform_mt5_password_reset":"trading_platform_dxtrade_password_reset";s.WS.verifyEmail(n,t,{url_parameters:{redirect_to:3}}),c(e),h(!0)};return a().createElement(a().Fragment,null,a().createElement(f.default,{title:(t="",o?t=(0,u.localize)("Deriv MT5 Password"):r&&(t=(0,u.localize)("{{platform_name_dxtrade}} Password",{platform_name_dxtrade:y})),t)}),a().createElement("div",{className:"account__passwords-wrapper"},o&&a().createElement(a().Fragment,null,a().createElement(d.Text,{as:"p",className:"passwords-platform__desc",color:"prominent",size:"xs",weight:"lighter"},a().createElement(u.Localize,{i18n_default_text:"Your Deriv MT5 password is for logging in to your Deriv MT5 accounts on the desktop, web, and mobile apps."})),a().createElement("div",{className:"passwords-platform__content"},a().createElement(d.Popover,{alignment:"bottom",message:"Deriv MT5"},a().createElement(d.Icon,{icon:"".concat((0,s.getPlatformSettings)("mt5").icon,"-dashboard"),size:32})),a().createElement(d.Button,{className:"account__passwords-footer-btn",type:"button",onClick:function(){return v(s.CFD_PLATFORMS.MT5)},text:(0,u.localize)("Change password"),primary:!0,large:!0}))),r&&a().createElement(a().Fragment,null,a().createElement(d.Text,{as:"p",className:"passwords-platform__desc",color:"prominent",size:"xs",weight:"lighter"},a().createElement(u.Localize,{i18n_default_text:"Use the {{platform_name_dxtrade}} password to log in to your {{platform_name_dxtrade}} accounts on the web and mobile apps.",values:{platform_name_dxtrade:y}})),a().createElement("div",{className:"passwords-platform__content"},a().createElement(d.Popover,{alignment:"bottom",message:y},a().createElement(d.Icon,{icon:"".concat((0,s.getPlatformSettings)("dxtrade").icon,"-dashboard"),size:32})),a().createElement(d.Button,{className:"account__passwords-footer-btn",type:"button",onClick:function(){return v(s.CFD_PLATFORMS.DXTRADE)},text:(0,u.localize)("Change password"),primary:!0,large:!0}))),a().createElement(p.default,{is_open:_,identifier_title:l,onClose:function(){return h(!1)},onClickSendEmail:v,is_modal_when_mobile:!0})))};N.propTypes={email:i().string,has_dxtrade_accounts:i().bool,has_mt5_accounts:i().bool};const P=N;function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const T=(0,m.Pi)((function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(!0),2),t=e[0],n=e[1],r=(0,m.oR)(),o=r.client,i=r.ui,l=r.common,c=r.traders_hub,s=o.is_populating_mt5_account_list,u=o.is_populating_dxtrade_account_list,f=o.is_social_signup,p=o.email,_=o.social_identity_provider,h=o.mt5_login_list,y=o.is_mt5_password_not_set,v=o.dxtrade_accounts_list,g=o.is_dxtrade_password_not_set,b=l.is_from_derivgo,E=c.is_eu_user,w=c.financial_restricted_countries,z=i.is_dark_mode_on;return a().useEffect((function(){!1===s&&!1===u&&void 0!==f&&n(!1)}),[s,u,f]),t?a().createElement(d.Loading,{is_fullscreen:!1}):a().createElement("div",{className:"account__passwords"},a().createElement(L,{email:p,social_identity_provider:_,is_social_signup:f}),a().createElement(x,{email:p,is_dark_mode_on:z,is_social_signup:f,is_eu_user:E,financial_restricted_countries:w,social_identity_provider:_}),!b&&((null==h?void 0:h.length)>0||!y)&&a().createElement(P,{email:p,has_mt5_accounts:(null==h?void 0:h.length)>0||!y}),!b&&((null==v?void 0:v.length)>0||!g)&&a().createElement(P,{email:p,has_dxtrade_accounts:(null==v?void 0:v.length)>0||!g}))}));var A=n("../../../node_modules/classnames/index.js"),M=n.n(A),F=n("./Components/load-error-message/index.ts"),D=n("./Components/demo-message/index.ts");const B=function(e){var t=e.title,n=e.descriptions,r=e.onClickLearnMore,o=e.className,i=(null==n?void 0:n.length)>0,l=1===(null==n?void 0:n.length);return a().createElement("article",{className:M()("da-article",o)},a().createElement(d.Text,{as:"h4",color:"prominent",line_height:"m",size:"xs",weight:"bold",className:"da-article__header"},t),i&&a().createElement(a().Fragment,null,l?a().createElement(d.Text,{as:"p",size:"xxs",line_height:"m"},n[0]):a().createElement("ul",{className:"da-article__list"},n.map((function(e,t){return a().createElement("li",{key:t},a().createElement(d.Text,{size:"xxs",line_height:"xs"},"component"in e?e.component:e))})))),r&&a().createElement("div",{className:"da-article__learn-more",onClick:r},a().createElement(d.Text,{size:"xxs",color:"loss-danger",line_height:"s"},a().createElement(u.Localize,{i18n_default_text:"Learn more"})),a().createElement(d.Icon,{icon:"IcChevronRight",className:"da-article__learn-more-icon",color:"red"})))},R=function(e){var t,n=e.is_from_derivgo;return r.createElement(B,{title:(0,u.localize)("Account limits"),descriptions:(t=[r.createElement(u.Localize,{key:0,i18n_default_text:"These are default limits that we apply to your accounts."})],n||t.push(r.createElement(u.Localize,{key:1,i18n_default_text:"To learn more about trading limits and how they apply, please go to the <0>Help Centre.</0>",components:[r.createElement(d.StaticUrl,{key:0,className:"link",href:"/help-centre/trading/#trading-limits"})]})),t)})},q=r.createContext({currency:"",overlay_ref:document.createElement("div")});var G=["message"];function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}const W=function(e){var t=e.message,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,G);return(0,s.isMobile)()?r.createElement(d.Text,{color:"less-prominent",line_height:"s",size:"xxxs"},t):r.createElement(d.Popover,Y({data_testid:"dt_acc_limits_popover",alignment:"right",className:"da-account-limits__popover",icon:"info",is_bubble_hover_enabled:!0,message:t,zIndex:"9999"},n))};var V=n("react-dom");const U=function(){var e=r.useContext(q),t=e.footer_ref,n=e.toggleOverlay;return(0,V.createPortal)(r.createElement("a",{className:"link link--prominent",onClick:n,"data-testid":"dt_footer_text"},r.createElement(d.Text,{size:"xxs",line_height:"m",weight:"bold"},r.createElement(u.Localize,{i18n_default_text:"Learn more about account limits"}))),null==t?void 0:t.current)},$=function(){var e=r.useContext(q),t=e.overlay_ref,n=e.toggleOverlay;return r.createElement(d.Popup.Overlay,{descriptions:[{key:"account_limits_desc_1",component:r.createElement(u.Localize,{i18n_default_text:"These are default limits that we apply to your accounts."})},{key:"account_limits_desc_2",component:r.createElement(u.Localize,{i18n_default_text:"To learn more about account limits and how they apply, please go to the <0>Help Centre</0>.",components:[r.createElement(d.StaticUrl,{key:0,className:"link",href:"/help-centre"})]})}],done_text:(0,u.localize)("Done"),overlay_ref:t,title:(0,u.localize)("Account limits"),toggleOverlay:n})},H=function(e){var t=e.align,n=e.children,a=e.is_hint,o=e.level,i=e.renderExtraInfo,l=a?"xxxs":"xxs";return r.createElement(r.Fragment,null,r.createElement("td",{className:M()("da-account-limits__table-cell",{"da-account-limits__table-cell--left":"right"!==t,"da-account-limits__table-cell--right":"right"===t,"da-account-limits__table-cell--submarket":"submarket"===o}),"data-testid":"account_limit_table_cell"},n&&r.createElement(d.Text,{align:t,as:"p",color:"prominent",size:l,line_height:"m","data-testid":"account_limit_table_cell_text"},n),i&&i()))},Z=function(e){var t=e.align,n=e.children,a=e.renderExtraInfo;return r.createElement("th",{className:M()("da-account-limits__table-header",{"da-account-limits__table-header--left":"right"!==t,"da-account-limits__table-header--right":"right"===t}),"data-testid":"account_limit_table_header"},n&&r.createElement(d.Text,{align:t,as:"p",color:"prominent",size:"xs",line_height:"m",weight:"bold","data-testid":"account_limit_table_header_text"},n),a&&a())},K=function(e){var t=e.collection,n=e.title,a=r.useContext(q).currency;return r.createElement(r.Fragment,null,null==t?void 0:t.map((function(e){var t=e.name,o=e.turnover_limit,i=e.level;return r.createElement("tr",{key:t,"data-testid":"account-limits-turnover-limit-row"},r.createElement(H,{level:i},n&&"".concat(n," - "),t),r.createElement(H,{align:"right"},(0,s.formatMoney)(a,o,!0)))})))};function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===J(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=(0,m.Pi)((function(e){var t=e.footer_ref,n=e.is_app_settings,r=e.overlay_ref,o=e.setIsOverlayShown,i=e.should_bypass_scrollbars,l=e.should_show_article,c=void 0===l||l,f=(0,m.oR)(),p=f.client,_=f.common,h=p.account_limits,y=p.currency,v=p.getLimits,g=p.is_fully_authenticated,b=p.is_virtual,x=p.is_switching,E=_.is_from_derivgo,w=(0,s.useIsMounted)(),z=ee(a().useState(!1),2),S=z[0],k=z[1],O=ee(a().useState(!1),2),L=O[0],j=O[1],C=a().useContext(s.PlatformContext).is_appstore;if(a().useEffect((function(){b?k(!1):v().then((function(){w()&&k(!1)}))}),[]),a().useEffect((function(){!b&&h&&S&&k(!1)}),[h,b,S]),a().useEffect((function(){"function"==typeof o&&o(L)}),[L,o]),x)return a().createElement(d.Loading,{is_fullscreen:!1});if(b)return a().createElement("div",{"data-testid":"dt_account_demo_message_wrapper",className:M()("account__demo-message-wrapper",{"account__demo-message-wrapper-dashboard":C})},a().createElement(D.default,{has_demo_icon:C,has_button:C}));var N=h.api_initial_load_error,P=h.open_positions,I=h.account_balance,T=h.payout,A=h.market_specific,B=h.num_of_days_limit,G=h.remainder,Y=h.withdrawal_since_inception_monetary;if(N)return a().createElement(F.default,{error_message:N});if(x||S)return a().createElement(d.Loading,{is_fullscreen:!1});var V=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},A),J=V.commodities,te=V.forex,ne=V.indices,re=V.synthetic_index,ae=null==te?void 0:te.slice().sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),oe=null==re?void 0:re.slice().sort((function(e,t){return e.level>t.level?1:-1})),ie={currency:y,footer_ref:t,overlay_ref:r,toggleOverlay:function(){return j(!L)}};return a().createElement(q.Provider,{value:ie},a().createElement("section",{className:"da-account-limits__wrapper","data-testid":"account_limits_data"},a().createElement("div",{className:M()("da-account-limits",{"da-account-limits--app-settings":n})},c&&(0,s.isMobile)()&&a().createElement(R,{is_from_derivgo:E}),a().createElement("div",{className:"da-account-limits__table-wrapper"},a().createElement(d.ThemedScrollbars,{is_bypassed:i||(0,s.isMobile)()},a().createElement("table",{className:"da-account-limits__table","data-testid":"trading_limit_item_table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement(Z,null,a().createElement(u.Localize,{i18n_default_text:"Trading limits"})),a().createElement(Z,{align:"right"},a().createElement(u.Localize,{i18n_default_text:"Limit"})))),a().createElement("tbody",null,a().createElement("tr",null,a().createElement(H,{renderExtraInfo:function(){return a().createElement(W,{message:(0,u.localize)("Represents the maximum number of outstanding contracts in your portfolio. Each line in your portfolio counts for one open position. Once the maximum is reached, you will not be able to open new positions without closing an existing position first.")})}},a().createElement(u.Localize,{i18n_default_text:"*Maximum number of open positions"})),a().createElement(H,{align:"right"},P)),a().createElement("tr",null,a().createElement(H,{renderExtraInfo:function(){return a().createElement(W,{message:(0,u.localize)("Represents the maximum amount of cash that you may hold in your account.  If the maximum is reached, you will be asked to withdraw funds.")})}},a().createElement(u.Localize,{i18n_default_text:"*Maximum account cash balance"})),a().createElement(H,{align:"right"},I?(0,s.formatMoney)(y,I,!0):a().createElement(u.Localize,{i18n_default_text:"Not set"}))),a().createElement("tr",null,a().createElement(H,{renderExtraInfo:function(){return a().createElement(W,{message:(0,u.localize)("Represents the maximum aggregate payouts on outstanding contracts in your portfolio. If the maximum is attained, you may not purchase additional contracts without first closing out existing positions.")})}},a().createElement(u.Localize,{i18n_default_text:"Maximum aggregate payouts on open positions"})),a().createElement(H,{align:"right"},(0,s.formatMoney)(y,T,!0))),a().createElement("tr",null,a().createElement(H,{is_hint:!0},a().createElement(u.Localize,{i18n_default_text:"*Any limits in your Self-exclusion settings will override these default limits."})),a().createElement(H,null)))),a().createElement("table",{className:"da-account-limits__table","data-testid":"trading_daily_turnover_table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement(Z,{renderExtraInfo:function(){return a().createElement(W,{message:(0,u.localize)("Represents the maximum volume of contracts that you may purchase in any given trading day.")})}},a().createElement(u.Localize,{i18n_default_text:"Maximum daily turnover"})),a().createElement(Z,{align:"right"},a().createElement(u.Localize,{i18n_default_text:"Limit"})))),a().createElement("tbody",null,a().createElement(K,{collection:J}),a().createElement(K,{collection:ae}),a().createElement(K,{collection:ne}),a().createElement(K,{collection:oe}))),!n&&a().createElement(a().Fragment,null,a().createElement("table",{className:"da-account-limits__table","data-testid":"withdrawal_limits_table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement(Z,null,a().createElement(u.Localize,{i18n_default_text:"Withdrawal limits"})),g&&a().createElement(Z,{align:"right"},a().createElement(u.Localize,{i18n_default_text:"Limit"})))),a().createElement("tbody",null,g?a().createElement("tr",null,a().createElement(H,null,a().createElement(a().Fragment,null,a().createElement(d.Text,{size:"xxs",color:"prominent"},(0,u.localize)("Your account is fully authenticated and your withdrawal limits have been lifted.")))),a().createElement(H,null)):a().createElement(a().Fragment,null,a().createElement("tr",null,a().createElement(H,null,C?a().createElement(u.Localize,{i18n_default_text:"Total withdrawal limit"}):a().createElement(u.Localize,{i18n_default_text:"Total withdrawal allowed"}),C&&!g&&a().createElement(a().Fragment,null,a().createElement(d.Text,{size:(0,s.isMobile)()?"xxxs":"xxs",className:"account-management-table__verify",color:"less-prominent",line_height:"xs"},(0,u.localize)("To increase limit please verify your identity")),a().createElement(d.ButtonLink,{to:"/account/proof-of-identity",size:"small",className:"account-management-table__verify-button"},a().createElement(d.Text,{weight:"bold",color:"colored-background",size:(0,s.isMobile)()?"xxxs":"xxs"},(0,u.localize)("Verify"))))),a().createElement(H,{align:"right"},(0,s.formatMoney)(y,B,!0))),a().createElement("tr",null,a().createElement(H,null,a().createElement(u.Localize,{i18n_default_text:"Total withdrawn"})),a().createElement(H,{align:"right"},(0,s.formatMoney)(y,Y,!0))),a().createElement("tr",null,a().createElement(H,null,a().createElement(u.Localize,{i18n_default_text:"Maximum withdrawal remaining"})),a().createElement(H,{align:"right"},(0,s.formatMoney)(y,G,!0)))))),(!C||(0,s.isMobile)())&&a().createElement("div",{className:"da-account-limits__text-container"},a().createElement(d.Text,{as:"p",size:"xxs",color:"less-prominent",line_height:"xs"},g?a().createElement(u.Localize,{i18n_default_text:"Your account is fully authenticated and your withdrawal limits have been lifted."}):a().createElement(u.Localize,{i18n_default_text:"Stated limits are subject to change without prior notice."})))))),c&&(0,s.isDesktop)()&&a().createElement(R,null),t&&a().createElement(U,null),L&&r&&a().createElement($,null))))}));const re=ne;var ae=n("./Components/leave-confirm/index.js"),oe=n("./Components/form-footer/index.ts"),ie=n("./Components/form-body/index.ts"),le=n("./Components/form-body-section/index.ts");const ce=function(){var e=a().useRef(null);return a().useEffect((function(){setTimeout((function(){var t;return null==e||null===(t=e.current)||void 0===t?void 0:t.scrollIntoView()}),0)}),[]),a().createElement("div",{className:"poa-address-mismatch-hint-box--wrapper",ref:e},a().createElement(d.HintBox,{icon:"IcAlertWarning",message:a().createElement(d.Text,{size:"xxxs",color:"prominent",line_height:"xs"},a().createElement(u.Localize,{i18n_default_text:"It appears that the address in your document doesn’t match the address in your Deriv profile. Please update your personal details now with the correct address."})),is_warn:!0}))};var se=n("./Sections/Assessment/FinancialAssessment/financial-information-list.ts"),ue=n("./Helpers/utils.ts");function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==de(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===de(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(){he=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==de(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ye(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ye(o,r,a,i,l,"next",e)}function l(e){ye(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}var we=function(e){var t=e.children,n=e.className;return a().useContext(s.PlatformContext).is_appstore?a().Children.map(t,(function(e){return a().createElement("fieldset",{className:"account-form__fieldset"},e)})):a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement("div",{className:n},t))},ze=function(e){var t=e.field,n=e.errors,r=e.setFieldValue,o=e.values,i=e.is_changeable,l=e.residence_list;return a().createElement(a().Fragment,null,a().createElement(d.DesktopWrapper,null,a().createElement(d.Autocomplete,Ee({},t,{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:(0,u.localize)("Tax residence*"),error:n.tax_residence,disabled:!i,id:"tax_residence",list_items:l,onItemSelection:function(e){var t=e.value,n=e.text;return r("tax_residence",t?n:"",!0)},required:!0}))),a().createElement(d.MobileWrapper,null,a().createElement(d.SelectNative,{placeholder:(0,u.localize)("Tax residence*"),label:(0,u.localize)("Tax residence*"),value:o.tax_residence,list_items:l,id:"tax_residence_mobile",error:n.tax_residence,disabled:!i,use_text:!0,onChange:function(e){return r("tax_residence",e.target.value,!0)},required:!0})))},Se=(0,m.Pi)((function(e){var t,n=e.history,r=ge(a().useState(!0),2),o=r[0],i=r[1],l=ge((0,d.useStateCallback)(!1),2),c=l[0],p=l[1],_=ge(a().useState(!1),2),h=_[0],y=_[1],v=ge((0,d.useStateCallback)(!1),2),g=v[0],b=v[1],x=(0,m.oR)(),w=x.client,z=x.notifications,S=x.common,k=w.authentication_status,O=w.is_eu,L=w.landing_company_shortcode,j=w.is_uk,C=w.is_svg,N=w.is_virtual,P=w.residence_list,I=w.states_list,T=w.current_landing_company,A=w.fetchResidenceList,D=w.fetchStatesList,B=w.has_residence,R=w.account_settings,q=w.getChangeableFields,G=w.updateAccountStatus,Y=w.is_social_signup,W=w.account_status,V=z.refreshNotifications,U=z.showPOAAddressMismatchSuccessNotification,$=z.showPOAAddressMismatchFailureNotification,H=S.is_language_changing,Z="maltainvest"===L,K=null===(t=W.status)||void 0===t?void 0:t.includes("poa_address_mismatch"),J=ge(a().useState({show_form:!0,errors:!1,form_initial_values:{}}),2),X=J[0],Q=J[1],ee=ge(a().useState({is_timeout_started:!1,timeout_callback:null}),2),te=ee[0],ne=ee[1],re=a().useContext(s.PlatformContext).is_appstore,de=(0,s.useIsMounted)();a().useEffect((function(){if(de()){var e=function(){var e=ve(he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.WS.wait("get_settings");case 2:A(),B&&(H||p(!0,(function(){D().then((function(){p(!1)}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}Se()}),[R,O,Z,Y]),a().useEffect((function(){var e;return te.is_timeout_started&&(e=setTimeout((function(){b(!1,te.timeout_callback)}),1e4)),function(){clearTimeout(e)}}),[te.is_timeout_started]);var me=function(e){if(N)return{email_consent:+e.email_consent};var t=(0,s.filterObjProperties)(e,_e(X.changeable_fields));return t.email_consent=+t.email_consent,t.request_professional_status&&0==!!X.form_initial_values.request_professional_status?t.request_professional_status=+t.request_professional_status:delete t.request_professional_status,t.first_name&&(t.first_name=t.first_name.trim()),t.last_name&&(t.last_name=t.last_name.trim()),t.date_of_birth&&(t.date_of_birth=(0,s.toMoment)(t.date_of_birth).format("YYYY-MM-DD")),Z&&(t.tax_residence&&(t.tax_residence=(0,s.getLocation)(P,t.tax_residence,"value")),t.tax_identification_number&&(t.tax_identification_number=t.tax_identification_number.trim())),t.citizen&&(t.citizen=(0,s.getLocation)(P,t.citizen,"value")),t.place_of_birth?t.place_of_birth=(0,s.getLocation)(P,t.place_of_birth,"value"):delete t.place_of_birth,t.address_state&&(t.address_state=I.length?(0,s.getLocation)(I,t.address_state,"value"):t.address_state),t},pe=function(){var e=ve(he().mark((function e(t,r){var a,o,l,c,u,d,m;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.setStatus,o=r.setSubmitting,a({msg:""}),l=me(t),y(!0),e.next=6,s.WS.setSettings(l);case 6:if(!(c=e.sent).error){e.next=13;break}a({msg:c.error.message}),y(!1),o(!1),e.next=30;break;case 13:return setTimeout((function(){c.set_settings.notification?U():K&&$()}),2e3),e.next=16,s.WS.authorized.storage.getSettings();case 16:if(!(u=e.sent).error){e.next=20;break}return Q(fe(fe({},X),{},{api_error:u.error.message})),e.abrupt("return");case 20:G(),Q(fe(fe({},X),u.get_settings)),i(!1),V(),y(!1),b(!0),ne({is_timeout_started:!0,timeout_callback:function(){o(!1)}}),d=window.location.search,(m=new URLSearchParams(d)).get("from")&&n.push(s.routes[m.get("from")]);case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(e){var t,n,r={},a=X.errors,o=null===(t=P.filter((function(t){return t.text===e.tax_residence&&t.tin_format}))[0])||void 0===t||null===(n=t.tin_format)||void 0===n?void 0:n[0],i=new RegExp(o).test(e.tax_identification_number),l=!o||i;return a||e.tax_identification_number&&(l||(r.tax_identification_number=(0,u.localize)("This Tax Identification Number (TIN) is invalid. You may continue using it, but to facilitate future payment processes, valid tax information will be required."))),r},be=function(e){return Q({show_form:e})},xe=function(e){var t;return null===(t=X.changeable_fields)||void 0===t?void 0:t.some((function(t){return t===e}))},Se=function(){s.WS.wait("landing_company","get_account_status","get_settings").then((function(){R.email_consent=!!R.email_consent;var e=["account_opening_reason","allow_copiers",!Z&&"tax_residence",!Z&&"tax_identification_number",!Z&&"employment_status","client_tnc_status","country_code","has_secret_answer","is_authenticated_payment_agent","user_hash","country",(!re||!O)&&"salutation","immutable_fields"],t=(0,s.removeObjProperties)(e,R);Q(fe(fe({},X),{},{changeable_fields:N?[]:q(),form_initial_values:t})),i(!1)}))},ke=[{text:(0,u.localize)("Mr"),value:"Mr"},{text:(0,u.localize)("Mrs"),value:"Mrs"},{text:(0,u.localize)("Ms"),value:"Ms"},{text:(0,u.localize)("Miss"),value:"Miss"}],Oe=Ee({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(X.form_initial_values),X.form_initial_values)),Le=X.api_error,je=X.show_form;if(Le)return a().createElement(F.default,{error_message:Le});if(o||c||!P.length)return a().createElement(d.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(Oe.citizen=Oe.citizen?(0,s.getLocation)(P,Oe.citizen,"text"):"",Oe.place_of_birth=Oe.place_of_birth?(0,s.getLocation)(P,Oe.place_of_birth,"text"):"",Oe.address_state?Oe.address_state=I.length?(0,s.getLocation)(I,Oe.address_state,"text"):Oe.address_state:Oe.address_state="",Z){if(Oe.tax_residence)if(Oe.tax_residence.indexOf(",")<0)Oe.tax_residence=(0,s.getLocation)(P,Oe.tax_residence,"text");else if(xe("tax_residence")){var Ce=Oe.tax_residence.split(",")[0];Oe.tax_residence=(0,s.getLocation)(P,Ce,"text")}else{var Ne=[];Oe.tax_residence.split(",").forEach((function(e){Ne.push((0,s.getLocation)(P,e,"text"))})),Oe.tax_residence=Ne}else Oe.tax_residence="";Oe.tax_identification_number||(Oe.tax_identification_number=""),Oe.employment_status||(Oe.employment_status="")}var Pe="verified"===(null==k?void 0:k.document_status),Ie="verified"===(null==k?void 0:k.identity_status),Te=Pe&&Ie;return a().createElement(E.J9,{initialValues:Oe,enableReinitialize:!0,onSubmit:pe,validate:function(e){b(!1);var t={},n=(0,ue.Gu)(t,e);if(N)return t;var r=["first_name","last_name","phone","address_line_1","address_city"];if(Z&&r.push.apply(r,["tax_residence","tax_identification_number","employment_status"]),n((function(e){return e}),r,(0,u.localize)("This field is required")),O&&n((function(e){return(0,s.getLocation)(P,e,"value")}),["citizen"],!0),e.tax_identification_number&&(e.tax_identification_number&&!/^(?!^$|\s+)[A-Za-z0-9./\s-]{0,25}$/.test(e.tax_identification_number)&&(t.tax_identification_number=(0,u.localize)("Only letters, numbers, space, hyphen, period, and forward slash are allowed.")),/^[a-zA-Z0-9].*$/.test(e.tax_identification_number.charAt(0))||(t.tax_identification_number=(0,u.localize)("Should start with letter or number and may contain a hyphen, period and slash.")),(0,s.validLength)(e.tax_identification_number.trim(),{min:0,max:25})||(t.tax_identification_number=(0,u.localize)("Tax Identification Number can't be longer than 25 characters."))),e.first_name&&(t.first_name=(0,ue.Ol)(e.first_name)),e.last_name&&(t.last_name=(0,ue.Ol)(e.last_name)),e.phone){var a=e.phone.replace(/\D/g,""),o=(0,u.localize)("Please enter a valid phone number (e.g. +15417541234).");(0,s.validLength)(a,{min:9,max:35})?(0,s.validPhone)(e.phone)||(t.phone=o):t.phone=(0,u.localize)("You should enter {{min}}-{{max}} numbers.",{min:9,max:35})}var i=(0,s.validAddress)(e.address_line_1,{is_required:!0});i.is_ok||(t.address_line_1=i.message);var l=(0,s.validAddress)(e.address_line_2);return l.is_ok||(t.address_line_2=l.message),e.address_city&&!(0,s.validLetterSymbol)(e.address_city)&&(t.address_city=(0,u.localize)("Only letters, space, hyphen, period, and apostrophe are allowed.")),e.address_state&&!I.length&&((0,s.validLength)(e.address_state,{min:0,max:35})?s.regex_checks.address_details.address_state.test(e.address_state)||(t.address_state=(0,u.localize)("State is not in a proper format")):t.address_state=(0,u.localize)("You should enter 0-35 characters.")),s.regex_checks.address_details.non_jersey_postcode.test(e.address_postcode)||!j&&"United Kingdom"!==e.citizen||(t.address_postcode=(0,u.localize)("Our accounts and services are unavailable for the Jersey postal code")),e.address_postcode&&((0,s.validLength)(e.address_postcode,{min:0,max:20})?(0,s.validPostCode)(e.address_postcode)||(t.address_postcode=(0,u.localize)("Only letters, numbers, space, and hyphen are allowed.")):t.address_postcode=(0,u.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,u.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}})),Q(fe(fe({},X),{},{errors:Object.keys(t).length>0})),(0,s.removeEmptyPropertiesFromObject)(t)}},(function(e){var t=e.values,n=e.errors,r=e.status,o=e.touched,i=e.handleChange,l=e.handleBlur,c=e.handleSubmit,m=e.isSubmitting,p=e.setFieldValue,_=e.setFieldTouched,y=e.setTouched,v=e.dirty;return a().createElement(a().Fragment,null,a().createElement(ae.default,{onDirty:(0,s.isMobile)()?be:null}),je&&a().createElement(E.l0,{noValidate:!0,className:M()("account-form account-form__personal-details",{"account-form account-form__personal-details--dashboard":re}),onSubmit:c,"data-testid":"dt_account_personal_details_section"},a().createElement(ie.default,{scroll_offset:(0,s.isMobile)()?"199px":"80px"},a().createElement(f.default,{title:(0,u.localize)("Details")}),!N&&a().createElement(a().Fragment,null,a().createElement(le.Z,{has_side_note:re,side_note:(0,u.localize)("We use the information you give us only for verification purposes. All information is kept confidential.")},re&&O&&a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.DesktopWrapper,null,a().createElement(E.gN,{name:"salutation"},(function(e){var t=e.field;return a().createElement(d.Autocomplete,Ee({},t,{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:(0,u.localize)("Title*"),error:n.salutation,list_items:ke,onItemSelection:function(e){var t=e.value,n=e.text;return p("salutation",t?n:"",!0)},id:"salutation",disabled:!xe("salutation")}))}))),a().createElement(d.MobileWrapper,null,a().createElement(d.SelectNative,{placeholder:(0,u.localize)("Please select"),label:(0,u.localize)("Title"),value:t.salutation,list_items:ke,use_text:!0,error:n.salutation,onChange:function(e){return p("salutation",e.target.value,!0)},disabled:!xe("salutation"),id:"salutation_mobile"}))),a().createElement(d.DesktopWrapper,null,a().createElement(we,{className:"account-form__fieldset--2-cols"},a().createElement(d.Input,{"data-lpignore":"true",type:"text",name:"first_name",label:(0,u.localize)("First name*"),value:t.first_name,onChange:i,onBlur:l,required:!0,disabled:!xe("first_name"),error:n.first_name,id:"first_name","data-testid":"dt_first_name"}),a().createElement(d.Input,{id:"last_name","data-lpignore":"true",type:"text",name:"last_name",label:(0,u.localize)("Last name*"),value:t.last_name,onChange:i,onBlur:l,required:!0,disabled:!xe("last_name"),error:n.last_name,"data-testid":"dt_last_name"}))),a().createElement(d.MobileWrapper,null,a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",type:"text",name:"first_name",id:"first_name_mobile",label:(0,u.localize)("First name*"),value:t.first_name,onChange:i,onBlur:l,required:!0,disabled:!xe("first_name"),error:n.first_name,"data-testid":"dt_first_name"})),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",type:"text",name:"last_name",id:"last_name_mobile",label:(0,u.localize)("Last name*"),value:t.last_name,onChange:i,onBlur:l,required:!0,disabled:!xe("last_name"),error:n.last_name,"data-testid":"dt_last_name"}))),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.DesktopWrapper,null,a().createElement(E.gN,{name:"place_of_birth"},(function(e){var t=e.field;return a().createElement(d.Autocomplete,Ee({},t,{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:C?(0,u.localize)("Place of birth"):(0,u.localize)("Place of birth*"),error:n.place_of_birth,id:"birth_place",required:!C,disabled:!xe("place_of_birth"),list_items:P,onItemSelection:function(e){var t=e.value,n=e.text;return p("place_of_birth",t?n:"",!0)}}))}))),a().createElement(d.MobileWrapper,null,a().createElement(d.SelectNative,{placeholder:(0,u.localize)("Please select"),label:C?(0,u.localize)("Place of birth"):(0,u.localize)("Place of birth*"),required:!C,disabled:!xe("place_of_birth"),value:t.place_of_birth,list_items:P,use_text:!0,error:n.place_of_birth,onChange:function(e){return p("place_of_birth",e.target.value,!0)},id:"birth_place_mobile",should_hide_disabled_options:!1}))),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.DateOfBirthPicker,{name:"date_of_birth",label:(0,u.localize)("Date of birth*"),error:n.date_of_birth,onBlur:function(){return y({date_of_birth:!0})},onChange:function(e){var t=e.target;return p("date_of_birth",null!=t&&t.value?(0,s.toMoment)(t.value).format("YYYY-MM-DD"):"",!0)},id:"birth_day",disabled:!xe("date_of_birth"),value:t.date_of_birth})),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.DesktopWrapper,null,a().createElement(E.gN,{name:"citizen"},(function(e){var t=e.field;return a().createElement(d.Autocomplete,Ee({},t,{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:O?(0,u.localize)("Citizenship*"):(0,u.localize)("Citizenship"),error:n.citizen,disabled:!xe("citizen"),list_items:P,onItemSelection:function(e){var t=e.value,n=e.text;return p("citizen",t?n:"",!0)},id:"password",required:O}))}))),a().createElement(d.MobileWrapper,null,a().createElement(d.MobileWrapper,null,a().createElement(d.SelectNative,{placeholder:(0,u.localize)("Please select"),label:O?(0,u.localize)("Citizenship*"):(0,u.localize)("Citizenship"),id:"citizen_ship",required:O,disabled:!xe("citizen"),value:t.citizen,list_items:P,error:n.citizen,use_text:!0,onChange:function(e){return p("citizen",e.target.value,!0)},should_hide_disabled_options:!1})))))),a().createElement(le.Z,{has_side_note:re},a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",type:"text",name:"residence",id:"residence",label:(0,u.localize)("Country of residence*"),value:t.residence,required:!0,disabled:!xe("residence"),error:n.residence,onChange:i})),Y&&a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",type:"text",name:"email",id:"email",label:(0,u.localize)("Email address*"),value:t.email,required:!0,disabled:!xe("email"),error:n.email,onChange:i}))),!N&&a().createElement(a().Fragment,null,a().createElement(le.Z,{has_side_note:re},a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",type:"text",name:"phone",id:"phone",label:(0,u.localize)("Phone number*"),value:t.phone,onChange:i,onBlur:l,required:!0,error:n.phone,"data-testid":"dt_phone"})))),a().createElement(a().Fragment,null,Z&&a().createElement(a().Fragment,null,a().createElement(f.default,{title:(0,u.localize)("Tax information")}),a().createElement(le.Z,{has_side_note:re,side_note:(0,u.localize)("We’re legally obliged to ask for your tax information.")},"tax_residence"in t&&a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(E.gN,{name:"tax_residence"},(function(e){var r=e.field;return a().createElement(a().Fragment,null,Array.isArray(t.tax_residence)&&!xe("tax_residence")?a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{type:"text",id:"tax_residence_disabled",name:"tax_residence",label:(0,u.localize)("Tax residence*"),value:t.tax_residence.join(", "),disabled:!0})):a().createElement(ze,{is_changeable:xe("tax_residence"),field:r,id:"tax_residence",touched:o,errors:n,setFieldValue:p,values:t,residence_list:P}))}))),"tax_identification_number"in t&&a().createElement("fieldset",{className:M()("account-form__fieldset",{"account-form__fieldset--tin":ye(t).tax_identification_number})},a().createElement(d.Input,{"data-lpignore":"true",type:"text",id:"tax_identification_number",name:"tax_identification_number",label:(0,u.localize)("Tax identification number*"),value:t.tax_identification_number,onChange:i,onBlur:l,warn:ye(t).tax_identification_number,error:n.tax_identification_number,disabled:!xe("tax_identification_number"),required:!0})),"employment_status"in t&&a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.DesktopWrapper,null,a().createElement(d.Dropdown,{placeholder:(0,u.localize)("Employment status"),is_align_text_left:!0,name:"employment_status",list:(0,se.M5)(),value:t.employment_status,onChange:i,handleBlur:l,error:o.employment_status&&n.employment_status})),a().createElement(d.MobileWrapper,null,a().createElement(d.SelectNative,{className:"emp-status",placeholder:(0,u.localize)("Please select"),name:"employment_status",label:(0,u.localize)("Employment status"),list_items:(0,se.M5)(),value:t.employment_status,error:o.employment_status&&n.employment_status,onChange:function(e){_("employment_status",!0),i(e)}}))))),!re&&!N&&a().createElement(a().Fragment,null,K&&a().createElement(ce,null),a().createElement(f.default,{title:(0,u.localize)("Address")}),a().createElement(le.Z,{has_side_note:re},a().createElement("div",{className:"account-address__details-section"},a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",maxLength:70,name:"address_line_1",id:"address_line_1",label:(0,u.localize)("First line of address*"),value:t.address_line_1,onChange:i,onBlur:l,error:n.address_line_1,required:!0,disabled:!xe("address_line_1"),"data-testid":"dt_address_line_1"})),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",maxLength:70,name:"address_line_2",id:"address_line_2",label:(0,u.localize)("Second line of address (optional)"),value:t.address_line_2,error:n.address_line_2,onChange:i,onBlur:l,required:!0,disabled:!xe("address_line_2")})),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",name:"address_city",id:"address_city",label:(0,u.localize)("Town/City*"),value:t.address_city,error:n.address_city,onChange:i,onBlur:l,required:!0,disabled:!xe("address_city"),"data-testid":"dt_address_city"})),a().createElement("fieldset",{className:"account-form__fieldset"},I.length?a().createElement(a().Fragment,null,a().createElement(d.DesktopWrapper,null,a().createElement(E.gN,{name:"address_state"},(function(e){var t=e.field;return a().createElement(d.Autocomplete,Ee({},t,{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:(0,u.localize)("State/Province (optional)"),id:"state_province",error:n.address_state,list_items:I,onItemSelection:function(e){var t=e.value,n=e.text;return p("address_state",t?n:"",!0)},disabled:!xe("address_state")}))}))),a().createElement(d.MobileWrapper,null,a().createElement(d.SelectNative,{placeholder:(0,u.localize)("Please select"),label:(0,u.localize)("State/Province (optional)"),value:t.address_state,list_items:I,id:"state_province_mobile",error:n.address_state,use_text:!0,onChange:function(e){return p("address_state",e.target.value,!0)},disabled:!xe("address_state")}))):a().createElement(d.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",name:"address_state",id:"address_state",label:(0,u.localize)("State/Province (optional)"),value:t.address_state,error:n.address_state,onChange:i,onBlur:l,disabled:!xe("address_state")})),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",name:"address_postcode",id:"address_postcode",label:(0,u.localize)("Postal/ZIP code"),value:t.address_postcode,error:n.address_postcode,onChange:i,onBlur:l,disabled:!xe("address_postcode")})))))),!(null==T||!T.support_professional_client)&&a().createElement(a().Fragment,null,a().createElement("div",{className:"account-form__divider"}),a().createElement("div",{className:"pro-client"},a().createElement(f.default,{title:(0,u.localize)("Professional Client")}),a().createElement(le.Z,null,a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement("div",null,a().createElement(d.Text,{as:"p",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"By default, all {{brand_website_name}} clients are retail clients but anyone can request to be treated as a professional client.",values:{brand_website_name:(0,s.getBrandWebsiteName)()}})),a().createElement(d.Text,{as:"p",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"A professional client receives a lower degree of client protection due to the following."})),a().createElement(d.Text,{as:"p",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"We presume that you possess the experience, knowledge, and expertise to make your own investment decisions and properly assess the risk involved."})),a().createElement(d.Text,{as:"p",size:"xs",className:"last-child"},a().createElement(u.Localize,{i18n_default_text:"We’re not obliged to conduct an appropriateness test, nor provide you with any risk warnings."}))),Te?a().createElement(d.Checkbox,{name:"request_professional_status",value:t.request_professional_status,onChange:function(){p("request_professional_status",!t.request_professional_status),_("request_professional_status",!0,!0)},label:(0,u.localize)("I would like to be treated as a professional client."),id:"request_professional_status",defaultChecked:!!t.request_professional_status,disabled:N||!!Oe.request_professional_status,greyDisabled:!0,className:M()({"dc-checkbox-blue":re})}):a().createElement(d.HintBox,{icon:"IcInfoBlue",icon_height:20,icon_width:30,message:a().createElement(d.Text,{as:"p",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"You’ll need to authenticate your account before requesting to become a professional client. <0>Authenticate my account</0>",components:[a().createElement("a",{key:0,className:"link--no-bold",rel:"noopener noreferrer",target:"_blank",href:Ie?Pe?null:"/account/proof-of-address":"/account/proof-of-identity"})]})),is_info:!0,is_inline:!0})))),a().createElement("div",{className:"account-form__divider"})),a().createElement(f.default,{title:(0,u.localize)("Email preference")}),a().createElement(le.Z,{has_side_note:re,side_note:(0,u.localize)("Check this box to receive updates via email.")},a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(d.Checkbox,{name:"email_consent",value:t.email_consent,onChange:function(){p("email_consent",!t.email_consent),_("email_consent",!0,!0)},label:(0,u.localize)("Get updates about Deriv products, services and events."),id:"email_consent",defaultChecked:!!t.email_consent,disabled:!xe("email_consent")&&!N,className:M()({"dc-checkbox-blue":re})})))),a().createElement(oe.default,null,r&&r.msg&&a().createElement(d.FormSubmitErrorMessage,{message:r.msg}),!N&&!(m||g||r&&r.msg)&&a().createElement(d.Text,{className:"account-form__footer-note",size:"xxxs"},(0,u.localize)("Please make sure your information is correct or it may affect your trading experience.")),a().createElement(d.Button,{className:M()("account-form__footer-btn",{"dc-btn--green":g}),type:"submit",is_disabled:m||!v||!N&&!!(n.first_name||!t.first_name||n.last_name||!t.last_name||n.phone||!t.phone||Z&&n.tax_residence||Z&&!t.tax_residence||Z&&n.tax_identification_number||Z&&!t.tax_identification_number||!C&&n.place_of_birth||!C&&!t.place_of_birth||n.address_line_1||!t.address_line_1||n.address_line_2||n.address_city||!t.address_city||n.address_state||n.address_postcode),has_effect:!0,is_loading:h,is_submit_success:g,text:re?(0,u.localize)("Save"):(0,u.localize)("Submit"),large:!0,primary:!0}))))}))}));Se.propTypes={history:i().object};const ke=(0,l.withRouter)(Se);var Oe=n("./Sections/Assessment/TradingAssessment/index.js"),Le=n("./Sections/Assessment/FinancialAssessment/index.ts"),je=n("./Sections/Verification/ProofOfIdentity/proof-of-identity.jsx"),Ce=n("./Sections/Verification/ProofOfAddress/proof-of-address-container.jsx");const Ne=(0,m.Pi)((function(){var e=(0,m.oR)(),t=e.client,n=e.notifications,r=e.common.app_routing_history,o=t.is_virtual,i=t.landing_company_shortcode,l=t.has_restricted_mt5_account,c=t.is_switching,u=n.refreshNotifications,d=a().useContext(s.PlatformContext).is_appstore;return o?a().createElement(D.default,{has_demo_icon:d,has_button:!0}):a().createElement(Ce.default,{is_mx_mlt:"iom"===i||"malta"===i,is_switching:c,refreshNotifications:u,has_restricted_mt5_account:l,app_routing_history:r})}));function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Ie(){Ie=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==Pe(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Te(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Te(o,r,a,i,l,"next",e)}function l(e){Te(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fe=function(e){var t=e.class_name,n=e.error,r=e.file_name,o=e.handleFile,i=e.index,l=e.item_index,c=e.name,m=e.sub_index,f=e.updateErrors,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(!r),2),_=p[0],h=p[1],y=a().useRef(null),v=function(){var e=Ae(Ie().mark((function e(t){var n;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.nativeEvent.preventDefault(),t.nativeEvent.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.next=5,(0,s.compressImageFiles)([t.target.files[0]]);case 5:n=e.sent,o(c,n[0]),h(!n[0]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Ae(Ie().mark((function e(t){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.nativeEvent.preventDefault(),t.nativeEvent.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),y.current.value="",e.next=6,o(c,"");case 6:return h((function(e){return!e})),e.next=9,f(i,l,m);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a().createElement("div",{className:"file-uploader ".concat(t)},a().createElement("input",{type:"file",accept:"image/png, image/jpeg, image/jpg, application/pdf",ref:y,onChange:v,className:"hidden-input",name:c}),a().createElement(d.Input,{name:"cardImgName",required:!0,label:(0,u.localize)("Choose a photo"),maxLength:255,hint:(0,u.localize)("Accepted formats: pdf, jpeg, jpg, and png. Max file size: 8MB"),value:r,readOnly:!0,color:"less-prominent",type:"text",tabIndex:"-1",error:n,trailing_icon:a().createElement(d.Icon,{onClick:g,icon:"IcCross",height:"100%",size:20,className:M()("stack-top ",{"remove-element":_})})}),a().createElement(d.Button,{className:M()("proof-of-ownership__card-open-inputs-photo-btn ",{"remove-element":!_}),text:(0,u.localize)("Browse"),onClick:function(e){e.nativeEvent.preventDefault(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),y.current.click()},primary:!0}))};Fe.propTypes={class_name:i().string,error:i().string,file_name:i().string,handleFile:i().func,index:i().number,item_index:i().number,name:i().string,sub_index:i().number,updateErrors:i().func};const De=Fe,Be=function(e){var t=e.is_open,n=e.onClose;return a().createElement(d.Modal,{className:"sample-credit-card-modal",is_open:t,should_header_stick_body:!0,title:a().createElement(u.Localize,{i18n_default_text:"How to mask your card?"}),toggleModal:n},a().createElement(a().Fragment,null,a().createElement(d.Text,{className:"sample-credit-card-modal-text",size:"xs"},(0,u.localize)("Black out digits 7 to 12 of the card number that’s shown on the front of your debit/credit card.⁤")),a().createElement("img",{src:(0,s.getUrlBase)("/public/images/common/sample-credit-card.png"),alt:"creditcardsample",className:"sample-credit-card-modal-img"})))};var Re="none",qe="rejected",Ge={account_id:"account_id",account_number:"account_number",bank_account_number:"bank_account_number",card_number:"card_number",email_address:"email_address",mobile_number:"mobile_number",user_id:"user_id"},Ye=function(e){return/[^\dX\s]/.test(e)};function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==We(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===We(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(){He=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==We(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Ze(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ke(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xe=function(e){var t,n=e.card_details,o=e.error,i=e.index,l=e.setFieldValue,c=e.updateErrors,s=e.values,m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),f=m[0],p=m[1],_=function(){var e,t=(e=He().mark((function e(t,n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ze(o,r,a,i,l,"next",e)}function l(e){Ze(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),h=function(e,t,n,r,a,o){y(e,v(t,n),r,a,o)},y=function(e,t,r,a,o){var c,u;l("".concat(e),Ue(Ue({},null===(c=s.data)||void 0===c||null===(u=c[i])||void 0===u?void 0:u[a]),{},{documents_required:o,id:r,payment_method_identifier:t,is_generic_pm:n.is_generic_pm,identifier_type:n.identifier_type}))},v=function(e,t){var n=(null==e?void 0:e.replace(/\s/g,""))||"";if(t===Ge.card_number){if(16!==n.length||16===n.length&&Ye(n))return n;n="".concat(n.substring(0,6),"XXXXXX").concat(n.substring(12))}else if([Ge.email_address,Ge.user_id].some((function(e){return e===t})))return n;return n.replace(/(\w{4})/g,"$1 ").trim()},g=function(e){return["IcOnlineNaira","IcAstroPayLight","IcAstroPayDark"].some((function(t){return t===e}))};return a().createElement(a().Fragment,null,a().createElement("div",null,null==n||null===(t=n.instructions)||void 0===t?void 0:t.map((function(e){var t;return a().createElement(d.Text,{className:"proof-of-ownership__card-open-desc",as:"p",color:"general",size:"xs",key:null!==(t=null==e?void 0:e.key)&&void 0!==t?t:e},e," ",(null==n?void 0:n.identifier_type)===Ge.card_number&&a().createElement("span",{className:"proof-of-ownership__card-open-desc-link",key:0,onClick:function(){p(!0)}},(0,u.localize)("See example")))})),a().createElement("fieldset",null,n.items.map((function(e,t){var r,l,u,m,f,p,v,b,x=function(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(null==e?void 0:e.documents_required).keys());return a().createElement("div",{className:"proof-of-ownership__card-open-inputs",key:"".concat(t,"-").concat(e.id)},(null==n?void 0:n.input_label)&&g(null==n?void 0:n.icon)&&a().createElement("div",{className:"proof-of-ownership__card-open-inputs-field"},a().createElement(d.Input,{label:null==n?void 0:n.input_label,"data-lpignore":"true",className:M()("proof-of-ownership__card-open-inputs-cardnumber",{"proof-of-ownership-valid-identifier":(null==s||null===(r=s.data)||void 0===r||null===(l=r[i])||void 0===l||null===(u=l[t])||void 0===u?void 0:u.payment_method_identifier)&&!(null!=o&&null!==(m=o[t])&&void 0!==m&&m.payment_method_identifier)}),type:"text",onChange:function(r){y("data[".concat(i,"].[").concat(t,"]"),r.currentTarget.value.trim(),e.id,t,n.documents_required)},value:(null==s||null===(f=s.data)||void 0===f||null===(p=f[i])||void 0===p||null===(v=p[t])||void 0===v?void 0:v.payment_method_identifier)||"",onBlur:function(r){h("data[".concat(i,"].[").concat(t,"]"),r.currentTarget.value.trim(),null==n?void 0:n.identifier_type,e.id,t,n.documents_required)},"data-testid":"dt_payment_method_identifier",error:null==o||null===(b=o[t])||void 0===b?void 0:b.payment_method_identifier})),x.map((function(r){var l,u,m,f,p,v,b,x,E,w,z,S,k,O,L,j,C;return a().createElement(a().Fragment,{key:"".concat(null==e?void 0:e.id,"-").concat(r)},(null==n?void 0:n.input_label)&&!g(null==n?void 0:n.icon)&&a().createElement("div",{className:"proof-of-ownership__card-open-inputs-field"},a().createElement(d.Input,{label:null==n?void 0:n.input_label,"data-lpignore":"true",className:M()("proof-of-ownership__card-open-inputs-cardnumber",{"proof-of-ownership-valid-identifier":(null==s||null===(l=s.data)||void 0===l||null===(u=l[i])||void 0===u||null===(m=u[t])||void 0===m?void 0:m.payment_method_identifier)&&!(null!=o&&null!==(f=o[t])&&void 0!==f&&f.payment_method_identifier)}),type:"text",onChange:function(r){y("data[".concat(i,"].[").concat(t,"]"),r.currentTarget.value.trim(),e.id,t,n.documents_required)},value:null!==(p=null==s||null===(v=s.data)||void 0===v||null===(b=v[i])||void 0===b||null===(x=b[t])||void 0===x?void 0:x.payment_method_identifier)&&void 0!==p?p:"",onBlur:function(r){h("data[".concat(i,"].[").concat(t,"]"),r.currentTarget.value.trim(),null==n?void 0:n.identifier_type,e.id,t,n.documents_required)},"data-testid":"dt_payment_method_identifier",error:null==o||null===(E=o[t])||void 0===E?void 0:E.payment_method_identifier})),a().createElement("div",{className:M()("proof-of-ownership__card-open-inputs-upload",{expand:!(null!=n&&n.input_label),organise:null!==(null==n?void 0:n.input_label)})},a().createElement(De,{handleFile:_,file_name:null!==(w=null==s||null===(z=s.data)||void 0===z||null===(S=z[i])||void 0===S||null===(k=S[t])||void 0===k||null===(O=k.files)||void 0===O||null===(L=O[r])||void 0===L?void 0:L.name)&&void 0!==w?w:"",class_name:"proof-of-ownership__card-open-inputs-photo",name:"data[".concat(i,"].[").concat(t,"].files[").concat(r,"]"),error:null==o||null===(j=o[t])||void 0===j||null===(C=j.files)||void 0===C?void 0:C[r],index:i,item_index:t,sub_index:r,updateErrors:c})))})))})))),a().createElement(Be,{is_open:f,onClose:function(){p(!1)}}))};Xe.propTypes={card_details:i().object,error:i().object,index:i().number,setFieldValue:i().func,updateErrors:i().func,values:i().object};const Qe=Xe;function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tt=function(e){var t=e.card,n=e.error,r=e.index,o=e.setFieldValue,i=e.updateErrors,l=e.values,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(!1),2),s=c[0],u=c[1],m=function(e){e.preventDefault(),u(!s)},f=a().createElement(d.Icon,{icon:"IcChevronUpBold",size:16,className:M()("proof-of-ownership__card-item-icon",{"proof-of-ownership__card-item-icon--invert":!s})});return a().createElement("div",{className:M()("proof-of-ownership__card",{"proof-of-ownership__card-open":s}),"data-testid":t.payment_method,role:"card-item"},a().createElement("div",{className:"proof-of-ownership__card-item",onClick:m},a().createElement(d.Icon,{icon:null==t?void 0:t.icon,className:"proof-of-ownership__card-item-logo",width:68,height:58}),a().createElement(d.Text,{className:"proof-of-ownership__card-item-text",as:"p",color:"general",size:"s",weight:"bold"},t.payment_method),a().createElement(d.Button,{id:"proof-of-ownership",icon:f,className:"proof-of-ownership__card-item-icon",onClick:m,transparent:!0,"data-testid":"dt_proof-of-ownership-button"})),s&&a().createElement(Qe,{card_details:t,values:l,setFieldValue:o,index:r,error:n,updateErrors:i}))};tt.propTypes={card:i().object,error:i().object,index:i().number,setFieldValue:i().func,updateErrors:i().func,values:i().object};const nt=tt;var rt=n("../../../node_modules/@binary-com/binary-document-uploader/DocumentUploader.js"),at=n.n(rt);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==st(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===st(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(){ct=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==st(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function ut(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ut(o,r,a,i,l,"next",e)}function l(e){ut(o,r,a,i,l,"throw",e)}i(void 0)}))}}function mt(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){if(e){if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,s.isMobile)()?"200px":e<=2?"0px":"80px"},ht=function(e){var t=e.client_email,n=e.grouped_payment_method_data,r=e.refreshNotifications,o=e.updateAccountStatus,i=Object.keys(n),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,d.useStateCallback)({should_show_form:!0}),2),c=l[0],m=l[1],p=a().useRef(),_=function(e){return(0,u.localize)("Unable to read file {{name}}",{name:e})},h=function(){var e=dt(ct().mark((function e(t,n,r){var a,o,i,l,c,s,u,d,m,f,_,h;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=0,(l={}).data=mt((null==p||null===(a=p.current)||void 0===a||null===(o=a.errors)||void 0===o?void 0:o.data)||[]),"object"===st(l.data[t])&&(null==l||null===(c=l.data)||void 0===c||null===(s=c[t])||void 0===s||null===(u=s[n])||void 0===u||null===(d=u.files)||void 0===d||delete d[r],(null==l||null===(m=l.data[t])||void 0===m||null===(f=m[n])||void 0===f||null===(_=f.files)||void 0===_?void 0:_.some((function(e){return null!==e})))||null==l||null===(h=l.data[t])||void 0===h||delete h[n],l.data.forEach((function(e){i+=Object.keys(e||{}).length})),0===i&&(l.data=[])),e.next=6,p.current.setErrors(l);case 6:return e.next=8,p.current.validateForm();case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return a().createElement(E.J9,{initialValues:{},validate:function(e){var t,n,r,a,o,i,l,c={};c.data=mt((null==p||null===(t=p.current)||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.data)||[]);var s=0,d=!1,m=!1,f=null==e?void 0:e.data;return null===(r=Object.keys(f))||void 0===r||null===(a=r.forEach)||void 0===a||a.call(r,(function(e){var t,n,r,a,o,i,l,_,h,y,v=null!==(t=null==f?void 0:f[e])&&void 0!==t?t:{},g=Object.keys(v);null==g||null===(n=g.forEach)||void 0===n||n.call(g,(function(t){if(!d){var n,r,a,o,i,l,f,_,h,y,g,b,x,E,w,z,S,k,O,L,j,C,N,P,I;c.data[e]=null!==(n=null===(r=c.data)||void 0===r?void 0:r[e])&&void 0!==n?n:{},c.data[e][t]=null!==(a=null===(o=c.data)||void 0===o||null===(i=o[e])||void 0===i?void 0:i[t])&&void 0!==a?a:{};var T,A,M,F,D,B,R,q,G,Y,W,V,U,$,H,Z,K,J,X,Q,ee,te=null==v?void 0:v[t],ne=null==te||null===(l=te.payment_method_identifier)||void 0===l?void 0:l.trim(),re=(null==te?void 0:te.is_generic_pm)||(null==ne?void 0:ne.length)>0,ae=(null==te?void 0:te.identifier_type)===Ge.card_number;s=null!==(f=null==te||null===(_=te.files)||void 0===_||null===(h=_.filter(Boolean))||void 0===h?void 0:h.length)&&void 0!==f?f:0,re?m=s===te.documents_required:(null==te||!te.documents_required)&&0===s||!re&&0===s?m=!0:(null!=te&&te.documents_required&&re&&0===s||!re&&s===.5*(null==te?void 0:te.documents_required))&&(m=!1),delete c.data[e][t].payment_method_identifier,null==te||null===(y=te.files)||void 0===y||y.forEach((function(n,r){var a,o,i,l,d;c.data[e][t].files=null!==(a=null===(o=c)||void 0===o||null===(i=o.data)||void 0===i||null===(l=i[e])||void 0===l||null===(d=l[t])||void 0===d?void 0:d.files)&&void 0!==a?a:[],null!=n&&n.type&&!/(image|application)\/(jpe?g|pdf|png)$/.test(null==n?void 0:n.type)&&(c.data[e][t].files[r]=(0,u.localize)("That file format isn't supported. Please upload .pdf, .png, .jpg, or .jpeg files only.")),(null==n?void 0:n.size)/1024>8e3&&(c.data[e][t].files[r]=(0,u.localize)("That file is too big (only up to 8MB allowed). Please upload another file.")),0===c.data[e][t].files.length&&delete c.data[e][t].files,re||s!==(null==te?void 0:te.documents_required)&&(null!=te&&te.documents_required||!(s>0))&&s!==.5*(null==te?void 0:te.documents_required)||(c.data[e][t].payment_method_identifier=(0,u.localize)("Please complete this field."))})),ae&&(0!==(null==ne?void 0:ne.length)&&(16!==(null==ne?void 0:ne.length)||(null==ne?void 0:ne.length)>19)&&!function(e){return/(^\d{4})\s(\d{2}X{2})\s(X{4})\s(\d{4}$)/.test(e)}(ne)||16===(null==ne?void 0:ne.length)&&Ye(ne))&&(c.data[e][t].payment_method_identifier=(0,u.localize)("Enter your full card number")),ne||0!==s||(null===(T=p.current)||void 0===T||null===(A=T.values)||void 0===A||null===(M=A.data)||void 0===M||null===(F=M[e])||void 0===F||delete F[t],0===((null===(D=p.current)||void 0===D||null===(B=D.values)||void 0===B||null===(R=B.data)||void 0===R||null===(q=R[e])||void 0===q||null===(G=q.filter)||void 0===G||null===(Y=G.call(q,Boolean))||void 0===Y?void 0:Y.length)||0)&&(null===(W=p.current)||void 0===W||null===(V=W.values)||void 0===V||null===(U=V.data)||void 0===U||delete U[e])),0===Object.keys((null===(g=c)||void 0===g||null===(b=g.data)||void 0===b||null===(x=b[e])||void 0===x?void 0:x[t])||{}).length&&(null===($=c)||void 0===$||null===(H=$.data)||void 0===H||null===(Z=H[e])||void 0===Z||delete Z[t],0===(null===(K=Object.keys(null===(J=c)||void 0===J||null===(X=J.data)||void 0===X?void 0:X[e]))||void 0===K?void 0:K.length)&&(null===(Q=c)||void 0===Q||null===(ee=Q.data)||void 0===ee||delete ee[e])),d=d||(null===(E=c)||void 0===E||null===(w=E.data)||void 0===w||null===(z=w[e])||void 0===z||null===(S=z[t])||void 0===S||null===(k=S.payment_method_identifier)||void 0===k||null===(O=k.trim)||void 0===O||null===(L=O.call(k))||void 0===L?void 0:L.length)>0||(null===(j=c)||void 0===j||null===(C=j.data)||void 0===C||null===(N=C[e])||void 0===N||null===(P=N[t])||void 0===P||null===(I=P.files)||void 0===I?void 0:I.length)>0||!m}})),0===((null===(r=p.current)||void 0===r||null===(a=r.values)||void 0===a||null===(o=a.data)||void 0===o||null===(i=o[e])||void 0===i||null===(l=i.filter(Boolean))||void 0===l?void 0:l.length)||0)&&(null===(_=p.current)||void 0===_||null===(h=_.values)||void 0===h||null===(y=h.data)||void 0===y||delete y[e])})),(d=d||0===((null===(o=p.current)||void 0===o||null===(i=o.values)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.filter(Boolean).length)||0))||(c={}),c},innerRef:p,onSubmit:function(e){var n=e.data;try{m(it(it({},c),{is_btn_loading:!0}));var a=new(at())({connection:s.WS.getSocket()});if(p.current.errors.length>0)return;Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach(function(){var i=dt(ct().mark((function i(l){var u;return ct().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!((u=n[e][l]).files.length>0)){i.next=6;break}return i.next=4,(0,s.readFiles)(u.files,_,{documentType:s.DOCUMENT_TYPE.proof_of_ownership,proof_of_ownership:{details:{email:t,payment_identifier:u.payment_method_identifier},id:u.id}});case 4:i.sent.forEach(function(){var t=dt(ct().mark((function t(n,i){var s,u,d,f,_,h,y,v,g,b,x,E,w,z;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.upload(n);case 2:if(!(s=t.sent).warning){t.next=20;break}if("DuplicateUpload"!==s.warning.trim()){t.next=17;break}return w=null==p?void 0:p.current,z=w.errors,null!==(u=z)&&void 0!==u&&u.data?null!==(d=z.data)&&void 0!==d&&d[e]||(z.data[e]={}):((z={}).data=[],z.data[e]={}),z.data[e][l]=null!==(f=null===(_=z)||void 0===_||null===(h=_.data)||void 0===h||null===(y=h[e])||void 0===y?void 0:y[l])&&void 0!==f?f:{},z.data[e][l].files=null!==(v=null===(g=z)||void 0===g||null===(b=g.data)||void 0===b||null===(x=b[e])||void 0===x||null===(E=x[l])||void 0===E?void 0:E.files)&&void 0!==v?v:[],z.data[e][l].files[i]=s.message,t.next=12,p.current.setErrors(z);case 12:return t.next=14,p.current.validateForm();case 14:m(it(it({},c),{is_btn_loading:!1})),t.next=18;break;case 17:m(it(it({},c),{is_btn_loading:!1}));case 18:t.next=22;break;case 20:o(),r();case 22:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 6:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}))}catch(e){m(it(it({},c),{is_btn_loading:!1}))}}},(function(e){var t=e.values,r=e.errors,o=e.setFieldValue,l=e.handleSubmit,s=e.isValid,m=e.dirty;return a().createElement("form",{"data-testid":"dt_poo_form",className:"proof-of-ownership",onSubmit:function(e){e.nativeEvent.preventDefault(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),l(e)}},a().createElement(ie.default,{scroll_offset:_t(i.length)},a().createElement(f.default,{title:(0,u.localize)("Please upload the following document(s).")}),a().createElement(le.Z,null,a().createElement("fieldset",null,null==i?void 0:i.map((function(e,l){var c;return a().createElement("div",{className:"proof-of-ownership__form-content",key:e},i.length>1&&a().createElement("div",{className:"proof-of-ownership__progress"},a().createElement("div",{className:"proof-of-ownership__progress-number"},l+1),l!==i.length-1&&a().createElement("div",{className:"proof-of-ownership__progress-bar"})),a().createElement(nt,{error:null==r||null===(c=r.data)||void 0===c?void 0:c[l],index:l,values:t,card:n[e],setFieldValue:o,updateErrors:h}))}))))),a().createElement(oe.default,null,a().createElement(d.Button,{type:"submit",className:M()("account-form__footer-btn"),is_disabled:!m||!s,"data-testid":"submit-button",has_effect:!0,text:(0,u.localize)("Submit"),large:!0,primary:!0,is_loading:c.is_btn_loading})))}))};ht.propTypes={client_email:i().string,grouped_payment_method_data:i().object,refreshNotifications:i().func,updateAccountStatus:i().func,citizen:i().string};const yt=ht;var vt=n("./Components/icon-message-content/index.ts");const gt=function(){return a().createElement("div",{className:"proof-of-ownership__container"},a().createElement(vt.default,{message:(0,u.localize)("Your proof of ownership isn't required."),text:(0,u.localize)("You are not required to submit proof of ownership at this time. We will inform you if proof of ownership is required in the future."),icon:a().createElement(d.Icon,{icon:"IcPooVerified",size:128})}))},bt=function(){return a().createElement("div",{className:"proof-of-ownership__container"},a().createElement(vt.default,{message:(0,u.localize)("Proof of ownership verification passed."),icon:a().createElement(d.Icon,{icon:"IcPooVerified",size:128})}))},xt=function(e){var t=e.onTryAgain;return a().createElement("div",{className:"proof-of-ownership__container"},a().createElement("div",{className:"proof-of-ownership__container--content"},a().createElement(d.Icon,{className:"icon",icon:"IcPooRejected",size:128}),a().createElement(d.Text,{weight:"bold"},(0,u.localize)("Proof of ownership verification failed")),a().createElement(d.Text,{size:"xs"},(0,u.localize)("We were unable to verify your proof of ownership.")),a().createElement(d.Button,{type:"button",className:"proof-of-ownership__try-again-button",onClick:t,large:!0,text:(0,u.localize)("Try again"),primary:!0,"data-testid":"dt_try-again-button"})))},Et=function(){return a().createElement("div",{className:"proof-of-ownership__container"},a().createElement(vt.default,{message:(0,u.localize)("We’ve received your proof of ownership."),text:(0,u.localize)("We’ll review your documents and notify you of its status within 3 days."),icon:a().createElement(d.Icon,{icon:"IcPooSubmitted",size:128})}))},wt=function(){return{advcash:{icon_light:"IcAdvcashLight",icon_dark:"IcAdvcashDark",instructions:[(0,u.localize)("Upload a screenshot of your name and email address from the personal information section.")],input_label:(0,u.localize)("Email address"),identifier_type:"email_address"},astropay:{icon_light:"IcAstroPayLight",icon_dark:"IcAstroPayDark",instructions:[a().createElement(u.Localize,{key:0,i18n_default_text:"Upload 2 separate screenshots from the personal details page and the account page via <0>https://app.astropay.com/profile</0>",components:[a().createElement("a",{key:0,className:"link  proof-of-ownership-link",target:"_blank",rel:"noreferrer",href:"https://app.astropay.com/profile"})]})],input_label:(0,u.localize)("Account number"),identifier_type:"account_number"},beyonic:{icon_light:"IcBeyonic",icon_dark:"IcBeyonic",instructions:[(0,u.localize)("Upload your mobile bill statement showing your name and phone number.")],input_label:(0,u.localize)("Mobile number"),identifier_type:"mobile_number"},"boleto (d24 voucher)":{icon_light:"IcBoletoD24VoucherLight",icon_dark:"IcBoletoD24VoucherDark",instructions:[(0,u.localize)("Upload your bank statement showing your name and account details.")],input_label:(0,u.localize)("Bank account number"),identifier_type:"bank_account_number"},visa:{icon_light:"IcVisaLight",icon_dark:"IcVisaDark",instructions:[(0,u.localize)("Upload a photo showing your name and the first six and last four digits of your card number. If the card does not display your name, upload the bank statement showing your name and card number in the transaction history.")],input_label:(0,u.localize)("Card number"),identifier_type:"card_number"},mastercard:{icon_light:"IcMasterCardLight",icon_dark:"IcMasterCardDark",instructions:[(0,u.localize)("Upload a photo showing your name and the first six and last four digits of your card number. If the card does not display your name, upload the bank statement showing your name and card number in the transaction history.")],input_label:(0,u.localize)("Card number"),identifier_type:"card_number"},pix:{icon_light:"IcPixLight",icon_dark:"IcPixDark",instructions:[(0,u.localize)("Upload a screenshot of either of the following to process the transaction:"),(0,u.localize)("- your account profile section on the website"),(0,u.localize)("- the Account Information page on the app"),(0,u.localize)("- your account details of the bank linked to your account")],input_label:(0,u.localize)("User ID"),identifier_type:"user_id"},skrill:{icon_light:"IcSkrillLight",icon_dark:"IcSkrillDark",instructions:[(0,u.localize)("Upload a screenshot of your name, account number, and email address from the personal details section of the app or profile section of your account on the website.")],input_label:(0,u.localize)("Email address"),identifier_type:"email_address"},neteller:{icon_light:"IcNetellerLight",icon_dark:"IcNetellerDark",instructions:[(0,u.localize)("Upload a screenshot of your name, account number, and email address from the personal details section of the app or profile section of your account on the website.")],input_label:(0,u.localize)("Email address"),identifier_type:"email_address"},onlinenaira:{icon_light:"IcOnlineNaira",icon_dark:"IcOnlineNaira",instructions:[a().createElement(u.Localize,{key:0,i18n_default_text:"Upload a screenshot of your username on the General Information page at <0>https://onlinenaira.com/members/index.htm</0>",components:[a().createElement("a",{key:0,className:"link proof-of-ownership-link",target:"_blank",rel:"noreferrer",href:"https://onlinenaira.com/members/index.htm"})]}),a().createElement(u.Localize,{key:1,i18n_default_text:"Upload a screenshot of your account number and phone number on the Bank Account/Mobile wallet page at <0>https://onlinenaira.com/members/bank.htm</0>",components:[a().createElement("a",{key:0,className:"link  proof-of-ownership-link",target:"_blank",rel:"noreferrer",href:"https://onlinenaira.com/members/bank.htm"})]})],input_label:(0,u.localize)("Account ID"),identifier_type:"account_id"},webmoney:{icon_light:"IcWebMoneyLight",icon_dark:"IcWebMoneyDark",instructions:[(0,u.localize)("Upload a screenshot of your account and personal details page with your name, account number, phone number, and email address.")],input_label:(0,u.localize)("Account number"),identifier_type:"account_number"},zingpay:{icon_light:"IcZingpay",icon_dark:"IcZingpay",instructions:[(0,u.localize)("Upload your bank statement showing your name, account number, and transaction history.")],input_label:(0,u.localize)("Bank account number"),identifier_type:"bank_account_number"},sticpay:{icon_light:"IcSticpayLight",icon_dark:"IcSticpayDark",instructions:[(0,u.localize)("Upload a screenshot of your name and email address from the personal details section.")],input_label:(0,u.localize)("Email address"),identifier_type:"email_address"},jeton:{icon_light:"IcJetonLight",icon_dark:"IcJetonDark",instructions:[(0,u.localize)("Upload a screenshot of your name and account number from the personal details section.")],input_label:(0,u.localize)("Account number"),identifier_type:"account_number"},other:{icon_light:"IcOtherPaymentMethod",icon_dark:"IcOtherPaymentMethod",instructions:[(0,u.localize)("Upload a document showing your name and bank account number or account details.")],input_label:null,identifier_type:"none"}}};function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var St=(0,m.Pi)((function(){var e,t,n,o,i=(0,m.oR)(),l=i.client,c=i.notifications,s=i.ui,u=l.account_status,f=l.email,p=l.updateAccountStatus,_=c.refreshNotifications,h=s.is_dark_mode_on,y=null==u||null===(e=u.authentication)||void 0===e||null===(t=e.ownership)||void 0===t?void 0:t.requests,v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(Re),2),g=v[0],b=v[1],x=(null==l||null===(n=l.account_settings)||void 0===n?void 0:n.citizen)||(null==l||null===(o=l.account_settings)||void 0===o?void 0:o.country_code),E=a().useMemo((function(){var e={},t=wt();return null==y||y.forEach((function(n){var r,a,o,i=t[n.payment_method.toLowerCase()]||t.other;e[null==n||null===(r=n.payment_method)||void 0===r?void 0:r.toLowerCase()]?e[null==n||null===(a=n.payment_method)||void 0===a?void 0:a.toLowerCase()].items.push(n):e[null==n||null===(o=n.payment_method)||void 0===o?void 0:o.toLowerCase()]={documents_required:null==n?void 0:n.documents_required,icon:h?null==i?void 0:i.icon_dark:null==i?void 0:i.icon_light,payment_method:null==n?void 0:n.payment_method,items:[n],instructions:i.instructions,input_label:null==i?void 0:i.input_label,identifier_type:i.identifier_type,is_generic_pm:!(null!=i&&i.input_label)}})),{groups:e}}),[y,h]);return(0,r.useEffect)((function(){var e,t,n;b(null==u||null===(e=u.authentication)||void 0===e||null===(t=e.ownership)||void 0===t||null===(n=t.status)||void 0===n?void 0:n.toLowerCase())}),[u]),(null==y?void 0:y.length)>0&&g!==qe?a().createElement(yt,{grouped_payment_method_data:E.groups,updateAccountStatus:p,refreshNotifications:_,client_email:f,citizen:x}):"verified"===g?a().createElement(bt,null):"pending"===g?a().createElement(Et,null):g===Re?a().createElement(gt,null):g===qe?a().createElement(xt,{onTryAgain:function(){b(Re)}}):a().createElement(d.Loading,{is_fullscreen:!1,className:"account__initial-loader"})}));const kt=(0,c.withRouter)(St);var Ot=n("../../../node_modules/qrcode.react/lib/index.js"),Lt=n.n(Ot);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ct.apply(this,arguments)}function Nt(){Nt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==jt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Pt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pt(o,r,a,i,l,"next",e)}function l(e){Pt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Mt=function(e){var t,n=e.is_enabled,r=e.setTwoFAStatus,o=e.setTwoFAChangedStatus,i=e.is_language_changing,l=Tt(a().useState(!1),2),c=l[0],m=l[1],f=Tt(a().useState(!1),2),p=f[0],_=f[1],h=n?(0,u.localize)("Disable"):(0,u.localize)("Enable"),y=a().useRef();a().useEffect((function(){i&&y.current.setFieldTouched("digit_code")}),[i]);var v=function(){var e=It(Nt().mark((function e(r){var a,o,i,l,c;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.digit_code){e.next=5;break}return e.abrupt("return",{digit_code:(0,u.localize)("Digit code is required.")});case 5:if(6===a.length){e.next=9;break}return e.abrupt("return",{digit_code:(0,u.localize)("Length of digit code must be 6 characters.")});case 9:if(/^[0-9]{6}$/g.test(a)){e.next=13;break}return e.abrupt("return",{digit_code:(0,u.localize)("Digit code must only contain numbers.")});case 13:if(!p){e.next=27;break}if(!y.current.isValid){e.next=26;break}return o=n?"disable":"enable",e.next=18,s.WS.authorized.accountSecurity({account_security:1,totp_action:o,otp:r.digit_code});case 18:if(!(t=e.sent).error){e.next=24;break}if(i=t.error,l=i.code,c=i.message,"InvalidOTP"!==l){e.next=23;break}return e.abrupt("return",{digit_code:(0,u.localize)("That's not the right code. Please try again.")});case 23:return e.abrupt("return",{digit_code:c});case 24:e.next=27;break;case 26:return e.abrupt("return",{digit_code:(0,u.localize)("That's not the right code. Please try again.")});case 27:return e.abrupt("return",{});case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=It(Nt().mark((function e(n,a){var i,l;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.resetForm,t.error||(l=!!(0,s.getPropertyValue)(t,["account_security","totp","is_enabled"]),m(!0),i(),r(l),o(!0));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return a().createElement(E.J9,{initialValues:{digit_code:""},onSubmit:g,validate:v,innerRef:y},(function(e){var t=e.values,n=e.errors,r=e.isValid,o=e.touched,i=e.handleChange,l=e.handleBlur,s=e.isSubmitting,m=e.dirty;return a().createElement(E.l0,{noValidate:!0},a().createElement("div",{className:"two-factor__input-group"},a().createElement(E.gN,{name:"digit_code"},(function(e){var r=e.field;return a().createElement(d.Input,Ct({},r,{"data-lpignore":"true",type:"text",className:"two-factor__input",label:(0,u.localize)("Authentication code"),value:t.digit_code,onChange:function(e){i(e),_(!1)},onBlur:l,required:!0,error:o.digit_code&&n.digit_code,maxLength:"6",autoComplete:"off"}))})),a().createElement(d.Button,{className:M()("two-factor__button",{"two-factor__button--success":c}),type:"submit",is_disabled:s||!r||!m,has_effect:!0,is_loading:s,is_submit_success:c,text:h,onClick:function(){return _(!0)},large:!0,primary:!0})))}))},Ft=function(){return a().createElement(B,{title:(0,u.localize)("Two-factor authentication (2FA)"),descriptions:[a().createElement(u.Localize,{key:0,i18n_default_text:"Protect your account with 2FA. Each time you log in to your account, you will need to enter your password and an authentication code generated by a 2FA app on your smartphone."})]})};function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Bt(){Bt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==Dt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Rt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Rt(o,r,a,i,l,"next",e)}function l(e){Rt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Wt=(0,m.Pi)((function(){var e=(0,m.oR)(),t=e.client,n=e.common,r=t.email_address,o=t.getTwoFAStatus,i=t.has_enabled_two_fa,l=t.is_switching,c=t.setTwoFAStatus,f=t.setTwoFAChangedStatus,p=n.is_language_changing,_=Gt(a().useState(!0),2),h=_[0],y=_[1],v=Gt(a().useState(!1),2),g=v[0],b=v[1],x=Gt(a().useState(""),2),E=x[0],w=x[1],z=Gt(a().useState(""),2),S=z[0],k=z[1],O=Gt(a().useState(""),2),L=O[0],j=O[1],C=a().useContext(s.PlatformContext).is_appstore;a().useEffect((function(){P()}),[P,i]);var N=a().useCallback(qt(Bt().mark((function e(){var t,n,a;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,s.WS.authorized.accountSecurity({account_security:1,totp_action:"generate"});case 3:if(t=e.sent,y(!1),!t.error){e.next=8;break}return w(t.error.message),e.abrupt("return");case 8:n=(0,s.getPropertyValue)(t,["account_security","totp","secret_key"]),a="otpauth://totp/".concat(r,"?secret=").concat(n,"&issuer=Deriv.com"),k(n),j(a),b(!1);case 13:case"end":return e.stop()}}),e)}))),[r]),P=a().useCallback(qt(Bt().mark((function e(){var t;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:if(!(t=e.sent).error){e.next=6;break}return w(t.error.message),e.abrupt("return");case 6:t||N(),y(!1);case 8:case"end":return e.stop()}}),e)}))),[o,N]);if(h||l)return a().createElement(d.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(E)return a().createElement(F.default,{error_message:E});var I=a().createElement(d.ThemedScrollbars,{is_bypassed:(0,s.isMobile)(),className:"two-factor__scrollbars"},a().createElement("div",{className:"two-factor__wrapper--enabled"},a().createElement(d.Icon,{icon:"IcQrPhone",className:"two-factor__icon"}),a().createElement(d.Text,{as:"h3",align:"center",weight:"bold",color:"prominent",className:"two-factor__qr--title"},(0,u.localize)("2FA enabled")),a().createElement(d.Text,{as:"h4",size:"xs",align:"center",className:"two-factor__qr--message"},(0,u.localize)("You have enabled 2FA for your Deriv account.")),a().createElement(d.Text,{as:"h4",size:"xs",align:"center",className:"two-factor__qr--message"},(0,u.localize)("To disable 2FA, please enter the six-digit authentication code generated by your 2FA app below:")),a().createElement(Mt,{is_enabled:i,setTwoFAStatus:c,setTwoFAChangedStatus:f,is_language_changing:p}))),T=a().createElement(a().Fragment,null,a().createElement(d.ThemedScrollbars,{is_bypassed:(0,s.isMobile)(),autoHide:!0,className:"two-factor__scrollbars",hideHorizontal:!0},a().createElement(d.MobileWrapper,null,a().createElement(Ft,null)),a().createElement(d.Text,{as:"h2",color:"prominent",weight:"bold",className:"two-factor__title"},(0,u.localize)("How to set up 2FA for your Deriv account")),a().createElement("div",null,a().createElement(d.Timeline,{className:"two-factor__timeline",line_height:"xs"},a().createElement(d.Timeline.Item,{item_title:a().createElement(u.Localize,{i18n_default_text:"Scan the QR code below with your 2FA app. We recommend <0>Authy</0> or <1>Google Authenticator</1>.",components:[a().createElement("a",{className:"link two-factor__link",href:"https://authy.com/",target:"_blank",rel:"noopener noreferrer",key:0}),a().createElement("a",{className:"link two-factor__link",href:"https://github.com/google/google-authenticator/wiki#implementations",target:"_blank",rel:"noopener noreferrer",key:1})]})},a().createElement("div",{className:"two-factor__qr"},g?a().createElement(d.Loading,{is_fullscreen:!1}):a().createElement(a().Fragment,null,L&&a().createElement("div",{className:"two-factor__qr--wrapper"},a().createElement(Lt(),{value:L})),S&&a().createElement(a().Fragment,null,a().createElement(d.Text,{as:"h4",size:"xs",align:"center",className:"two-factor__qr--message"},(0,u.localize)("If you are unable to scan the QR code, you can manually enter this code instead:")),a().createElement("div",{className:"two-factor__qr--code"},a().createElement(d.Text,{size:"xs"},S),a().createElement(d.Clipboard,{text_copy:S,info_message:(0,u.localize)("Click here to copy key"),success_message:(0,u.localize)("Key copied!"),className:"two-factor__qr--clipboard"})))))),a().createElement(d.Timeline.Item,{item_title:(0,u.localize)("Enter the authentication code generated by your 2FA app:")},a().createElement(Mt,{is_enabled:i,setTwoFAStatus:c,setTwoFAChangedStatus:f,is_language_changing:p}))))),a().createElement(d.DesktopWrapper,null,a().createElement(Ft,null)));return a().createElement("section",{className:"two-factor"},a().createElement("div",{className:M()("two-factor__wrapper",{"two-factor__wrapper-dashboard":C})},i?I:T))}));var Vt=n("./Components/inline-note-with-icon/index.ts");const Ut=function(){return a().createElement(B,{title:(0,u.localize)("API token"),descriptions:[a().createElement(u.Localize,{key:0,i18n_default_text:"To access your mobile apps and other third-party apps, you'll first need to generate an API token."})]})};function $t(){return $t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(this,arguments)}const Ht=function(e){var t=e.name,n=e.value,r=e.display_name,o=e.description,i=e.setFieldValue,l=e.children;return a().createElement(E.gN,{name:t},(function(e){var c=e.field;return a().createElement(d.CompositeCheckbox,$t({},c,{onChange:function(){return i(t,!n)},value:n,className:"api-token__checkbox",defaultChecked:n,label:r,description:o}),l)}))},Zt=r.createContext({}),Kt=function(){var e=a().useContext(Zt),t=e.footer_ref,n=e.toggleOverlay;return(0,V.createPortal)(a().createElement("a",{className:"link link--prominent",onClick:n},a().createElement(d.Text,{size:"xxs",line_height:"m",weight:"bold"},a().createElement(u.Localize,{i18n_default_text:"Learn more about API token"}))),t)},Jt=function(){var e=a().useContext(Zt),t=e.overlay_ref,n=e.toggleOverlay;return a().createElement(d.Popup.Overlay,{descriptions:[{key:"api_token_desc_1",component:a().createElement(u.Localize,{key:0,i18n_default_text:"To access our mobile apps and other third-party apps, you'll first need to generate an API token."})}],done_text:(0,u.localize)("Done"),overlay_ref:t,title:(0,u.localize)("API Token"),toggleOverlay:n})};function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const en=function(e){var t=e.token,n=e.popover_alignment,r=void 0===n?"left":n,o=a().useContext(Zt).deleteToken,i=Xt(a().useState(!1),2),l=i[0],c=i[1],m=Xt(a().useState(!1),2),f=m[0],p=m[1],_=Xt(a().useState(!1),2),h=_[0],y=_[1],v=(0,s.useIsMounted)();return a().createElement(a().Fragment,null,a().createElement(d.Modal,{is_open:l,small:!0},a().createElement(d.Modal.Body,null,a().createElement(d.Text,{as:"h1",color:"prominent",weight:"bold",className:"da-api-token__modal-title"},(0,u.localize)("Delete token")),a().createElement(d.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},(0,u.localize)("Are you sure you want to delete this token?"))),a().createElement(d.Modal.Footer,{className:"da-api-token__modal-footer"},a().createElement(d.Button,{className:"dc-dialog__button",has_effect:!0,text:(0,u.localize)("Cancel"),onClick:function(){return c(!1)},secondary:!0,large:!0}),a().createElement(d.Button,{className:"dc-dialog__button",has_effect:!0,text:(0,u.localize)("Yes, delete"),onClick:function(){p(!0),o(t.token).finally((function(){v()&&(p(!1),c(!1))}))},primary:!0,large:!0,is_loading:f}))),a().createElement(d.Popover,{alignment:r,classNameBubble:"dc-clipboard__popover",message:(0,u.localize)("Delete this token"),relative_render:!1,zIndex:"9999",is_open:h},a().createElement(d.Icon,{icon:"IcDelete",custom_color:"var(--text-prominent)",className:"dc-clipboard da-api-token__delete-icon",onClick:function(){(0,s.isDesktop)()&&y(!1),c(!0)},size:14,data_testid:"dt_token_delete_icon",onMouseEnter:function(){!l&&(0,s.isDesktop)()&&y(!0)},onMouseLeave:function(){!l&&(0,s.isDesktop)()&&y(!1)}})))},tn=function(e){var t=e.className,n=e.children;return e.should_bypass_text?a().createElement("td",{className:M()("da-api-token__table-cell",t)},n):a().createElement("td",{className:M()("da-api-token__table-cell",t)},a().createElement(d.Text,{color:"prominent ",size:"xs",line_height:"m"},n))},nn=function(e){var t=e.scopes;return a().createElement("div",{className:"da-api-token__table-scopes-cell-block"},t.map((function(e){return a().createElement("div",{key:e,className:M()("da-api-token__table-scope-cell",{"da-api-token__table-scope-cell-admin":"admin"===e.toLowerCase()})},e)})))};function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var on=function(e){var t=e.message;return a().createElement("div",{className:"da-api-token__bullet-wrapper"},a().createElement("div",{className:"da-api-token__bullet"}),a().createElement(d.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},t))},ln=function(){return a().createElement(a().Fragment,null,a().createElement(d.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},(0,u.localize)("Be careful who you share this token with. Anyone with this token can perform the following actions on your account behalf")),a().createElement("div",{className:"da-api-token__bullet-container"},a().createElement(on,{message:(0,u.localize)("Add accounts")}),a().createElement(on,{message:(0,u.localize)("Create or delete API tokens for trading and withdrawals")}),a().createElement(on,{message:(0,u.localize)("Modify account settings")})))};const cn=function(e){var t,n,r=e.scopes,o=e.text_copy,i=e.info_message,l=e.success_message,c=e.popover_alignment,m=void 0===c?"bottom":c,f=rn((0,d.useCopyToClipboard)(),3),p=f[0],_=f[1],h=f[2],y=rn(a().useState(!1),2),v=y[0],g=y[1],b=rn(a().useState(!1),2),x=b[0],E=b[1],w=(0,s.useIsMounted)(),z=r.includes("Admin"),S=function(){g(!1),_(o),E(!0),t=setTimeout((function(){w()&&(E(!1),h(!1))}),1900),n=setTimeout((function(){w()&&h(!1)}),2050)};return a().useEffect((function(){return function(){clearTimeout(t),clearTimeout(n)}}),[t,n]),a().createElement(a().Fragment,null,a().createElement(d.Modal,{is_open:v,small:!0},a().createElement(d.Modal.Body,null,a().createElement(ln,null)),a().createElement(d.Modal.Footer,{className:"da-api-token__modal-footer"},a().createElement(d.Button,{className:"dc-dialog__button",has_effect:!0,text:(0,u.localize)("OK"),onClick:S,primary:!0,large:!0}))),a().createElement(d.Popover,{alignment:m,classNameBubble:"dc-clipboard__popover",message:p?l:i,is_open:x,zIndex:"9999"},a().createElement(d.Icon,{icon:"".concat(p?"IcCheckmarkCircle":"IcClipboard"),custom_color:"".concat(p?"var(--status-success)":"var(--text-prominent)"),className:"dc-clipboard",size:14,data_testid:"".concat(p?"dt_token_copied_icon":"dt_copy_token_icon"),onClick:function(){z?g(!0):S()},onMouseEnter:function(){p||E(!0)},onMouseLeave:function(){p||E(!1)}})))};function sn(e,t){if(e){if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dn=function(){return a().createElement("div",{className:"da-api-token__pass-dot-container"},function(e){return function(e){if(Array.isArray(e))return un(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Array(15)).map((function(e,t){return a().createElement("div",{key:t,className:"da-api-token__pass-dot"})})))};const mn=function(e){var t=e.token,n=e.scopes,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||sn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(!1),2),o=r[0],i=r[1];return a().createElement("div",{className:"da-api-token__clipboard-wrapper"},o?a().createElement(d.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},t):a().createElement(dn,null),a().createElement(cn,{info_message:(0,u.localize)("Copy this token"),success_message:(0,u.localize)("Token copied!"),text_copy:t,scopes:n}),a().createElement(d.Popover,{alignment:"bottom",classNameBubble:"dc-clipboard__popover",message:o?(0,u.localize)("Hide this token"):(0,u.localize)("Show this token")},a().createElement(d.Icon,{icon:o?"IcPasswordEyeVisible":"IcPasswordEyeHide",className:"da-api-token__visibility-icon",onClick:function(){i((function(e){return!e}))},width:15,custom_color:"var(--text-prominent)",data_testid:"dt_toggle_visibility_icon"})))},fn=function(e){var t=e.token;return a().createElement("tr",{className:"da-api-token__table-cell-row"},a().createElement(tn,{className:"da-api-token__table-cell--name"},t.display_name),a().createElement(tn,{should_bypass_text:!0},a().createElement(mn,{token:t.token,scopes:t.scopes})),a().createElement(tn,{should_bypass_text:!0},a().createElement(nn,{scopes:t.scopes})),a().createElement(tn,null,t.last_used),a().createElement(tn,{should_bypass_text:!0},a().createElement(en,{token:t})))},pn=function(e){var t=e.text;return a().createElement("th",{className:"da-api-token__table-header"},a().createElement(d.Text,{color:"prominent ",size:"xs",line_height:"m",weight:"bold"},t))},_n=function(){var e=a().useContext(Zt).api_tokens,t=function(e){var t,n=null===(t=e.scopes)||void 0===t?void 0:t.map((function(e){return function(e){switch(e){case"read":return(0,u.localize)("Read");case"trade":return(0,u.localize)("Trade");case"payments":return(0,u.localize)("Payments");case"admin":return(0,u.localize)("Admin");case"trading_information":return(0,u.localize)("Trading information");default:return function(e){var t=e.replace(/-|_/g," ");return t[0].toUpperCase()+t.slice(1).toLowerCase()}(e)}}(e)})),r=e.last_used?(0,s.formatDate)(e.last_used,"DD/MM/YYYY"):(0,u.localize)("Never");return{display_name:e.display_name,scopes:n,last_used:r,token:e.token}};return(0,s.isMobile)()?a().createElement(a().Fragment,null,null==e?void 0:e.map((function(e){var n=t(e);return a().createElement("div",{key:n.token,className:"da-api-token__scope"},a().createElement("div",{className:"da-api-token__scope-item"},a().createElement("div",null,a().createElement(d.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},a().createElement(u.Localize,{i18n_default_text:"Name"})),a().createElement(d.Text,{className:"da-api-token__scope-item--name",as:"p",size:"s",color:"general",line_height:"m"},n.display_name))),a().createElement("div",{className:"da-api-token__scope-item"},a().createElement("div",null,a().createElement(d.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},a().createElement(u.Localize,{i18n_default_text:"Token"})),a().createElement(mn,{token:n.token,scopes:n.scopes})),a().createElement("div",null,a().createElement(d.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},a().createElement(u.Localize,{i18n_default_text:"Last Used"})),a().createElement(d.Text,{as:"p",size:"s",color:"general",line_height:"m"},n.last_used))),a().createElement("div",{className:"da-api-token__scope-item"},a().createElement("div",null,a().createElement(d.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},a().createElement(u.Localize,{i18n_default_text:"Scopes"})),a().createElement(nn,{scopes:n.scopes})),a().createElement("div",null,a().createElement(en,{token:n}))))}))):a().createElement("table",{className:"da-api-token__table"},a().createElement("thead",null,a().createElement("tr",{className:"da-api-token__table-header-row"},a().createElement(pn,{text:(0,u.localize)("Name")}),a().createElement(pn,{text:(0,u.localize)("Token")}),a().createElement(pn,{text:(0,u.localize)("Scopes")}),a().createElement(pn,{text:(0,u.localize)("Last used")}),a().createElement("th",null))),a().createElement("tbody",null,null==e?void 0:e.map((function(e){return a().createElement(fn,{key:e.token,token:t(e)})}))))};function hn(e){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yn.apply(this,arguments)}function vn(){vn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==hn(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function gn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){gn(o,r,a,i,l,"next",e)}function l(e){gn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){wn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==hn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Sn=(0,m.Pi)((function(e){var t=e.footer_ref,n=e.is_app_settings,r=e.overlay_ref,o=e.setIsOverlayShown,i=(0,m.oR)().client.is_switching,l=(0,s.useIsMounted)(),c=a().useRef(i),f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useReducer((function(e,t){return En(En({},e),t)}),{api_tokens:[],is_loading:!0,is_success:!1,is_overlay_shown:!1,error_message:"",show_delete:!1,dispose_token:"",is_delete_loading:!1,is_delete_success:!1}),2),p=f[0],_=f[1];a().useEffect((function(){return g(),function(){return _({dispose_token:""})}}),[]),a().useEffect((function(){c.current!==i&&(c.current=i,g())}),[i]),a().useEffect((function(){"function"==typeof o&&o(p.is_overlay_shown)}),[p.is_overlay_shown,o]);var h=function(e){return Object.keys(e).filter((function(t){return"token_name"!==t&&e[t]}))},y=function(){var e=bn(vn().mark((function e(t,n){var r,a,o,i;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,a=n.setFieldError,o=n.resetForm,e.next=3,s.WS.apiToken({api_token:1,new_token:t.token_name,new_token_scopes:h(t)});case 3:(i=e.sent).error?a("token_name",i.error.message):l()&&(_({is_success:!0,api_tokens:(0,s.getPropertyValue)(i,["api_token","tokens"])}),setTimeout((function(){l()&&_({is_success:!1})}),500)),o(),r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(e){l()&&(e.error?_({is_loading:!1,error_message:(0,s.getPropertyValue)(e,["error","message"])}):_({is_loading:!1,api_tokens:(0,s.getPropertyValue)(e,["api_token","tokens"])}))},g=function(){var e=bn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _({is_loading:!0}),e.next=3,s.WS.authorized.apiToken({api_token:1});case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=bn(vn().mark((function e(t){var n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _({is_delete_loading:!0}),e.next=3,s.WS.authorized.apiToken({api_token:1,delete_token:t});case 3:n=e.sent,v(n),l()&&_({is_delete_loading:!1,is_delete_success:!0}),setTimeout((function(){l()&&_({is_delete_success:!1})}),500);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=p.api_tokens,w=p.is_loading,z=p.is_success,S=p.error_message,k=p.is_overlay_shown;if(w||i)return a().createElement(d.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(S)return a().createElement(F.default,{error_message:S});var O={api_tokens:x,toggleOverlay:function(){return _({is_overlay_shown:!p.is_overlay_shown})},deleteToken:b,footer_ref:t,overlay_ref:r};return a().createElement(a().Fragment,null,a().createElement(Zt.Provider,{value:O},a().createElement("section",{className:M()("da-api-token",{"da-api-token--app-settings":n})},a().createElement("div",{className:"da-api-token__wrapper"},a().createElement(d.ThemedScrollbars,{className:"da-api-token__scrollbars",is_bypassed:(0,s.isMobile)()},!n&&(0,s.isMobile)()&&a().createElement(Ut,null),a().createElement(E.J9,{initialValues:{token_name:"",read:!1,trade:!1,payments:!1,trading_information:!1,admin:!1},onSubmit:y,validate:function(e){var t={},n=e.token_name&&e.token_name.trim();return n?/^[A-Za-z0-9\s_]+$/g.test(n)?n.length<2?t.token_name=(0,u.localize)("Length of token name must be between {{MIN_TOKEN}} and {{MAX_TOKEN}} characters.",{MIN_TOKEN:2,MAX_TOKEN:32}):n.length>32&&(t.token_name=(0,u.localize)("Maximum {{MAX_TOKEN}} characters.",{MAX_TOKEN:32})):t.token_name=(0,u.localize)("Only letters, numbers, and underscores are allowed."):t.token_name=(0,u.localize)("Please enter a token name."),t}},(function(e){var t=e.values,n=e.errors,r=e.isValid,o=e.dirty,i=e.touched,l=e.handleChange,c=e.handleBlur,s=e.isSubmitting,m=e.setFieldValue,f=e.setFieldTouched;return a().createElement(E.l0,{noValidate:!0},a().createElement(d.Timeline,{className:"da-api-token__timeline",line_height:"xxxl"},a().createElement(d.Timeline.Item,{item_title:(0,u.localize)("Select scopes based on the access you need.")},a().createElement("div",{className:"da-api-token__checkbox-wrapper"},a().createElement(Ht,{name:"read",value:t.read,setFieldValue:m,display_name:(0,u.localize)("Read"),description:(0,u.localize)("This scope will allow third-party apps to view your account activity, settings, limits, balance sheets, trade purchase history, and more.")}),a().createElement(Ht,{name:"trade",value:t.trade,display_name:(0,u.localize)("Trade"),setFieldValue:m,description:(0,u.localize)("This scope will allow third-party apps to buy and sell contracts for you, renew your expired purchases, and top up your demo accounts.")}),a().createElement(Ht,{name:"payments",value:t.payments,display_name:(0,u.localize)("Payments"),setFieldValue:m,description:(0,u.localize)("This scope will allow third-party apps to withdraw to payment agents and make inter-account transfers for you.")}),a().createElement(Ht,{name:"trading_information",value:t.trading_information,display_name:(0,u.localize)("Trading information"),setFieldValue:m,description:(0,u.localize)("This scope will allow third-party apps to view your trading history.")}),a().createElement(Ht,{name:"admin",value:t.admin,display_name:(0,u.localize)("Admin"),setFieldValue:m,description:(0,u.localize)("This scope will allow third-party apps to open accounts for you, manage your settings and token usage, and more. ")},a().createElement(Vt.Z,{icon:"IcAlertWarning",message:(0,u.localize)("To avoid loss of funds, do not share tokens with the Admin scope with unauthorised parties."),title:(0,u.localize)("Note")})))),a().createElement(d.Timeline.Item,{item_title:(0,u.localize)("Name your token and click on 'Create' to generate your token.")},a().createElement("div",{className:"da-api-token__input-group"},a().createElement(E.gN,{name:"token_name"},(function(e){var r=e.field;return a().createElement(d.Input,yn({},r,{"data-lpignore":"true",type:"text",className:"da-api-token__input dc-input__input-group",label:(0,u.localize)("Token name"),value:t.token_name,onChange:function(e){f("token_name",!0),l(e)},onBlur:c,hint:(0,u.localize)("Length of token name must be between 2 and 32 characters."),required:!0,error:i.token_name&&n.token_name}))})),a().createElement(d.Button,{className:M()("dc-btn__button-group","da-api-token__button",{"da-api-token__button--success":z}),type:"submit",is_disabled:!o||s||!r||!h(t).length,has_effect:!0,is_loading:s,is_submit_success:z,text:(0,u.localize)("Create"),primary:!0,large:!0}))),a().createElement(d.Timeline.Item,{item_title:(0,u.localize)("Copy and paste the token into the app.")},a().createElement(_n,null))))}))),!n&&(0,s.isDesktop)()&&a().createElement(Ut,null))),t&&a().createElement(Kt,null),r&&k&&a().createElement(Jt,null)))})),kn=a().createContext({overlay_ref:document.createElement("div"),currency:"",handleSubmit:function(){return null}});function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==On(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==On(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===On(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pn=function(e){var t,n=e.is_eu,a=e.is_uk,o=e.is_deriv_crypto,i=e.is_app_settings,l=(0,s.getPlatformSettings)("trader").name,c=(0,s.getPlatformSettings)("dbot").name,d=(0,s.getPlatformSettings)("bbot").name,m=(0,s.getPlatformSettings)("smarttrader").name;return(n?(t=[{component:r.createElement(u.Localize,{i18n_default_text:"These trading limits and self-exclusion help you control the amount of money and time you spend on {{brand_website_name}} and exercise <0>responsible trading</0>.",components:[r.createElement("a",{key:0,className:"link",rel:"noopener noreferrer",target:"_blank",href:(0,s.getStaticUrl)("/responsible",{is_deriv_crypto:o})})],values:{brand_website_name:(0,s.getBrandWebsiteName)()}})}],a?t.push({component:r.createElement(u.Localize,{i18n_default_text:"These trading limits are optional, and you can strengthen them at any time. If you don’t wish to set a specific limit, leave the field blank. If you live in the United Kingdom, Customer Support can only remove or weaken your trading limits after 24 hours of receiving the request. If you live in the Isle of Man, Customer Support can only remove or weaken your trading limits after your trading limit period has expired."})}):t.push({component:r.createElement(u.Localize,{i18n_default_text:"These trading limits are optional, and you can strengthen them at any time. If you don’t wish to set a specific limit, leave the field blank. Customer Support can only remove or weaken your trading limits after 24 hours of receiving the request."})}),t.push({component:r.createElement(u.Localize,{i18n_default_text:"When you set your limits or self-exclusion, they will be aggregated across all your account types in {{platform_name_trader}} and {{platform_name_dbot}}. For example, the losses made on both platforms will add up and be counted towards the loss limit you set.",values:{platform_name_trader:l,platform_name_dbot:c}})}),a&&!i?t.push({component:r.createElement(u.Localize,{i18n_default_text:"You can also exclude yourself entirely for a specified duration. This can only be removed once your self-exclusion has expired. If you wish to continue trading once your self-exclusion period expires, you must contact Customer Support by calling <0>+447723580049</0> to lift this self-exclusion. Requests by chat or email shall not be entertained. There will be a 24-hour cooling-off period before you can resume trading.",components:[r.createElement("a",{key:0,className:"link",rel:"noopener noreferrer",target:"_blank",href:"tel:+447723580049"})]})}):i||t.push({component:r.createElement(u.Localize,{i18n_default_text:"You can also exclude yourself entirely for a specified duration. If, at any time, you decide to trade again, you must then contact our Customer Support to remove this self-exclusion. There will be a 24-hour-cooling-off period before you can resume trading. "})}),t):[{component:r.createElement(u.Localize,{i18n_default_text:"These self-exclusion limits help you control the amount of money and time you spend trading on {{platform_name_trader}}, {{platform_name_dbot}}, {{platform_name_smarttrader}} and {{platform_name_bbot}} on Deriv. The limits you set here will help you exercise <0>responsible trading</0>.",components:[r.createElement("a",{key:0,className:"link",rel:"noopener noreferrer",target:"_blank",href:(0,s.getStaticUrl)("/responsible",{is_deriv_crypto:o})})],values:{platform_name_trader:l,platform_name_dbot:c,platform_name_smarttrader:m,platform_name_bbot:d}})},{component:r.createElement(u.Localize,{i18n_default_text:"These limits are optional, and you can adjust them at any time. You decide how much and how long you’d like to trade. If you don’t wish to set a specific limit, leave the field blank."})},{component:r.createElement(u.Localize,{i18n_default_text:"When you set your limits, they will be aggregated across all your account types in {{platform_name_trader}}, {{platform_name_dbot}}, {{platform_name_smarttrader}} and {{platform_name_bbot}} on Deriv. For example, the losses made on all four platforms will add up and be counted towards the loss limit you set.",values:{platform_name_trader:l,platform_name_dbot:c,platform_name_smarttrader:m,platform_name_bbot:d}})}].concat(function(e){return function(e){if(Array.isArray(e))return Nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i?[]:[{component:r.createElement(u.Localize,{i18n_default_text:"You can also exclude yourself entirely for a specified duration. Once the self-exclusion period has ended, you can either extend it further or resume trading immediately. If you wish to reduce or remove the self-exclusion period, contact our <0>Customer Support</0>.",components:[r.createElement("a",{key:0,className:"link",rel:"noopener noreferrer",target:"_blank",href:(0,s.getStaticUrl)("/contact_us",{is_deriv_crypto:o})})]})}]))).map((function(e,t){return jn(jn({},e),{},{key:"self_exclusion_desc_".concat(t)})}))},In=function(e){var t=e.is_in_overlay,n=r.useContext(kn),a=n.is_app_settings,o=n.toggleArticle,i=n.overlay_ref,l=n.is_eu,c=n.is_uk,m=r.useContext(s.PlatformContext).is_deriv_crypto,f=Pn({is_eu:l,is_uk:c,is_deriv_crypto:m,is_app_settings:a});return t?r.createElement(d.Popup.Overlay,{descriptions:f,done_text:(0,u.localize)("Done"),overlay_ref:i,title:(0,u.localize)("Trading limits"),toggleOverlay:o}):r.createElement("div",{className:M()("da-self-exclusion-article__content",{"da-self-exclusion-article__content--is-in-modal":!t})},r.createElement("div",{className:"da-self-exclusion-article__content-header-container"},r.createElement(d.Text,{as:"h3",color:"prominent",size:"s",line_height:"l",weight:"bold",className:"da-self-exclusion-article__content-header"},r.createElement(u.Localize,{i18n_default_text:"About trading limits and self-exclusion"})),r.createElement(d.Icon,{icon:"IcCross",className:"da-self-exclusion-article__content-icon",onClick:o})),r.createElement("ul",{className:"da-self-exclusion-article__content-list"},f.map((function(e){return r.createElement("li",{key:e.key},r.createElement(d.Text,{as:"span",size:"xxs"},e.component))}))),a&&r.createElement("div",{className:"da-self-exclusion-article__content-button"},r.createElement(d.Button,{secondary:!0,large:!0,onClick:o},r.createElement(u.Localize,{i18n_default_text:"Done"}))))};In.propTypes={is_in_overlay:i().bool};const Tn=In,An=function(){var e=r.useContext(kn),t=e.state,n=e.toggleArticle;return r.createElement(d.Modal,{className:"self_exclusion__article-modal",is_open:null==t?void 0:t.show_article,toggleModal:n},r.createElement(d.ThemedScrollbars,null,r.createElement(Tn,null)))};function Mn(){return Mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}const Fn=function(){var e=r.useContext(kn),t=e.is_app_settings,n=e.toggleArticle,a=e.is_eu,o=e.is_uk,i=r.useContext(s.PlatformContext).is_deriv_crypto,l=r.useContext(s.PlatformContext).is_appstore;return r.createElement(B,Mn({title:(0,u.localize)("Trading limits and self-exclusion"),descriptions:l&&(0,s.isDesktop)()?Pn({is_eu:a,is_uk:o,is_deriv_crypto:i,is_app_settings:t}):[a?r.createElement(u.Localize,{i18n_default_text:"These trading limits and self-exclusion help you control the amount of money and time you spend on {{brand_website_name}} and exercise <0>responsible trading</0>.",components:[r.createElement(d.StaticUrl,{key:0,className:"link",href:"/responsible"})],values:{brand_website_name:(0,s.getBrandWebsiteName)()}}):r.createElement(u.Localize,{i18n_default_text:"These self-exclusion limits help you control the amount of money and time you spend trading on {{platform_name_trader}}, {{platform_name_dbot}}, {{platform_name_smarttrader}} and {{platform_name_bbot}} on Deriv. The limits you set here will help you exercise <0>responsible trading</0>.",components:[r.createElement(d.StaticUrl,{key:0,className:"link",href:"/responsible"})],values:{platform_name_trader:(0,s.getPlatformSettings)("trader").name,platform_name_dbot:(0,s.getPlatformSettings)("dbot").name,platform_name_smarttrader:(0,s.getPlatformSettings)("smarttrader").name,platform_name_bbot:(0,s.getPlatformSettings)("bbot").name}})]},(!l||(0,s.isMobile)())&&{onClickLearnMore:n}))},Dn=function(e){var t=e.children,n=r.useContext(kn),a=n.is_app_settings,o=n.is_wrapper_bypassed,i=n.state;return o?r.createElement("section",{role:"section-self-exclusion-wrapper",className:M()("da-self-exclusion",{"da-self-exclusion--app-settings":a})},(0,s.isMobile)()&&r.createElement(Fn,null),t):r.createElement(d.Div100vhContainer,{className:M()("da-self-exclusion__wrapper",{"da-self-exclusion__wrapper--show-article":null==i?void 0:i.show_article}),is_disabled:(0,s.isDesktop)(),height_offset:"80px"},r.createElement(d.ThemedScrollbars,{className:"da-self-exclusion__scrollbars",is_bypassed:(0,s.isMobile)()},(0,s.isMobile)()&&r.createElement(Fn,null),t),(0,s.isDesktop)()&&r.createElement(Fn,null))},Bn=function(){var e=r.useContext(kn).backToReview,t=(0,E.u6)(),n=t.handleSubmit,a=t.isSubmitting;return r.createElement("div",{className:"da-self-exclusion__confirm-limits"},r.createElement(d.Icon,{icon:"IcStop",className:"da-self-exclusion__confirm-limits-image"}),r.createElement(d.Text,{as:"h4",align:"center",color:"prominent",className:"da-self-exclusion__confirm-limits-header",line_height:"l",size:"s",weight:"bold"},r.createElement(u.Localize,{i18n_default_text:"Save new limits?"})),r.createElement(d.Text,{as:"p",align:"center",color:"general",className:"da-self-exclusion__confirm-limits-desc",line_height:"m",size:"xs"},r.createElement(u.Localize,{i18n_default_text:"Remember: You cannot log in to your account until the selected date."})),r.createElement("div",{className:"da-self-exclusion__confirm-limits-buttons"},r.createElement(d.Button,{type:"button",secondary:!0,large:!0,onClick:e},r.createElement(u.Localize,{i18n_default_text:"No, review my limits"})),r.createElement(d.Button,{type:"submit",is_loading:a,is_disabled:a,primary:!0,large:!0,onClick:function(){return n()}},r.createElement(u.Localize,{i18n_default_text:"Yes, log me out immediately"}))))},Rn=function(){var e=r.useContext(kn),t=e.backFromConfirmLimits,n=e.currency,a=e.currency_display,o=e.exclusion_texts,i=e.is_eu,l=e.state,c=(0,E.u6)(),m=c.isSubmitting,f=c.values;return null!=l&&l.show_confirm?r.createElement(Bn,null):r.createElement(r.Fragment,null,r.createElement("div",{onClick:t,className:"da-self-exclusion__back"},r.createElement(d.Icon,{icon:"IcArrowLeftBold"}),r.createElement(d.Text,{as:"p",size:"xs",weight:"bold"},r.createElement(u.Localize,{i18n_default_text:"Back"}))),r.createElement("div",{className:"da-self-exclusion__confirm"},r.createElement(d.Text,{className:"da-self-exclusion__confirm-header",as:"h2",size:"s",line_height:"l",weight:"bold",color:"prominent"},r.createElement(u.Localize,{i18n_default_text:"You have set the following limits:"})),null==l?void 0:l.changed_attributes.map((function(e,t){var i="";["exclude_until","timeout_until"].includes(e)?i=(0,s.toMoment)(f[e]).format("DD/MM/YYYY"):["max_deposit","max_7day_deposit","max_30day_deposit","max_total_stake","max_turnover","max_losses","max_7day_turnover","max_7day_losses","max_30day_turnover","max_30day_losses","max_balance"].includes(e)?i="".concat((0,s.formatMoney)(n,+f[e],!0)," ").concat(a):["session_duration_limit"].includes(e)?i=(0,u.localize)("{{value}} mins",{value:f[e]}):["max_open_bets"].includes(e)&&(i="".concat(f[e]));var l=0==+f[e]?"Removed":i;return r.createElement("div",{key:t,className:"da-self-exclusion__confirm-item"},r.createElement(d.Text,{as:"p",size:"xs"},o?o[e]:""),r.createElement(d.Text,{as:"p",size:"xs",align:"right",weight:"bold"},l))})),r.createElement(d.Text,{as:"p",size:"xs",align:"center",className:"da-self-exclusion__confirm-note"},i?r.createElement(u.Localize,{i18n_default_text:"You’ll be able to adjust these limits at any time. You can reduce your limits from the <0>self-exclusion page</0>. To increase or remove your limits, please contact our <1>Customer Support team</1>.",components:[r.createElement(d.Text,{key:0,size:"xs",color:"loss-danger",weight:"bold"}),r.createElement(d.StaticUrl,{key:1,className:"link link--orange",href:"/contact-us"})]}):r.createElement(u.Localize,{i18n_default_text:"We’ll update your limits. Click <0>Accept</0> to acknowledge that you are fully responsible for your actions, and we are not liable for any addiction or loss.",components:[r.createElement(d.Text,{key:0,size:"xs",weight:"bold"})]})),r.createElement(d.Text,{as:"p",size:"xs",align:"center",color:"loss-danger",className:"da-self-exclusion__error"},null==l?void 0:l.submit_error_message),i?r.createElement(d.Button,{is_loading:m,is_disabled:m,primary:!0,large:!0,type:"submit"},r.createElement(u.Localize,{i18n_default_text:"Confirm my limits"})):r.createElement(d.Button,{is_loading:m,is_disabled:m,primary:!0,large:!0,type:"submit"},r.createElement(u.Localize,{i18n_default_text:"Accept"}))))},qn=function(){var e=r.useContext(kn),t=e.footer_ref,n=e.goToConfirm,a=e.toggleArticle,o=(0,E.u6)(),i=o.dirty,l=o.isSubmitting,c=o.isValid,s=o.values;return t?(0,V.createPortal)(r.createElement(r.Fragment,null,r.createElement("a",{className:"link link--prominent",onClick:a},r.createElement(d.Text,{size:"xxs",line_height:"m",weight:"bold"},r.createElement(u.Localize,{i18n_default_text:"Learn more about trading limits"}))),r.createElement(d.Button,{disabled:!i||!c||l,primary:!0,className:"da-self-exclusion__button",large:!0,onClick:function(){return null==n?void 0:n(s)},type:"button"},r.createElement(u.Localize,{i18n_default_text:"Next"}))),t):null};function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn.apply(this,arguments)}var Yn=function(e){var t=e.title,n=e.has_border_line;return r.createElement(d.Text,{as:"h2",weight:"bold",size:(0,s.isMobile)()?"xxs":"xs",className:M()("da-self-exclusion__header",{"da-self-exclusion__header-border":n})},t)},Wn=function(){var e=r.useContext(kn),t=e.currency_display,n=e.getMaxLength,a=(0,E.u6)(),o=a.errors,i=a.handleBlur,l=a.handleChange,c=a.values;return r.createElement(r.Fragment,null,r.createElement(Yn,{title:r.createElement(u.Localize,{i18n_default_text:"Your stake and loss limits"})}),r.createElement("div",{className:"da-self-exclusion__item-wrapper"},r.createElement("div",{className:"da-self-exclusion__item"},r.createElement("h3",{className:"da-self-exclusion__item-title"},r.createElement(u.Localize,{i18n_default_text:"24 hours"})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. total stake"})),r.createElement(E.gN,{name:"max_turnover","data-testid":"dt_max_turnover"},(function(e){var a,s=e.field;return r.createElement(d.Input,Gn({},s,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:null!==(a=c.max_turnover)&&void 0!==a?a:"",onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_turnover"),required:!0,error:o.max_turnover}))})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. total loss"})),r.createElement(E.gN,{name:"max_losses"},(function(e){var a=e.field;return r.createElement(d.Input,Gn({},a,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:c.max_losses,onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_losses"),required:!0,error:o.max_losses}))}))),r.createElement("div",{className:"da-self-exclusion__item"},r.createElement("h3",{className:"da-self-exclusion__item-title"},r.createElement(u.Localize,{i18n_default_text:"7 days"})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. total stake"})),r.createElement(E.gN,{name:"max_7day_turnover"},(function(e){var a=e.field;return r.createElement(d.Input,Gn({},a,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:c.max_7day_turnover,onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_7day_turnover"),required:!0,error:o.max_7day_turnover}))})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. total loss"})),r.createElement(E.gN,{name:"max_7day_losses"},(function(e){var a=e.field;return r.createElement(d.Input,Gn({},a,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:c.max_7day_losses,onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_7day_losses"),required:!0,error:o.max_7day_losses}))}))),r.createElement("div",{className:"da-self-exclusion__item"},r.createElement("h3",{className:"da-self-exclusion__item-title"},r.createElement(u.Localize,{i18n_default_text:"30 days"})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. total stake"})),r.createElement(E.gN,{name:"max_30day_turnover"},(function(e){var a=e.field;return r.createElement(d.Input,Gn({},a,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_30day_turnover"),required:!0,error:o.max_30day_turnover}))})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. total loss"})),r.createElement(E.gN,{name:"max_30day_losses"},(function(e){var a=e.field;return r.createElement(d.Input,Gn({},a,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:c.max_30day_losses,onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_30day_losses"),required:!0,error:o.max_30day_losses}))})))))},Vn=function(){var e=r.useContext(kn),t=e.is_mlt,n=e.is_mx,a=e.is_tablet,o=e.session_duration_digits,i=(0,E.u6)(),l=i.errors,c=i.handleBlur,m=i.handleChange,f=i.setFieldValue,p=i.values,_=r.useContext(s.PlatformContext).is_appstore;return r.createElement(r.Fragment,null,r.createElement(Yn,{title:r.createElement(u.Localize,{i18n_default_text:"Your session and login limits"}),has_border_line:_}),r.createElement("div",{className:"da-self-exclusion__item-wrapper"},r.createElement("div",{className:"da-self-exclusion__item"},r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"You will be automatically logged out from each session after this time limit."})),r.createElement(E.gN,{name:"session_duration_limit"},(function(e){var t=e.field;return r.createElement(d.Input,Gn({},t,{"data-lpignore":"true",className:"da-self-exclusion__input",label:(0,u.localize)("Minutes"),value:p.session_duration_limit,onChange:m,onBlur:c,maxLength:o,required:!0,error:l.session_duration_limit}))}))),r.createElement("div",{className:"da-self-exclusion__item"},r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"You will not be able to log in to your account until this date (up to 6 weeks from today)."})),r.createElement(E.gN,{name:"timeout_until"},(function(e){var t=e.field;return r.createElement(d.DatePicker,Gn({min_date:(0,s.toMoment)().add(1,"days").format("YYYY-MM-DD"),max_date:(0,s.toMoment)().add(6,"weeks").format("YYYY-MM-DD")},t,{should_show_today:!1,className:"da-self-exclusion__input",label:(0,u.localize)("Date"),value:p.timeout_until&&(0,s.epochToMoment)(p.timeout_until),onChange:function(e){var t=e.target;return f("timeout_until",null!=t&&t.value?(0,s.toMoment)(t.value).unix():"",!0)},required:!0,readOnly:!0,error:l.timeout_until}))}))),r.createElement("div",{className:"da-self-exclusion__item"},r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Your account will be excluded from the website until this date (at least 6 months, up to 5 years)."})),r.createElement(E.gN,{name:"exclude_until"},(function(e){var t=e.field;return r.createElement(d.DatePicker,Gn({min_date:(0,s.toMoment)().add(6,"months").add(1,"days").format("YYYY-MM-DD"),max_date:(0,s.toMoment)().add(5,"years").format("YYYY-MM-DD")},t,{alignment:a?"bottom":"left",className:"da-self-exclusion__input",label:(0,u.localize)("Date"),value:p.exclude_until,onChange:function(e){var t=e.target;return f("exclude_until",null!=t&&t.value?(0,s.toMoment)(t.value).format("YYYY-MM-DD"):"",!0)},required:!0,autoComplete:"off",readOnly:!0,error:l.exclude_until}))})))),p.exclude_until&&(t||n)&&r.createElement("div",{className:"da-self-exclusion__warning"},r.createElement(d.Icon,{icon:"IcAlertWarning",className:"da-self-exclusion__warning-icon"}),r.createElement("div",{className:"da-self-exclusion__warning-textbox"},r.createElement(d.Text,{as:"p",size:"xxxs"},r.createElement(u.Localize,{i18n_default_text:"Self-exclusion on the website only applies to your {{brand_website_name}} account and does not include other companies or websites.",values:{brand_website_name:(0,s.getBrandWebsiteName)()}})),r.createElement(d.Text,{as:"p",size:"xxxs"},t?r.createElement(u.Localize,{i18n_default_text:"If you are a UK resident, to self-exclude from all online gambling companies licensed in Great Britain, go to <0>www.gamstop.co.uk</0>.",components:[r.createElement("a",{key:0,className:"da-self-exclusion__warning-link",rel:"noopener noreferrer",target:"_blank",href:"https://www.gamstop.co.uk"})]}):r.createElement(u.Localize,{i18n_default_text:"To self-exclude from all online gambling companies licensed in Great Britain, go to <0>www.gamstop.co.uk</0>.",components:[r.createElement("a",{key:0,className:"da-self-exclusion__warning-link",rel:"noopener noreferrer",target:"_blank",href:"https://www.gamstop.co.uk"})]})),r.createElement(d.Text,{as:"p",size:"xxxs"},r.createElement(u.Localize,{i18n_default_text:"For more information and assistance to counselling and support services, please visit <0>begambleaware.org</0>.",components:[r.createElement("a",{key:0,className:"da-self-exclusion__warning-link",rel:"noopener noreferrer",target:"_blank",href:"https://www.begambleaware.org"})]})))))},Un=function(){var e=r.useContext(kn),t=e.currency_display,n=e.getMaxLength,a=(0,E.u6)(),o=a.errors,i=a.handleBlur,l=a.handleChange,c=a.values,m=r.useContext(s.PlatformContext).is_appstore;return r.createElement(r.Fragment,null,r.createElement(Yn,{title:r.createElement(u.Localize,{i18n_default_text:"Your maximum account balance and open positions"}),has_border_line:m}),r.createElement("div",{className:"da-self-exclusion__item-wrapper"},r.createElement("div",{className:"da-self-exclusion__item"},r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Once your account balance reaches this amount, you will not be able to deposit funds into your account."})),r.createElement(E.gN,{name:"max_balance"},(function(e){var a=e.field;return r.createElement(d.Input,Gn({},a,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:c.max_balance,onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_balance"),required:!0,error:o.max_balance}))}))),r.createElement("div",{className:"da-self-exclusion__item"},r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Maximum open positions"})),r.createElement(E.gN,{name:"max_open_bets"},(function(e){var t=e.field;return r.createElement(d.Input,Gn({},t,{"data-lpignore":"true",className:"da-self-exclusion__input",label:(0,u.localize)("No. of open position(s)"),value:c.max_open_bets,onChange:l,onBlur:i,maxLength:null==n?void 0:n("max_open_bets"),required:!0,error:o.max_open_bets}))})))))},$n=function(){var e=r.useContext(kn),t=e.currency,n=e.is_mlt,a=e.is_mf,o=e.is_mx,i=e.getMaxLength,l=(0,E.u6)(),c=l.errors,m=l.handleBlur,f=l.handleChange,p=l.values,_=r.useContext(s.PlatformContext).is_appstore;return n||a||o?r.createElement(r.Fragment,null,r.createElement(Yn,{title:r.createElement(u.Localize,{i18n_default_text:"Your maximum deposit limit"}),has_border_line:_}),r.createElement("div",{className:"da-self-exclusion__item-wrapper"},r.createElement("div",{className:"da-self-exclusion__item"},r.createElement("h3",{className:"da-self-exclusion__item-title"},r.createElement(u.Localize,{i18n_default_text:"24 hours"})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. deposit limit"})),r.createElement(E.gN,{name:"max_deposit"},(function(e){var n=e.field;return r.createElement(d.Input,Gn({},n,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:p.max_deposit,onChange:f,onBlur:m,maxLength:null==i?void 0:i("max_deposit"),required:!0,error:c.max_deposit}))}))),r.createElement("div",{className:"da-self-exclusion__item"},r.createElement("h3",{className:"da-self-exclusion__item-title"},r.createElement(u.Localize,{i18n_default_text:"7 days"})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. deposit limit"})),r.createElement(E.gN,{name:"max_7day_deposit"},(function(e){var n=e.field;return r.createElement(d.Input,Gn({},n,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:p.max_7day_deposit,onChange:f,onBlur:m,maxLength:null==i?void 0:i("max_7day_deposit"),required:!0,error:c.max_7day_deposit}))}))),r.createElement("div",{className:"da-self-exclusion__item"},r.createElement("h3",{className:"da-self-exclusion__item-title"},r.createElement(u.Localize,{i18n_default_text:"30 days"})),r.createElement(d.Text,{as:"p",size:"xs",className:"da-self-exclusion__item-field"},r.createElement(u.Localize,{i18n_default_text:"Max. deposit limit"})),r.createElement(E.gN,{name:"max_30day_deposit"},(function(e){var n=e.field;return r.createElement(d.Input,Gn({},n,{"data-lpignore":"true",className:"da-self-exclusion__input",label:t,value:p.max_30day_deposit,onChange:f,onBlur:m,maxLength:null==i?void 0:i("max_30day_deposit"),required:!0,error:c.max_30day_deposit}))}))))):null};const Hn=function(){var e=r.useContext(s.PlatformContext).is_appstore,t=r.useContext(kn),n=t.footer_ref,a=t.goToConfirm,o=t.is_app_settings,i=(0,E.u6)(),l=i.dirty,c=i.isSubmitting,m=i.isValid,f=i.values,p={dwallet:{condition:!!e,components:[Vn,Un,$n]},app_settings:{condition:!!o,components:[Wn,Un]},deriv_app:{condition:!(e||o),components:[Wn,Vn,Un,$n]}};return r.createElement(r.Fragment,null,Object.keys(p).map((function(e,t){var n=p[e];return n.condition?r.createElement(r.Fragment,{key:"".concat(e).concat(t)},n.components.map((function(t,n){return r.createElement(t,{key:"".concat(e,"component").concat(n)})}))):null})),n?r.createElement(qn,null):r.createElement("div",{className:"da-self-exclusion__button-wrapper"},r.createElement(d.Button,{disabled:!l||!m||c,primary:!0,className:"da-self-exclusion__button",large:!0,onClick:function(){return null==a?void 0:a(f)},type:"button"},r.createElement(u.Localize,{i18n_default_text:"Next"}))))},Zn=function(){var e=a().useContext(kn),t=e.handleSubmit,n=e.state,r=e.validateFields;return a().createElement(E.J9,{initialValues:null==n?void 0:n.self_exclusions,onSubmit:t,validate:r},a().createElement(E.l0,{className:"da-self-exclusion__form",noValidate:!0},null!=n&&n.is_confirm_page?a().createElement(Rn,null):a().createElement(Hn,null)))};function Kn(){Kn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==Xn(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Jn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Xn(e){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Xn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const rr=(0,m.Pi)((function(e){var t=e.footer_ref,n=e.is_app_settings,a=e.is_appstore,o=e.overlay_ref,i=e.setIsOverlayShown,l=(0,m.oR)(),c=l.client,f=l.ui,p=c.currency,_=c.is_virtual,h=c.is_switching,y=c.standpoint,v=c.is_eu,g=c.is_uk,b=c.logout,x=c.landing_company_shortcode,E=f.is_tablet,w="malta"===x,z="maltainvest"===x,S="iom"===x,k=y.svg,O=Object.freeze({max_number:9999999999999,max_open_positions:999999999,six_weeks:60480}),L={max_deposit:(0,u.localize)("Max. deposit limit per day"),max_turnover:(0,u.localize)("Max. total stake per day"),max_losses:(0,u.localize)("Max. total loss per day"),max_7day_deposit:(0,u.localize)("Max. deposit limit over 7 days"),max_7day_turnover:(0,u.localize)("Max. total stake over 7 days"),max_7day_losses:(0,u.localize)("Max. total loss over 7 days"),max_30day_deposit:(0,u.localize)("Max. deposit limit over 30 days"),max_30day_turnover:(0,u.localize)("Max. total stake over 30 days"),max_30day_losses:(0,u.localize)("Max. total loss over 30 days"),session_duration_limit:(0,u.localize)("Time limit per session"),timeout_until:(0,u.localize)("Time out until"),exclude_until:(0,u.localize)("Excluded from {{brand_website_name}} until",{brand_website_name:(0,s.getBrandWebsiteName)()}),max_balance:(0,u.localize)("Max. account balance"),max_open_bets:(0,u.localize)("Max. open positions")},j=r.useRef(null),C=r.useRef({}),N=r.useRef({max_deposit:"",max_turnover:"",max_losses:"",max_7day_deposit:"",max_7day_turnover:"",max_7day_losses:"",max_30day_deposit:"",max_30day_turnover:"",max_30day_losses:"",session_duration_limit:"",timeout_until:"",exclude_until:"",max_balance:"",max_open_bets:""}),P=Object.freeze({changed_attributes:[],error_message:"",is_confirm_page:!1,is_loading:!0,is_success:!1,self_exclusions:N.current,show_article:!1,show_confirm:!1,submit_error_message:""}),I=(0,s.useIsMounted)(),T=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.useReducer((function(e,t){return er(er({},e),t)}),P),2),A=T[0],M=T[1];r.useEffect((function(){return _?M({is_loading:!1}):(Y(),G()),function(){M({changed_attributes:[]})}}),[]),r.useEffect((function(){j.current!==h&&(j.current=h,B(),Y(),G())}),[h]),r.useEffect((function(){null==i||i(!(null==A||!A.show_article))}),[A.show_article,i]);var B=function(){return M(P)},R=function(){var e,t=(e=Kn().mark((function e(t,n){var r,a,o,i,l,c,u,d;return Kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.setSubmitting,o=["exclude_until","timeout_until"],i=["exclude_until"],l=null===(r=A.changed_attributes)||void 0===r?void 0:r.some((function(e){return o.includes(e)})),c=function(){return new Promise((function(e){var n,r={set_self_exclusion:1};null===(n=A.changed_attributes)||void 0===n||n.forEach((function(e){r[e]=i.includes(e)?t[e]:+t[e]})),s.WS.authorized.setSelfExclusion(r).then((function(t){return e(t)}))}))},!l){e.next=16;break}if(!A.show_confirm){e.next=13;break}return e.next=9,c();case 9:(u=e.sent).error&&I()?M({show_confirm:!1,submit_error_message:u.error.message}):b(),e.next=14;break;case 13:M({show_confirm:!0});case 14:e.next=20;break;case 16:return e.next=18,c();case 18:(d=e.sent).error&&I()?M({submit_error_message:d.error.message}):(a(!1),I()&&M({show_confirm:!1,is_loading:!0,is_confirm_page:!1}),Y(),G());case 20:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Jn(o,r,a,i,l,"next",e)}function l(e){Jn(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),q=function(e){return Object.keys(e||{}).forEach((function(t){e[t]="".concat(e[t])})),e},G=function(){M({is_loading:!0}),s.WS.authorized.getSelfExclusion({get_self_exclusion:1}).then((function(e){!function(e){if(e.error&&I())M({is_loading:!1,error_message:(0,s.getPropertyValue)(e,["error","message"])});else{var t=q((0,s.getPropertyValue)(e,["get_self_exclusion"]));t.timeout_until&&(t.timeout_until=+t.timeout_until),I()&&M({is_loading:!1,self_exclusions:er(er({},N.current),t)})}}(e)}))},Y=function(){M({is_loading:!0}),s.WS.authorized.getLimits({get_limits:1}).then((function(e){C.current=e}))};if(_)return r.createElement(D.default,{has_demo_icon:a,has_button:a});if(A.is_loading||h)return r.createElement(d.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(A.error_message)return r.createElement(F.default,{error_message:A.error_message});var W=O.six_weeks,V=(0,s.getCurrencyDisplayCode)(p),U=W.toString().length,$={backFromConfirmLimits:function(){return M({is_confirm_page:!1,submit_error_message:""})},backToReview:function(){return M({show_confirm:!1})},currency:p,currency_display:V,exclusion_fields_settings:O,exclusion_limits:C,exclusion_texts:L,footer_ref:t,getMaxLength:function(e){var t,n,r,a,o=(0,s.getDecimalPlaces)(p),i=function(t){return t.toString().length+(function(e){return/session_duration_limit|max_open_bets/.test(e)}(e)||0===o?0:o+1)};return/max_open_bets/.test(e)&&null!==(t=C.current.get_limits)&&void 0!==t&&t.open_positions&&!k?i(String(C.current.get_limits.open_positions)):/max_balance/.test(e)&&null!==(n=C.current.get_limits)&&void 0!==n&&n.account_balance&&!k?i(String(C.current.get_limits.account_balance)):null===(r=A.self_exclusions)||void 0===r||!r[e]||k?/max_open_bets/.test(e)?9:i(String(O.max_number)):i(null===(a=A.self_exclusions)||void 0===a?void 0:a[e])},goToConfirm:function(e){var t=Object.keys(e).filter((function(t){var n;return e[t]!==(null===(n=A.self_exclusions)||void 0===n?void 0:n[t])}));M({changed_attributes:t,is_confirm_page:!0})},handleSubmit:R,is_app_settings:n,is_eu:v,is_mf:z,is_mlt:w,is_mx:S,is_tablet:E,is_uk:g,is_wrapper_bypassed:!1,objectValuesToString:q,overlay_ref:o,session_duration_digits:U,state:A,toggleArticle:function(){return M({show_article:!A.show_article})},validateFields:function(e){var t={},n=O.max_number,r=O.max_open_positions,a=O.six_weeks,o=(0,u.localize)("Please input number greater than 0"),i=function(e){return 0===e?1:"0.".concat(Array(e-1).fill(0).join(""),"1")};if(e.timeout_until&&(e.timeout_until<=(0,s.toMoment)().unix()?t.timeout_until=(0,u.localize)("Timeout time must be greater than current time."):e.timeout_until>(0,s.toMoment)().add(6,"week").unix()&&(t.timeout_until=(0,u.localize)("Timeout time cannot be more than 6 weeks."))),e.exclude_until&&((0,s.toMoment)(e.exclude_until).unix()<(0,s.toMoment)().unix()?t.exclude_until=(0,u.localize)("Exclude time must be after today."):(0,s.toMoment)(e.exclude_until).unix()<(0,s.toMoment)().add(6,"month").unix()?t.exclude_until=(0,u.localize)("Exclude time cannot be less than 6 months."):(0,s.toMoment)(e.exclude_until).unix()>(0,s.toMoment)().add(5,"year").unix()&&(t.exclude_until=(0,u.localize)("Exclude time cannot be for more than five years."))),["max_deposit","max_7day_deposit","max_30day_deposit","max_turnover","max_losses","max_7day_turnover","max_7day_losses","max_30day_turnover","max_30day_losses"].forEach((function(r){var a;if(e[r]){var l,c=(0,s.validNumber)(e[r],{type:"float",decimals:(0,s.getDecimalPlaces)(p),min:v?Number(i((0,s.getDecimalPlaces)(p))):0,max:Number(v&&(null===(l=A.self_exclusions)||void 0===l?void 0:l[r]))||n}),u="object"===Xn(c)?c:{is_ok:c,message:null},d=u.is_ok,m=u.message;d||(t[r]=m)}null===(a=A.self_exclusions)||void 0===a||!a[r]||e[r]||k||(t[r]=o)})),e.session_duration_limit){var l,c=(0,s.validNumber)(e.session_duration_limit,{type:"integer",min:Number(v),max:v?null===(l=A.self_exclusions)||void 0===l?void 0:l.session_duration_limit:a}),d="object"===Xn(c)?c:{is_ok:c,message:null},m=d.is_ok,f=d.message;m||(t.session_duration_limit=f),e.session_duration_limit>a&&(t.session_duration_limit=(0,u.localize)("Enter a value in minutes, up to 60480 minutes (equivalent to 6 weeks)."))}if(e.max_open_bets){var _,h=(0,s.validNumber)(e.max_open_bets,{type:"integer",min:Number(v),max:v&&(null===(_=C.current.get_limits)||void 0===_?void 0:_.open_positions)||r}),y="object"===Xn(h)?h:{is_ok:h,message:null},g=y.is_ok,b=y.message;g||(t.max_open_bets=b)}if(e.max_balance){var x,E=(0,s.validNumber)(e.max_balance,{type:"float",decimals:(0,s.getDecimalPlaces)(p),min:v?Number(i((0,s.getDecimalPlaces)(p))):0,max:v&&(null===(x=C.current.get_limits)||void 0===x?void 0:x.account_balance)||n}),w="object"===Xn(E)?E:{is_ok:E,message:null},z=w.is_ok,S=w.message;z||(t.max_balance=S)}return["max_balance","max_open_bets","session_duration_limit"].forEach((function(n){var r;null===(r=A.self_exclusions)||void 0===r||!r[n]||e[n]||k||(t[n]=o)})),t}};return r.createElement(kn.Provider,{value:$},r.createElement(Dn,null,!n&&r.createElement(An,null),r.createElement(Zn,null)),o&&A.show_article&&r.createElement(Tn,{is_in_overlay:!0}))}));function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ar.apply(this,arguments)}const or=function(e){var t=a().useContext(s.PlatformContext).is_appstore;return a().createElement(rr,ar({is_appstore:t},e))};function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cr=function(e,t){t.push(s.routes.index),e().then((function(){return window.location.href=(0,s.getStaticUrl)("/")}))},sr=function(e){var t=e.logout,n=e.history;return a().createElement("div",{className:"dc-vertical-tab__header account__logout ",onClick:function(){return cr(t,n)}},a().createElement("div",{className:"dc-vertical-tab__header-group account__logout-tab"},a().createElement(d.Text,{size:"xxs",weight:"normal"},(0,u.localize)("Log out"))))},ur=function(e){var t=e.logout,n=e.history;return a().createElement("div",{className:"dc-vertical-tab__header-account__logout-tab",onClick:function(){return cr(t,n)}},a().createElement("div",{className:"dc-vertical-tab__header-account__logout"},a().createElement(d.Icon,{icon:"IcLogout",className:"dc-vertical-tab__header-account__logout--icon"}),a().createElement(d.Text,{size:"xs",weight:"bold"},(0,u.localize)("Log out"))))},dr=function(e){var t=e.is_from_derivgo,n=e.is_appstore,r=e.list_groups,o=e.logout,i=e.onClickClose,l=e.selected_route,c=e.subroutes,m=e.history,f=function(){return m.push(s.routes.traders_hub)};return(0,s.isMobile)()&&l?a().createElement(d.PageOverlay,{header:l.getTitle(),onClickClose:f,is_from_app:t},a().createElement(l.component,{component_icon:l.icon_component})):n?a().createElement(d.VerticalTab,{title:l.getTitle(),onClickClose:i,is_collapsible:!1,is_grid:!0,is_floating:!0,className:"dashboard",current_path:location.pathname,is_routed:!0,is_full_width:!0,list:c,list_groups:r,extra_content:n&&a().createElement(sr,{logout:o,history:m})}):a().createElement(d.PageOverlay,{header:(0,u.localize)("Settings"),onClickClose:f,is_from_app:t},a().createElement(d.VerticalTab,{is_floating:!0,current_path:location.pathname,is_routed:!0,is_full_width:!0,list:c,list_groups:r,extra_content:a().createElement(ur,{logout:o,history:m})}))},mr=(0,m.Pi)((function(e){var t,n,r=e.history,o=e.location,i=e.routes,l=(0,m.oR)(),c=l.client,u=l.common,f=l.ui,p=c.is_virtual,_=c.is_logged_in,h=c.is_logging_in,y=c.is_risky_client,v=c.is_pending_proof_of_ownership,g=c.landing_company_shortcode,b=c.should_allow_authentication,x=c.logout,E=u.is_from_derivgo,w=u.routeBackInApp,z=u.platform,S=f.toggleAccountSettings,k=f.is_account_settings_visible,O=a().useContext(s.PlatformContext).is_appstore,L=(t=i.map((function(e){return e.subroutes})),(n=[]).concat.apply(n,function(e){return function(e){if(Array.isArray(e))return ir(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t))),j=function(e){return function(e){if(Array.isArray(e))return lr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i);j=j.map((function(e){return{icon:e.icon,label:e.getTitle(),subitems:e.subroutes.map((function(e){return L.indexOf(e)}))}}));var C=L.find((function(e){return(0,s.matchRoute)(e,o.pathname)})),N=a().useCallback((function(){return w(r)}),[w,r]);if(a().useEffect((function(){S(!0)}),[S]),i.forEach((function(e){e.subroutes.forEach((function(e){e.path===s.routes.financial_assessment&&(e.is_disabled=p||"maltainvest"===g&&!y),e.path===s.routes.trading_assessment&&(e.is_disabled=p||"maltainvest"!==g),e.path!==s.routes.proof_of_identity&&e.path!==s.routes.proof_of_address||(e.is_disabled=!b),e.path===s.routes.proof_of_ownership&&(e.is_disabled=p||!v)}))})),C||(C=L[0],r.push(s.routes.personal_details)),!_&&h)return a().createElement(d.Loading,{is_fullscreen:!0,className:"account__initial-loader"});var P=(0,s.getSelectedRoute)({routes:L,pathname:o.pathname});return a().createElement(d.FadeWrapper,{is_visible:k,className:"account-page-wrapper",keyname:"account-page-wrapper"},a().createElement("div",{className:"account"},a().createElement(dr,{is_from_derivgo:E,is_appstore:O,list_groups:j,logout:x,onClickClose:N,platform:z,selected_route:P,subroutes:L,history:r})))}));mr.propTypes={active_account_landing_company:i().string,history:i().object,location:i().object,routes:i().arrayOf(i().object)};const fr=(0,c.withRouter)(mr),pr=(0,m.Pi)((function(e){var t=e.redirectToReasons,n=(0,m.oR)().common.is_from_derivgo,r=a().useContext(s.PlatformContext).is_appstore;return a().createElement("div",null,a().createElement("div",{className:"closing-account__information"},a().createElement(d.Text,{size:"xs",weight:"bold",className:"closing-account__information--bold",as:"p"},a().createElement(u.Localize,{i18n_default_text:"Are you sure?"}))),a().createElement("div",{className:"closing-account__steps"},a().createElement(d.Text,{size:"xs",as:"p",className:"closing-account__title"},a().createElement(u.Localize,{i18n_default_text:"If you close your account:"})),a().createElement("ul",null,a().createElement("li",null,(0,u.localize)("You can't trade on Deriv.")),a().createElement("li",null,(0,u.localize)("You can't make transactions.")))),a().createElement("div",{className:"closing-account__steps"},a().createElement(d.Text,{size:"xs",as:"p",line_height:"s",className:"closing-account__title"},a().createElement(u.Localize,{i18n_default_text:"Before closing your account:"})),a().createElement("ul",null,a().createElement("li",null,(0,u.localize)("Close all your positions.")),a().createElement("li",null,(0,u.localize)("Withdraw your funds.")))),a().createElement("div",{className:"closing-account__steps"},a().createElement(d.Text,{size:"xs",as:"p",line_height:"s"},a().createElement(u.Localize,{i18n_default_text:"We shall delete your personal information as soon as our legal obligations are met, as mentioned in the section on Data Retention in our <0>Security and privacy policy</0>",components:[a().createElement(d.StaticUrl,{key:0,className:"link",href:"tnc/security-and-privacy.pdf",is_document:!0})]}))),n?a().createElement("div",{className:"closing-account__buttons-container"},a().createElement(d.Button,{className:M()("closing-account__button--close-account",{"closing-account__button--dashboard":r}),large:!0,onClick:function(){return t()},primary:!0},a().createElement(u.Localize,{i18n_default_text:"Close my account"}))):a().createElement("div",{className:"closing-account__buttons-container"},a().createElement(c.Link,{to:"/"},a().createElement(d.Button,{className:M()("closing-account__button--cancel",{"closing-account__button--dashboard":r}),large:!0,secondary:!0},a().createElement(u.Localize,{i18n_default_text:"Cancel"}))),a().createElement(d.Button,{className:M()("closing-account__button--close-account",{"closing-account__button--dashboard":r}),large:!0,onClick:function(){return t()},primary:!0},a().createElement(u.Localize,{i18n_default_text:"Close my account"}))))}));function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}function hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(n),!0).forEach((function(t){vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==_r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_r(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr=function(e,t){return e.find((function(e){return e.loginid===t}))},br=function(e,t){return e.find((function(e){return e.login===t}))},xr=function(e,t){return e.find((function(e){return e.account_id===t}))},Er=function(e){var t=e.children,n=e.title,r=e.desc;return a().createElement("div",{className:"closing-account-error"},a().createElement(d.Text,{as:"p",line_height:"s",size:"xs",weight:"bold",color:"prominent",className:"closing-account-error__title"},n),r&&a().createElement(d.Text,{as:"p",size:"xxs",className:"closing-account-error__description"},r),a().createElement("div",{className:"closing-account-error__wrapper"},t))},wr=function(e){var t=e.currency_icon,n=e.loginid,r=e.title,o=e.value;return a().createElement("div",{className:"closing-account-error__container"},a().createElement("div",{className:"closing-account-error__account-details"},a().createElement(d.Icon,{icon:t,size:24}),a().createElement("div",{className:"closing-account-error__account"},a().createElement(d.Text,{line_height:"s",color:"prominent",size:"xs"},r),a().createElement(d.Text,{color:"prominent",size:"xxxs",line_height:"xs"},n))),a().createElement(d.Text,{className:"closing-account-error__details",color:"prominent",size:"xs",line_height:"s",align:"right"},o))};const zr=function(e){var t=e.details,n=e.mt5_login_list,r=e.dxtrade_accounts_list,o=e.client_accounts,i=e.onBackClick,l=e.is_eu,c=[],m=[],f=[],p=[],_=[],h=[],y=[];return t.pending_withdrawals&&Object.keys(t.pending_withdrawals).forEach((function(e){var n={withdrawals:t.pending_withdrawals[e]},r=gr(o,e);r&&_.push(yr(yr({},r),n))})),t.open_positions&&Object.keys(t.open_positions).forEach((function(e){var a={positions:t.open_positions[e]},i=gr(o,e);if(i)c.push(yr(yr({},i),a));else{var l=br(n,e);l&&f.push(yr(yr({},l),a));var s=xr(r,e);s&&h.push(yr(yr({},s),a))}})),t.balance&&Object.keys(t.balance).forEach((function(e){var a={balance:t.balance[e].balance,currency:t.balance[e].currency},i=gr(o,e);if(i)m.push(yr(yr({},i),a));else{var l=br(n,e);l&&p.push(yr(yr({},l),a));var c=xr(r,e);c&&y.push(yr(yr({},c),a))}})),a().createElement(a().Fragment,null,a().createElement(d.ThemedScrollbars,{autohide:!1,width:"43rem"},!!c.length&&a().createElement(Er,{title:(0,u.localize)("Please close your positions in the following Deriv account(s):")},c.map((function(e){return a().createElement(wr,{key:e.loginid,currency_icon:"IcCurrency-".concat(e.icon),loginid:e.loginid,title:e.title,value:a().createElement(u.Localize,{i18n_default_text:"{{number_of_positions}} position(s)",values:{number_of_positions:e.positions}})})}))),!!m.length&&a().createElement(Er,{title:(0,u.localize)("Please withdraw your funds from the following Deriv account(s):")},m.map((function(e){return a().createElement(wr,{key:e.loginid,currency_icon:"IcCurrency-".concat(e.icon),loginid:e.loginid,title:e.title,value:a().createElement(d.Money,{currency:e.currency,amount:(0,s.formatMoney)(e.currency,e.balance,!0),should_format:!1})})}))),!!f.length&&a().createElement(Er,{title:(0,u.localize)("Please close your positions in the following Deriv MT5 account(s):")},f.map((function(e){return a().createElement(wr,{key:e.login,currency_icon:"IcMt5-".concat((0,s.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.MT5,is_eu:l})),loginid:e.display_login,title:(0,s.getCFDAccountDisplay)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.MT5,is_eu:l}),value:a().createElement(u.Localize,{i18n_default_text:"{{number_of_positions}} position(s)",values:{number_of_positions:e.positions}})})}))),!!p.length&&a().createElement(Er,{title:(0,u.localize)("Please withdraw your funds from the following Deriv MT5 account(s):")},p.map((function(e){return a().createElement(wr,{key:e.login,currency_icon:"IcMt5-".concat((0,s.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.MT5,is_eu:l})),loginid:e.display_login,title:(0,s.getCFDAccountDisplay)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.MT5,is_eu:l}),value:a().createElement(d.Money,{currency:e.currency,amount:(0,s.formatMoney)(e.currency,e.balance,!0),should_format:!1})})}))),!!h.length&&a().createElement(Er,{title:(0,u.localize)("Please close your positions in the following Deriv X account(s):")},h.map((function(e){return a().createElement(wr,{key:e.login,currency_icon:"IcDxtrade-".concat((0,s.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.DXTRADE,is_eu:l})),loginid:e.display_login,title:(0,s.getCFDAccountDisplay)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.DXTRADE,is_eu:l}),value:a().createElement(u.Localize,{i18n_default_text:"{{number_of_positions}} position(s)",values:{number_of_positions:e.positions}})})}))),!!y.length&&a().createElement(Er,{title:(0,u.localize)("Please withdraw your funds from the following Deriv X account(s):")},y.map((function(e){return a().createElement(wr,{key:e.login,currency_icon:"IcDxtrade-".concat((0,s.getCFDAccount)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.DXTRADE,is_eu:l})),loginid:e.display_login,title:(0,s.getCFDAccountDisplay)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:s.CFD_PLATFORMS.DXTRADE,is_eu:l}),value:a().createElement(d.Money,{currency:e.currency,amount:(0,s.formatMoney)(e.currency,e.balance,!0),should_format:!1})})}))),!!_.length&&a().createElement(Er,{title:(0,u.localize)("Pending withdrawal request:"),desc:a().createElement(u.Localize,{i18n_default_text:"We are still processing your withdrawal request.<0 />Please wait for the transaction to be completed before deactivating your account.",components:[a().createElement("br",{key:0})]})},_.map((function(e){return a().createElement(wr,{key:e.loginid,currency_icon:"IcCurrency-".concat(e.icon),loginid:e.loginid,title:e.title,value:a().createElement(u.Localize,{i18n_default_text:"{{pending_withdrawals}} pending withdrawal(s)",values:{pending_withdrawals:e.withdrawals}})})})))),a().createElement("div",null,a().createElement(d.Button,{className:"closing-account-error__button",primary:!0,onClick:i},(0,u.localize)("OK"))))};function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kr(){return kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kr.apply(this,arguments)}var Or={"financial-priorities":!1,"stop-trading":!1,"not-interested":!1,"another-website":!1,"not-user-friendly":!1,"difficult-transactions":!1,"lack-of-features":!1,"unsatisfactory-service":!1,"other-reasons":!1,other_trading_platforms:"",do_to_improve:""};const Lr=function(e){var t=e.validateFields,n=e.onSubmit,r=e.is_checkbox_disabled,o=e.onChangeCheckbox,i=e.character_limit_no,l=e.onInputChange,c=e.onInputPaste,m=e.remaining_characters,f=e.onBackClick,p=a().useContext(s.PlatformContext).is_appstore;return a().createElement(E.J9,{initialValues:Or,validate:t,onSubmit:n},(function(e){var t=e.values,n=e.setFieldValue,s=e.errors,_=e.handleChange,h=e.handleSubmit,y=e.dirty;return a().createElement("form",{onSubmit:h},a().createElement(E.gN,{name:"financial-priorities"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("I have other financial priorities."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"stop-trading"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("I want to stop myself from trading."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"not-interested"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("I’m no longer interested in trading."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"another-website"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("I prefer another trading website."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"not-user-friendly"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("The platforms aren’t user-friendly."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"difficult-transactions"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("Making deposits and withdrawals is difficult."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"lack-of-features"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("The platforms lack key features or functionality."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"unsatisfactory-service"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("Customer service was unsatisfactory."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"other-reasons"},(function(e){var i=e.field;return a().createElement(d.Checkbox,kr({disabled:r&&!t[i.name],className:"closing-account-reasons__checkbox"},i,{label:(0,u.localize)("I’m closing my account for other reasons."),onChange:function(){o(t,i.name,n)}}))})),a().createElement(E.gN,{name:"other_trading_platforms"},(function(e){var n=e.field;return a().createElement(d.Input,kr({},n,{className:"closing-account-reasons__input","data-lpignore":"true",autoComplete:"off",type:"textarea",placeholder:(0,u.localize)("If you don’t mind sharing, which other trading platforms do you use?"),name:"other_trading_platforms",value:t.other_trading_platforms,max_characters:i,onChange:function(e){return l(e,t.other_trading_platforms,_)},onPaste:c}))})),a().createElement(E.gN,{name:"do_to_improve"},(function(e){var n=e.field;return a().createElement(d.Input,kr({},n,{className:"closing-account-reasons__input","data-lpignore":"true",autoComplete:"off",type:"textarea",placeholder:(0,u.localize)("What could we do to improve?"),name:"do_to_improve",value:t.do_to_improve,max_characters:i,onChange:function(e){return l(e,t.do_to_improve,_)},onPaste:c}))})),a().createElement("div",{className:"closing-account-reasons__footer"},a().createElement("div",{className:"closing-account-reasons__hint-wrapper"},a().createElement(d.Text,{size:"xxs",as:"p",color:"less-prominent",className:"closing-account-reasons__hint"},(0,u.localize)("Remaining characters: {{remaining_characters}}",{remaining_characters:m})),Object.keys(s).length>0&&Object.entries(s).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],r=t[1];return a().createElement(d.Text,{as:"p",weight:"bold",size:"xs",color:p?"blue":"loss-danger",className:"closing-account-reasons__error",key:n},r)}))),a().createElement(d.FormSubmitButton,{is_disabled:!y||Object.keys(s).length>0,label:(0,u.localize)("Continue"),has_cancel:!0,cancel_label:(0,u.localize)("Back"),onCancel:f})))}))};function jr(e){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(e)}function Cr(){Cr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==jr(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Nr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ir(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tr=function(e){var t=Ar(e).map((function(e){return e[0]})).toString(),n=!!e.other_trading_platforms.length,r=!!e.do_to_improve.length;return n&&(t="".concat(t,", ").concat(e.other_trading_platforms)),r&&(t="".concat(t,", ").concat(e.do_to_improve)),t.replace(/(\r\n|\n|\r)/gm," ")},Ar=function(e){return Object.entries(e).filter((function(e){var t=Pr(e,2),n=t[0],r=t[1];return!["other_trading_platforms","do_to_improve"].includes(n)&&r}))},Mr=function(e){return a().createElement("div",{className:"account-closure-warning-modal"},a().createElement(d.Icon,{icon:"IcRedWarning",size:96}),a().createElement(d.Text,{size:"xs",line_height:"x",weight:"bold",className:"account-closure-warning-modal__warning-message"},(0,u.localize)("Close your account?")),a().createElement("div",{className:"account-closure-warning-modal__content-wrapper"},a().createElement(d.Text,{as:"p",align:"center",className:"account-closure-warning-modal__content"},(0,u.localize)("Closing your account will automatically log you out. We shall delete your personal information as soon as our legal obligations are met."))),a().createElement(d.FormSubmitButton,{is_disabled:!1,label:(0,u.localize)("Close account"),className:"account-closure-warning-modal__close-account-button",has_cancel:!0,cancel_label:(0,u.localize)("Go Back"),onClick:function(){return e.startDeactivating()},onCancel:function(){return e.closeModal()}}))},Fr=function(e){var t=e.message,n=e.onClick;return a().createElement(a().Fragment,null,a().createElement("div",{className:"closing-account-error__container closing-account-error__container-message"},a().createElement("div",{className:"closing-account-error__details closing-account-error__details-message"},t)),a().createElement("div",null,a().createElement(d.Button,{className:"closing-account-error__button",primary:!0,onClick:n},(0,u.localize)("OK"))))},Dr=110;const Br=(0,m.Pi)((function(e){var t=e.onBackClick,n=(0,m.oR)().client,r=n.dxtrade_accounts_list,o=n.mt5_login_list,i=n.account_list,l=a().useContext(s.PlatformContext).is_appstore,f=Pr(a().useState(!1),2),p=f[0],_=f[1],h=Pr(a().useState(!1),2),y=h[0],v=h[1],g=Pr(a().useState(!1),2),b=g[0],x=g[1],E=Pr(a().useState(),2),w=E[0],z=E[1],S=Pr(a().useState(null),2),k=S[0],O=S[1],L=Pr(a().useState(!1),2),j=L[0],C=L[1],N=Pr(a().useState(0),2),P=N[0],I=N[1],T=Pr(a().useState(Dr),2),A=T[0],F=T[1],D=Pr(a().useState(0),2),B=D[0],R=D[1],q=Pr(a().useState(""),2),G=q[0],Y=q[1],W=Pr(a().useState(),2),V=W[0],U=W[1];a().useEffect((function(){3===P?C(!0):j&&C(!1)}),[P]);var $=function(){var e,t=(e=Cr().mark((function e(){var t,n,r,a,o;return Cr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),v(!0),e.next=4,s.WS.authorized.accountClosure({account_closure:1,reason:k});case 4:1===(t=e.sent).account_closure?_(!0):(n=t.error,r=n.code,a=n.message,o=n.details,z("AccountHasPendingConditions"===r?"AccountHasPendingConditions":"MT5AccountInaccessible"===r?"inaccessible_modal":"error_modal"),U(o),Y(a),x(!0),v(!1));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Nr(o,r,a,i,l,"next",e)}function l(e){Nr(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return p?a().createElement(c.Redirect,{to:s.routes.account_closed}):y?a().createElement(d.Loading,{is_fullscreen:!1}):a().createElement("div",{className:M()("closing-account-reasons",{"closing-account-reasons--dashboard":l})},a().createElement(d.Text,{weight:"bold",size:"xs",className:"closing-account-reasons__title",as:"p"},(0,u.localize)("Please tell us why you’re leaving. (Select up to {{ allowed_reasons }} reasons.)",{allowed_reasons:3})),a().createElement(Lr,{validateFields:function(e){var t={},n=Ar(e).length,r=(e.other_trading_platforms+e.do_to_improve).length,a=Dr-r;if(n){var o=Tr(e);a=a>=0?a:0,/^[ a-zA-Z0-9.,'-\s]*$/.test(o)||(t.characters_limits=(0,u.localize)("Must be numbers, letters, and special characters . , ' -"))}else t.empty_reason=(0,u.localize)("Please select at least one reason");return R(r),F(a),t},onSubmit:function(e){var t=Tr(e);x(!0),z("warning_modal"),O(t)},is_checkbox_disabled:j,onChangeCheckbox:function(e,t,n){e[t]?(I(P-1),n(t,!e[t])):(I(P+1),n(t,!e[t]))},character_limit_no:Dr,onInputChange:function(e,t,n){var r=e.target.value,a=t.length>r.length;(A<=0||B>=Dr)&&!a?e.preventDefault():n(e)},onInputPaste:function(e){var t=(e.clipboardData||window.clipboardData).getData("text");(A<=0||t.length>A)&&e.preventDefault()},remaining_characters:A,onBackClick:t}),a().createElement(d.Modal,{className:"closing-account-reasons",is_open:b,toggleModal:function(){return x(!b)},title:"error_modal"===w?(0,u.localize)("An error occurred"):"inaccessible_modal"===w?(0,u.localize)("Inaccessible MT5 account(s)"):"warning_modal"!==w?(0,u.localize)("Action required"):void 0},"warning_modal"===w&&a().createElement(Mr,{closeModal:function(){return x(!1)},startDeactivating:$}),"AccountHasPendingConditions"===w&&a().createElement(zr,{details:V,mt5_login_list:o,client_accounts:i,dxtrade_accounts_list:r,onBackClick:t}),"inaccessible_modal"===w&&a().createElement(Fr,{message:G,onClick:function(){return x(!1)}})))}));function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const qr=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)(!1),2),t=e[0],n=e[1];return a().createElement("div",{className:"closing-account"},t?a().createElement(Br,{onBackClick:function(){n(!1)}}):a().createElement(pr,{redirectToReasons:function(){n(!0)}}))};var Gr=function(){window.open("https://community.deriv.com/t/api-tokens-managing-access-on-third-party-applications-and-mobile-apps/29159","_blank","noopener")};const Yr=function(){return a().createElement(B,{className:"connected-apps__article",title:(0,u.localize)("Want to know more about APIs?"),descriptions:[a().createElement(u.Localize,{key:0,i18n_default_text:"Go to our Deriv community and learn about APIs, API tokens, ways to use Deriv APIs, and more."})],onClickLearnMore:Gr})};var Wr=n("./Components/error-component/index.js"),Vr=function(){return{read:(0,u.localize)("Read"),trade:(0,u.localize)("Trade"),trading_information:(0,u.localize)("Trading information"),payments:(0,u.localize)("Payments"),admin:(0,u.localize)("Admin")}};const Ur=function(e){return[{title:(0,u.localize)("Name"),col_index:"name",renderCellContent:function(e){var t=e.cell_value;return a().createElement(d.Text,{size:"xs",className:"name__content"},t)}},{title:(0,u.localize)("Permission"),col_index:"scopes",renderCellContent:function(e){return function(e){var t=[];e.includes("trading_information")?(t=e.filter((function(e){return"trading_information"!==e}))).push("trading_information"):t=e;var n=[];return t.forEach((function(t,r){e.length-1!==r?n.push("".concat(Vr()[t],", ")):n.push(Vr()[t])})),a().createElement("div",null,n)}(e.cell_value)}},{title:(0,u.localize)("Last login"),col_index:"last_used",renderCellContent:function(e){return function(e){return a().createElement(d.Text,{as:"p",size:"xs",className:"last_used_content"},(0,s.toMoment)(e).format("YYYY-MM-DD HH:mm:ss"))}(e.cell_value)}},{title:(0,u.localize)("Action"),col_index:"app_id",renderCellContent:function(t){return function(e,t){return a().createElement(d.Button,{className:"revoke_access",small:!0,secondary:!0,onClick:function(){return t(e)}},(0,u.localize)("Revoke access"))}(t.cell_value,e)}}]};function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function Hr(){Hr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==$r(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Zr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zr(o,r,a,i,l,"next",e)}function l(e){Zr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Qr=function(){var e=a().useContext(s.PlatformContext).is_appstore,t=Jr(a().useState(!0),2),n=t[0],r=t[1],o=Jr(a().useState(!1),2),i=o[0],l=o[1],c=Jr(a().useState(null),2),m=c[0],f=c[1],p=Jr(a().useState(!1),2),_=p[0],h=p[1],y=Jr(a().useState([]),2),v=y[0],g=y[1];a().useEffect((function(){b().catch((function(e){return console.error("error: ",e)}))}),[]);var b=function(){var e=Kr(Hr().mark((function e(){var t;return Hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.WS.authorized.send({oauth_apps:1});case 2:(t=e.sent).error||(r(!1),g(t.oauth_apps));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=a().useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;l(!i),f(e)}),[i]),E=a().useMemo((function(){return Ur((function(e){return x(e)})).reduce((function(e,t){return e[t.col_index]=t,e}),{})}),[x]),w=a().useCallback((function(t){var n=t.row;return a().createElement("div",{className:"data-list__row"},a().createElement("div",{className:"data-list__col"},a().createElement(d.DataList.Cell,{row:n,column:E.name}),a().createElement(d.DataList.Cell,{row:n,column:E.scopes})),a().createElement("div",{className:e?"data-list__col--dashboard":"data-list__col--small"},a().createElement(d.DataList.Cell,{row:n,column:E.last_used}),a().createElement(d.DataList.Cell,{row:n,column:E.app_id,is_footer:!e})))}),[E,e]),z=a().useCallback(function(){var e=Kr(Hr().mark((function e(t){return Hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,s.WS.authorized.send({revoke_oauth_app:t});case 3:e.sent.error?h(!0):b().catch((function(e){return console.error("error: ",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),S=a().useCallback((function(){l(!1),z(m)}),[z,m]);return a().createElement("section",{className:M()("connected-apps__wrapper",{"connected-apps__wrapper--dashboard":e})},a().createElement(d.Text,{color:"prominent",weight:"bold",as:"p",className:"connected-apps__title"},(0,u.localize)("Authorised applications")),_&&a().createElement(Wr.default,null),a().createElement("div",{className:M()("connected-apps__container","connected-apps__wrapper",{"connected-apps__wrapper--dashboard":e})},n?a().createElement(d.Loading,{is_fullscreen:!1}):a().createElement(a().Fragment,null,a().createElement(d.DesktopWrapper,null,a().createElement(d.DataTable,{className:"connected-apps",data_source:v,columns:Ur(x)})),a().createElement(d.MobileWrapper,null,a().createElement(d.DataList,{className:"connected-apps",data_source:v,row_gap:e?16:10,rowRenderer:w}))),!n&&!!v.length&&a().createElement(Yr,null)),a().createElement(d.Modal,{is_open:i,className:"connected-apps",toggleModal:x},a().createElement(d.Modal.Body,null,a().createElement("div",{className:"connected-app-modal"},a().createElement(d.Icon,{icon:e?"IcAccountTrashCanDashboard":"IcAccountTrashCan",size:128,className:"connected-app-modal__icon"}),a().createElement(d.Text,{as:"p",color:"prominent",weight:"bold"},(0,u.localize)("Confirm revoke access?")),a().createElement("div",{className:M()("connected-app-modal__confirmation",{"connected-app-modal__confirmation-dashboard":e})},a().createElement(d.Button,{secondary:!0,onClick:x},(0,u.localize)("Back")),a().createElement(d.Button,{primary:!0,onClick:S},(0,u.localize)("Confirm")))))))};var ea=n("../../../node_modules/bowser/es5.js"),ta=n.n(ea),na=n("../../../node_modules/moment/moment.js"),ra=n.n(na);function aa(e){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(e)}function oa(){oa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==aa(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ia(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ca(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sa(){sa=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,a){var o=new RegExp(e,r);return t.set(o,a||t.get(e)),ua(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var a=r[n];if("number"==typeof a)t[n]=e[a];else{for(var o=0;void 0===e[a[o]]&&o+1<a.length;)o++;t[n]=e[a[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ua(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=r(n,this);var a=n.indices;a&&(a.groups=r(a,this))}return n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var o=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof a){var i=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=aa(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,i)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},sa.apply(this,arguments)}function ua(e,t){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ua(e,t)}var da=function(e){for(var t=[],n=Math.min(50,e.length),r=0;r<n;r++){var a;t[r]={};var o=e[r].environment,i=o.split(" "),l=o.match(sa(/([0-9a-zA-Z-]+\s[0-9:]+GMT)[\s](IP=)([\w:.]+)\sIP_COUNTRY=(([a-zA-Z]{2}))\s(User_AGENT=)(\w.*)(iPhone|Android)([\W\w]+)\s(Deriv P2P|Deriv GO)([\w\W]+)\s(LANG=)([\w]{2})/,{date:1,ip:3,country:4,name:8,app:10,version:11})),c=i[0],s=i[1].replace("GMT"," GMT");t[r].date="".concat(ra()(c).format("YYYY-MM-DD")," ").concat(s),t[r].action="login"===e[r].action?(0,u.localize)("Login"):(0,u.localize)("Logout");var d=o.substring(o.indexOf("User_AGENT"),o.indexOf("LANG")),m=l?l.groups:null===(a=ta().getParser(d))||void 0===a?void 0:a.getBrowser();t[r].browser=m?"".concat(m.name," ").concat(m.app||""," v").concat(m.version):(0,u.localize)("Unknown"),t[r].ip=i[2].split("=")[1],t[r].status=1===e[r].status?(0,u.localize)("Successful"):(0,u.localize)("Failed"),t[r].id=r}return t},ma=function(){return{date:(0,u.localize)("Date and time"),action:(0,u.localize)("Action"),browser:(0,u.localize)("Browser"),ip:(0,u.localize)("IP address"),status:(0,u.localize)("Status")}},fa=function(e){var t=e.data,n=a().useContext(s.PlatformContext).is_appstore;return(0,s.isMobile)()?_a(ma(),t,n):pa(ma(),t)},pa=function(e,t){return a().createElement(d.Table,{fixed:!0,className:"login-history__table"},a().createElement(d.Table.Header,null,a().createElement(d.Table.Row,{className:"login-history__table__header"},a().createElement(d.Table.Head,null,e.date),a().createElement(d.Table.Head,null,e.action),a().createElement(d.Table.Head,null,e.browser),a().createElement(d.Table.Head,null,e.ip),a().createElement(d.Table.Head,null,e.status))),a().createElement(d.Table.Body,null,t.map((function(e){return a().createElement(d.Table.Row,{className:"login-history__table__row",key:e.id},a().createElement(d.Table.Cell,null,a().createElement(d.Text,{line_height:"xs",size:"xs"},e.date)),a().createElement(d.Table.Cell,{className:"login-history__table__row__cell login-history__table__row__cell--action"},e.action),a().createElement(d.Table.Cell,null,e.browser),a().createElement(d.Table.Cell,null,e.ip),a().createElement(d.Table.Cell,null,e.status))}))))},_a=function(e,t,n){return a().createElement(d.Table,{className:"login-history__list"},a().createElement(d.Table.Body,null,t.map((function(t){return a().createElement("div",{className:M()("login-history__list__wrapper",{"login-history__list__wrapper--dashboard":n}),key:t.id},a().createElement(d.Table.Row,{className:"login-history__list__row login-history__list__row--with-margin"},a().createElement(d.Table.Cell,{className:"login-history__list__row__cell"},a().createElement(ha,{title:e.date,text:t.date})),n&&(0,s.isMobile)()&&a().createElement(d.Table.Cell,{className:"login-history__list__row__cell"},a().createElement(ha,{className:"login-history__list__row__cell--action",title:e.action,text:t.action,right:!0}))),a().createElement(d.Table.Row,{className:"login-history__list__row login-history__list__row--with-margin"},a().createElement(d.Table.Cell,{className:"login-history__list__row__cell"},a().createElement(ha,{className:"login-history__list__row__cell--browser",title:e.browser,text:t.browser})),n&&(0,s.isMobile)()?a().createElement(d.Table.Cell,{className:"login-history__list__row__cell"},a().createElement(ha,{title:e.status,text:t.status,right:!0})):a().createElement(d.Table.Cell,{className:"login-history__list__row__cell"},a().createElement(ha,{className:"login-history__list__row__cell--action",title:e.action,text:t.action}))),a().createElement(d.Table.Row,{className:"login-history__list__row"},a().createElement(d.Table.Cell,{className:"login-history__list__row__cell"},a().createElement(ha,{className:"login-history__list__row__cell--ip-value",title:e.ip,text:t.ip})),!n||(0,s.isDesktop)()&&a().createElement(d.Table.Cell,{className:"login-history__list__row__cell"},a().createElement(ha,{title:e.status,text:t.status}))))}))))},ha=function(e){var t=e.title,n=e.text,r=e.className,o=e.right;return a().createElement(a().Fragment,null,a().createElement(d.Text,{as:"h3",align:o?"right":"left",weight:"bold",className:"login-history__list__row__cell--title"},t),a().createElement(d.Text,{className:M()(r,{"login-history__list__row__cell--right":o}),line_height:"xs",size:"xs",align:o?"right":"left"},n))};const ya=(0,m.Pi)((function(){var e=(0,m.oR)().client.is_switching,t=la(a().useState(!0),2),n=t[0],r=t[1],o=la(a().useState(""),2),i=o[0],l=o[1],c=la(a().useState([]),2),u=c[0],f=c[1];return a().useEffect((function(){var e=function(){var e,t=(e=oa().mark((function e(){var t,n;return oa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.WS.authorized.fetchLoginHistory(50);case 2:t=e.sent,r(!1),t.error?l(t.error.message):(n=da(t.login_history),f(n));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ia(o,r,a,i,l,"next",e)}function l(e){ia(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),e?a().createElement(d.Loading,null):n?a().createElement(d.Loading,{is_fullscreen:!1,className:"account__initial-loader"}):i?a().createElement(F.default,{error_message:i}):a().createElement(d.ThemedScrollbars,{is_bypassed:(0,s.isMobile)(),className:"login-history"},u.length?a().createElement(fa,{data:u}):null)}));function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ba=(0,m.Pi)((function(){var e=(0,m.oR)().client.logout,t=va(a().useState(!0),2),n=t[0],r=t[1],o=va(a().useState(10),2),i=o[0],l=o[1],c=a().useContext(s.PlatformContext).is_appstore,f=a().useCallback((function(){i>0?l(i-1):window.location.href=(0,s.getStaticUrl)("/",{is_appstore:c})}),[c,i]);return a().useEffect((function(){window.history.pushState(null,"","/"),e();var t=setInterval((function(){return f()}),1e3);return function(){t&&clearInterval(t)}}),[i,n,e,f]),a().createElement(d.Modal,{is_open:n,toggleModal:function(){r(!n)}},a().createElement(d.Text,{as:"p",className:"account-closed"},a().createElement(u.Localize,{i18n_default_text:"We’re sorry to see you leave. Your account is now closed."})," ",i))})),xa=function(){return a().createElement(c.Redirect,{to:s.routes.closing_account})};var Ea=n("../../../node_modules/react-i18next/dist/es/useTranslation.js");const wa=function(e){var t=e.is_current_language,n=e.id,r=e.language_code,o=e.name,i=e.onChange,l=(0,u.getAllowedLanguages)();return a().createElement("div",{className:M()("settings-language__language-link",{"settings-language__language-link--active":t}),id:"dt_settings_".concat(r,"_button"),"data-testid":"dt_language_settings_button"},a().createElement("input",{type:"radio",id:n,name:o,onChange:i,value:r,className:"settings-language__language--radio-button"}),a().createElement("label",{htmlFor:n,className:"settings-language__language--center-label"},a().createElement("div",null,a().createElement(d.Icon,{icon:"IcFlag".concat(n.replace("_","-")),className:"settings-language__language-link-flag settings-language__language-flag"})),a().createElement("div",null,a().createElement(d.Text,{size:"xs",className:M()("settings-language__language-name",{"settings-language__language-name--active":t})},l[r]))))};function za(e){return za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},za(e)}function Sa(){Sa=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==za(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ka(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}const Oa=(0,m.Pi)((function(){var e=(0,m.oR)().common,t=e.changeSelectedLanguage,n=e.current_language,r=e.isCurrentLanguage,o=(0,Ea.$)().i18n,i=Object.keys((0,u.getAllowedLanguages)()),l={language_code:n};return a().createElement(E.J9,{initialValues:l,onSubmit:function(){var e,n=(e=Sa().mark((function e(n){var r,a;return Sa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.language_code,e.next=3,t(a);case 3:return e.next=5,null===(r=o.changeLanguage)||void 0===r?void 0:r.call(o,a);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ka(o,r,a,i,l,"next",e)}function l(e){ka(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,n=e.setFieldValue,o=e.values;return a().createElement("form",{onSubmit:t,className:"account-form account-form--language-settings"},a().createElement("div",{className:"settings-language"},a().createElement(d.DesktopWrapper,null,a().createElement(f.default,{title:(0,u.localize)("Select Language")})),a().createElement("div",{className:"settings-language__language-container"},i.map((function(e){return a().createElement(wa,{key:e,id:e,language_code:e,is_current_language:o.language_code===e,name:"language-radio-group",onChange:function(e){return n("language_code",e.target.value)}})})))),a().createElement(oe.default,null,a().createElement(d.Button,{className:"account-form__footer-btn",type:"submit","data-testid":"submit-button",has_effect:!0,text:(0,u.localize)("Submit"),large:!0,primary:!0,is_disabled:r(o.language_code)})))}))}));function La(e){return function(e){if(Array.isArray(e))return ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ca,Na={component:a().lazy((function(){return(0,s.moduleLoader)((function(){return n.e("404").then(n.bind(n,"./Modules/Page404/index.ts"))}))})),getTitle:function(){return(0,u.localize)("Error 404")}};function Pa(e){return Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(this,arguments)}function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(n),!0).forEach((function(t){Ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ma(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Pa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Pa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fa=function(e){return a().createElement(c.Route,{exact:e.exact,path:e.path,render:function(t){var n,r=null;if(e.component===c.Redirect){var o=e.to;e.path===s.routes.index&&(o=t.location.pathname.toLowerCase().replace(e.path,"")),r=a().createElement(c.Redirect,{to:o})}else if(!e.is_authenticated||e.is_logged_in||e.is_logging_in){var i,l=(null!==(i=e.routes)&&void 0!==i?i:[]).reduce((function(e,t){var n;return Aa(Aa({},e),null===(n=t.subroutes)||void 0===n?void 0:n.find((function(e){return e.default})))}),{}),d=!(0,s.isEmptyObject)(l),m=(0,s.removeBranchName)(location.pathname),f=e.component;r=a().createElement(a().Fragment,null,d&&m===e.path&&a().createElement(c.Redirect,{to:null==l?void 0:l.path}),a().createElement(f,Ia({},t,{routes:e.routes})))}else(0,s.redirectToLogin)(e.is_logged_in,(0,u.getLanguage)());var p=(null===(n=e.getTitle)||void 0===n?void 0:n.call(e))||"";return document.title="".concat(p," | ").concat(s.default_title),(0,s.alternateLinkTagChange)(),(0,s.canonicalLinkTagChange)(),r}})};function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Da.apply(this,arguments)}const Ba=function(e){var t=a().useContext(s.PlatformContext).is_appstore;return a().createElement(a().Suspense,{fallback:a().createElement("div",null,a().createElement(u.Localize,{i18n_default_text:"Loading..."}))},a().createElement(c.Switch,null,function(e){var t=e.is_appstore;return Ca||(Ca=function(e){var t=e.is_appstore;return[{path:s.routes.account_closed,component:ba,is_authenticated:!1,getTitle:function(){return(0,u.localize)("Account closed")}},{path:s.routes.deactivate_account,component:xa},{path:s.routes.account,component:fr,is_authenticated:!0,getTitle:function(){return(0,u.localize)("Account Settings")},icon_component:"IcUserOutline",routes:[{getTitle:function(){return(0,u.localize)("Profile")},icon:"IcUserOutline",subroutes:[{path:s.routes.personal_details,component:ke,getTitle:function(){return(0,u.localize)("Personal details")},default:!0},{path:s.routes.languages,component:Oa,getTitle:function(){return(0,u.localize)("Languages")}}]},{getTitle:function(){return(0,u.localize)("Assessments")},icon:"IcAssessment",subroutes:[{path:s.routes.trading_assessment,component:Oe.default,getTitle:function(){return(0,u.localize)("Trading assessment")}},{path:s.routes.financial_assessment,component:Le.default,getTitle:function(){return(0,u.localize)("Financial assessment")}}]},{getTitle:function(){return(0,u.localize)("Verification")},icon:"IcVerification",subroutes:[{path:s.routes.proof_of_identity,component:je.default,getTitle:function(){return(0,u.localize)("Proof of identity")}},{path:s.routes.proof_of_address,component:Ne,getTitle:function(){return(0,u.localize)("Proof of address")}},{path:s.routes.proof_of_ownership,component:kt,getTitle:function(){return(0,u.localize)("Proof of ownership")}}]},{getTitle:function(){return(0,u.localize)("Security and safety")},icon:"IcSecurity",subroutes:[{path:s.routes.passwords,component:T,getTitle:function(){return(0,u.localize)("Email and passwords")}},{path:s.routes.self_exclusion,component:or,getTitle:function(){return t?(0,u.localize)("Self-exclusion"):(0,u.localize)("Self exclusion")}},{path:s.routes.account_limits,component:re,getTitle:function(){return t?(0,u.localize)("Withdrawal limits"):(0,u.localize)("Account limits")}},{path:s.routes.login_history,component:ya,getTitle:function(){return(0,u.localize)("Login history")}}].concat(La(t?[]:[{path:s.routes.api_token,component:Sn,getTitle:function(){return(0,u.localize)("API token")}}]),[{path:s.routes.connected_apps,component:Qr,getTitle:function(){return(0,u.localize)("Connected apps")}},{path:s.routes.two_factor_authentication,component:Wt,getTitle:function(){return(0,u.localize)("Two-factor authentication")}},{path:s.routes.closing_account,component:qr,getTitle:function(){return(0,u.localize)("Close your account")}}])}]}]}({is_appstore:t}),Ca.push(Na)),Ca}({is_appstore:t}).map((function(t,n){return a().createElement(Fa,Da({key:n},t,e))}))))};var Ra=(0,m.Pi)((function(e){var t=(0,m.oR)(),n=t.client,r=t.common,o=n.is_logged_in,i=n.is_logging_in,l=r.error;return r.has_error?a().createElement(Wr.default,l):a().createElement(Ba,{is_logged_in:o,is_logging_in:i,passthrough:e.passthrough})}));Ra.propTypes={is_virtual:i().bool,passthrough:i().object};const qa=(0,l.withRouter)(Ra);var Ga=n("./Components/reset-trading-password-modal/index.js");function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Wa=(0,m.Pi)((function(){var e,t=(0,m.oR)(),n=t.ui,r=t.client,o=n.enableApp,i=n.disableApp,l=n.is_reset_trading_password_modal_visible,u=n.is_loading,d=n.setResetTradingPasswordModalOpen,f=(0,c.useLocation)(),p=new URLSearchParams(f.search),_=null===(e=/^trading_platform_(.*)_password_reset$/.exec(p.get("action")||""))||void 0===e?void 0:e[1],h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ya(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(_),1)[0],y=h===s.CFD_PLATFORMS.MT5?r.verification_code.trading_platform_mt5_password_reset:r.verification_code.trading_platform_dxtrade_password_reset;return a().createElement(Ga.default,{platform:h,enableApp:o,disableApp:i,toggleResetTradingPasswordModal:d,is_visible:l,is_loading:u,verification_code:y})})),Va=function(e){var t=e.passthrough,n=t.root_store,r=t.WS;(0,s.setWebsocket)(r);var o=n.ui.notification_messages_ui;return a().createElement(m.g3,{store:n},o&&a().createElement(o,null),a().createElement(qa,null),a().createElement(Wa,null))}},"./Components/demo-message/index.ts":(e,t,n)=>{n.d(t,{default:()=>m});var r=n("react"),a=n.n(r),o=n("@deriv/translations"),i=n("../../../node_modules/classnames/index.js"),l=n.n(i),c=n("@deriv/components"),s=n("@deriv/shared"),u=n("../../stores/src/index.ts");const d=(0,u.Pi)((function(e){var t=e.has_button,n=e.icon,r=e.message,i=(0,u.oR)(),d=i.client,m=i.ui,f=d.has_any_real_account,p=m.toggleAccountsDialog,_=m.toggleShouldShowRealAccountsList,h=a().useContext(s.PlatformContext).is_appstore;return a().createElement("div",{className:l()("da-icon-with-message",{"da-icon-with-message-full-width":h})},a().createElement(c.Icon,{icon:n,size:128}),a().createElement(c.Text,{className:"da-icon-with-message__text",as:"p",color:"general",size:(0,s.isMobile)()?"xs":"s",line_height:"m",weight:"bold"},r),t&&a().createElement(c.Button,{primary:!0,onClick:function(){_(!0),p()},className:"account__demo-message-button","data-testid":"icon-with-message-button"},f?(0,o.localize)("Switch to real account"):(0,o.localize)("Add a real account")))})),m=function(e){var t=e.has_demo_icon,n=e.has_button;return a().createElement(d,{icon:t?"IcPoaLockDemo":"IcPoaLock",message:(0,o.localize)("This feature is not available for demo accounts."),has_button:n})}},"./Components/error-component/index.js":(e,t,n)=>{n.d(t,{default:()=>c});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),l=n("@deriv/shared");const c=function(e){var t=e.header,n=e.message,r=e.redirect_label,c=e.redirectOnClick,s=e.should_show_refresh,u=void 0===s||s?(0,i.localize)("Please refresh this page to continue."):"";return a().createElement(o.PageError,{header:t||(0,i.localize)("Oops, something went wrong."),messages:n?[n,u]:[(0,i.localize)("Sorry, an error occured while processing your request."),u],redirect_urls:[l.routes.trade],redirect_labels:[r||(0,i.localize)("Refresh")],buttonOnClick:c||function(){return location.reload()}})}},"./Components/file-uploader-container/index.ts":(e,t,n)=>{n.d(t,{default:()=>g});var r=n("react"),a=n.n(r),o=n("../../../node_modules/classnames/index.js"),i=n.n(o),l=n("@deriv/components"),c=n("@deriv/shared"),s=n("@deriv/translations"),u=n("../../../node_modules/@binary-com/binary-document-uploader/DocumentUploader.js"),d=n.n(u);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){return a().createElement(a().Fragment,null,a().createElement(l.Icon,{icon:"IcCloudUpload",className:"dc-file-dropzone__message-icon",size:50}),a().createElement("div",{className:"dc-file-dropzone__message-subtitle"},(0,c.isMobile)()?(0,s.localize)("Click here to upload"):(0,s.localize)("Drop file or click here to upload")))},_=function(e){return(0,s.localize)("Unable to read file {{name}}",{name:e})},h=a().forwardRef((function(e,t){var n=e.onFileDrop,r=e.getSocket,o=e.settings,u=void 0===o?{}:o,f=m((0,l.useStateCallback)({files:[],error_message:null}),2),h=f[0],y=f[1],v=function(){if(h.error_message||h.files.length<1)return 0;var e=new(d())({connection:r()}),t=!1;return new Promise((function(r,a){(0,c.compressImageFiles)(h.files).then((function(o){(0,c.readFiles)(o,_,u).then((function(o){o.forEach((function(e){e.message&&(t=!0,a(e))}));var i=o.length;if(!t&&i){var l=e.upload(o[0]).then((function(e){return e}));r(l)}else n(void 0)})).catch((function(e){return console.error("error: ",e)}))})).catch((function(e){return console.error("error: ",e)}))}))};return a().useImperativeHandle(t,(function(){return{upload:v}})),a().createElement(a().Fragment,null,a().createElement(l.FileDropzone,{accept:c.supported_filetypes,error_message:(0,s.localize)("Please upload supported file type."),filename_limit:26,hover_message:(0,s.localize)("Drop files here.."),max_size:c.max_document_size,message:a().createElement(p,null),multiple:!1,onDropAccepted:function(e){e.length>0&&y({files:e,error_message:null},(function(e){n(e)}))},onDropRejected:function(e){var t=e.length>0&&e[0].file.size>c.max_document_size,r=e.filter((function(e){return(0,c.getSupportedFiles)(e.file.name)})),a=t&&r.length>0?(0,s.localize)("File size should be 8MB or less"):(0,s.localize)("File uploaded is not supported");y({files:e,error_message:a},(function(e){return n(e)}))},validation_error_message:h.error_message,value:h.files}),(h.files.length>0||!!h.error_message)&&a().createElement("div",{className:"account-poa__upload-remove-btn-container"},a().createElement(l.Icon,{icon:"IcCloseCircle",className:i()("account-poa__upload-remove-btn",{"account-poa__upload-remove-btn--error":!!h.error_message}),onClick:function(){y({files:[],error_message:null},(function(e){return n(e)}))},color:"secondary",data_testid:"dt_remove_file_icon"})))}));h.displayName="FileUploader";const y=h;var v=function(){var e=[{name:"size",icon:"IcPoaFileEightMb",text:(0,s.localize)("Less than 8MB")},{name:"format",icon:"IcPoaFileFormat",text:(0,s.localize)("JPEG  JPG  PNG  PDF  GIF")},{name:"time",icon:"IcPoaFileTime",text:(0,s.localize)("1 - 6 months old")},{name:"clear",icon:"IcPoaFileClear",text:(0,s.localize)("A clear colour photo or scanned image")},{name:"with-address",icon:"IcPoaFileWithAddress",text:(0,s.localize)("Issued under your name with your current address")}];return a().createElement("div",{className:"account-poa__upload-property"},e.map((function(e){return a().createElement("div",{className:"account-poa__upload-property-item account-poa__upload-property-".concat(e.name),key:e.name},a().createElement("div",{className:"account-poa__upload-property-wrapper"},a().createElement(l.Icon,{icon:e.icon,className:"account-poa__upload-icon-dashboard",size:40}),a().createElement(l.Text,{size:"xxxs",weight:"bold",align:"center"},e.text)))})))};const g=function(e){var t=e.is_description_enabled,n=void 0===t||t,r=e.getSocket,o=e.onFileDrop,u=e.onRef,d=e.settings,m=a().useContext(c.PlatformContext).is_appstore,f=a().useRef(),p=null!=r?r:c.WS.getSocket;return a().useEffect((function(){return f&&"function"==typeof u&&u(f),function(){return u(void 0)}}),[u,f]),m&&(0,c.isDesktop)()?a().createElement("div",{className:"account-poa__upload-section account-poa__upload-section-dashboard"},a().createElement("div",{className:"account-poa__upload-file account-poa__upload-file-dashboard"},a().createElement(v,null),a().createElement("div",{className:"account-poa__upload-file-zone"},a().createElement(y,{getSocket:p,ref:f,onFileDrop:o,settings:d})))):a().createElement("div",{className:"account-poa__upload-section","data-testid":"dt_file_uploader_container"},n&&a().createElement("ul",{className:"account-poa__upload-list"},a().createElement("li",{className:"account-poa__upload-box"},m?a().createElement(l.Icon,{icon:"IcPoaFileEightMb",className:"account-poa__upload-icon",size:24}):a().createElement(l.Icon,{icon:"IcLessThanEight",className:"account-poa__upload-icon",size:24}),a().createElement("div",{className:"account-poa__upload-item"},a().createElement(s.Localize,{i18n_default_text:"Less than 8MB"}))),a().createElement("li",{className:"account-poa__upload-box"},a().createElement(l.Icon,{icon:"IcImage",className:"account-poa__upload-icon",size:24}),a().createElement("div",{className:"account-poa__upload-item"},a().createElement(s.Localize,{i18n_default_text:"JPEG JPG PNG PDF GIF"}))),a().createElement("li",{className:"account-poa__upload-box"},m?a().createElement(l.Icon,{icon:"IcPoaFileTime",className:"account-poa__upload-icon",size:24}):a().createElement(l.Icon,{icon:"IcClock",className:"account-poa__upload-icon",size:24}),a().createElement("div",{className:"account-poa__upload-item"},a().createElement(s.Localize,{i18n_default_text:"1 - 6 months old"}))),a().createElement("li",{className:"account-poa__upload-box"},m?a().createElement(l.Icon,{icon:"IcPoaFileClear",className:"account-poa__upload-icon",size:24}):a().createElement(l.Icon,{icon:"IcEye",className:"account-poa__upload-icon",size:24}),a().createElement("div",{className:"account-poa__upload-item"},a().createElement(s.Localize,{i18n_default_text:"A clear colour photo or scanned image"}))),a().createElement("li",{className:"account-poa__upload-box"},m?a().createElement(l.Icon,{icon:"IcPoaFileWithAddress",className:"account-poa__upload-icon",size:24}):a().createElement(l.Icon,{icon:"IcUser",className:"account-poa__upload-icon",size:24}),a().createElement("div",{className:"account-poa__upload-item"},a().createElement(s.Localize,{i18n_default_text:"Issued under your name with your current address"})))),a().createElement("div",{className:i()("account-poa__upload-file",{"account-poa__upload-file--dashboard":(0,c.isDesktop)()&&m})},a().createElement(y,{getSocket:p,ref:f,onFileDrop:o,settings:d})))}},"./Components/form-body-section/form-body-section.tsx":(e,t,n)=>{n.d(t,{Z:()=>s});var r=n("react"),a=n.n(r),o=n("../../../node_modules/classnames/index.js"),i=n.n(o),l=n("@deriv/components"),c=n("@deriv/shared");const s=function(e){var t=e.children,n=e.has_side_note,r=e.side_note,o=a().useContext(c.PlatformContext).is_appstore;return n?a().createElement("div",{"data-testid":"dt_side_note_container",className:i()("account-form__section",{"account-form__section--dashboard":o})},a().createElement("div",{className:"account-form__section-side-note"},"string"==typeof r?a().createElement(l.Text,{color:"less-prominent",size:(0,c.isMobile)()?"xxs":"xs","data-testid":"side-note-text"},r):r),a().createElement("div",{className:"account-form__section-content"},t)):t}},"./Components/form-body-section/index.ts":(e,t,n)=>{n.d(t,{Z:()=>r});const r=n("./Components/form-body-section/form-body-section.tsx").Z},"./Components/form-body/index.ts":(e,t,n)=>{n.d(t,{default:()=>u});var r=n("react"),a=n.n(r),o=n("../../../node_modules/classnames/index.js"),i=n.n(o),l=n("@deriv/components"),c=n("@deriv/shared"),s=function(e){var t=e.children,n=e.className,r=e.scroll_offset;return a().createElement(l.ThemedScrollbars,{is_bypassed:(0,c.isMobile)(),height:r?"calc(100% - ".concat(r,")"):"100%"},a().createElement("div",{className:i()("account__scrollbars_container",n),"data-testid":"dt_scrollbar_container_div"},t))};const u=function(e){var t=e.children,n=e.scroll_offset;return a().createElement(a().Fragment,null,a().createElement(l.DesktopWrapper,null,a().createElement(s,{className:"account__scrollbars_container--grid-layout",scroll_offset:n},t)),a().createElement(l.MobileWrapper,null,a().createElement(l.Div100vhContainer,{className:"account__scrollbars_container--grid-layout",height_offset:n||"200px"},t)))}},"./Components/form-footer/index.ts":(e,t,n)=>{n.d(t,{default:()=>c});var r=n("react"),a=n.n(r),o=n("@deriv/shared"),i=n("../../../node_modules/classnames/index.js"),l=n.n(i);const c=function(e){var t=e.children,n=e.className,r=a().useContext(o.PlatformContext).is_appstore;return a().createElement("div",{className:l()("account-form__footer",n,{"account-form__footer--dashboard":r}),"data-testid":"form-footer-container"},t)}},"./Components/form-sub-header/index.ts":(e,t,n)=>{n.d(t,{default:()=>c});var r=n("../../../node_modules/classnames/index.js"),a=n.n(r),o=n("react"),i=n.n(o),l=n("@deriv/components");const c=function(e){var t=e.description,n=e.subtitle,r=e.title,o=r.replace(/\s+/g,"-").toLowerCase();return i().createElement(i().Fragment,null,i().createElement("div",{className:a()("account-form__header",o,{"account-form__header--has-description":!!t}),"data-testid":"form-sub-header"},i().createElement("div",{className:"account-form__header-section"},i().createElement(l.Text,{as:"h1",color:"prominent",weight:"bold",size:"xs",className:"account-form__title"},r),n&&i().createElement(l.Text,{as:"h2",size:"xxxs",color:"prominent",className:"account-form__subtitle"},n))),t&&i().createElement(l.Text,{as:"p",className:"account-form__description"},t))}},"./Components/forms/form-fields.jsx":(e,t,n)=>{n.d(t,{C:()=>f,R:()=>m});var r=n("react"),a=n.n(r),o=n("../../../node_modules/formik/dist/formik.esm.js"),i=n("@deriv/components"),l=n("@deriv/shared"),c=["name","portal_id"],s=["name","optional","warn"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m=function(e){var t=e.name,n=e.portal_id,r=d(e,c);return a().createElement(o.gN,{name:t},(function(e){var o=e.field.value,c=e.form,s=c.setFieldValue,d=c.errors,m=c.touched,f=c.setFieldTouched;return a().createElement(i.DateOfBirthPicker,u({error:m.date_of_birth&&d.date_of_birth,name:t,onBlur:function(){return f(t)},onChange:function(e){var n=e.target;return s(t,null!=n&&n.value?(0,l.toMoment)(n.value).format("YYYY-MM-DD"):"",!0)},value:o,portal_id:n},r))}))},f=function(e){var t=e.name,n=e.optional,r=void 0!==n&&n,l=e.warn,c=d(e,s);return a().createElement(o.gN,{name:t},(function(e){var t=e.field,n=e.form,o=n.errors,s=n.touched;return a().createElement(i.Input,u({type:"text",required:!r,autoComplete:"off",error:s[t.name]&&o[t.name],warn:l},t,c))}))}},"./Components/forms/personal-details-form.jsx":(e,t,n)=>{n.d(t,{Z:()=>w});var r=n("react"),a=n.n(r),o=n("../../../node_modules/formik/dist/formik.esm.js"),i=n("../../../node_modules/classnames/index.js"),l=n.n(i),c=n("@deriv/components"),s=n("@deriv/shared"),u=n("@deriv/translations"),d=n("./Components/form-sub-header/index.ts"),m=n("./Assets/ic-poi-name-dob-example.svg"),f=n("./Components/inline-note-with-icon/index.ts"),p=n("./Components/form-body-section/index.ts"),_=n("./Components/forms/form-fields.jsx"),h=n("react-router-dom"),y=n("./Sections/Assessment/FinancialAssessment/financial-information-list.ts"),v=n("./Helpers/utils.ts"),g=["errors","touched","values","setFieldValue","handleChange","handleBlur","warning_items","setFieldTouched"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const w=function(e){var t,n,r=e.errors,i=e.touched,E=e.values,w=e.setFieldValue,z=e.handleChange,S=e.handleBlur,k=e.warning_items,O=e.setFieldTouched,L=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,g),j=L.is_virtual,C=L.is_mf,N=L.is_svg,P=L.is_qualified_for_idv,I=L.should_hide_helper_image,T=L.is_appstore,A=L.editable_fields,M=void 0===A?[]:A,F=L.has_real_account,D=L.residence_list,B=L.is_fully_authenticated,R=L.account_opening_reason_list,q=L.closeRealAccountSignup,G=L.salutation_list,Y=L.is_rendered_for_onfido,W=L.should_close_tooltip,V=L.setShouldCloseTooltip,U="none",$=m.Z,H=x(a().useState(!1),2),Z=H[0],K=H[1],J=x(a().useState(!1),2),X=J[0],Q=J[1];a().useEffect((function(){W&&(ne(),V(!1))}),[W,ne,V]);var ee=function(){var e=N||C||Y||P,t=T||e?(0,u.localize)("First name*"):(0,u.localize)("First name"),n=e?(0,u.localize)("Last name*"):(0,u.localize)("Last name");return{first_name_label:t,last_name_label:T?(0,u.localize)("Family name*"):n,dob_label:T||e?(0,u.localize)("Date of birth*"):(0,u.localize)("Date of birth")}},te=function(e){return P||Y?a().createElement(u.Localize,{i18n_default_text:"Your {{ field_name }} as in your identity document",values:{field_name:e}}):a().createElement(u.Localize,{i18n_default_text:"Please enter your {{ field_name }} as in your official identity documents.",values:{field_name:e}})},ne=a().useCallback((function(){Z&&K(!1),X&&Q(!1)}),[Z,X]),re=a().createElement(u.Localize,{i18n_default_text:"To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your identity document.",components:[a().createElement("strong",{key:0})]});return a().createElement("div",{className:l()({"account-form__poi-confirm-example":P})},(P||Y)&&!I&&a().createElement(f.Z,{message:re,font_size:(0,s.isMobile)()?"xxxs":"xs"}),a().createElement(p.Z,{has_side_note:(P||Y)&&!I,side_note:a().createElement($,null)},a().createElement("fieldset",{className:"account-form__fieldset"},"salutation"in E&&a().createElement("div",null,a().createElement(c.Text,{size:(0,s.isMobile)()?"xs":"xxs",align:(0,s.isMobile)()&&"center"},j?(0,u.localize)("Please remember that it is your responsibility to keep your answers accurate and up to date. You can update your personal details at any time in your account settings."):a().createElement(u.Localize,{i18n_default_text:"Please remember that it is your responsibility to keep your answers accurate and up to date. You can update your personal details at any time in your <0>account settings</0>.",components:[a().createElement(h.Link,{to:s.routes.personal_details,key:0,className:"link",onClick:q})]}))),!P&&!T&&!Y&&a().createElement(d.default,{title:"salutation"in E?(0,u.localize)("Title and name"):(0,u.localize)("Name")}),"salutation"in E&&a().createElement(c.RadioGroup,{className:"dc-radio__input",name:"salutation",selected:E.salutation,onToggle:function(e){e.persist(),w("salutation",e.target.value)},required:!0},G.map((function(e){return a().createElement(c.RadioGroup.Item,{key:e.value,label:e.label,value:e.value,disabled:!!E.salutation&&(0,v.YT)("salutation",M)})}))),"first_name"in E&&a().createElement(_.C,{name:"first_name",required:N||T,label:ee().first_name_label,hint:te((0,u.localize)("first name")),disabled:(0,v.YT)("first_name",M)||(null==E?void 0:E.first_name)&&F,placeholder:(0,u.localize)("John"),"data-testid":"first_name"}),"last_name"in E&&a().createElement(_.C,{name:"last_name",required:N||T,label:ee().last_name_label,hint:te((0,u.localize)("last name")),disabled:(0,v.YT)("last_name",M)||(null==E?void 0:E.last_name)&&F,placeholder:(0,u.localize)("Doe"),"data-testid":"last_name"}),!T&&!P&&!Y&&a().createElement(d.default,{title:(0,u.localize)("Other details")}),"date_of_birth"in E&&a().createElement(_.R,{name:"date_of_birth",required:N||T,label:ee().dob_label,hint:te((0,u.localize)("date of birth")),disabled:(0,v.YT)("date_of_birth",M)||(null==E?void 0:E.date_of_birth)&&F,placeholder:(0,u.localize)("01-07-1999"),portal_id:T?"":"modal_root",data_testid:"date_of_birth"}),"place_of_birth"in E&&a().createElement(o.gN,{name:"place_of_birth"},(function(e){var t=e.field;return a().createElement(a().Fragment,null,a().createElement(c.DesktopWrapper,null,a().createElement(c.Autocomplete,b({},t,{disabled:(0,v.YT)("place_of_birth",M),"data-lpignore":"true",autoComplete:U,type:"text",label:C?(0,u.localize)("Place of birth*"):(0,u.localize)("Place of birth"),error:i.place_of_birth&&r.place_of_birth,list_items:D,onItemSelection:function(e){var t=e.value,n=e.text;return w("place_of_birth",t?n:"",!0)},required:!0,"data-testid":"place_of_birth"}))),a().createElement(c.MobileWrapper,null,a().createElement(c.SelectNative,b({placeholder:(0,u.localize)("Place of birth"),name:t.name,disabled:(0,v.YT)("place_of_birth",M),label:C?(0,u.localize)("Place of birth*"):(0,u.localize)("Place of birth"),list_items:D,value:E.place_of_birth,use_text:!0,error:i.place_of_birth&&r.place_of_birth,onChange:function(e){z(e),w("place_of_birth",e.target.value,!0)}},t,{list_portal_id:"modal_root",required:!0,should_hide_disabled_options:!1,data_testid:"place_of_birth_mobile"}))))})),"citizen"in E&&a().createElement(o.gN,{name:"citizen"},(function(e){var t=e.field;return a().createElement(a().Fragment,null,a().createElement(c.DesktopWrapper,null,a().createElement(c.Autocomplete,b({},t,{"data-lpignore":"true",autoComplete:U,type:"text",label:C?(0,u.localize)("Citizenship*"):(0,u.localize)("Citizenship"),error:i.citizen&&r.citizen,disabled:(null==E?void 0:E.citizen)&&B||(0,v.YT)("citizen",M)||(null==E?void 0:E.citizen)&&F,list_items:D,onItemSelection:function(e){var t=e.value,n=e.text;return w("citizen",t?n:"",!0)},list_portal_id:"modal_root",required:!0,"data-testid":"citizenship"}))),a().createElement(c.MobileWrapper,null,a().createElement(c.SelectNative,b({placeholder:(0,u.localize)("Citizenship"),name:t.name,disabled:(null==E?void 0:E.citizen)&&B||(0,v.YT)("citizen",M)||(null==E?void 0:E.citizen)&&F,label:C?(0,u.localize)("Citizenship*"):(0,u.localize)("Citizenship"),list_items:D,value:E.citizen,use_text:!0,error:i.citizen&&r.citizen,onChange:function(e){z(e),w("citizen",e.target.value,!0)}},t,{required:!0,should_hide_disabled_options:!1,data_testid:"citizenship_mobile"}))))})),"phone"in E&&a().createElement(_.C,{name:"phone",label:N||T||C?(0,u.localize)("Phone number*"):(0,u.localize)("Phone number"),placeholder:N||T||C?(0,u.localize)("Phone number*"):(0,u.localize)("Phone number"),disabled:(0,v.YT)("phone",M)||(null==E?void 0:E.phone)&&F&&(0,s.validPhone)(null==E?void 0:E.phone)&&(null==E||null===(t=E.phone)||void 0===t?void 0:t.length)>=9&&(null==E||null===(n=E.phone)||void 0===n?void 0:n.length)<=35,maxLength:50,"data-testid":"phone"}),("tax_residence"in E||"tax_identification_number"in E)&&a().createElement(a().Fragment,null,a().createElement(d.default,{title:(0,u.localize)("Tax information")}),"tax_residence"in E&&a().createElement(o.gN,{name:"tax_residence"},(function(e){var t=e.field;return a().createElement("div",{className:"details-form__tax"},a().createElement(c.DesktopWrapper,null,a().createElement(c.Autocomplete,b({},t,{"data-lpignore":"true",autoComplete:U,type:"text",label:C?(0,u.localize)("Tax residence*"):(0,u.localize)("Tax residence"),error:i.tax_residence&&r.tax_residence,list_items:D,onItemSelection:function(e){var t=e.value,n=e.text;return w("tax_residence",t?n:"",!0)},list_portal_id:"modal_root","data-testid":"tax_residence",disabled:(0,v.YT)("tax_residence",M)}))),a().createElement(c.MobileWrapper,null,a().createElement(c.SelectNative,b({placeholder:(0,u.localize)("Tax residence"),name:t.name,label:C?(0,u.localize)("Tax residence*"):(0,u.localize)("Tax residence"),list_items:D,value:E.tax_residence,use_text:!0,error:i.tax_residence&&r.tax_residence,onChange:function(e){z(e),w("tax_residence",e.target.value,!0)}},t,{required:!0,data_testid:"tax_residence_mobile",disabled:(0,v.YT)("tax_residence",M)}))),a().createElement("div",{"data-testid":"tax_residence_pop_over",onClick:function(e){K(!0),Q(!1),e.stopPropagation()}},a().createElement(c.Popover,{alignment:(0,s.isDesktop)()?"right":"left",icon:"info",message:(0,u.localize)("The country in which you meet the criteria for paying taxes. Usually the country in which you physically reside."),zIndex:9998,disable_message_icon:!0,is_open:Z})))})),"tax_identification_number"in E&&a().createElement("div",{className:"details-form__tax"},a().createElement(_.C,{name:"tax_identification_number",label:C?(0,u.localize)("Tax Identification Number*"):(0,u.localize)("Tax Identification Number"),placeholder:(0,u.localize)("Tax Identification Number"),warn:null==k?void 0:k.tax_identification_number,"data-testid":"tax_identification_number",disabled:(0,v.YT)("tax_identification_number",M)}),a().createElement("div",{"data-testid":"tax_identification_number_pop_over",onClick:function(e){K(!1),Q(!0),"A"!==e.target.tagName&&e.stopPropagation()}},a().createElement(c.Popover,{alignment:(0,s.isDesktop)()?"right":"left",icon:"info",is_open:X,message:a().createElement(u.Localize,{i18n_default_text:"Don't know your tax identification number? Click <0>here</0> to learn more.",components:[a().createElement("a",{key:0,className:"link link--red",rel:"noopener noreferrer",target:"_blank",href:"https://www.oecd.org/tax/automatic-exchange/crs-implementation-and-assistance/tax-identification-numbers/"})]}),zIndex:9998,disable_message_icon:!0}))),(null==k?void 0:k.tax_identification_number)&&a().createElement("div",{className:"details-form__tin-warn-divider"}),"employment_status"in E&&a().createElement("fieldset",{className:l()("account-form__fieldset","emp-status")},a().createElement(c.DesktopWrapper,null,a().createElement(c.Dropdown,{placeholder:C?(0,u.localize)("Employment status*"):(0,u.localize)("Employment status"),is_align_text_left:!0,name:"employment_status",list:(0,y.M5)(),value:E.employment_status,onChange:z,handleBlur:S,error:i.employment_status&&r.employment_status,disabled:(0,v.YT)("employment_status",M)})),a().createElement(c.MobileWrapper,null,a().createElement(c.SelectNative,{placeholder:(0,u.localize)("Please select"),name:"employment_status",label:C?(0,u.localize)("Employment status*"):(0,u.localize)("Employment status"),list_items:(0,y.M5)(),value:E.employment_status,error:i.employment_status&&r.employment_status,onChange:function(e){O("employment_status",!0),z(e)},disabled:(0,v.YT)("employment_status",M)}))),"tax_identification_confirm"in E&&a().createElement(c.Checkbox,{name:"tax_identification_confirm",className:"details-form__tin-confirm","data-lpignore":!0,onChange:function(){return w("tax_identification_confirm",!E.tax_identification_confirm,!0)},value:E.tax_identification_confirm,label:(0,u.localize)("I hereby confirm that the tax information I provided is true and complete. I will also inform {{legal_entity_name}} about any changes to this information.",{legal_entity_name:(0,s.getLegalEntityName)("maltainvest")}),renderlabel:function(e){return a().createElement(c.Text,{size:"xs",line_height:"s"},e)},withTabIndex:0,"data-testid":"tax_identification_confirm"})),"account_opening_reason"in E&&a().createElement(a().Fragment,null,a().createElement(d.default,{title:(0,u.localize)("Account opening reason")}),a().createElement(o.gN,{name:"account_opening_reason"},(function(e){var t=e.field;return a().createElement(a().Fragment,null,a().createElement(c.DesktopWrapper,null,a().createElement(c.Dropdown,b({placeholder:C?(0,u.localize)("Account opening reason*"):(0,u.localize)("Account opening reason"),name:t.name,disabled:(0,v.YT)("account_opening_reason",M),is_align_text_left:!0,list:R,value:E.account_opening_reason,onChange:z,handleBlur:S,error:i.account_opening_reason&&r.account_opening_reason},t,{list_portal_id:"modal_root",required:!0}))),a().createElement(c.MobileWrapper,null,a().createElement(c.SelectNative,b({placeholder:(0,u.localize)("Please select"),name:t.name,label:C?(0,u.localize)("Account opening reason*"):(0,u.localize)("Account opening reason"),list_items:R,value:E.account_opening_reason,error:i.account_opening_reason&&r.account_opening_reason,onChange:function(e){z(e),w("account_opening_reason",e.target.value,!0)}},t,{required:!0,data_testid:"account_opening_reason_mobile",disabled:(0,v.YT)("account_opening_reason",M)}))))}))))))}},"./Components/icon-message-content/index.ts":(e,t,n)=>{n.d(t,{default:()=>d});var r=n("react"),a=n.n(r),o=n("../../../node_modules/classnames/index.js"),i=n.n(o),l=n("@deriv/components"),c=n("@deriv/shared");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=function(e){var t=e.children,n=e.className,r=e.full_width,o=e.icon,s=e.message,d=e.text;return a().createElement(l.Div100vhContainer,{className:i()("account-management__message-wrapper",{"account-management__message-wrapper-full-width":r}),is_disabled:(0,c.isDesktop)(),height_offset:"110px"},a().createElement("div",{className:i()("account-management__message-content",u({},"".concat(n,"__message-content"),n))},o&&a().createElement("div",{className:i()("account-management__message-icon",u({},"".concat(n,"__message-icon"),n))},o),a().createElement(l.Text,{as:"div",color:"general",weight:"bold",size:"s",align:"center",className:i()("account-management__message",u({},"".concat(n,"__message"),n))},s),d&&a().createElement("div",{className:"account-management__text-container"},a().createElement(l.Text,{className:i()(u({},"".concat(n,"__text"),n)),as:"p",size:"xs",align:"center"},d)),t))}},"./Components/inline-note-with-icon/index.ts":(e,t,n)=>{n.d(t,{Z:()=>r});const r=n("./Components/inline-note-with-icon/inline-note-with-icon.tsx").Z},"./Components/inline-note-with-icon/inline-note-with-icon.tsx":(e,t,n)=>{n.d(t,{Z:()=>i});var r=n("react"),a=n.n(r),o=n("@deriv/components");const i=function(e){var t=e.icon,n=e.message,r=e.font_size,i=void 0===r?"xxxs":r,l=e.title;return a().createElement("div",{className:"da-inline-note-with-icon"},t&&a().createElement("div",null,a().createElement(o.Icon,{icon:t,size:16})),a().createElement(o.Text,{as:"p",size:i,line_height:"s"},l&&a().createElement("strong",null,l,": "),n))}},"./Components/leave-confirm/index.js":(e,t,n)=>{n.d(t,{default:()=>h});var r=n("react"),a=n.n(r),o=n("react-router-dom"),i=n("../../../node_modules/formik/dist/formik.esm.js"),l=n("@deriv/components"),c=n("@deriv/shared"),s=n("@deriv/translations"),u=n("./Components/icon-message-content/index.ts");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var p=function(e){var t=e.back,n=e.leave,r=a().useContext(c.PlatformContext).is_appstore;return a().createElement(u.default,{className:"leave-confirm",message:(0,s.localize)("Unsaved changes"),text:(0,s.localize)("You have unsaved changes. Are you sure you want to discard changes and leave this page?"),icon:a().createElement(l.Icon,{icon:r?"IcUnsavedChangesDashboard":"IcUnsavedChanges",size:(0,c.isMobile)()?93:128,data_testid:"unsaved_changes_icon"})},a().createElement("div",{className:"account-management-flex-wrapper account-management-leave-confirm"},a().createElement(l.Button,f({type:"button",has_effect:!0,onClick:t,text:(0,s.localize)("Cancel"),secondary:!0},(0,c.isMobile)()?{large:!0}:{})),a().createElement(l.Button,f({type:"button",has_effect:!0,onClick:n,text:(0,s.localize)("Leave Settings"),primary:!0},(0,c.isMobile)()?{large:!0}:{}))))},_=(0,o.withRouter)((function(e){var t=e.dirty,n=e.onDirty,r=d(a().useState(!1),2),i=r[0],s=r[1],u=d(a().useState(null),2),m=u[0],f=u[1],_=(0,o.useHistory)();a().useEffect((function(){return function(){return h()}}),[]);var h=_.block((function(e){return t&&(n&&n(!1),i&&y(),s(!0),f(e)),!t})),y=function(){if(null!=m&&m.pathname){var e=m.pathname;h(),_.push(e)}else _.push(null)},v=function(){f(null),s(!1),n&&n(!0)};return a().createElement(a().Fragment,null,i&&(0,c.isMobile)()?a().createElement(p,{back:v,leave:y}):a().createElement(l.Modal,{is_open:i,small:!0,toggleModal:v},a().createElement(l.Modal.Body,null,a().createElement(p,{back:v,leave:y}))))}));const h=function(e){var t=e.onDirty;return a().createElement(i.IG,null,(function(e){return a().createElement(_,{onDirty:t,dirty:e.dirty&&0===e.submitCount})}))}},"./Components/load-error-message/index.ts":(e,t,n)=>{n.d(t,{default:()=>l});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("./Components/icon-message-content/index.ts");const l=function(e){var t=e.error_message;return a().createElement(i.default,{message:t,icon:a().createElement(o.Icon,{icon:"IcPoaLock",size:128})})}},"./Components/poa/continue-trading-button/continue-trading-button.tsx":(e,t,n)=>{n.d(t,{M:()=>l});var r=n("@deriv/components"),a=n("@deriv/translations"),o=n("react"),i=n.n(o),l=function(){return i().createElement(r.ButtonLink,{className:"account-management__button",to:"/"},i().createElement(r.Text,{className:"dc-btn__text",as:"p",weight:"bold","data-testid":"continue_btn_text"},(0,a.localize)("Continue trading")))}},"./Components/poa/poa-button/index.ts":(e,t,n)=>{n.d(t,{Z:()=>c});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/shared"),l=n("@deriv/translations");const c=function(e){var t=e.custom_text,n=void 0===t?(0,l.localize)("Submit proof of address"):t;return a().createElement(o.ButtonLink,{className:"account-management__button",to:i.routes.proof_of_address},a().createElement(o.Text,{className:"dc-btn__text",as:"p",weight:"bold","data-testid":"poa_button_text"},n))}},"./Components/poa/status/expired/index.ts":(e,t,n)=>{n.d(t,{default:()=>c});var r=n("@deriv/components"),a=n("@deriv/translations"),o=n("react"),i=n.n(o),l=n("./Components/icon-message-content/index.ts");const c=function(e){var t=e.onClick;return i().createElement(l.default,{message:(0,a.localize)("New proof of address is needed"),text:(0,a.localize)("Your documents for proof of address is expired. Please submit again."),icon:i().createElement(r.Icon,{icon:"IcPoaUpload",size:128})},i().createElement(r.Button,{onClick:t,has_effect:!0,primary:!0},i().createElement(r.Text,{className:"dc-btn__text",size:"xs",weight:"bold",as:"p"},(0,a.localize)("Resubmit"))))}},"./Components/poa/status/needs-review/index.ts":(e,t,n)=>{n.d(t,{default:()=>d});var r=n("@deriv/components"),a=n("./Components/poa/continue-trading-button/continue-trading-button.tsx"),o=n("./Components/icon-message-content/index.ts"),i=n("./Components/poi/poi-button/index.ts"),l=n("react"),c=n.n(l),s=n("@deriv/translations"),u=n("@deriv/shared");const d=function(e){var t=e.needs_poi,n=e.redirect_button,l=(0,s.localize)("Your proof of address was submitted successfully"),d=(0,u.isNavigationFromP2P)()||(0,u.isNavigationFromDerivGO)();return t?c().createElement(o.default,{message:l,icon:c().createElement(r.Icon,{icon:"IcPoaVerified",size:128})},c().createElement("div",{className:"account-management__text-container"},c().createElement(r.Text,{align:"center",size:"xs",as:"p"},(0,s.localize)("Your document is being reviewed, please check back in 1-3 days.")),c().createElement(r.Text,{align:"center",size:"xs",as:"p"},(0,s.localize)("You must also submit a proof of identity."))),c().createElement(i.Z,null)):c().createElement(o.default,{message:l,text:(0,s.localize)("Your document is being reviewed, please check back in 1-3 days."),icon:c().createElement(r.Icon,{icon:"IcPoaVerified",size:128})},n||!d&&c().createElement(a.M,null))}},"./Components/poa/status/status-codes/index.ts":(e,t,n)=>{n.d(t,{default:()=>r});const r={none:"none",pending:"pending",rejected:"rejected",verified:"verified",expired:"expired",suspected:"suspected"}},"./Components/poa/status/submitted/index.ts":(e,t,n)=>{n.d(t,{default:()=>f});var r=n("react"),a=n.n(r),o=n("../../../node_modules/classnames/index.js"),i=n.n(o),l=n("@deriv/components"),c=n("@deriv/translations"),s=n("@deriv/shared"),u=n("./Components/poa/continue-trading-button/continue-trading-button.tsx"),d=n("./Components/poi/poi-button/index.ts"),m=n("./Components/icon-message-content/index.ts");const f=function(e){var t=e.needs_poi,n=e.redirect_button,r=a().useContext(s.PlatformContext).is_appstore,o=(0,c.localize)("Your documents were submitted successfully"),f=(0,s.isNavigationFromP2P)()||(0,s.isNavigationFromDerivGO)();return t?a().createElement("div",{className:i()("account-management__container",{"account-management__container-dashboard":r})},a().createElement(m.default,{message:o,icon:a().createElement(l.Icon,{icon:"IcPoaVerified",size:128}),full_width:r},a().createElement("div",{className:"account-management__text-container"},a().createElement(l.Text,{align:"center",size:"xs",as:"p"},(0,c.localize)("We’ll review your documents and notify you of its status within 1 to 3 days.")),a().createElement(l.Text,{align:"center",size:"xs",as:"p"},(0,c.localize)("You must also submit a proof of identity."))),a().createElement(d.Z,null))):a().createElement("div",{className:i()("account-management__container",{"account-management__container-dashboard":r})},a().createElement(m.default,{message:o,text:(0,c.localize)("We’ll review your documents and notify you of its status within 1 to 3 days."),icon:a().createElement(l.Icon,{icon:"IcPoaVerified",size:128}),full_width:r},n||!f&&a().createElement(u.M,null)))}},"./Components/poa/status/unverified/index.ts":(e,t,n)=>{n.d(t,{default:()=>s});var r=n("react"),a=n.n(r),o=n("@deriv/shared"),i=n("@deriv/components"),l=n("@deriv/translations"),c=n("./Components/icon-message-content/index.ts");const s=function(e){var t=e.onClick,n=a().useContext(o.PlatformContext).is_appstore;return a().createElement(c.default,{message:(0,l.localize)("We could not verify your proof of address"),text:(0,l.localize)("Please check your email for details."),icon:a().createElement(i.Icon,{icon:n?"IcPoaErrorDashboard":"IcPoaError",size:128})},a().createElement(i.Button,{onClick:t,has_effect:!0,primary:!0},a().createElement(i.Text,{className:"dc-btn__text",size:"xs",weight:"bold",as:"p"},(0,l.localize)("Resubmit"))))}},"./Components/poa/status/verified/index.ts":(e,t,n)=>{n.d(t,{default:()=>f});var r=n("./Components/poa/continue-trading-button/continue-trading-button.tsx"),a=n("@deriv/components"),o=n("./Components/icon-message-content/index.ts"),i=n("@deriv/shared"),l=n("./Components/poi/poi-button/poi-button.tsx"),c=n("react"),s=n.n(c),u=n("../../../node_modules/classnames/index.js"),d=n.n(u),m=n("@deriv/translations");const f=function(e){var t=e.needs_poi,n=e.redirect_button,c=s().useContext(i.PlatformContext).is_appstore,u=(0,m.localize)("Your proof of address is verified"),f=(0,i.isNavigationFromP2P)()||(0,i.isNavigationFromDerivGO)();return t?s().createElement("div",{className:d()("account-management__container",{"account-management__container-dashboard":c})},s().createElement(o.default,{message:u,text:(0,m.localize)("To continue trading, you must also submit a proof of identity."),icon:s().createElement(a.Icon,{icon:"IcPoaVerified",size:128}),className:d()({"account-management-dashboard":c})},s().createElement(l.x,null))):s().createElement("div",{className:d()("account-management__container",{"account-management__container-dashboard":c})},s().createElement(o.default,{message:u,icon:s().createElement(a.Icon,{icon:"IcPoaVerified",size:128}),className:d()({"account-management-dashboard":c})},n||!f&&s().createElement(r.M,null)))}},"./Components/poi/missing-personal-details/index.js":(e,t,n)=>{n.d(t,{default:()=>u});var r=n("react"),a=n.n(r),o=n("@deriv/shared"),i=n("@deriv/components"),l=n("@deriv/translations"),c=n("./Components/icon-message-content/index.ts"),s=function(e){var t=e.anchor,n=e.from,r=e.text;return a().createElement(i.ButtonLink,{to:"/account/personal-details".concat(n?"?from=".concat(n):"").concat(t?"#".concat(t):"")},a().createElement(i.Text,{className:"dc-btn__text",weight:"bold",as:"p"},r||(0,l.localize)("Go to personal details")))};const u=function(e){var t=e.has_invalid_postal_code,n=e.from,r=a().useContext(o.PlatformContext).is_appstore;return t?a().createElement(c.default,{message:(0,l.localize)("Your postal code is invalid"),text:(0,l.localize)("Please check and update your postal code before submitting proof of identity."),icon:a().createElement(i.Icon,{icon:"IcAccountMissingDetails",size:128})},a().createElement(s,{anchor:"address_postcode",from:n,text:(0,l.localize)("Update postal code")})):a().createElement(c.default,{message:(0,l.localize)("Your personal details are missing"),text:(0,l.localize)("Please complete your personal details before you verify your identity."),icon:a().createElement(i.Icon,{icon:r?"IcAccountMissingDetailsDashboard":"IcAccountMissingDetails",size:128})},a().createElement(s,{from:n}))}},"./Components/poi/poi-button/index.ts":(e,t,n)=>{n.d(t,{Z:()=>r});const r=n("./Components/poi/poi-button/poi-button.tsx").x},"./Components/poi/poi-button/poi-button.tsx":(e,t,n)=>{n.d(t,{x:()=>l});var r=n("@deriv/components"),a=n("@deriv/translations"),o=n("react"),i=n.n(o),l=function(){return i().createElement(r.ButtonLink,{className:"account-management__button",to:"/account/proof-of-identity"},i().createElement(r.Text,{className:"dc-btn__text",weight:"bold",as:"p"},(0,a.localize)("Proof of identity")))}},"./Components/poi/status/expired/index.js":(e,t,n)=>{n.d(t,{default:()=>c});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),l=n("./Components/icon-message-content/index.ts");const c=function(e){var t=e.handleRequireSubmission,n=e.is_from_external,r=e.redirect_button;return a().createElement(l.default,{message:(0,i.localize)("New proof of identity document needed"),icon:a().createElement(o.Icon,{icon:"IcPoiUpload",size:128})},a().createElement(o.Button,{type:"button",className:"account-management__continue",onClick:t,large:!0,text:(0,i.localize)("Upload Document"),primary:!0}),!n&&r)}},"./Components/poi/status/limited/index.js":(e,t,n)=>{n.d(t,{Z:()=>c});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),l=n("./Components/icon-message-content/index.ts");const c=function(){return a().createElement(l.default,{message:(0,i.localize)("You've reached the limit for uploading your documents."),text:a().createElement(i.Localize,{i18n_default_text:"Please contact us via <0>live chat</0>.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]}),icon:a().createElement(o.Icon,{icon:"IcPoiFailed",size:128})})}},"./Components/poi/status/unsupported/index.js":(e,t,n)=>{n.d(t,{default:()=>Ce});var r=n("react"),a=n.n(r),o=n("../../../node_modules/classnames/index.js"),i=n.n(o),l=n("@deriv/translations"),c=n("@deriv/components"),s=n("@deriv/shared"),u=n("./Sections/Verification/ProofOfIdentity/proof-of-identity-utils.ts"),d=n("./Components/poi/status/upload-complete/upload-complete.tsx"),m=n("./Components/icon-message-content/index.ts");const f=function(e){var t=e.error;return a().createElement(m.default,{message:(0,l.localize)("Proof of identity documents upload failed"),text:t,icon:a().createElement(c.Icon,{icon:"IcPoiFailed",size:128}),className:"account-management-dashboard"})};var p=n("../../../node_modules/@binary-com/binary-document-uploader/DocumentUploader.js"),_=n.n(p),h=function(e){return(0,l.localize)("Unable to read file {{name}}",{name:e})};const y=function(e,t,n){return new Promise((function(r,a){e||a();var o=new(_())({connection:t()}),i=!1;(0,s.compressImageFiles)([e]).then((function(e){(0,s.readFiles)(e,h,n).then((function(e){e.forEach((function(e){e.message&&(i=!0,a(e))}));var t=e.length;!i&&t&&o.upload(e[0]).then(r).catch(a)})).catch((function(e){return console.error("error: ",e)}))})).catch((function(e){return console.error("error: ",e)}))}))};var v=n("./Sections/Verification/ProofOfIdentity/onfido-sdk-view-container.tsx"),g=n("../../../node_modules/formik/dist/formik.esm.js"),b=n("../../../node_modules/prop-types/index.js"),x=n.n(b);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O="manual-poi-details",L={NATIONAL_IDENTITY_CARD:"national_identity_card",NIMC_SLIP:"nimc_slip",PASSPORT:"passport",DRIVING_LICENCE:"driving_licence",BIRTH_CERTIFICATE:"birth_certificate",SELFIE_WITH_ID:"selfie_with_id",OTHER:"other"},j={FRONT:"front",BACK:"back",PHOTO:"photo"},C={document_type:L.SELFIE_WITH_ID,pageType:j.PHOTO,name:"selfie_with_id",icon:"IcSelfie",info:(0,l.localize)("Upload your selfie.")},N={name:"expiry_date",label:(0,l.localize)("Expiry date"),type:"date",required:!0};function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}var I=function(e){var t=e.data,n=(0,s.toMoment)().add(6,"months").format("YYYY-MM-DD");switch(t.type){case"text":return a().createElement(g.gN,{name:t.name},(function(e){var n=e.field,r=e.form,o=r.errors,i=r.touched;return a().createElement(c.Input,P({},n,{className:"".concat(O,"__field"),type:"text",label:"".concat(t.label).concat(t.required?"*":""),error:i[n.name]&&o[n.name]}))}));case"date":return a().createElement(g.gN,{name:t.name},(function(e){var r=e.field,o=e.form,i=o.errors,l=o.touched;return a().createElement(c.DatePicker,P({},r,{className:"".concat(O,"__field"),date_format:"YYYY-MM-DD",display_format:"DD-MM-YYYY",start_date:n,min_date:n,should_show_today:!1,name:t.name,label:"".concat(t.label).concat(t.required?"*":""),error:l[r.name]&&i[r.name],readOnly:!0}))}));default:return null}};I.propTypes={data:x().object};const T=I;function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===A(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q={"file-too-large":(0,l.localize)("File size should be 8MB or less"),"file-invalid-type":(0,l.localize)("File uploaded is not supported"),"too-many-files":(0,l.localize)("Please select one file only"),GENERAL:(0,l.localize)("Sorry, an error occured. Please select another file.")},G=function(e){var t=e.data,n=e.open;return a().createElement("div",{className:"".concat(O,"__uploader-details")},a().createElement(c.Icon,{className:"".concat(O,"__uploader-icon"),icon:null==t?void 0:t.icon,size:236}),a().createElement(c.Text,{as:"p",size:"xs",color:"general",align:"center"},null==t?void 0:t.info),a().createElement(c.Button,{medium:!0,secondary:!0,text:(0,s.isMobile)()?(0,l.localize)("Tap here to upload"):(0,l.localize)("Drop file or click here to upload"),onClick:n}))},Y=function(e){var t=e.data,n=e.setFieldValue,r=e.value,o=e.has_frame,l=e.handleChange,s=B(a().useState(""),2),u=s[0],d=s[1];return a().useEffect((function(){d(null!=r&&r.file?URL.createObjectURL(null==r?void 0:r.file):"")}),[r]),a().createElement("div",{className:"".concat(O,"__uploader-details ").concat(O,"__uploader-details--preview")},a().createElement("div",{className:i()("".concat(O,"__uploader-image"),D({},"".concat(O,"__uploader-image--has-frame"),o)),style:{backgroundImage:"url(".concat(u,")")}},o&&a().createElement(c.Icon,{icon:"IcPoiFrame",className:"".concat(O,"__uploader-frame")}),(!u||-1!==(null==r?void 0:r.file.type.indexOf("pdf")))&&a().createElement(a().Fragment,null,a().createElement(c.Icon,{icon:"IcCloudUpload",size:50}),a().createElement(c.Text,{as:"p",size:"xs",color:"general",align:"center"},null==r?void 0:r.file.name)),a().createElement(c.Icon,{icon:"IcCloseCircle",className:"".concat(O,"__uploader-remove"),onClick:function(){null==l||l(null,n)},size:16})),a().createElement(c.Text,{as:"p",size:"xs",color:"general",align:"center"},null==t?void 0:t.info))};const W=function(e){var t=e.data,n=e.value,r=e.is_full,o=e.onChange,u=e.has_frame,d=B(a().useState(),2),m=d[0],f=d[1];a().useEffect((function(){f(n)}),[n]);var p=function(e,n){null==o||o(e),null==n||n(null==t?void 0:t.name,e)},_=function(e){var t;return a().createElement("div",{className:"".concat(O,"__uploader-details")},null==m||null===(t=m.errors)||void 0===t?void 0:t.map((function(e,t){return a().createElement(c.Text,{key:t,as:"p",size:"xs",color:"secondary",align:"center"},e)})),a().createElement(c.Button,{medium:!0,secondary:!0,text:(0,s.isMobile)()?(0,l.localize)("Tap here to upload"):(0,l.localize)("Drop file or click here to upload"),onClick:e}))};return a().createElement(g.gN,{name:null==t?void 0:t.name},(function(e){var o,d=e.form.setFieldValue;return a().createElement("div",{className:i()("".concat(O,"__uploader"),D({},"".concat(O,"__uploader--full"),r))},a().createElement(c.FileDropzone,{accept:s.supported_filetypes,error_message:(0,l.localize)("Please upload supported file type."),filename_limit:32,hover_message:(0,l.localize)("Drop files here.."),max_size:s.max_document_size,message:function(e){return a().createElement(G,{open:e,data:t})},preview_single:m&&a().createElement(Y,{data:t,value:m,has_frame:u,setFieldValue:d,handleChange:p}),multiple:!1,onDropAccepted:function(e){return function(e,n){var r=F({file:e[0],errors:[]},t);p(r,n)}(e,d)},onDropRejected:function(e){return function(e,n){var r,a=null===(r=e[0].errors)||void 0===r?void 0:r.map((function(e){return q[e.code]?q[e.code]:q.GENERAL})),o=F(F({},e[0]),{},{errors:a},t);p(o,n)}(e,d)},validation_error_message:null!=n&&null!==(o=n.errors)&&void 0!==o&&o.length?_:void 0,noClick:!0,value:m?[m]:[]}))}))};var V=function(e){var t={};return e.forEach((function(e){t[e.name]=""})),t},U=function(e){return"string"==typeof e?!e.trim():!e},$=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){var r=t.name,a=t.label,o=t.type,i=e[r];t.required&&U(i)?n[r]=(0,l.localize)("{{label}} is required.",{label:a}):"text"!==o||/^[\w\s-]{0,30}$/g.test(i)||(n[r]=(0,l.localize)("Only letters, numbers, space, underscore, and hyphen are allowed for {{label}}.",{label:a}))})),t.forEach((function(t){var r,a=t.name,o=t.label,i=e[a];U(i)?n[a]=(0,l.localize)("{{label}} is required.",{label:o}):null!==(r=i.errors)&&void 0!==r&&r.length&&(n[a]=i.errors[0])})),n};function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Z(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===H(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=[{icon:"IcPoiClearPhoto",text:(0,l.localize)("A clear colour photo or scanned image")},{icon:"IcPoiFileFormat",text:(0,l.localize)("JPEG, JPG, PNG, PDF, or GIF")},{icon:"IcPoiFileSize",text:(0,l.localize)("Less than 8MB")},{icon:"IcPoiDocExpiry",text:(0,l.localize)("Must be valid for at least 6 months")}],Q=function(e){var t=e.data;return a().createElement("div",{className:"".concat(O,"__icons-item")},a().createElement(c.Icon,{icon:t.icon,size:24}),a().createElement(c.Text,{as:"p",size:"xxxs",align:"center"},t.text))};const ee=function(e){var t=e.initial_values,n=e.is_from_external,r=e.data,o=e.goToCards,u=e.onSubmit,d=r.fields,m=r.documents_title,f=r.documents,p=(0,l.localize)("First, enter your {{label}} and the expiry date.",{label:null==d?void 0:d[0].label});return a().createElement("div",{className:i()(O,J({},"".concat(O,"--mobile"),(0,s.isMobile)()))},a().createElement(g.J9,{initialValues:t||V([].concat(Z(d||[]),Z(f||[]))),validate:function(e){return $(e,d,f)},onSubmit:u},(function(e){var t=e.values,r=e.isValid,i=e.touched,s=Object.keys(i).length>0,u=Object.values(t).some((function(e,t){var n;return(null===e||""===e)&&(null==d||null===(n=d[t])||void 0===n?void 0:n.required)}));return a().createElement(g.l0,{className:"".concat(O,"__form")},a().createElement("div",{className:"".concat(O,"__fields-content")},a().createElement(c.Text,{as:"h3",size:"s",color:"prominent"},p),a().createElement("div",{className:"".concat(O,"__fields-wrap")},null==d?void 0:d.map((function(e){return a().createElement(T,{key:e.name,data:e})}))),a().createElement("div",{className:"".concat(O,"__divider")}),a().createElement(c.Text,{as:"h3",size:"s",color:"prominent"},m),a().createElement("div",{className:"".concat(O,"__uploaders-wrap")},null==f?void 0:f.map((function(e){return a().createElement(W,{key:e.name,data:e,value:t[e.name],is_full:1===f.length||n})}))),a().createElement("div",{className:"".concat(O,"__icons")},X.map((function(e){return a().createElement(Q,{key:e.icon,data:e})})))),a().createElement("div",{className:"".concat(O,"__btns")},a().createElement(c.Button,{onClick:o,secondary:!0,large:!0,text:(0,l.localize)("Go back"),icon:a().createElement(c.Icon,{icon:"IcButtonBack",size:16})}),a().createElement(c.Button,{type:"submit",primary:!0,large:!0,is_disabled:!r||!s&&u,text:(0,l.localize)("Next")})))})))};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=function(e){var t=e.initial_values,n=e.goBack,r=e.onConfirm,o=e.onFileDrop;return a().createElement("div",{className:i()(O,ne({},"".concat(O,"--mobile"),(0,s.isMobile)()))},a().createElement(g.J9,{initialValues:t||V([C]),validate:function(e){return $(e,void 0,[C])},onSubmit:r},(function(e){var t,r,i=e.values,s=e.isValid,u=e.isSubmitting,d=e.touched;return d&&(t=Object.keys(d).length>0),i&&(r=Object.values(i).some((function(e){return null===e||""===e}))),a().createElement(g.l0,{className:"".concat(O,"__form")},a().createElement("div",{className:"".concat(O,"__fields-content")},a().createElement(c.Text,{as:"h3",size:"s",weight:"bold",color:"prominent"},(0,l.localize)("Upload your selfie")),a().createElement("div",{className:"".concat(O,"__uploaders-wrap")},a().createElement(W,{data:C,value:i?i[C.name]:"",is_full:!0,onChange:o,has_frame:!0})),a().createElement("div",{className:"".concat(O,"__notice")},a().createElement(c.Text,{as:"p",size:"xs",color:"general"},(0,l.localize)("Before uploading, please ensure that you’re facing forward in the selfie, your face is within the frame, and your eyes are clearly visible even if you’re wearing glasses.")))),a().createElement("div",{className:"".concat(O,"__btns")},a().createElement(c.Button,{onClick:n,secondary:!0,large:!0,text:(0,l.localize)("Go back"),icon:a().createElement(c.Icon,{icon:"IcButtonBack",size:16})}),a().createElement(c.Button,{type:"submit",primary:!0,large:!0,is_disabled:!s||u||!t&&r,text:(0,l.localize)("Confirm and upload")})))})))};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ue=function(e){var t=e.data,n=e.goToCards,r=e.onComplete,o=e.is_from_external,i=e.setIsCfdPoiCompleted,l=ce(a().useState(),2),c=l[0],s=l[1],u=ce(a().useState(),2),d=u[0],m=u[1],f=ce(a().useState(!1),2),p=f[0],_=f[1];return a().createElement(a().Fragment,null,p?a().createElement(re,{initial_values:d,goBack:function(){return _(!1)},onConfirm:function(e){r(ie(ie({},c),e)),null==i||i(!0)},onFileDrop:function(e){return m(le({},C.name,e))}}):a().createElement(ee,{initial_values:c,is_from_external:o,data:t,goToCards:n,onSubmit:function(e){s(e),_(!0)}}))};var de=["document","onClickBack","root_class","country_code_key","height","handleComplete","is_onfido_supported","is_from_external","setIsCfdPoiCompleted","is_mt5","handlePOIforMT5Complete"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he="IS_UPLOADING",ye="IS_COMPLETED",ve="IS_FAILED";const ge=function(e){var t=e.document,n=e.onClickBack,r=e.root_class,o=e.country_code_key,i=e.height,u=e.handleComplete,m=e.is_onfido_supported,p=e.is_from_external,_=e.setIsCfdPoiCompleted,h=e.is_mt5,g=e.handlePOIforMT5Complete,b=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,de),x=fe(a().useState(""),2),E=x[0],w=x[1],z=fe(a().useState(""),2),S=z[0],k=z[1],O=!1;switch(E){case he:return a().createElement(c.Loading,{is_fullscreen:!1,is_slow_loading:!0,status:[(0,l.localize)("Uploading documents")]});case ye:return a().createElement(d.k,{is_from_external:!0,needs_poa:!1,is_manual_upload:!0});case ve:return a().createElement(f,{error:S});default:return a().createElement(a().Fragment,null,m?a().createElement(a().Fragment,null,a().createElement("div",{className:"".concat(r,"__detail-header"),onClick:n},a().createElement(c.Icon,{icon:"IcArrowLeftBold"}),a().createElement(c.Text,{as:"p",size:"xs",weight:"bold",color:"prominent",className:"".concat(r,"__back-title")},(0,l.localize)("Back"))),a().createElement(v.Z,me({country_code:o,documents_supported:[t.onfido_name],height:null!=i?i:null,handleComplete:h?g:u,is_default_enabled:!0,handleViewComplete:h?g:u},b))):a().createElement(ue,{data:t.details,onComplete:function(e){var n;w(he),(n=e,new Promise((function(e,r){var a=t.details.documents.map((function(e){return e.name})),i=Object.values(n).filter((function(e){return[].concat(function(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a),[C.name]).includes(e.name)})),c=i.length,u=0,d=[];!function t(){var a,m=i[u],f=m.file,p=m.document_type,_=m.pageType,h=m.lifetime_valid,v="function"==typeof(null===(a=n.expiry_date)||void 0===a?void 0:a.format)?n.expiry_date.format("YYYY-MM-DD"):void 0;y(f,s.WS.getSocket,{documentType:p,pageType:_,expirationDate:v,documentId:n.document_id||"",lifetimeValid:+(h&&!v),document_issuing_country:o}).then((function(n){u+=1,n.warning||n.error?(O=!0,w(ve),k(n.message||(n.error?n.error.message:(0,l.localize)("Failed"))),u<c&&t()):u<c?(d.push(n),t()):e(d)})).catch((function(e){r(e)}))}()}))).then((function(){O||(h?null==g||g():w(ye))})).catch((function(e){w(ve),k(e.message)}))},goToCards:n,is_from_external:p,setIsCfdPoiCompleted:_}))}};var be=function(e){var t=e.onClick,n=e.title,r=e.description,o=e.icon;return a().createElement("div",{className:"manual-poi__card",onClick:t},a().createElement(c.Icon,{className:"manual-poi__card-icon",icon:o,size:64}),a().createElement("div",{className:"manual-poi__card-content"},a().createElement(c.Text,{as:"p",size:"xs",weight:"bold",color:"prominent"},n),a().createElement(c.Text,{as:"p",size:(0,s.isMobile)()?"xxxs":"xxs"},r)),a().createElement(c.Icon,{icon:"IcChevronRight",size:(0,s.isMobile)()?23:31}))};function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}var Ee=function(e){var t=e.toggleDetail,n=e.documents;return a().createElement(a().Fragment,null,n.map((function(e,n){return a().createElement(c.Card,{style:{margin:"1.6rem 0",height:"11.2rem"},key:n,renderContent:function(){return a().createElement(be,xe({onClick:function(){return t(n)}},e.card))}})})))},we=n("./Components/poi/status/upload-complete/index.ts"),ze=n("./Components/poi/status/verified/index.ts"),Se=n("./Components/poi/status/limited/index.js"),ke=n("./Components/poi/status/expired/index.js"),Oe=["country_code","handlePOIforMT5Complete","manual","redirect_button","needs_poa","handleRequireSubmission","allow_poi_resubmission","handleViewComplete","onfido"];function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ce=function(e){var t=e.country_code,n=e.handlePOIforMT5Complete,r=e.manual,o=e.redirect_button,d=e.needs_poa,m=e.handleRequireSubmission,f=e.allow_poi_resubmission,p=e.handleViewComplete,_=e.onfido,h=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Oe),y=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(null),2),v=y[0],g=y[1],b=function(e){var t=e.country_code;return[{onfido_name:"Passport",card:{title:(0,l.localize)("Passport"),description:(0,l.localize)("Upload the page that contains your photo."),icon:"IcPoiPassport"},details:{fields:[{name:"document_id",label:(0,l.localize)("Passport number"),type:"text",required:!0},z({},N)],documents_title:(0,l.localize)("Next, upload the page of your passport that contains your photo."),documents:[{document_type:L.PASSPORT,pageType:j.FRONT,name:"passport",icon:"IcPassport",info:(0,l.localize)("Upload the page of your passport that contains your photo.")}]}},{onfido_name:"Driving Licence",card:{title:(0,l.localize)("Driving licence"),description:(0,l.localize)("Upload the front and back of your driving licence."),icon:"IcPoiDrivingLicence"},details:{fields_title:(0,l.localize)("First, enter your driving licence number and the expiry date."),fields:[{name:"document_id",label:(0,l.localize)("Driving licence number"),type:"text",required:!0},z({},N)],documents_title:(0,l.localize)("Next, upload the front and back of your driving licence."),documents:[{document_type:L.DRIVING_LICENCE,pageType:j.FRONT,name:"driving_licence_front",icon:"IcDrivingLicenceFront",info:(0,l.localize)("Upload the front of your driving licence.")},{document_type:L.DRIVING_LICENCE,pageType:j.BACK,name:"driving_licence_back",icon:"IcIdCardBack",info:(0,l.localize)("Upload the back of your driving licence.")}]}},{onfido_name:"National Identity Card",card:{title:(0,l.localize)("Identity card"),description:(0,l.localize)("Upload the front and back of your identity card."),icon:"IcPoiIdentityCard"},details:{fields_title:(0,l.localize)("First, enter your identity card number and the expiry date."),fields:[{name:"document_id",label:(0,l.localize)("Identity card number"),type:"text",required:!0},z({},N)],documents_title:(0,l.localize)("Next, upload the front and back of your identity card."),documents:[{document_type:L.NATIONAL_IDENTITY_CARD,pageType:j.FRONT,name:"identity_card_front",icon:"IcIdCardFront",info:(0,l.localize)("Upload the front of your identity card.")},{document_type:L.NATIONAL_IDENTITY_CARD,pageType:j.BACK,name:"identity_card_back",icon:"IcIdCardBack",info:(0,l.localize)("Upload the back of your identity card.")}]}}].concat(function(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}("ng"===t?[{card:{title:(0,l.localize)("NIMC slip and proof of age"),description:(0,l.localize)("Upload both of these documents to prove your identity."),icon:"IcPoiNimcSlip"},details:{fields:[{name:"document_id",label:(0,l.localize)("NIMC slip number"),type:"text",required:!0},z(z({},N),{},{required:!1})],documents_title:(0,l.localize)("Next, upload both of the following documents."),documents:[{document_type:L.NIMC_SLIP,lifetime_valid:!0,pageType:j.FRONT,name:"nimc_slip",icon:"IcPoiNimcSlipHorizontal",info:(0,l.localize)("Upload your NIMC slip.")},{document_type:L.BIRTH_CERTIFICATE,pageType:j.PHOTO,name:"birth_certificate_front",icon:"IcDop",info:(0,l.localize)("Upload your proof of age: birth certificate or age declaration document.")}]}}]:[]))}({country_code:t});if(r){if(r.status===u.Yy.pending)return a().createElement(we.default,{is_manual_upload:!0,needs_poa:d,redirect_button:o});if([u.Yy.rejected,u.Yy.suspected].includes(r.status)){if(!f)return a().createElement(Se.Z,null)}else{if(r.status===u.Yy.verified)return a().createElement(ze.default,{needs_poa:d,redirect_button:o});if(r.status===u.Yy.expired)return a().createElement(ke.default,{redirect_button:o,handleRequireSubmission:m})}}if(null!==v){var x="ng"===t&&!function(e){var t=!1;return e.forEach((function(e){e.document_type===L.NIMC_SLIP&&(t=!0)})),t}(b[null!=v?v:0].details.documents)&&_&&_.submissions_left>0;return a().createElement(ge,Le({is_onfido_supported:x,country_code_key:t,document:b[v],root_class:"manual-poi",onClickBack:function(){return g(null)},handlePOIforMT5Complete:n,handleComplete:p},h))}return a().createElement(c.Timeline,{className:i()("manual-poi",{"manual-poi--mobile":(0,s.isMobile)()}),disabled_items:[2]},a().createElement(c.Timeline.Item,{item_title:(0,l.localize)("Please upload one of the following documents:")},a().createElement(Ee,{documents:b,toggleDetail:function(e){return g(e)}})),a().createElement(c.Timeline.Item,{item_title:(0,l.localize)("Upload your selfie")},a().createElement("div",null)))}},"./Components/poi/status/upload-complete/index.ts":(e,t,n)=>{n.d(t,{default:()=>r});const r=n("./Components/poi/status/upload-complete/upload-complete.tsx").k},"./Components/poi/status/upload-complete/upload-complete.tsx":(e,t,n)=>{n.d(t,{k:()=>f});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/shared"),l=n("@deriv/translations"),c=n("./Components/poa/poa-button/index.ts"),s=n("./Components/poa/continue-trading-button/continue-trading-button.tsx"),u=n("./Components/icon-message-content/index.ts"),d=n("../../../node_modules/classnames/index.js"),m=n.n(d),f=function(e){var t=e.needs_poa,n=e.redirect_button,r=e.is_from_external,d=e.is_manual_upload,f=void 0!==d&&d,p=a().useContext(i.PlatformContext).is_appstore,_=(0,l.localize)("Your documents were submitted successfully"),h=f?(0,l.localize)("We’ll review your documents and notify you of its status within 1 - 3 working days."):(0,l.localize)("We’ll review your documents and notify you of its status within 5 minutes."),y=(0,i.isNavigationFromP2P)()||(0,i.isNavigationFromDerivGO)();return t?a().createElement(u.default,{message:_,icon:p?a().createElement(o.Icon,{icon:"IcPoiVerifiedDashboard",width:273,height:128}):a().createElement(o.Icon,{icon:"IcPoiVerified",size:128}),className:m()({"account-management-dashboard":p})},a().createElement(a().Fragment,null,a().createElement("div",{className:"account-management__text-container"},a().createElement(o.Text,{align:"center",size:"xs",as:p?"span":"p"},h),a().createElement(o.Text,{align:"center",size:"xs",as:p?"span":"p"},(0,l.localize)("You must also submit a proof of address."))),a().createElement(c.Z,null)),!r&&n):a().createElement(u.default,{message:_,text:h,icon:p?a().createElement(o.Icon,{icon:"IcPoiVerifiedDashboard",width:273,height:128}):a().createElement(o.Icon,{icon:"IcPoiVerified",size:128}),className:m()({"account-management-dashboard":p})},!r&&(n||!y&&a().createElement(s.M,null)))}},"./Components/poi/status/verified/index.ts":(e,t,n)=>{n.d(t,{default:()=>u});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("./Components/icon-message-content/index.ts"),l=n("@deriv/shared"),c=n("./Components/poa/poa-button/index.ts"),s=n("@deriv/translations");const u=function(e){var t=e.needs_poa,n=e.redirect_button,r=e.is_from_external,u=a().useContext(l.PlatformContext).is_appstore,d=(0,s.localize)("Your proof of identity is verified");return t?a().createElement(i.default,{message:d,icon:u?a().createElement(o.Icon,{icon:"IcPoaVerifiedDashboard",height:128,width:237}):a().createElement(o.Icon,{icon:"IcPoaVerified",size:128}),className:"account-management-dashboard",text:(0,s.localize)("To continue trading, you must also submit a proof of address.")},!r&&a().createElement(a().Fragment,null,a().createElement(c.Z,null))):a().createElement(i.default,{message:d,icon:u?a().createElement(o.Icon,{icon:"IcPoaVerifiedDashboard",height:128,width:237,data_testid:"dt_IcPoaVerifiedDashboard"}):a().createElement(o.Icon,{icon:"IcPoaVerified",size:128,data_testid:"dt_IcPoaVerified"}),className:"account-management-dashboard"},!r&&n)}},"./Components/reset-trading-password-modal/index.js":(e,t,n)=>{n.d(t,{default:()=>g});var r=n("react"),a=n.n(r),o=n("../../../node_modules/prop-types/index.js"),i=n.n(o),l=n("../../../node_modules/formik/dist/formik.esm.js"),c=n("react-router-dom"),s=n("@deriv/components"),u=n("@deriv/shared"),d=n("@deriv/translations");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new O(a||[]);return r(i,"_invoke",{value:w(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function f(){}function p(){}function h(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&n.call(g,o)&&(y=g);var b=h.prototype=f.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==m(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=z(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function z(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,z(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=c(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(b),c(b,l,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function h(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}var y=function(e){var t=e.setDialogTitleFunc,n=e.toggleResetTradingPasswordModal,r=e.verification_code,o=e.platform;return a().createElement("div",{className:"reset-trading-password"},a().createElement(l.J9,{initialValues:{password:""},initialStatus:{reset_complete:!1,error_msg:"",error_code:""},validate:function(e){var t={};return(0,u.validLength)(e.password,{min:8,max:25})?(0,u.validPassword)(e.password)||(t.password=(0,u.getErrorMessages)().password()):t.password=(0,d.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),t},onSubmit:function(e,n){n.setSubmitting(!0);var a={new_password:e.password,verification_code:r,platform:o};u.WS.tradingPlatformPasswordReset(a).then(function(){var e,r=(e=_().mark((function e(r){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.error?(n.setStatus({error_msg:r.error.message,error_code:r.error.code}),null==t||t(!0)):(n.resetForm({password:""}),n.setStatus({reset_complete:!0}),u.WS.getAccountStatus()),n.setSubmitting(!1);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,l,"next",e)}function l(e){h(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}},(function(e){var t=e.handleBlur,r=e.errors,i=e.values,c=e.touched,m=e.isSubmitting,f=e.setFieldTouched,p=e.handleChange,_=e.status;return a().createElement(l.l0,null,a().createElement(a().Fragment,null,_.error_msg&&a().createElement("div",{className:"reset-trading-password__error"},a().createElement(s.Icon,{icon:"IcMt5Expired",size:128}),a().createElement(s.Text,{as:"p",size:"xs",weight:"bold",align:"center",className:"reset-trading-password__lead"},_.error_msg),"InvalidToken"===_.error_code&&a().createElement(s.Text,{as:"p",color:"prominent",size:"xs",align:"center",className:"reset-trading-password__description--is-centered"},a().createElement(d.Localize,{i18n_default_text:"Please request a new password and check your email for the new token."})),a().createElement(s.Button,{className:"reset-trading-password__confirm-button",primary:!0,large:!0,onClick:function(){return n(!1)}},a().createElement(d.Localize,{i18n_default_text:"Ok"}))),_.reset_complete&&a().createElement("div",{className:"reset-trading-password__password-success"},a().createElement(s.Icon,{className:"reset-trading-password__icon",icon:"IcSuccessResetTradingPassword",size:128}),a().createElement(s.Text,{as:"p",weight:"bold",className:"reset-trading-password__heading"},a().createElement(d.Localize,{i18n_default_text:"Success"})),a().createElement(s.Text,{align:"center",as:"p",size:"xs",className:"reset-trading-password__subtext"},(0,d.localize)("You have a new {{platform}} password to log in to your {{platform}} accounts on the web and mobile apps.",{platform:(0,u.getCFDPlatformLabel)(o)})),a().createElement(s.Button,{type:"button",onClick:function(){return n(!1)},primary:!0,large:!0},a().createElement(d.Localize,{i18n_default_text:"Done"}))),!_.error_msg&&!_.reset_complete&&a().createElement("div",{className:"reset-trading-password__set-password"},a().createElement(s.Text,{as:"p",weight:"bold",className:"reset-trading-password__heading"},a().createElement(d.Localize,{i18n_default_text:"Create a new {{platform}} password",values:{platform:(0,u.getCFDPlatformLabel)(o)}})),a().createElement("fieldset",{className:"reset-trading-password__input-field"},a().createElement(s.PasswordMeter,{input:i.password,has_error:!(!c.password||!r.password),custom_feedback_messages:(0,u.getErrorMessages)().password_warnings},a().createElement(s.PasswordInput,{autoComplete:"new-password",className:"reset-trading-password__password-field",name:"password",label:(0,d.localize)("{{platform}} password",{platform:(0,u.getCFDPlatformLabel)(o)}),onChange:function(e){f("password",!0),p(e)},onBlur:t,error:c.password?r.password:"",value:i.password,"data-lpignore":"true",required:!0}))),a().createElement(s.Text,{as:"p",size:"xs",className:"reset-trading-password__hint"},a().createElement(d.Localize,{i18n_default_text:"Strong passwords contain at least 8 characters that include uppercase and lowercase letters, numbers, and symbols."})),a().createElement(s.FormSubmitButton,{is_disabled:!i.password||!!r.password||m,has_cancel:!0,cancel_label:(0,d.localize)("Cancel"),onCancel:function(){return n(!1)},is_loading:m,label:(0,d.localize)("Create")}))))})))},v=function(e){var t=e.disableApp,n=e.enableApp,r=e.is_loading,o=e.is_visible,i=e.toggleResetTradingPasswordModal,l=e.verification_code,m=e.platform,p=f(a().useState(""),2),_=p[0],h=p[1],v=(0,c.useHistory)();return a().useEffect((function(){o&&""!==v.location.search&&v.replace({search:"",hash:location.hash})}),[v,o]),a().createElement(s.Dialog,{className:"reset-trading-password__dialog",disableApp:t,enableApp:n,has_close_icon:!!_,is_loading:r,is_visible:o,onConfirm:function(){return i(!1)},title:_},a().createElement(y,{toggleResetTradingPasswordModal:i,verification_code:l,setDialogTitleFunc:function(e){h(e?(0,d.localize)("Reset {{platform}} password",{platform:(0,u.getCFDPlatformLabel)(m)}):"")},platform:m}))};v.propTypes={disableApp:i().func,enableApp:i().func,is_loading:i().bool,is_visible:i().bool,toggleResetTradingPasswordModal:i().func,verification_code:i().string,platform:i().string};const g=v},"./Components/sent-email-modal/index.ts":(e,t,n)=>{n.d(t,{default:()=>c});var r=n("react"),a=n.n(r),o=n("@deriv/translations"),i=n("@deriv/components"),l=n("@deriv/shared");const c=function(e){var t=e.identifier_title,n=e.is_modal_when_mobile,r=void 0!==n&&n,c=e.is_open,s=e.has_live_chat,u=void 0!==s&&s,d=e.onClickSendEmail,m=e.onClose,f=u?a().createElement(o.Localize,{i18n_default_text:"Still didn't get the email? Please contact us via <0>live chat.</0>",components:[a().createElement("span",{className:"send-email-template__footer-live-chat",key:0,onClick:function(){var e;m(),null===(e=window.LiveChatWidget)||void 0===e||e.call("maximize")}},a().createElement(i.Popover,{className:"send-email-template__footer-live-chat__link",classNameBubble:"help-centre__tooltip",alignment:"top",message:(0,o.localize)("Live chat"),zIndex:"9999"}))]}):null,p=a().createElement(i.SendEmailTemplate,{className:"sent-email",subtitle:function(){var e="";switch(t){case l.CFD_PLATFORMS.DXTRADE:e=a().createElement(o.Localize,{i18n_default_text:"Please click on the link in the email to change your <0>{{platform_name_dxtrade}}</0> password.",components:[a().createElement("span",{className:"send-email-template__subtitle-platform",key:0})],values:{platform_name_dxtrade:(0,l.getPlatformSettings)("dxtrade").name}});break;case l.CFD_PLATFORMS.MT5:e=(0,o.localize)("Please click on the link in the email to change your Deriv MT5 password.");break;case"Google":case"Facebook":e=(0,o.localize)("Check your {{ identifier_title }} account email and click the link in the email to proceed.",{identifier_title:t});break;case"Change_Email":e=(0,o.localize)("Check your email and click the link in the email to proceed.");break;default:e=(0,o.localize)("Please click on the link in the email to reset your password.")}return e}(),title:(0,o.localize)("We’ve sent you an email"),lbl_no_receive:(0,o.localize)("Didn't receive the email?"),txt_resend:(0,o.localize)("Resend email"),txt_resend_in:(0,o.localize)("Resend email in"),onClickSendEmail:d,live_chat:f},[{key:"email_spam",icon:"IcEmailSpam",content:(0,o.localize)("The email is in your spam folder (Sometimes things get lost there).")},{key:"wrong_email",icon:"IcEmail",content:(0,o.localize)("You accidentally gave us another email address (Usually a work or a personal one instead of the one you meant).")},{key:"wrong_typo",icon:"IcEmailTypo",content:(0,o.localize)("The email address you entered had a mistake or typo (happens to the best of us).")},{key:"email_firewall",icon:"IcEmailFirewall",content:(0,o.localize)("We can’t deliver the email to this address (Usually because of firewalls or filtering).")}].map((function(e){return a().createElement("div",{className:"sent-email__content",key:e.key},a().createElement(i.Icon,{icon:e.icon,size:32}),a().createElement(i.Text,{size:"xxs",as:"p"},e.content))})));return(0,l.isMobile)()&&!r?a().createElement(i.MobileDialog,{portal_element_id:"modal_root",title:(0,o.localize)("We’ve sent you an email"),wrapper_classname:"mt5-email-sent",visible:c,onClose:m,has_content_scroll:!0},p):a().createElement(i.Modal,{className:"sent-email__modal",is_open:c,has_close_icon:!0,should_header_stick_body:!0,title:"",toggleModal:m,width:"440px"},a().createElement(i.Div100vhContainer,{className:"account__scrollbars_container-wrapper",is_disabled:(0,l.isDesktop)(),height_offset:"80px"},a().createElement(i.Modal.Body,null,a().createElement("div",{onClick:m,className:"send-email-template__close","data-testid":"dt_send_email_template_close"},a().createElement(i.Icon,{icon:"IcCross"})),p)))}},"./Components/trading-assessment/risk-tolerance-warning-modal.jsx":(e,t,n)=>{n.d(t,{default:()=>l});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations");const l=function(e){var t=e.show_risk_modal,n=e.handleAcceptRisk,r=e.title,l=e.button_text,c=e.body_content,s=e.has_sub_header,u=void 0!==s&&s;return a().createElement(a().Fragment,null,a().createElement(o.DesktopWrapper,null,a().createElement(o.Modal,{width:"44rem",title:r,height:"41rem",is_open:t,className:"center-risk-modal",toggleModal:n,has_close_icon:!1},a().createElement(o.Modal.Body,null,a().createElement(o.Icon,{icon:"IcRedWarning",size:"63"}),a().createElement(o.Text,{as:"p",size:"xs",align:"center",line_height:"s",className:"risk-acceptance__text"},c)),a().createElement(o.Modal.Footer,null,a().createElement(o.Button,{type:"button",large:!0,text:l||(0,i.localize)("OK"),primary:!0,onClick:n})))),a().createElement(o.MobileWrapper,null,a().createElement(o.MobileDialog,{visible:t,title:u?(0,i.localize)("Trading Experience Assessment"):r,portal_element_id:"modal_root",has_close_icon:!1},a().createElement(o.Modal.Body,{className:"risk-tolerance-modal"},u?a().createElement(o.Text,{size:"xs",line_height:"s",weight:"bold",as:"p",className:"risk-tolerance-modal__title"},r,a().createElement("div",{className:"risk-tolerance-modal__title--separator"})):null,a().createElement("div",{className:"risk-tolerance-modal__wrapper"},a().createElement(o.Icon,{icon:"IcRedWarning",size:"65"}),a().createElement(o.Text,{as:"p",size:"xs",align:"center",line_height:"l",className:"risk-acceptance__text"},c))),a().createElement(o.Modal.Footer,{className:"risk-tolerance-modal__footer"},a().createElement(o.Button,{type:"button",large:!0,text:l||(0,i.localize)("OK"),primary:!0,onClick:n})))))}},"./Components/trading-assessment/test-warning-modal.jsx":(e,t,n)=>{n.d(t,{default:()=>l});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations");const l=function(e){var t=e.show_risk_modal,n=e.body_content,r=e.footer_content;return a().createElement(a().Fragment,null,a().createElement(o.MobileWrapper,null,a().createElement(o.MobileDialog,{wrapper_classname:"test-warning",portal_element_id:"modal_root",visible:t,title:(0,i.localize)("Appropriateness Test Warning"),has_close_icon:!1},a().createElement(o.Modal.Body,null,n),a().createElement(o.Modal.Footer,null,r))),a().createElement(o.DesktopWrapper,null,a().createElement(o.Modal,{width:"44rem",has_close_icon:!1,title:(0,i.localize)("Appropriateness Test Warning"),is_open:t},a().createElement(o.Modal.Body,null,n),a().createElement(o.Modal.Footer,null,r))))}},"./Components/trading-assessment/trading-assessment-form.jsx":(e,t,n)=>{n("../../../node_modules/classnames/index.js"),n("react"),n("../../../node_modules/formik/dist/formik.esm.js"),n("@deriv/components"),n("@deriv/shared"),n("@deriv/translations")},"./Components/trading-assessment/trading-assessment-new-user.jsx":(e,t,n)=>{n("react"),n("./Components/trading-assessment/trading-assessment-form.jsx")},"./Configs/trading-assessment-config.ts":(e,t,n)=>{n.d(t,{C:()=>a}),n("@deriv/shared");var r=n("@deriv/translations"),a=function(){return[{question_text:(0,r.localize)("Do you understand that you could potentially lose 100% of the money you use to trade?"),section:"risk_tolerance",answer_options:[{text:(0,r.localize)("Yes"),value:"Yes"},{text:(0,r.localize)("No"),value:"No"}],form_control:"risk_tolerance",field_type:"radio"},{question_text:(0,r.localize)("How much knowledge and experience do you have in relation to online trading?"),section:"source_of_experience",form_control:"source_of_experience",answer_options:[{text:(0,r.localize)("I have an academic degree, professional certification, and/or work experience related to financial services."),value:"I have an academic degree, professional certification, and/or work experience."},{text:(0,r.localize)("I trade forex CFDs and other complex financial instruments regularly on other platforms."),value:"I trade forex CFDs and other complex financial instruments."},{text:(0,r.localize)("I have attended seminars, training, and/or workshops related to trading."),value:"I have attended seminars, training, and/or workshops."},{text:(0,r.localize)("I am interested in trading but have very little experience."),value:"I have little experience."},{text:(0,r.localize)("I have no knowledge and experience in trading at all."),value:"I have no knowledge."}],field_type:"radio"},{section:"trading_experience",questions:[{question_text:(0,r.localize)("How much experience do you have in CFD trading?"),field_type:"dropdown",form_control:"cfd_experience",answer_options:[{text:(0,r.localize)("No experience"),value:"No experience"},{text:(0,r.localize)("Less than a year"),value:"Less than a year"},{text:(0,r.localize)("1 - 2 years"),value:"1 - 2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},{question_text:(0,r.localize)("How many CFD trades have you placed in the past 12 months?"),field_type:"dropdown",form_control:"cfd_frequency",answer_options:[{text:(0,r.localize)("None"),value:"No transactions in the past 12 months"},{text:"1 - 5",value:"1 - 5 transactions in the past 12 months"},{text:"6 - 10",value:"6 - 10 transactions in the past 12 months"},{text:"11 - 39",value:"11 - 39 transactions in the past 12 months"},{text:(0,r.localize)("40 or more"),value:"40 transactions or more in the past 12 months"}]},{question_text:(0,r.localize)("How much experience do you have with other financial instruments?"),field_type:"dropdown",form_control:"trading_experience_financial_instruments",answer_options:[{text:(0,r.localize)("No experience"),value:"No experience"},{text:(0,r.localize)("Less than a year"),value:"Less than a year"},{text:(0,r.localize)("1 - 2 years"),value:"1 - 2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},{question_text:(0,r.localize)("How many trades have you placed with other financial instruments in the past 12 months?"),form_control:"trading_frequency_financial_instruments",field_type:"dropdown",answer_options:[{text:(0,r.localize)("None"),value:"No transactions in the past 12 months"},{text:"1 - 5",value:"1 - 5 transactions in the past 12 months"},{text:"6 - 10",value:"6 - 10 transactions in the past 12 months"},{text:"11 - 39",value:"11 - 39 transactions in the past 12 months"},{text:(0,r.localize)("40 or more"),value:"40 transactions or more in the past 12 months"}]}]},{question_text:(0,r.localize)("In your understanding, CFD trading allows you to"),section:"trading_knowledge",form_control:"cfd_trading_definition",field_type:"radio",answer_options:[{text:(0,r.localize)("Purchase commodities or shares of a company."),value:"Purchase shares of a company or physical commodities."},{text:(0,r.localize)("Place a position on the price movement of an asset where the outcome is a fixed return or nothing at all."),value:"Place a bet on the price movement."},{text:(0,r.localize)("Speculate on the price movement of an asset without actually owning it."),value:"Speculate on the price movement."},{text:(0,r.localize)("Make a long-term investment for a guaranteed profit."),value:"Make a long-term investment."}]},{question_text:(0,r.localize)("How does leverage affect CFD trading?"),section:"trading_knowledge",form_control:"leverage_impact_trading",field_type:"radio",answer_options:[{text:(0,r.localize)("Leverage helps to mitigate risk."),value:"Leverage is a risk mitigation technique."},{text:(0,r.localize)("Leverage prevents you from opening large positions."),value:"Leverage prevents you from opening large positions."},{text:(0,r.localize)("Leverage guarantees profits."),value:"Leverage guarantees profits."},{text:(0,r.localize)("Leverage lets you open large positions for a fraction of trade value, which may result in increased profit or loss."),value:"Leverage lets you open larger positions for a fraction of the trade's value."}]},{question_text:(0,r.localize)("Leverage trading is high-risk, so it's a good idea to use risk management features such as stop loss. Stop loss allows you to"),section:"trading_knowledge",form_control:"leverage_trading_high_risk_stop_loss",field_type:"radio",answer_options:[{text:(0,r.localize)("Cancel your trade at any time within a specified timeframe."),value:"Cancel your trade at any time within a chosen timeframe."},{text:(0,r.localize)("Close your trade automatically when the loss is equal to or more than a specified amount, as long as there is adequate market liquidity."),value:"Close your trade automatically when the loss is more than or equal to a specific amount."},{text:(0,r.localize)("Close your trade automatically when the profit is equal to or more than a specified amount, as long as there is adequate market liquidity."),value:"Close your trade automatically when the profit is more than or equal to a specific amount."},{text:(0,r.localize)("Make a guaranteed profit on your trade."),value:"Make a guaranteed profit on your trade."}]},{question_text:(0,r.localize)("When are you required to pay an initial margin?"),section:"trading_knowledge",form_control:"required_initial_margin",field_type:"radio",answer_options:[{text:(0,r.localize)("When opening a leveraged CFD trade."),value:"When opening a Leveraged CFD trade."},{text:(0,r.localize)("When trading multipliers."),value:"When trading Multipliers."},{text:(0,r.localize)("When buying shares of a company."),value:"When buying shares of a company."},{text:(0,r.localize)("All of the above."),value:"All of the above."}]}]}},"./Constants/idv-document-config.ts":(e,t,n)=>{n.d(t,{C:()=>i});var r=n("@deriv/shared"),a=n("@deriv/translations"),o=function(e){return(0,r.getUrlBase)("/public/images/common/".concat(e))},i=function(){return{ke:{alien_card:{new_display_name:"",example_format:"123456",sample_image:o("ke_alien_card.png")},national_id:{new_display_name:"",example_format:"12345678",sample_image:o("ke_national_identity_card.png")},passport:{new_display_name:"",example_format:"A12345678",sample_image:o("ke_passport.png")}},za:{national_id:{new_display_name:(0,a.localize)("National ID"),example_format:"1234567890123",sample_image:o("za_national_identity_card.png")},national_id_no_photo:{new_display_name:(0,a.localize)("National ID (No Photo)"),example_format:"1234567890123",sample_image:""}},ng:{bvn:{new_display_name:(0,a.localize)("Bank Verification Number"),example_format:"12345678901",sample_image:""},cac:{new_display_name:(0,a.localize)("Corporate Affairs Commission"),example_format:"12345678",sample_image:""},drivers_license:{new_display_name:"",example_format:"ABC123456789",sample_image:o("ng_drivers_license.png")},nin:{new_display_name:(0,a.localize)("National Identity Number"),example_format:"12345678901",sample_image:""},nin_slip:{new_display_name:(0,a.localize)("National Identity Number Slip"),example_format:"12345678901",sample_image:o("ng_nin_slip.png")},tin:{new_display_name:(0,a.localize)("Taxpayer identification number"),example_format:"12345678-1234",sample_image:""},voter_id:{new_display_name:(0,a.localize)("Voter ID"),example_format:"1234567890123456789",sample_image:o("ng_voter_id.png")}},gh:{drivers_license:{new_display_name:"",example_format:"B1234567",sample_image:""},national_id:{new_display_name:(0,a.localize)("National ID"),example_format:"GHA-123456789-1",sample_image:""},passport:{new_display_name:(0,a.localize)("Passport"),example_format:"G1234567",sample_image:""},ssnit:{new_display_name:(0,a.localize)("Social Security and National Insurance Trust"),example_format:"C123456789012",sample_image:""},voter_id:{new_display_name:(0,a.localize)("Voter ID"),example_format:"01234567890",sample_image:""}},br:{cpf:{new_display_name:(0,a.localize)("CPF"),example_format:"123.456.789-12",sample_image:""}},ug:{national_id:{new_display_name:(0,a.localize)("National ID"),example_format:"CM12345678PE1D",sample_image:o("ug_national_identity_card.png")},national_id_no_photo:{new_display_name:(0,a.localize)("National ID (No Photo)"),example_format:"CM12345678PE1D",sample_image:""}},zw:{national_id:{new_display_name:(0,a.localize)("National ID"),example_format:"081234567F53",sample_image:o("zw_national_identity_card.png")}}}}},"./Helpers/utils.ts":(e,t,n)=>{n.d(t,{Gu:()=>m,Of:()=>u,Ol:()=>_,Oy:()=>d,Qf:()=>h,Rz:()=>i,YT:()=>f,cf:()=>p,i3:()=>s,wA:()=>c});var r=n("@deriv/shared"),a=n("@deriv/translations"),o=n("./Constants/idv-document-config.ts"),i=function(e,t){var n=null;return e?u(t).test(e)||(n=(0,a.localize)("Please enter the correct format. ")):n=(0,a.localize)("Please enter your document number. "),n},l=[{regex_string:"^(?i)G[a-zA-Z0-9]{7,9}$",value:"^G[a-zA-Z0-9]{7,9}$",flags:"i"}],c=((0,r.getIDVNotApplicableOption)(),function(e,t){var n=(0,o.C)();return Object.keys(n).includes(e)&&n[e][t]||{new_display_name:"",example_format:"",sample_image:""}}),s=function(e){var t;0===(null!==(t=e.clipboardData)&&void 0!==t?t:window.clipboardData).getData("text").length&&e.preventDefault()},u=function(e){var t=l.find((function(t){return t.regex_string===e}));return t?new RegExp(t.value,t.flags):new RegExp(e)},d=function(e){switch(e){case"drivers_license":return(0,a.localize)("Enter Driver License Reference number");case"ssnit":return(0,a.localize)("Enter your SSNIT number");default:return(0,a.localize)("Enter your document number")}},m=function(e,t){return function(n,r,a){r.forEach((function(r){var o=t[r];n(o)||e[r]||(e[r]=a)}))}},f=function(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).includes(e)},p=function(e,t){var n=(0,r.filterObjProperties)(e,t);return n.first_name&&(n.first_name=n.first_name.trim()),n.last_name&&(n.last_name=n.last_name.trim()),n.date_of_birth&&(n.date_of_birth=(0,r.toMoment)(n.date_of_birth).format("YYYY-MM-DD")),n},_=function(e){if(e){if(!(0,r.validLength)(e.trim(),{min:2,max:50}))return(0,a.localize)("You should enter 2-50 characters.");if(!(0,r.validName)(e))return(0,a.localize)("Letters, spaces, periods, hyphens, apostrophes only.")}return""},h=function(e){return e?(0,a.localize)("Example: ")+e:""}},"./Sections/Assessment/FinancialAssessment/financial-information-list.ts":(e,t,n)=>{n.d(t,{$V:()=>_,A6:()=>m,D6:()=>f,DX:()=>c,I2:()=>d,Lq:()=>p,M5:()=>o,SK:()=>s,SZ:()=>v,WI:()=>a,a5:()=>h,fG:()=>i,i5:()=>u,m3:()=>l,ou:()=>g,sf:()=>b,w3:()=>y});var r=n("@deriv/translations"),a=function(){return[{text:(0,r.localize)("Salaried Employee"),value:"Salaried Employee"},{text:(0,r.localize)("Self-Employed"),value:"Self-Employed"},{text:(0,r.localize)("Investments & Dividends"),value:"Investments & Dividends"},{text:(0,r.localize)("Pension"),value:"Pension"},{text:(0,r.localize)("State Benefits"),value:"State Benefits"},{text:(0,r.localize)("Savings & Inheritance"),value:"Savings & Inheritance"}]},o=function(){return[{text:(0,r.localize)("Employed"),value:"Employed"},{text:(0,r.localize)("Pensioner"),value:"Pensioner"},{text:(0,r.localize)("Self-Employed"),value:"Self-Employed"},{text:(0,r.localize)("Student"),value:"Student"},{text:(0,r.localize)("Unemployed"),value:"Unemployed"}]},i=function(){return[{text:(0,r.localize)("Construction"),value:"Construction"},{text:(0,r.localize)("Education"),value:"Education"},{text:(0,r.localize)("Finance"),value:"Finance"},{text:(0,r.localize)("Health"),value:"Health"},{text:(0,r.localize)("Tourism"),value:"Tourism"},{text:(0,r.localize)("Information & Communications Technology"),value:"Information & Communications Technology"},{text:(0,r.localize)("Science & Engineering"),value:"Science & Engineering"},{text:(0,r.localize)("Legal"),value:"Legal"},{text:(0,r.localize)("Social & Cultural"),value:"Social & Cultural"},{text:(0,r.localize)("Agriculture"),value:"Agriculture"},{text:(0,r.localize)("Real Estate"),value:"Real Estate"},{text:(0,r.localize)("Food Services"),value:"Food Services"},{text:(0,r.localize)("Manufacturing"),value:"Manufacturing"},{text:(0,r.localize)("Unemployed"),value:"Unemployed"}]},l=function(){return[{text:(0,r.localize)("Chief Executives, Senior Officials and Legislators"),value:"Chief Executives, Senior Officials and Legislators"},{text:(0,r.localize)("Managers"),value:"Managers"},{text:(0,r.localize)("Professionals"),value:"Professionals"},{text:(0,r.localize)("Clerks"),value:"Clerks"},{text:(0,r.localize)("Personal Care, Sales and Service Workers"),value:"Personal Care, Sales and Service Workers"},{text:(0,r.localize)("Agricultural, Forestry and Fishery Workers"),value:"Agricultural, Forestry and Fishery Workers"},{text:(0,r.localize)("Craft, Metal, Electrical and Electronics Workers"),value:"Craft, Metal, Electrical and Electronics Workers"},{text:(0,r.localize)("Plant and Machine Operators and Assemblers"),value:"Plant and Machine Operators and Assemblers"},{text:(0,r.localize)("Cleaners and Helpers"),value:"Cleaners and Helpers"},{text:(0,r.localize)("Mining, Construction, Manufacturing and Transport Workers"),value:"Mining, Construction, Manufacturing and Transport Workers"},{text:(0,r.localize)("Armed Forces"),value:"Armed Forces"},{text:(0,r.localize)("Government Officers"),value:"Government Officers"},{text:(0,r.localize)("Students"),value:"Students"},{text:(0,r.localize)("Unemployed"),value:"Unemployed"}]},c=function(){return[{text:(0,r.localize)("Accumulation of Income/Savings"),value:"Accumulation of Income/Savings"},{text:(0,r.localize)("Cash Business"),value:"Cash Business"},{text:(0,r.localize)("Company Ownership"),value:"Company Ownership"},{text:(0,r.localize)("Divorce Settlement"),value:"Divorce Settlement"},{text:(0,r.localize)("Inheritance"),value:"Inheritance"},{text:(0,r.localize)("Investment Income"),value:"Investment Income"},{text:(0,r.localize)("Sale of Property"),value:"Sale of Property"}]},s=function(){return[{text:(0,r.localize)("Primary"),value:"Primary"},{text:(0,r.localize)("Secondary"),value:"Secondary"},{text:(0,r.localize)("Tertiary"),value:"Tertiary"}]},u=function(){return[{text:(0,r.localize)("Less than $25,000"),value:"Less than $25,000"},{text:(0,r.localize)("$25,000 - $50,000"),value:"$25,000 - $50,000"},{text:(0,r.localize)("$50,001 - $100,000"),value:"$50,001 - $100,000"},{text:(0,r.localize)("$100,001 - $500,000"),value:"$100,001 - $500,000"},{text:(0,r.localize)("Over $500,000"),value:"Over $500,000"}]},d=function(){return[{text:(0,r.localize)("Less than $100,000"),value:"Less than $100,000"},{text:(0,r.localize)("$100,000 - $250,000"),value:"$100,000 - $250,000"},{text:(0,r.localize)("$250,001 - $500,000"),value:"$250,001 - $500,000"},{text:(0,r.localize)("$500,001 - $1,000,000"),value:"$500,001 - $1,000,000"},{text:(0,r.localize)("Over $1,000,000"),value:"Over $1,000,000"}]},m=function(){return[{text:(0,r.localize)("Less than $25,000"),value:"Less than $25,000"},{text:(0,r.localize)("$25,000 - $50,000"),value:"$25,000 - $50,000"},{text:(0,r.localize)("$50,001 - $100,000"),value:"$50,001 - $100,000"},{text:(0,r.localize)("$100,001 - $500,000"),value:"$100,001 - $500,000"},{text:(0,r.localize)("Over $500,000"),value:"Over $500,000"}]},f=function(){return[{text:(0,r.localize)("0-1 year"),value:"0-1 year"},{text:(0,r.localize)("1-2 years"),value:"1-2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},p=function(){return[{text:(0,r.localize)("0-5 transactions in the past 12 months"),value:"0-5 transactions in the past 12 months"},{text:(0,r.localize)("6-10 transactions in the past 12 months"),value:"6-10 transactions in the past 12 months"},{text:(0,r.localize)("11-39 transactions in the past 12 months"),value:"11-39 transactions in the past 12 months"},{text:(0,r.localize)("40 transactions or more in the past 12 months"),value:"40 transactions or more in the past 12 months"}]},_=function(){return[{text:(0,r.localize)("0-1 year"),value:"0-1 year"},{text:(0,r.localize)("1-2 years"),value:"1-2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},h=function(){return[{text:(0,r.localize)("0-5 transactions in the past 12 months"),value:"0-5 transactions in the past 12 months"},{text:(0,r.localize)("6-10 transactions in the past 12 months"),value:"6-10 transactions in the past 12 months"},{text:(0,r.localize)("11-39 transactions in the past 12 months"),value:"11-39 transactions in the past 12 months"},{text:(0,r.localize)("40 transactions or more in the past 12 months"),value:"40 transactions or more in the past 12 months"}]},y=function(){return[{text:(0,r.localize)("0-1 year"),value:"0-1 year"},{text:(0,r.localize)("1-2 years"),value:"1-2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},v=function(){return[{text:(0,r.localize)("0-5 transactions in the past 12 months"),value:"0-5 transactions in the past 12 months"},{text:(0,r.localize)("6-10 transactions in the past 12 months"),value:"6-10 transactions in the past 12 months"},{text:(0,r.localize)("11-39 transactions in the past 12 months"),value:"11-39 transactions in the past 12 months"},{text:(0,r.localize)("40 transactions or more in the past 12 months"),value:"40 transactions or more in the past 12 months"}]},g=function(){return[{text:(0,r.localize)("0-1 year"),value:"0-1 year"},{text:(0,r.localize)("1-2 years"),value:"1-2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},b=function(){return[{text:(0,r.localize)("0-5 transactions in the past 12 months"),value:"0-5 transactions in the past 12 months"},{text:(0,r.localize)("6-10 transactions in the past 12 months"),value:"6-10 transactions in the past 12 months"},{text:(0,r.localize)("11-39 transactions in the past 12 months"),value:"11-39 transactions in the past 12 months"},{text:(0,r.localize)("40 transactions or more in the past 12 months"),value:"40 transactions or more in the past 12 months"}]}},"./Sections/Assessment/FinancialAssessment/index.ts":(e,t,n)=>{n.d(t,{default:()=>A});var r=n("../../../node_modules/classnames/index.js"),a=n.n(r),o=n("react"),i=n.n(o),l=n("../../../node_modules/formik/dist/formik.esm.js"),c=n("react-router"),s=n("@deriv/components"),u=n("@deriv/shared"),d=n("@deriv/translations"),m=n("../../stores/src/index.ts"),f=n("./Components/leave-confirm/index.js"),p=n("./Components/icon-message-content/index.ts"),_=n("./Components/demo-message/index.ts"),h=n("./Components/load-error-message/index.ts"),y=n("./Components/form-body/index.ts"),v=n("./Components/form-body-section/index.ts"),g=n("./Components/form-sub-header/index.ts"),b=n("./Components/form-footer/index.ts"),x=n("./Sections/Assessment/FinancialAssessment/financial-information-list.ts");function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new k(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(L([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==O(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.className;return i().createElement(i().Fragment,null,i().createElement(s.Text,{as:"p",size:"xs",className:t},i().createElement(d.Localize,{i18n_default_text:"In providing our services to you, we are required to obtain information from you in order to assess whether a given product or service is appropriate for you (that is, whether you possess the experience and knowledge to understand the risks involved).<0/><1/>",components:[i().createElement("br",{key:0}),i().createElement("br",{key:1})]}),i().createElement(d.Localize,{i18n_default_text:"On the basis of the information provided in relation to your knowledge and experience, we consider that the investments available via this website are not appropriate for you.<0/><1/>",components:[i().createElement("br",{key:0}),i().createElement("br",{key:1})]}),i().createElement(d.Localize,{i18n_default_text:"By clicking Accept below and proceeding with the Account Opening you should note that you may be exposing yourself to risks (which may be significant, including the risk of loss of the entire sum invested) that you may not have the knowledge and experience to properly assess or mitigate."})))},N=function(e){var t=e.is_visible,n=e.toggleModal,r=e.onSubmit;return i().createElement(s.Modal,{className:"financial-assessment-confirmation",is_open:t,small:!0,toggleModal:function(){return n(!1)},title:(0,d.localize)("Appropriateness Test, WARNING:")},i().createElement(s.Modal.Body,null,i().createElement(C,null)),i().createElement(s.Modal.Footer,null,i().createElement(s.Button,{large:!0,text:(0,d.localize)("Decline"),onClick:function(){return n(!1)},secondary:!0}),i().createElement(s.Button,{large:!0,text:(0,d.localize)("Accept"),onClick:function(){r(),n(!1)},primary:!0})))},P=function(e){var t=e.toggleModal,n=e.onSubmit;return i().createElement("div",{className:"account__confirmation-page"},i().createElement(s.Text,{size:"xs",weight:"bold",styles:{color:"var(--brand-red-coral)"},className:"account__confirmation-page-title"},(0,d.localize)("Notice")),i().createElement(C,{className:"account__confirmation-page-content"}),i().createElement("div",{className:"account__confirmation-page-footer"},i().createElement(s.Button,{large:!0,text:(0,d.localize)("Back"),onClick:function(){return t(!1)},secondary:!0}),i().createElement(s.Button,{large:!0,text:(0,d.localize)("Accept"),onClick:function(){n(),t(!1)},primary:!0})))},I=function(e){var t=e.platform,n=e.routeBackInApp,r=(0,c.useHistory)();return t&&u.platforms[t]?i().createElement(p.default,{className:"submit-success",message:(0,d.localize)("Financial assessment submitted successfully"),text:u.platforms[t].icon_text,icon:i().createElement(s.Icon,{icon:"IcSuccess",width:96,height:90})},i().createElement("div",{className:"account-management-flex-wrapper account-management-submit-success"},i().createElement(s.Button,{type:"button",has_effect:!0,text:(0,d.localize)("Back to {{platform_name}}",{platform_name:u.platforms[t].platform_name}),onClick:function(){u.platforms[t].is_hard_redirect?window.location.href=u.platforms[t].url:n(r)},primary:!0,large:!0}))):i().createElement(p.default,{className:"submit-success",message:(0,d.localize)("Financial assessment submitted successfully"),text:(0,d.localize)("Let’s continue with providing proofs of address and identity."),icon:i().createElement(s.Icon,{icon:"IcSuccess",width:96,height:90})},i().createElement("div",{className:"account-management-flex-wrapper account-management-submit-success"},i().createElement(s.Button,{type:"button",has_effect:!0,text:(0,d.localize)("Continue"),onClick:function(){r.push(u.routes.proof_of_address)},primary:!0,large:!0})))},T=(0,m.Pi)((function(){var e=(0,m.oR)(),t=e.client,n=e.common,r=e.notifications,o=t.landing_company_shortcode,p=t.is_virtual,w=t.is_financial_account,S=t.is_trading_experience_incomplete,j=t.is_svg,C=t.setFinancialAndTradingAssessment,T=t.updateAccountStatus,A=t.is_authentication_needed,M=t.is_financial_information_incomplete,F=n.platform,D=n.routeBackInApp,B=r.refreshNotifications,R="maltainvest"===o,q=(0,c.useHistory)(),G=i().useContext(u.PlatformContext).is_appstore,Y=L(i().useState(!0),2),W=Y[0],V=Y[1],U=L(i().useState(!1),2),$=U[0],H=U[1],Z=L(i().useState(!1),2),K=Z[0],J=Z[1],X=L(i().useState(!0),2),Q=X[0],ee=X[1],te=L(i().useState(null),2),ne=te[0],re=te[1],ae=L(i().useState(!1),2),oe=ae[0],ie=ae[1],le=L(i().useState(!1),2),ce=le[0],se=le[1],ue=L(i().useState({}),2),de=ue[0],me=ue[1],fe=de.income_source,pe=de.employment_status,_e=de.employment_industry,he=de.occupation,ye=de.source_of_wealth,ve=de.education_level,ge=de.net_income,be=de.estimated_worth,xe=de.account_turnover,Ee=de.binary_options_trading_experience,we=de.binary_options_trading_frequency,ze=de.cfd_trading_experience,Se=de.cfd_trading_frequency,ke=de.forex_trading_experience,Oe=de.forex_trading_frequency,Le=de.other_instruments_trading_experience,je=de.other_instruments_trading_frequency;i().useEffect((function(){p?(V(!1),q.push(u.routes.personal_details)):u.WS.authorized.storage.getFinancialAssessment().then((function(e){u.WS.wait("get_account_status").then((function(){J((w||S)&&!j&&!R),e&&"error"in e&&"object"===O(e.error)&&e.error&&"message"in e.error&&"string"==typeof e.error.message?re(e.error.message):(null!=e&&e.get_financial_assessment&&me(e.get_financial_assessment),V(!1))}))}))}),[]);var Ce,Ne=function(){var e,t=(e=E().mark((function e(t,n){var r,a,o,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,(a=n.setStatus)({msg:""}),ie(!0),o={financial_information:z({},t)},e.next=6,C(o);case 6:if(!(i=e.sent).error){e.next=12;break}ie(!1),i&&"error"in i&&"object"===O(i.error)&&i.error&&"message"in i.error&&"string"==typeof i.error.message&&a({msg:i.error.message}),e.next=17;break;case 12:return e.next=14,T();case 14:u.WS.authorized.storage.getFinancialAssessment().then((function(e){null!=e&&e.get_financial_assessment&&me(e.get_financial_assessment),se(!0),ie(!1),(0,u.isDesktop)()&&setTimeout((function(){return se(!1)}),1e4)})),r(!1),B();case 17:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,l,"next",e)}function l(e){k(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),Pe=function(e){ee(e),H(!1)},Ie=function(e){H(e),(0,u.isMobile)()&&ee(!e)};return W?i().createElement(s.Loading,{is_fullscreen:!1,className:"account__initial-loader"}):ne?i().createElement(h.default,{error_message:ne}):p?i().createElement(_.default,{has_demo_icon:G,has_button:G}):(0,u.isMobile)()&&A&&!R&&ce?i().createElement(I,{platform:F,routeBackInApp:D}):i().createElement(i().Fragment,null,i().createElement(l.J9,{initialValues:(Ce=z({income_source:fe,employment_status:pe,employment_industry:_e,occupation:he,source_of_wealth:ye,education_level:ve,net_income:ge,estimated_worth:be,account_turnover:xe},K&&{binary_options_trading_experience:Ee,binary_options_trading_frequency:we,cfd_trading_experience:ze,cfd_trading_frequency:Se,forex_trading_experience:ke,forex_trading_frequency:Oe,other_instruments_trading_experience:Le,other_instruments_trading_frequency:je}),R?(delete Ce.employment_status,Ce):Ce),enableReinitialize:!0,validate:function(e){se(!1);var t={};return Object.keys(e).forEach((function(n){e[n]||(t[n]=(0,d.localize)("This field is required"))})),t},onSubmit:Ne},(function(e){var t=e.values,n=e.errors,r=e.status,o=e.touched,l=e.handleChange,c=e.handleBlur,m=e.handleSubmit,p=e.isSubmitting,_=e.setFieldTouched,h=e.dirty;return i().createElement(i().Fragment,null,!G&&(0,u.isMobile)()&&$&&i().createElement(P,{toggleModal:Ie,onSubmit:m}),((0,u.isDesktop)()||G)&&i().createElement(N,{is_visible:$,toggleModal:Ie,onSubmit:m}),i().createElement(f.default,{onDirty:(0,u.isMobile)()?Pe:function(){}}),Q&&i().createElement("form",{className:"account-form account-form__financial-assessment",onSubmit:m},R&&M&&!ce&&i().createElement("div",{className:"financial-banner"},i().createElement("div",{className:"financial-banner__frame"},i().createElement("div",{className:"financial-banner__container"},i().createElement(s.Icon,{icon:"IcAlertWarning"}),(0,u.isMobile)()?i().createElement(s.Text,{size:"xxxs",line_height:"s"},i().createElement(d.Localize,{i18n_default_text:"To enable withdrawals, please complete your financial assessment."})):i().createElement(s.Text,{size:"xxs",line_height:"l"},i().createElement(d.Localize,{i18n_default_text:"You can only make deposits at the moment. To enable withdrawals, please complete your financial assessment."}))))),i().createElement(y.default,{scroll_offset:R?(0,u.isMobile)()&&M?"220px":M&&!ce?"165px":"160px":(0,u.isMobile)()?G?"160px":"200px":"80px"},i().createElement(g.default,{title:(0,d.localize)("Financial information"),subtitle:"(".concat((0,d.localize)("All fields are required"),")")}),i().createElement(v.Z,{has_side_note:G,side_note:(0,d.localize)("We’re legally obliged to ask for your financial information.")},i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Source of income"),is_align_text_left:!0,name:"income_source",list:(0,x.WI)(),value:t.income_source,onChange:l,handleBlur:c,error:o.income_source&&n.income_source})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"income_source",label:(0,d.localize)("Source of income"),list_items:(0,x.WI)(),value:t.income_source,error:o.income_source?n.income_source:void 0,onChange:function(e){_("income_source",!0),l(e)}}))),!R&&i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Employment status"),is_align_text_left:!0,name:"employment_status",list:(0,x.M5)(),value:t.employment_status,onChange:l,handleBlur:c,error:o.employment_status&&n.employment_status})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"employment_status",label:(0,d.localize)("Employment status"),list_items:(0,x.M5)(),value:t.employment_status,error:o.employment_status?n.employment_status:void 0,onChange:function(e){_("employment_status",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Industry of employment"),is_align_text_left:!0,name:"employment_industry",list:(0,x.fG)(),value:t.employment_industry,onChange:l,handleBlur:c,error:o.employment_industry&&n.employment_industry})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"employment_industry",label:(0,d.localize)("Industry of employment"),list_items:(0,x.fG)(),value:t.employment_industry,error:o.employment_industry?n.employment_industry:void 0,onChange:function(e){_("employment_industry",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{className:"account-form__occupation",placeholder:(0,d.localize)("Occupation"),is_align_text_left:!0,name:"occupation",list:(0,x.m3)(),value:t.occupation,onChange:l,handleBlur:c,error:o.occupation&&n.occupation})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"occupation",label:(0,d.localize)("Occupation"),list_items:(0,x.m3)(),value:t.occupation,error:o.occupation?n.occupation:void 0,onChange:function(e){_("occupation",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Source of wealth"),is_align_text_left:!0,name:"source_of_wealth",list:(0,x.DX)(),value:t.source_of_wealth,onChange:l,handleBlur:c,error:o.source_of_wealth&&n.source_of_wealth})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"source_of_wealth",label:(0,d.localize)("Source of wealth"),list_items:(0,x.DX)(),value:t.source_of_wealth,error:o.source_of_wealth?n.source_of_wealth:void 0,onChange:function(e){_("source_of_wealth",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Level of education"),is_align_text_left:!0,name:"education_level",list:(0,x.SK)(),value:t.education_level,onChange:l,handleBlur:c,error:o.education_level&&n.education_level})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"education_level",label:(0,d.localize)("Level of education"),list_items:(0,x.SK)(),value:t.education_level,error:o.education_level?n.education_level:void 0,onChange:function(e){_("education_level",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Net annual income"),is_align_text_left:!0,name:"net_income",list:(0,x.i5)(),value:t.net_income,onChange:l,handleBlur:c,error:o.net_income&&n.net_income})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"net_income",label:(0,d.localize)("Net annual income"),list_items:(0,x.i5)(),value:t.net_income,error:o.net_income?n.net_income:void 0,onChange:function(e){_("net_income",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Estimated net worth"),is_alignment_top:!0,is_align_text_left:!0,name:"estimated_worth",list:(0,x.I2)(),value:t.estimated_worth,onChange:l,handleBlur:c,error:o.estimated_worth&&n.estimated_worth})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"estimated_worth",label:(0,d.localize)("Estimated net worth"),list_items:(0,x.I2)(),value:t.estimated_worth,error:o.estimated_worth?n.estimated_worth:void 0,onChange:function(e){_("estimated_worth",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Anticipated account turnover"),is_alignment_top:!0,is_align_text_left:!0,name:"account_turnover",list:(0,x.A6)(),value:t.account_turnover,onChange:l,handleBlur:c,error:o.account_turnover&&n.account_turnover})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"account_turnover",label:(0,d.localize)("Anticipated account turnover"),list_items:(0,x.A6)(),value:t.account_turnover,error:o.account_turnover?n.account_turnover:void 0,onChange:function(e){_("account_turnover",!0),l(e)}})))),K&&i().createElement(i().Fragment,null,i().createElement(g.default,{title:(0,d.localize)("Trading experience"),subtitle:"(".concat((0,d.localize)("All fields are required"),")")}),i().createElement(v.Z,{has_side_note:G,side_note:(0,d.localize)("Tell us about your trading experience.")},i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Forex trading experience"),is_align_text_left:!0,name:"forex_trading_experience",list:(0,x.w3)(),value:t.forex_trading_experience,onChange:l,handleBlur:c,error:o.forex_trading_experience&&n.forex_trading_experience})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"forex_trading_experience",label:(0,d.localize)("Forex trading experience"),list_items:(0,x.w3)(),value:t.forex_trading_experience,error:o.forex_trading_experience?n.forex_trading_experience:void 0,onChange:function(e){_("forex_trading_experience",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Forex trading frequency"),is_align_text_left:!0,name:"forex_trading_frequency",list:(0,x.SZ)(),value:t.forex_trading_frequency,onChange:l,handleBlur:c,error:o.forex_trading_frequency&&n.forex_trading_frequency})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"forex_trading_frequency",label:(0,d.localize)("Forex trading frequency"),list_items:(0,x.SZ)(),value:t.forex_trading_frequency,error:o.forex_trading_frequency?n.forex_trading_frequency:void 0,onChange:function(e){_("forex_trading_frequency",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Binary options trading experience"),is_align_text_left:!0,name:"binary_options_trading_experience",list:(0,x.D6)(),value:t.binary_options_trading_experience,onChange:l,handleBlur:c,error:o.binary_options_trading_experience&&n.binary_options_trading_experience})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"binary_options_trading_experience",label:(0,d.localize)("Binary options trading experience"),list_items:(0,x.D6)(),value:t.binary_options_trading_experience,error:o.binary_options_trading_experience?n.binary_options_trading_experience:void 0,onChange:function(e){_("binary_options_trading_experience",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Binary options trading frequency"),is_align_text_left:!0,name:"binary_options_trading_frequency",list:(0,x.Lq)(),value:t.binary_options_trading_frequency,onChange:l,handleBlur:c,error:o.binary_options_trading_frequency&&n.binary_options_trading_frequency})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"binary_options_trading_frequency",label:(0,d.localize)("Binary options trading frequency"),list_items:(0,x.Lq)(),value:t.binary_options_trading_frequency,error:o.binary_options_trading_frequency?n.binary_options_trading_frequency:void 0,onChange:function(e){_("binary_options_trading_frequency",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("CFD trading experience"),is_align_text_left:!0,name:"cfd_trading_experience",list:(0,x.$V)(),value:t.cfd_trading_experience,onChange:l,handleBlur:c,error:o.cfd_trading_experience&&n.cfd_trading_experience})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"cfd_trading_experience",label:(0,d.localize)("CFD trading experience"),list_items:(0,x.$V)(),value:t.cfd_trading_experience,error:o.cfd_trading_experience?n.cfd_trading_experience:void 0,onChange:function(e){_("cfd_trading_experience",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("CFD trading frequency"),is_align_text_left:!0,name:"cfd_trading_frequency",list:(0,x.a5)(),value:t.cfd_trading_frequency,onChange:l,handleBlur:c,error:o.cfd_trading_frequency&&n.cfd_trading_frequency})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"cfd_trading_frequency",label:(0,d.localize)("CFD trading frequency"),list_items:(0,x.a5)(),value:t.cfd_trading_frequency,error:o.cfd_trading_frequency?n.cfd_trading_frequency:void 0,onChange:function(e){_("cfd_trading_frequency",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Other trading instruments experience"),is_align_text_left:!0,name:"other_instruments_trading_experience",list:(0,x.ou)(),value:t.other_instruments_trading_experience,onChange:l,handleBlur:c,error:o.other_instruments_trading_experience&&n.other_instruments_trading_experience})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"other_instruments_trading_experience",label:(0,d.localize)("Other trading instruments experience"),list_items:(0,x.ou)(),value:t.other_instruments_trading_experience,error:o.other_instruments_trading_experience?n.other_instruments_trading_experience:void 0,onChange:function(e){_("other_instruments_trading_experience",!0),l(e)}}))),i().createElement("fieldset",{className:"account-form__fieldset"},i().createElement(s.DesktopWrapper,null,i().createElement(s.Dropdown,{placeholder:(0,d.localize)("Other trading instruments frequency"),is_alignment_top:!0,is_align_text_left:!0,name:"other_instruments_trading_frequency",list:(0,x.sf)(),value:t.other_instruments_trading_frequency,onChange:l,handleBlur:c,error:o.other_instruments_trading_frequency&&n.other_instruments_trading_frequency})),i().createElement(s.MobileWrapper,null,i().createElement(s.SelectNative,{placeholder:(0,d.localize)("Please select"),name:"other_instruments_trading_frequency",label:(0,d.localize)("Other trading instruments frequency"),list_items:(0,x.sf)(),value:t.other_instruments_trading_frequency,error:o.other_instruments_trading_frequency?n.other_instruments_trading_frequency:void 0,onChange:function(e){_("other_instruments_trading_frequency",!0),l(e)}})))))),i().createElement(b.default,null,r&&r.msg&&i().createElement(s.FormSubmitErrorMessage,{message:r.msg}),(0,u.isMobile)()&&!G&&!R&&i().createElement(s.Text,{align:"center",size:"xxs",className:"account-form__footer-all-fields-required"},(0,d.localize)("All fields are required")),i().createElement(s.Button,{type:"button",className:a()("account-form__footer-btn",{"dc-btn--green":ce}),onClick:function(){return function(e){K&&S?Ie(!0):e()}(m)},is_disabled:p||!h||oe||Object.keys(n).length>0,has_effect:!0,is_loading:oe,is_submit_success:ce,text:G?(0,d.localize)("Save"):(0,d.localize)("Submit"),large:!0,primary:!0}))))})))}));const A=(0,c.withRouter)(T)},"./Sections/Assessment/TradingAssessment/index.js":(e,t,n)=>{n.d(t,{default:()=>O});var r=n("react"),a=n.n(r),o=n("@deriv/translations"),i=n("./Components/form-body/index.ts"),l=n("./Components/form-sub-header/index.ts"),c=(n("./Components/trading-assessment/trading-assessment-new-user.jsx"),n("./Components/trading-assessment/risk-tolerance-warning-modal.jsx")),s=n("./Components/trading-assessment/test-warning-modal.jsx"),u=(n("./Components/trading-assessment/trading-assessment-form.jsx"),n("./Configs/trading-assessment-config.ts")),d=n("@deriv/components"),m=n("./Components/form-footer/index.ts"),f=n("@deriv/shared"),p=n("../../stores/src/index.ts"),_=n("react-router"),h=n("../../../node_modules/formik/dist/formik.esm.js");function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new O(a||[]);return r(i,"_invoke",{value:w(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(L([])));v&&v!==t&&n.call(v,o)&&(_=v);var g=p.prototype=m.prototype=Object.create(_);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==y(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=z(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function z(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,z(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function E(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,l,"next",e)}function l(e){E(o,r,a,i,l,"throw",e)}i(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=(0,p.Pi)((function(){var e=(0,p.oR)().client,t=e.is_virtual,n=e.setFinancialAndTradingAssessment,r=(0,_.useHistory)(),y=z(a().useState(!0),2),v=y[0],b=y[1],E=z(a().useState(!1),2),S=E[0],k=E[1],O=z(a().useState(!1),2),L=O[0],j=O[1],C=z(a().useState({}),2),N=C[0],P=C[1],I=z(a().useState(!1),2),T=I[0],A=I[1],M=z(a().useState(!1),2),F=M[0],D=M[1],B=z(a().useState({}),2),R=B[0],q=B[1];a().useEffect((function(){t?(b(!1),r.push(f.routes.personal_details)):f.WS.authorized.storage.getFinancialAssessment().then((function(e){P((function(){return function(e){return{risk_tolerance:e.risk_tolerance,source_of_experience:e.source_of_experience,cfd_experience:e.cfd_experience,cfd_frequency:e.cfd_frequency,trading_experience_financial_instruments:e.trading_experience_financial_instruments,trading_frequency_financial_instruments:e.trading_frequency_financial_instruments,cfd_trading_definition:e.cfd_trading_definition,leverage_impact_trading:e.leverage_impact_trading,leverage_trading_high_risk_stop_loss:e.leverage_trading_high_risk_stop_loss,required_initial_margin:e.required_initial_margin}}(e.get_financial_assessment)})),b(!1),j(!1)}))}),[]);var G=function(){var e=w(x().mark((function e(t){var r,a,o,i,l,c,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q(t),k(!1),j(!0),"No"!==t.risk_tolerance){e.next=7;break}A(!0),e.next=21;break;case 7:return k(!0),e.next=10,f.WS.authorized.storage.getFinancialAssessment();case 10:return r=e.sent,a=null==r?void 0:r.get_financial_assessment,o=a.trading_score,i={trading_experience_regulated:{cfd_experience:t.cfd_experience,cfd_frequency:t.cfd_frequency,cfd_trading_definition:t.cfd_trading_definition,leverage_impact_trading:t.leverage_impact_trading,leverage_trading_high_risk_stop_loss:t.leverage_trading_high_risk_stop_loss,required_initial_margin:t.required_initial_margin,risk_tolerance:t.risk_tolerance,source_of_experience:t.source_of_experience,trading_experience_financial_instruments:t.trading_experience_financial_instruments,trading_frequency_financial_instruments:t.trading_frequency_financial_instruments}},e.next=15,n(i);case 15:l=e.sent,c=null==l?void 0:l.set_financial_assessment,s=c.trading_score,D(o>0&&0===s),f.WS.authorized.storage.getFinancialAssessment().then((function(e){P(e.get_financial_assessment)})),k(!1),setTimeout((function(){return j(!1)}),1e4);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=w(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(g(g({},R),{},{risk_tolerance:"Yes"}));case 2:A(!1),k(!1),j(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v?a().createElement(d.Loading,{is_fullscreen:!1,className:"account__initial-loader"}):T?a().createElement(c.default,{show_risk_modal:!0,title:(0,o.localize)("Risk Tolerance Warning"),button_text:(0,o.localize)("Yes, I understand the risk."),handleAcceptRisk:Y,body_content:a().createElement(o.Localize,{i18n_default_text:"CFDs and other financial instruments come with a high risk of losing money rapidly due to leverage. You should consider whether you understand how CFDs and other financial instruments work and whether you can afford to take the high risk of losing your money. <0/><0/> To continue, you must confirm that you understand your capital is at risk.",components:[a().createElement("br",{key:0})]})}):F?a().createElement(s.default,{show_risk_modal:F,body_content:a().createElement(d.Text,{as:"p",size:"xs"},a().createElement(o.Localize,{i18n_default_text:"In providing our services to you, we are required to ask you for some information to assess if a given product or service is appropriate for you and whether you have the experience and knowledge to understand the risks involved.<0/><0/>",components:[a().createElement("br",{key:0})]}),a().createElement(o.Localize,{i18n_default_text:"Based on your answers, it looks like you have insufficient knowledge and experience in trading CFDs. CFD trading is risky and you could potentially lose all of your capital.<0/><0/>",components:[a().createElement("br",{key:0})]}),a().createElement(o.Localize,{i18n_default_text:"Please note that by clicking ‘OK’, you may be exposing yourself to risks. You may not have the knowledge or experience to properly assess or mitigate these risks, which may be significant, including the risk of losing the entire sum you have invested."})),footer_content:a().createElement(d.Button,{type:"button",large:!0,text:(0,o.localize)("OK"),primary:!0,onClick:function(){return D(!1)}})}):a().createElement(h.J9,{initialValues:N,enableReinitialize:!0,initialTouched:!1,onSubmit:function(e){G(e)}},(function(e){var t=e.values,n=e.dirty,r=e.isSubmitting,c=e.handleChange,s=e.handleBlur;return a().createElement(h.l0,{className:"account-form account-form__trading-assessment"},a().createElement(i.default,{scroll_offset:(0,f.isMobile)()?"150px":"80px"},a().createElement(l.default,{title:(0,o.localize)("Trading Experience"),subtitle:(0,o.localize)("All fields are required")}),(0,u.C)().map((function(e){var n=e.form_control;return"radio"===e.field_type?a().createElement("fieldset",{className:"account-form__question",key:n},a().createElement(d.DesktopWrapper,null,a().createElement(d.Text,{as:"h1",color:"prominent",weight:"bold",size:"xs",className:"account-form__question--text"},e.question_text),a().createElement(d.Dropdown,{is_align_text_left:!0,name:n,value:t[n],list:null==e?void 0:e.answer_options,onChange:c,handleBlur:s})),a().createElement(d.MobileWrapper,null,a().createElement(d.Text,{as:"h1",color:"prominent",weight:"bold",size:"xs",line_height:"xl",className:"account-form__question--text"},null==e?void 0:e.question_text),a().createElement(d.SelectNative,{value:t[n],name:n,list_items:null==e?void 0:e.answer_options,onChange:function(e){return c(e)},should_show_empty_option:!1}))):a().createElement("div",{key:n},e.questions.map((function(e){var n=e.form_control;return a().createElement("fieldset",{key:n,className:"account-form__question"},a().createElement(d.DesktopWrapper,null,a().createElement(d.Text,{as:"h1",color:"prominent",weight:"bold",size:"xs",className:"account-form__question--text"},e.question_text),a().createElement(d.Dropdown,{is_align_text_left:!0,name:n,value:t[n],list:null==e?void 0:e.answer_options,onChange:c,handleBlur:s})),a().createElement(d.MobileWrapper,null,a().createElement(d.Text,{as:"h1",color:"prominent",weight:"bold",size:"xs",line_height:"xl",className:"account-form__question--text"},null==e?void 0:e.question_text),a().createElement(d.SelectNative,{value:t[n],name:n,list_items:null==e?void 0:e.answer_options,onChange:function(e){return c(e)},should_show_empty_option:!1})))})))}))),a().createElement(m.default,null,a().createElement(d.FormSubmitButton,{is_disabled:r||!n||S,is_loading:S,has_effect:!0,is_absolute:(0,f.isMobile)(),is_submit_success:L&&!n,green:L&&!n,label:(0,o.localize)("Submit")})))}))}));const O=(0,_.withRouter)(k)},"./Sections/Verification/Helpers/verification.js":(e,t,n)=>{n.d(t,{C:()=>r});var r=function(e){var t=e.authentication,n=t.attempts,r=t.document,a=t.identity,o=t.needs_verification,i=!(r&&"none"===r.status),l=!(a&&"none"===a.status),c=o.length&&o.includes("document"),s=o.length&&o.includes("identity"),u=e.status.some((function(e){return"allow_document_upload"===e})),d=e.status.some((function(e){return"allow_poi_resubmission"===e})),m=e.status.some((function(e){return"allow_poa_resubmission"===e})),f=e.status.some((function(e){return"age_verification"===e})),p=e.status.some((function(e){return"idv_disallowed"===e})),_=e.status.some((function(e){return"poa_address_mismatch"===e})),h=a.status,y=r.status,v=a.services,g=v.idv,b=v.onfido,x=v.manual,E=n.latest;return{allow_document_upload:u,allow_poa_resubmission:m,allow_poi_resubmission:d,has_attempted_idv:!(!n.history.length||!n.history.find((function(e){return"idv"===e.service}))),has_poa:i,has_poi:l,identity_last_attempt:E,identity_status:h,document_status:y,idv:g,is_age_verified:f,is_idv_disallowed:p,manual:x,needs_poa:c,needs_poi:s,needs_verification:o,onfido:b,poa_address_mismatch:_}}},"./Sections/Verification/ProofOfAddress/proof-of-address-container.jsx":(e,t,n)=>{n.d(t,{default:()=>U});var r=n("@deriv/components"),a=n("@deriv/shared"),o=n("./Components/poa/status/expired/index.ts"),i=n("@deriv/translations"),l=n("./Components/poa/status/needs-review/index.ts"),c=n("react"),s=n.n(c),u=n("./Components/icon-message-content/index.ts");const d=function(){return s().createElement(u.default,{message:(0,i.localize)("Proof of address verification not required"),text:(0,i.localize)("Your account does not need address verification at this time. We will inform you if address verification is required in the future."),icon:s().createElement(r.Icon,{icon:"IcPoaVerified",size:128})})};var m=n("./Components/poa/status/status-codes/index.ts"),f=n("../../../node_modules/prop-types/index.js"),p=n.n(f),_=n("../../../node_modules/formik/dist/formik.esm.js"),h=n("./Components/form-footer/index.ts"),y=n("./Components/form-body/index.ts"),v=n("./Components/form-body-section/index.ts"),g=n("./Components/form-sub-header/index.ts"),b=n("./Components/load-error-message/index.ts"),x=n("./Components/leave-confirm/index.js"),E=n("./Components/file-uploader-container/index.ts"),w=n("../../stores/src/index.ts");function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=null,P=function(){return s().createElement("div",{className:"account-poa__upload-box account-poa__upload-box-dashboard"},s().createElement(r.Text,{color:"less-prominent",size:(0,a.isMobile)()?"xxs":"xs",line_height:"s"},s().createElement(i.Localize,{i18n_default_text:"A recent utility bill (e.g. electricity, water or gas)"})),s().createElement(r.Text,{color:"less-prominent",size:(0,a.isMobile)()?"xxs":"xs",line_height:"s"},s().createElement(i.Localize,{i18n_default_text:"A recent bank statement or government-issued letter with your name and address."})))},I=(0,w.Pi)((function(e){var t=e.is_resubmit,n=e.onSubmit,o=(0,w.oR)(),l=o.client,c=o.notifications,u=l.account_settings,d=l.fetchResidenceList,m=l.fetchStatesList,f=l.is_eu,p=l.states_list,z=c.addNotificationMessageByKey,k=c.removeNotificationMessage,L=c.removeNotificationByKey,C=j(s().useState({files:[],error_message:null}),2),I=C[0],T=C[1],A=j(s().useState(!0),2),M=A[0],F=A[1],D=j((0,r.useStateCallback)({}),2),B=D[0],R=D[1],q=j(s().useState(null),2),G=q[0],Y=q[1],W=j((0,r.useStateCallback)({should_show_form:!0}),2),V=W[0],U=W[1];s().useEffect((function(){d().then((function(){Promise.all([m(),a.WS.wait("get_settings")]).then((function(){var e=u.citizen,t=u.tax_identification_number,n=u.tax_residence;R(O(O({},u),f?{citizen:e,tax_identification_number:t,tax_residence:n}:{}),(function(){return F(!1)}))}))}))}),[u,d,m,f,R]);var $=function(e){U(O(O({},V),{should_show_form:e}))},H={address_line_1:B.address_line_1,address_line_2:B.address_line_2,address_city:B.address_city,address_state:B.address_state,address_postcode:B.address_postcode};if(G)return s().createElement(b.default,{error_message:G});if(M)return s().createElement(r.Loading,{is_fullscreen:!1,className:"account__initial-loader"});var Z=status&&status.msg?"200px":"154px";return H.address_state?H.address_state=p.length?(0,a.getLocation)(p,H.address_state,"text"):H.address_state:H.address_state="",s().createElement(_.J9,{initialValues:H,onSubmit:function(e,t){var r=t.setStatus,o=t.setSubmitting;r({msg:""}),U(O(O({},V),{is_btn_loading:!0}));var i=O({},e);if(e.address_state&&p.length&&(i.address_state=(0,a.getLocation)(p,e.address_state,"value")||""),f){var l=B.citizen,c=B.tax_residence,s=B.tax_identification_number;i=(0,a.removeEmptyPropertiesFromObject)(O(O({},i),{},{citizen:l,tax_identification_number:s,tax_residence:c}))}a.WS.setSettings(i).then((function(e){e.error?(r({msg:e.error.message}),U(O(O({},V),{is_btn_loading:!1})),o(!1)):a.WS.authorized.storage.getSettings().then((function(e){var t=e.error,n=e.get_settings;if(t)return Y(t.message),void o(!1);var r=n.address_line_1,a=n.address_line_2,i=n.address_city,l=n.address_state,c=n.address_postcode;R({address_line_1:r,address_line_2:a,address_city:i,address_state:l,address_postcode:c},(function(){return F(!1)}))})).then((function(){var e;null===(e=N)||void 0===e||e.current.upload().then((function(e){e.warning?(r({msg:e.message}),U(O(O({},V),{is_btn_loading:!1}))):a.WS.authorized.storage.getAccountStatus().then((function(e){var t=e.error,r=e.get_account_status;if(t)return Y(t.message),void o(!1);U(O(O({},V),{is_submit_success:!0,is_btn_loading:!1}),(function(){var e=r.authentication,t=e.identity,a=e.needs_verification,o=!(t&&"none"===t.status),i=a.length&&a.includes("identity");n({has_poi:o}),k({key:"authenticate"}),L({key:"authenticate"}),k({key:"needs_poa"}),L({key:"needs_poa"}),k({key:"poa_expired"}),L({key:"poa_expired"}),i&&z("needs_poi")}))}))})).catch((function(e){r({msg:e.message}),U(O(O({},V),{is_btn_loading:!1}))})).then((function(){o(!1),U(O(O({},V),{is_btn_loading:!1}))}))}))}))},validate:function(e){Object.entries(e).forEach((function(t){var n=j(t,2),r=n[0],a=n[1];return e[r]=a.trim()})),U(O(O({},V),{should_allow_submit:!1}));var t={},n=function(e,t){return function(n,r,a){r.forEach((function(r){var o=t[r];n(o)||e[r]||!0===a||(e[r]=a)}))}}(t,e);n((function(e){return e}),["address_line_1","address_city"],(0,i.localize)("This field is required"));var r=(0,a.validAddress)(e.address_line_1,{is_required:!0});r.is_ok||(t.address_line_1=r.message);var o=(0,a.validAddress)(e.address_line_2);o.is_ok||(t.address_line_2=o.message);var l=(0,i.localize)("Only letters, space, hyphen, period, and apostrophe are allowed.");return e.address_city&&!(0,a.validLetterSymbol)(e.address_city)&&(t.address_city=l),e.address_state&&!(0,a.validLetterSymbol)(e.address_state)&&(null==p?void 0:p.length)<1&&(t.address_state=l),e.address_postcode&&((0,a.validLength)(e.address_postcode,{min:0,max:20})?(0,a.validPostCode)(e.address_postcode)||(t.address_postcode=(0,i.localize)("Only letters, numbers, space, and hyphen are allowed.")):t.address_postcode=(0,i.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,i.localize)("Postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}})),t}},(function(e){var n=e.values,o=e.errors,l=e.status,c=e.touched,u=e.handleChange,d=e.handleBlur,m=e.handleSubmit,f=e.isSubmitting,b=e.setFieldValue;return s().createElement(s().Fragment,null,s().createElement(x.default,{onDirty:(0,a.isMobile)()?$:null}),V.should_show_form&&s().createElement("form",{noValidate:!0,className:"account-form account-form_poa",onSubmit:m},s().createElement(y.default,{scroll_offset:(0,a.isMobile)()?Z:"80px"},t&&s().createElement(r.Text,{size:"xs",align:"left",color:"loss-danger"},(0,i.localize)("We were unable to verify your address with the details you provided. Please check and resubmit or choose a different document type.")),s().createElement(g.default,{title:(0,i.localize)("1. Address"),subtitle:(0,i.localize)("(All fields are required)")}),s().createElement(v.Z,{has_side_note:!0,side_note:(0,i.localize)("An accurate and complete address helps to speed up your verification process.")},s().createElement("div",{className:"account-poa__details-section"},s().createElement("div",{className:"account-poa__details-fields"},s().createElement("fieldset",{className:"account-form__fieldset"},s().createElement(r.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",maxLength:70,name:"address_line_1",label:(0,i.localize)("First line of address"),value:n.address_line_1,onChange:u,onBlur:d,error:c.address_line_1&&o.address_line_1,required:!0})),s().createElement("fieldset",{className:"account-form__fieldset"},s().createElement(r.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",maxLength:70,name:"address_line_2",label:(0,i.localize)("Second line of address (optional)"),value:n.address_line_2,error:c.address_line_2&&o.address_line_2,onChange:u,onBlur:d})),s().createElement("fieldset",{className:"account-form__fieldset"},s().createElement(r.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",name:"address_city",label:(0,i.localize)("Town/City"),value:n.address_city,error:c.address_city&&o.address_city,onChange:u,onBlur:d,required:!0})),s().createElement("fieldset",{className:"account-form__fieldset"},p.length?s().createElement(s().Fragment,null,s().createElement(r.DesktopWrapper,null,s().createElement(_.gN,{name:"address_state"},(function(e){var t=e.field;return s().createElement(r.Autocomplete,S({},t,{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:(0,i.localize)("State/Province"),error:c.address_state&&o.address_state,list_items:p,onItemSelection:function(e){var t=e.value,n=e.text;return b("address_state",t?n:"",!0)}}))}))),s().createElement(r.MobileWrapper,null,s().createElement(r.SelectNative,{placeholder:(0,i.localize)("Please select"),label:(0,i.localize)("State/Province"),value:n.address_state,list_items:p,error:c.address_state&&o.address_state,use_text:!0,onChange:function(e){return b("address_state",e.target.value,!0)}}))):s().createElement(r.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",name:"address_state",label:(0,i.localize)("State/Province"),value:n.address_state,error:c.address_state&&o.address_state,onChange:u,onBlur:d})),s().createElement("fieldset",{className:"account-form__fieldset"},s().createElement(r.Input,{"data-lpignore":"true",autoComplete:"off",type:"text",name:"address_postcode",label:(0,i.localize)("Postal/ZIP code"),value:n.address_postcode,error:c.address_postcode&&o.address_postcode,onChange:u,onBlur:d}))))),s().createElement(g.default,{title:(0,i.localize)("2. Please upload one of the following:")}),s().createElement(v.Z,{has_side_note:!0,side_note:s().createElement(P,null)},s().createElement(E.default,{onRef:function(e){return N=e},onFileDrop:function(e){return T({files:e.files,error_message:e.error_message})},getSocket:a.WS.getSocket}))),s().createElement(h.default,{className:"account-form__footer-poa"},l&&l.msg&&s().createElement(r.FormSubmitErrorMessage,{message:l.msg}),s().createElement(r.Button,{className:"account-form__footer-btn",type:"submit",is_disabled:f||!(!o.address_line_1&&n.address_line_1&&!o.address_line_2&&!o.address_city&&n.address_city&&!o.address_postcode)||I.files&&I.files.length<1||!!I.error_message,has_effect:!0,is_loading:V.is_btn_loading,is_submit_success:V.is_submit_success,text:(0,i.localize)("Save and submit"),primary:!0}))))}))}));I.propTypes={is_resubmit:p().bool,onSubmit:p().func};const T=I;var A=n("./Components/poa/status/submitted/index.ts"),M=n("./Components/poa/status/unverified/index.ts"),F=n("./Components/poa/status/verified/index.ts"),D=n("./Sections/Verification/Helpers/verification.js");function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===B(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(e){var t=e.is_mx_mlt,n=e.is_switching,c=e.has_restricted_mt5_account,u=e.refreshNotifications,f=e.app_routing_history,p=Y(s().useState(!0),2),_=p[0],h=p[1],y=Y((0,r.useStateCallback)({allow_document_upload:!1,allow_poi_resubmission:!1,needs_poi:!1,needs_poa:!1,has_poi:!1,resubmit_poa:!1,has_submitted_poa:!1,document_status:null,is_age_verified:!1,poa_address_mismatch:!1}),2),v=y[0],g=y[1];s().useEffect((function(){n||a.WS.authorized.getAccountStatus().then((function(e){var t=e.get_account_status,n=(0,D.C)(t),r=n.allow_document_upload,a=n.allow_poa_resubmission,o=n.needs_poi,i=n.needs_poa,l=n.document_status,c=n.is_age_verified,s=n.poa_address_mismatch,d=l===m.default.pending&&!a;g(q(q({},v),{allow_document_upload:r,allow_poa_resubmission:a,needs_poi:o,needs_poa:i,document_status:l,has_submitted_poa:d,is_age_verified:c,poa_address_mismatch:s}),(function(){h(!1),u()}))}))}),[n]);var b=function(){g(q(q({},v),{resubmit_poa:!0}))},x=function(e){var t=e.needs_poi;g(q(q({},v),{has_submitted_poa:!0,needs_poi:t}))},E=v.allow_document_upload,w=v.allow_poa_resubmission,z=v.document_status,S=v.needs_poi,k=v.resubmit_poa,O=v.has_submitted_poa,L=v.is_age_verified,j=v.poa_address_mismatch,C=(0,a.getPlatformRedirect)(f),N=Object.keys(a.platforms).includes(null==C?void 0:C.ref)?s().createElement(r.Button,{primary:!0,className:"proof-of-identity__redirect",onClick:function(){var e,t=null===(e=a.platforms[C.ref])||void 0===e?void 0:e.url;window.location.href=t,window.sessionStorage.removeItem("config.platform")}},s().createElement(i.Localize,{i18n_default_text:"Back to {{platform_name}}",values:{platform_name:C.name}})):null;if(_)return s().createElement(r.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(!E||!L&&!w&&"none"===z&&t)return s().createElement(d,null);if(O&&!j)return s().createElement(A.default,{needs_poi:S,redirect_button:N});if(k||w||c&&["expired","rejected","suspected"].includes(z)||j)return s().createElement(T,{is_resubmit:!0,onSubmit:function(){return x({needs_poi:S})}});switch(z){case m.default.none:return s().createElement(T,{onSubmit:function(){return x({needs_poi:S})}});case m.default.pending:return s().createElement(l.default,{needs_poi:S,redirect_button:N});case m.default.verified:return s().createElement(F.default,{needs_poi:S,redirect_button:N});case m.default.expired:return s().createElement(o.default,{onClick:b});case m.default.rejected:case m.default.suspected:return s().createElement(M.default,{onClick:b});default:return null}};V.propTypes={is_mx_mlt:p().bool,has_restricted_mt5_account:p().bool,is_switching:p().bool,refreshNotifications:p().func};const U=V},"./Sections/Verification/ProofOfIdentity/onfido-sdk-view-container.tsx":(e,t,n)=>{n.d(t,{Z:()=>q});var r=n("react"),a=n.n(r),o=n("../../../node_modules/i18n-iso-countries/index.js"),i=n("../../../node_modules/js-cookie/src/js.cookie.js"),l=n("../../../node_modules/onfido-sdk-ui/lib/index.js"),c=n("../../../node_modules/react-transition-group/esm/CSSTransition.js"),s=n("@deriv/components"),u=n("@deriv/shared"),d=n("@deriv/translations"),m=n("./Components/error-component/index.js");const f=function(){return{country_select:{alert_dropdown:{country_not_found:a().createElement(d.Localize,{i18n_default_text:"Country not found"})},alert:{another_doc:a().createElement(d.Localize,{i18n_default_text:"Documents from that country are not currently supported — <fallback>try another document type</fallback>"})},button_primary:a().createElement(d.Localize,{i18n_default_text:"Submit document"}),search:{accessibility:a().createElement(d.Localize,{i18n_default_text:"Select country"}),input_placeholder:a().createElement(d.Localize,{i18n_default_text:"e.g. United States"}),label:a().createElement(d.Localize,{i18n_default_text:"Search for country"})},title:a().createElement(d.Localize,{i18n_default_text:"Select issuing country"})},cross_device_checklist:{button_primary:a().createElement(d.Localize,{i18n_default_text:"Submit verification"}),info:a().createElement(d.Localize,{i18n_default_text:"Tips"}),list_item_doc_multiple:a().createElement(d.Localize,{i18n_default_text:"Documents uploaded"}),list_item_doc_one:a().createElement(d.Localize,{i18n_default_text:"Document uploaded"}),list_item_selfie:a().createElement(d.Localize,{i18n_default_text:"Selfie uploaded"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"We're now ready to verify your identity"}),title:a().createElement(d.Localize,{i18n_default_text:"Great, that's everything we need"})},cross_device_error_desktop:{subtitle:a().createElement(d.Localize,{i18n_default_text:"The link only works on mobile devices"}),title:a().createElement(d.Localize,{i18n_default_text:"Something's gone wrong"})},cross_device_error_restart:{subtitle:a().createElement(d.Localize,{i18n_default_text:"You'll need to restart your verification on your computer"}),title:a().createElement(d.Localize,{i18n_default_text:"Something's gone wrong"})},cross_device_intro:{button_primary:a().createElement(d.Localize,{i18n_default_text:"Get secure link"}),list_accessibility:a().createElement(d.Localize,{i18n_default_text:"Steps required to continue verification on your mobile"}),list_item_finish:a().createElement(d.Localize,{i18n_default_text:"Check back here to finish the submission"}),list_item_open_link:a().createElement(d.Localize,{i18n_default_text:"Open the link and complete the tasks"}),list_item_send_phone:a().createElement(d.Localize,{i18n_default_text:"Send a secure link to your phone"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"Here's how to do it:"}),title:a().createElement(d.Localize,{i18n_default_text:"Continue on your phone"})},cross_device_return:{body:a().createElement(d.Localize,{i18n_default_text:"Your computer may take a few seconds to update"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"You can now return to your computer to continue"}),title:a().createElement(d.Localize,{i18n_default_text:"Uploads successful"})},doc_confirmation:{alert:{blur_detail:a().createElement(d.Localize,{i18n_default_text:"Make sure everything is clear"}),blur_title:a().createElement(d.Localize,{i18n_default_text:"Blurry photo detected"}),crop_detail:a().createElement(d.Localize,{i18n_default_text:"Make sure full document is visible"}),crop_title:a().createElement(d.Localize,{i18n_default_text:"Cut-off image detected"}),glare_detail:a().createElement(d.Localize,{i18n_default_text:"Move away from direct light"}),glare_title:a().createElement(d.Localize,{i18n_default_text:"Glare detected"}),no_doc_detail:a().createElement(d.Localize,{i18n_default_text:"Make sure all of the document is in the photo"}),no_doc_title:a().createElement(d.Localize,{i18n_default_text:"No document detected"})},body_id:a().createElement(d.Localize,{i18n_default_text:"Make sure your card details are clear to read, with no blur or glare"}),body_image_medium:a().createElement(d.Localize,{i18n_default_text:"It’ll take longer to verify you if we can’t read it"}),body_image_poor:a().createElement(d.Localize,{i18n_default_text:"To smoothly verify you, we need a better photo"}),body_license:a().createElement(d.Localize,{i18n_default_text:"Make sure your license details are clear to read, with no blur or glare"}),body_passport:a().createElement(d.Localize,{i18n_default_text:"Make sure your passport details are clear to read, with no blur or glare"}),body_permit:a().createElement(d.Localize,{i18n_default_text:"Make sure your permit details are clear to read, with no blur or glare"}),body_tax_letter:a().createElement(d.Localize,{i18n_default_text:"Make sure details are clear to read, with no blur or glare"}),button_close:a().createElement(d.Localize,{i18n_default_text:"Close"}),button_primary_redo:a().createElement(d.Localize,{i18n_default_text:"Redo"}),button_primary_upload:a().createElement(d.Localize,{i18n_default_text:"Confirm"}),button_primary_upload_anyway:a().createElement(d.Localize,{i18n_default_text:"Upload anyway"}),button_secondary_redo:a().createElement(d.Localize,{i18n_default_text:"Redo"}),button_zoom:a().createElement(d.Localize,{i18n_default_text:"Enlarge image"}),image_accessibility:a().createElement(d.Localize,{i18n_default_text:"Photo of your document"}),title:a().createElement(d.Localize,{i18n_default_text:"Check your image"})},doc_select:{button_id:a().createElement(d.Localize,{i18n_default_text:"Identity card"}),button_id_detail:a().createElement(d.Localize,{i18n_default_text:"Front and back"}),button_license:a().createElement(d.Localize,{i18n_default_text:"Driver's license"}),button_license_detail:a().createElement(d.Localize,{i18n_default_text:"Front and back"}),button_passport:a().createElement(d.Localize,{i18n_default_text:"Passport"}),button_passport_detail:a().createElement(d.Localize,{i18n_default_text:"Face photo page"}),button_permit:a().createElement(d.Localize,{i18n_default_text:"Residence permit"}),button_permit_detail:a().createElement(d.Localize,{i18n_default_text:"Front and back"}),extra_no_mobile:a().createElement(d.Localize,{i18n_default_text:"Sorry, no mobile phone bills"}),list_accessibility:a().createElement(d.Localize,{i18n_default_text:"Documents you can use to verify your identity"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"It must be an official photo ID"}),subtitle_poa:a().createElement(d.Localize,{i18n_default_text:"These are the documents most likely to show your current home address"}),title:a().createElement(d.Localize,{i18n_default_text:"Choose document"}),title_poa:a().createElement(d.Localize,{i18n_default_text:"Select a %{country} document"})},doc_submit:{button_link_upload:a().createElement(d.Localize,{i18n_default_text:"or upload photo – no scans or photocopies"}),button_primary:a().createElement(d.Localize,{i18n_default_text:"Continue on phone"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"Take a photo with your phone"}),title_id_back:a().createElement(d.Localize,{i18n_default_text:"Submit identity card (back)"}),title_id_front:a().createElement(d.Localize,{i18n_default_text:"Submit identity card (front)"}),title_license_back:a().createElement(d.Localize,{i18n_default_text:"Submit license (back)"}),title_license_front:a().createElement(d.Localize,{i18n_default_text:"Submit license (front)"}),title_passport:a().createElement(d.Localize,{i18n_default_text:"Submit passport photo page"}),title_permit_back:a().createElement(d.Localize,{i18n_default_text:"Submit residence permit (back)"}),title_permit_front:a().createElement(d.Localize,{i18n_default_text:"Submit residence permit (front)"})},error_unsupported_browser:{subtitle_android:a().createElement(d.Localize,{i18n_default_text:"Restart the process on the latest version of Google Chrome"}),subtitle_ios:a().createElement(d.Localize,{i18n_default_text:"Restart the process on the latest version of Safari"}),title_android:a().createElement(d.Localize,{i18n_default_text:"Unsupported browser"}),title_ios:a().createElement(d.Localize,{i18n_default_text:"Unsupported browser"})},generic:{accessibility:{close_sdk_screen:a().createElement(d.Localize,{i18n_default_text:"Close identity verification screen"}),dismiss_alert:a().createElement(d.Localize,{i18n_default_text:"Dismiss alert"})},back:a().createElement(d.Localize,{i18n_default_text:"back"}),close:a().createElement(d.Localize,{i18n_default_text:"close"}),errors:{interrupted_flow_error:{instruction:a().createElement(d.Localize,{i18n_default_text:"Restart process on a different device"}),message:a().createElement(d.Localize,{i18n_default_text:"Camera not detected"})},invalid_size:{instruction:a().createElement(d.Localize,{i18n_default_text:"Must be under 10MB."}),message:a().createElement(d.Localize,{i18n_default_text:"File size exceeded."})},invalid_type:{instruction:a().createElement(d.Localize,{i18n_default_text:"Try using another file type."}),message:a().createElement(d.Localize,{i18n_default_text:"File not uploaded."})},lazy_loading:{message:a().createElement(d.Localize,{i18n_default_text:"An error occurred while loading the component"})},multiple_faces:{instruction:a().createElement(d.Localize,{i18n_default_text:"Only your face can be in the selfie"}),message:a().createElement(d.Localize,{i18n_default_text:"Multiple faces found"})},no_face:{instruction:a().createElement(d.Localize,{i18n_default_text:"Your face is needed in the selfie"}),message:a().createElement(d.Localize,{i18n_default_text:"No face found"})},request_error:{instruction:a().createElement(d.Localize,{i18n_default_text:"Please try again"}),message:a().createElement(d.Localize,{i18n_default_text:"Connection lost"})},sms_failed:{instruction:a().createElement(d.Localize,{i18n_default_text:"Copy the link to your phone"}),message:a().createElement(d.Localize,{i18n_default_text:"Something's gone wrong"})},sms_overuse:{instruction:a().createElement(d.Localize,{i18n_default_text:"Copy the link to your phone"}),message:a().createElement(d.Localize,{i18n_default_text:"Too many failed attempts"})},unsupported_file:{instruction:a().createElement(d.Localize,{i18n_default_text:"Try using a JPG or PNG file"}),message:a().createElement(d.Localize,{i18n_default_text:"File type not supported"})}},lazy_load_placeholder:a().createElement(d.Localize,{i18n_default_text:"Loading..."}),loading:a().createElement(d.Localize,{i18n_default_text:"Loading"})},get_link:{alert_wrong_number:a().createElement(d.Localize,{i18n_default_text:"Check that your number is correct"}),button_copied:a().createElement(d.Localize,{i18n_default_text:"Copied"}),button_copy:a().createElement(d.Localize,{i18n_default_text:"Copy"}),button_submit:a().createElement(d.Localize,{i18n_default_text:"Send link"}),info_qr_how:a().createElement(d.Localize,{i18n_default_text:"How to scan a QR code"}),info_qr_how_list_item_camera:a().createElement(d.Localize,{i18n_default_text:"Point your phone’s camera at the QR code"}),info_qr_how_list_item_download:a().createElement(d.Localize,{i18n_default_text:"If it doesn’t work, download a QR code scanner from Google Play or the App Store"}),link_divider:a().createElement(d.Localize,{i18n_default_text:"or"}),link_qr:a().createElement(d.Localize,{i18n_default_text:"Scan QR code"}),link_sms:a().createElement(d.Localize,{i18n_default_text:"Get link via SMS"}),link_url:a().createElement(d.Localize,{i18n_default_text:"Copy link"}),loader_sending:a().createElement(d.Localize,{i18n_default_text:"Sending"}),number_field_input_placeholder:a().createElement(d.Localize,{i18n_default_text:"Enter mobile number"}),number_field_label:a().createElement(d.Localize,{i18n_default_text:"Enter your mobile number:"}),subtitle_qr:a().createElement(d.Localize,{i18n_default_text:"Scan the QR code with your phone"}),subtitle_sms:a().createElement(d.Localize,{i18n_default_text:"Send this one-time link to your phone"}),subtitle_url:a().createElement(d.Localize,{i18n_default_text:"Open the link on your mobile"}),title:a().createElement(d.Localize,{i18n_default_text:"Get your secure link"}),url_field_label:a().createElement(d.Localize,{i18n_default_text:"Copy the link to your mobile browser"})},linked_computer:{button_primary:a().createElement(d.Localize,{i18n_default_text:"Continue"}),info:a().createElement(d.Localize,{i18n_default_text:"Make sure§"}),list_item_desktop_open:a().createElement(d.Localize,{i18n_default_text:"2. Your desktop window stays open"}),list_item_sent_by_you:a().createElement(d.Localize,{i18n_default_text:"1. This link was sent by you"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"Continue with the verification"}),title:a().createElement(d.Localize,{i18n_default_text:"Linked to your computer"})},mobilePhrases:{photo_upload:{body_id_back:a().createElement(d.Localize,{i18n_default_text:"Take a photo of the back of your card"}),body_id_front:a().createElement(d.Localize,{i18n_default_text:"Take a photo of the front of your card"}),body_license_back:a().createElement(d.Localize,{i18n_default_text:"Take a photo of the back of your license"}),body_license_front:a().createElement(d.Localize,{i18n_default_text:"Take a photo of the front of your license"}),body_passport:a().createElement(d.Localize,{i18n_default_text:"Take a photo of your passport photo page"}),body_selfie:a().createElement(d.Localize,{i18n_default_text:"Take a selfie showing your face"})},selfie_capture:{alert:{camera_inactive:{detail:a().createElement(d.Localize,{i18n_default_text:"Take a photo using the <fallback>basic camera mode</fallback> instead"})},camera_not_working:{detail:a().createElement(d.Localize,{i18n_default_text:"Take a photo using the <fallback>basic camera mode</fallback> instead"})}}},upload_guide:{button_primary:a().createElement(d.Localize,{i18n_default_text:"Take a photo"}),title:a().createElement(d.Localize,{i18n_default_text:"Passport photo page"})}},outro:{body:a().createElement(d.Localize,{i18n_default_text:"Thank you"}),title:a().createElement(d.Localize,{i18n_default_text:"Verification complete"})},permission_recovery:{button_primary:a().createElement(d.Localize,{i18n_default_text:"Refresh"}),info:a().createElement(d.Localize,{i18n_default_text:"Recovery"}),list_header_cam:a().createElement(d.Localize,{i18n_default_text:"Follow these steps to recover camera access:"}),list_item_action_cam:a().createElement(d.Localize,{i18n_default_text:"Refresh this page to restart the identity verification process"}),list_item_how_to_cam:a().createElement(d.Localize,{i18n_default_text:"Grant access to your camera from your browser settings"}),subtitle_cam:a().createElement(d.Localize,{i18n_default_text:"Recover camera access to continue face verification"}),title_cam:a().createElement(d.Localize,{i18n_default_text:"Camera access is denied"})},permission:{body_cam:a().createElement(d.Localize,{i18n_default_text:"We cannot verify you without using your camera"}),button_primary_cam:a().createElement(d.Localize,{i18n_default_text:"Enable camera"}),subtitle_cam:a().createElement(d.Localize,{i18n_default_text:"When prompted, you must enable camera access to continue"}),title_cam:a().createElement(d.Localize,{i18n_default_text:"Allow camera access"})},photo_upload:{body_bank_statement:a().createElement(d.Localize,{i18n_default_text:"Provide the whole document page for best results"}),body_benefits_letter:a().createElement(d.Localize,{i18n_default_text:"Provide the whole document page for best results"}),body_bill:a().createElement(d.Localize,{i18n_default_text:"Provide the whole document page for best results"}),body_government_letter:a().createElement(d.Localize,{i18n_default_text:"Provide the whole document page for best results"}),body_id_back:a().createElement(d.Localize,{i18n_default_text:"Upload back of card from your computer"}),body_id_front:a().createElement(d.Localize,{i18n_default_text:"Upload front of card from your computer"}),body_license_back:a().createElement(d.Localize,{i18n_default_text:"Upload back of license from your computer"}),body_license_front:a().createElement(d.Localize,{i18n_default_text:"Upload front of license from your computer"}),body_passport:a().createElement(d.Localize,{i18n_default_text:"Upload passport photo page from your computer"}),body_selfie:a().createElement(d.Localize,{i18n_default_text:"Upload a selfie from your computer"}),body_tax_letter:a().createElement(d.Localize,{i18n_default_text:"Provide the whole document page for best results"}),button_take_photo:a().createElement(d.Localize,{i18n_default_text:"Take photo"}),button_upload:a().createElement(d.Localize,{i18n_default_text:"Upload"}),title_selfie:a().createElement(d.Localize,{i18n_default_text:"Selfie"})},selfie_capture:{alert:{camera_inactive:{detail:a().createElement(d.Localize,{i18n_default_text:"Check that it is connected and functional. You can also <fallback>continue verification on your phone</fallback>"}),detail_no_fallback:a().createElement(d.Localize,{i18n_default_text:"Make sure your device has a working camera"}),title:a().createElement(d.Localize,{i18n_default_text:"Camera not working?"})},camera_not_working:{detail:a().createElement(d.Localize,{i18n_default_text:"It may be disconnected. <fallback>Try using your phone instead</fallback>."}),detail_no_fallback:a().createElement(d.Localize,{i18n_default_text:"Make sure your device's camera works"}),title:a().createElement(d.Localize,{i18n_default_text:"Camera not working"})},timeout:{detail:a().createElement(d.Localize,{i18n_default_text:"Remember to press stop when you're done. <fallback>Redo video actions</fallback>"}),title:a().createElement(d.Localize,{i18n_default_text:"Looks like you took too long"})}},button_accessibility:a().createElement(d.Localize,{i18n_default_text:"Take a photo"}),frame_accessibility:a().createElement(d.Localize,{i18n_default_text:"View from camera"}),title:a().createElement(d.Localize,{i18n_default_text:"Take a selfie"})},selfie_confirmation:{image_accessibility:a().createElement(d.Localize,{i18n_default_text:"Photo of your face"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"Make sure your selfie clearly shows your face"}),title:a().createElement(d.Localize,{i18n_default_text:"Check selfie"})},selfie_intro:{button_primary:a().createElement(d.Localize,{i18n_default_text:"Continue"}),list_accessibility:a().createElement(d.Localize,{i18n_default_text:"Tips to take a good selfie"}),list_item_face_forward:a().createElement(d.Localize,{i18n_default_text:"Face forward and make sure your eyes are clearly visible"}),list_item_no_glasses:a().createElement(d.Localize,{i18n_default_text:"Remove your glasses, if necessary"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"We'll compare it with your document"}),title:a().createElement(d.Localize,{i18n_default_text:"Take a selfie"})},sms_sent:{info:a().createElement(d.Localize,{i18n_default_text:"Tips"}),info_link_expire:a().createElement(d.Localize,{i18n_default_text:"Your link will expire in one hour"}),info_link_window:a().createElement(d.Localize,{i18n_default_text:"Keep this window open while using your mobile"}),link:a().createElement(d.Localize,{i18n_default_text:"Resend link"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"We've sent a secure link to %{number}"}),subtitle_minutes:a().createElement(d.Localize,{i18n_default_text:"It may take a few minutes to arrive"}),title:a().createElement(d.Localize,{i18n_default_text:"Check your mobile"})},switch_phone:{info:a().createElement(d.Localize,{i18n_default_text:"Tips"}),info_link_expire:a().createElement(d.Localize,{i18n_default_text:"Your mobile link will expire in one hour"}),info_link_refresh:a().createElement(d.Localize,{i18n_default_text:"Don't refresh this page"}),info_link_window:a().createElement(d.Localize,{i18n_default_text:"Keep this window open while using your mobile"}),link:a().createElement(d.Localize,{i18n_default_text:"Cancel"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"Once you\\'ve finished we'll take you to the next step"}),title:a().createElement(d.Localize,{i18n_default_text:"Connected to your mobile"})},upload_guide:{button_primary:a().createElement(d.Localize,{i18n_default_text:"Upload photo"}),image_detail_blur_alt:a().createElement(d.Localize,{i18n_default_text:"Example of a blurry document"}),image_detail_blur_label:a().createElement(d.Localize,{i18n_default_text:"All details must be clear — nothing blurry"}),image_detail_cutoff_alt:a().createElement(d.Localize,{i18n_default_text:"Example of a cut-off document"}),image_detail_cutoff_label:a().createElement(d.Localize,{i18n_default_text:"Show all details — including the bottom 2 lines"}),image_detail_glare_alt:a().createElement(d.Localize,{i18n_default_text:"Example of a document with glare"}),image_detail_glare_label:a().createElement(d.Localize,{i18n_default_text:"Move away from direct light — no glare"}),image_detail_good_alt:a().createElement(d.Localize,{i18n_default_text:"Document example"}),image_detail_good_label:a().createElement(d.Localize,{i18n_default_text:"The photo should clearly show your document"}),subtitle:a().createElement(d.Localize,{i18n_default_text:"Scans and photocopies are not accepted"}),title:a().createElement(d.Localize,{i18n_default_text:"Upload passport photo page"})}}};var p=n("./Components/poi/missing-personal-details/index.js"),_=n("../../../node_modules/classnames/index.js"),h=n.n(_),y=n("../../../node_modules/formik/dist/formik.esm.js"),v=n("./Components/form-body/index.ts"),g=n("./Components/load-error-message/index.ts"),b=n("./Components/forms/personal-details-form.jsx"),x=n("./Helpers/utils.ts");function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function z(){z=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new O(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(L([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==E(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=L,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function S(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const I=function(e){var t=e.account_settings,n=e.getChangeableFields,r=e.onFormConfirm,o=C(a().useState(!0),2),i=o[0],l=o[1],c=C(a().useState(!1),2),m=c[0],f=c[1],p=C(a().useState({show_form:!0,form_initial_values:{first_name:"",last_name:"",date_of_birth:""},changeable_fields:[],api_error:""}),2),_=p[0],E=p[1];a().useEffect((function(){u.WS.wait("get_settings").then((function(){var e=(0,u.filterObjProperties)(t,["first_name","last_name","date_of_birth"]);e.date_of_birth&&(e.date_of_birth=(0,u.toMoment)(e.date_of_birth).format("YYYY-MM-DD")),E(L(L({},_),{},{changeable_fields:n(),form_initial_values:e})),l(!1)}))}),[t]);var O=function(){var e,t=(e=z().mark((function e(t,n){var a,o,i,c,s;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.setStatus,o=n.setSubmitting,!m){e.next=3;break}return e.abrupt("return");case 3:return a({error_msg:""}),i=(0,x.cf)(t,null!=_&&_.changeable_fields?S(_.changeable_fields):[]),e.next=7,u.WS.setSettings(i);case 7:if(!(c=e.sent).error){e.next=13;break}a({error_msg:c.error.message}),o(!1),e.next=23;break;case 13:return e.next=15,u.WS.authorized.storage.getSettings();case 15:if(!(s=e.sent).error){e.next=19;break}return E(L(L({},_),{},{api_error:s.error.message})),e.abrupt("return");case 19:E(L(L({},_),s.get_settings)),f(!0),l(!1),r&&setTimeout((function(){r()}),500);case 23:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){k(o,r,a,i,l,"next",e)}function l(e){k(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),j=w({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(_.form_initial_values),_.form_initial_values)),N=_.api_error;return N?a().createElement(g.default,{error_message:N}):i?a().createElement(s.Loading,{is_fullscreen:!1,className:"account__initial-loader"}):a().createElement(y.J9,{initialValues:j,enableReinitialize:!0,onSubmit:O,validate:function(e){var t={};return(0,x.Gu)(t,e)((function(e){return e}),["first_name","last_name","date_of_birth"],(0,d.localize)("This field is required")),e.first_name&&(t.first_name=(0,x.Ol)(e.first_name)),e.last_name&&(t.last_name=(0,x.Ol)(e.last_name)),E(L(L({},_),{},{errors:!(0,u.isEmptyObject)((0,u.removeEmptyPropertiesFromObject)(t))})),(0,u.removeEmptyPropertiesFromObject)(t)}},(function(e){var t=e.values,n=e.errors,r=e.touched,o=e.handleChange,i=e.handleBlur,l=e.handleSubmit,c=e.isSubmitting,f=e.setFieldValue,p=e.setFieldTouched,g=e.status;return a().createElement(y.l0,{className:"account-form__poi-confirm-example",onSubmit:l},a().createElement(v.default,null,a().createElement(b.Z,{errors:n,touched:r,values:t,handleChange:o,handleBlur:i,setFieldValue:f,setFieldTouched:p,editable_fields:_.changeable_fields,is_rendered_for_onfido:!0,warning_items:void 0}),a().createElement("button",{type:"submit",className:h()("account-form__poi-confirm-example--button",{"account-form__poi-confirm-example--button__disabled":m||!(0,u.isEmptyObject)(n)})},a().createElement(s.Checkbox,{value:m,label:a().createElement(s.Text,{size:(0,u.isMobile)()?"xxs":"xs"},(0,d.localize)("I confirm that the name and date of birth above match my chosen identity document (see below)")),disabled:c})),(null==g?void 0:g.error_msg)&&a().createElement("div",{className:"account-form__poi-confirm-example--status-message"},a().createElement(s.HintBox,{icon:"IcAlertDanger",icon_height:16,icon_width:16,message:a().createElement(s.Text,{as:"p",size:"xxxs"},a().createElement(d.Localize,{i18n_default_text:"Sorry, an internal error occurred. Hit the above checkbox to try again."})),is_danger:!0}))))}))};function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const A=function(e){var t=e.is_onfido_disabled,n=e.is_onfido_container_hidden,r=e.onfido_element_id,o=void 0===r?"onfido":r,i=e.is_confirmed,l=e.data_testid,u=e.is_onfido_initialized,m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(!1),2),f=m[0],p=m[1],_=a().useRef(),y=a().useRef();return a().useEffect((function(){i&&(_.current=setTimeout((function(){p(!0)}),800),y.current=setTimeout((function(){p(!1)}),4650))}),[i]),a().useEffect((function(){return function(){clearTimeout(_.current),clearTimeout(y.current)}}),[]),a().createElement("div",{className:"onfido-container-view_wrapper"},a().createElement("div",{className:h()({"onfido-container__status-message_container":!t})},a().createElement(c.Z,{appear:f,in:f,timeout:{exit:350},classNames:{exit:"onfido-container__status-message--exit"},unmountOnExit:!0},a().createElement(s.HintBox,{className:"onfido-container__status-message",icon:"IcAlertAnnounce",icon_height:16,icon_width:16,message:a().createElement(s.Text,{as:"p",size:"xxxs"},a().createElement(d.Localize,{i18n_default_text:"Your personal details have been saved successfully."})),is_info:!0}))),t&&u&&a().createElement(s.HintBox,{className:"onfido-container__info-message",icon:"IcInfoBlue",icon_height:16,icon_width:16,message:a().createElement(s.Text,{as:"p",size:"xxxs"},a().createElement(d.Localize,{i18n_default_text:"Hit the checkbox above to choose your document."})),is_info:!0}),a().createElement("div",{"data-testid":l,id:o,className:h()({"onfido-container__disabled":t,"onfido-container__hidden":n})}))};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function F(){F=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==M(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function D(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const q=function(e){var t=e.account_settings,n=e.country_code,_=e.documents_supported,h=e.getChangeableFields,y=e.handleViewComplete,v=e.height,g=e.is_default_enabled,b=B(a().useState(),2),x=b[0],E=b[1],w=B(a().useState(""),2),z=w[0],S=w[1],k=B(a().useState(!0),2),O=k[0],L=k[1],j=B(a().useState(0),2),C=j[0],N=j[1],P=B(a().useState(!0),2),T=P[0],M=P[1],R=a().useRef(),q=B(a().useState(!1),2),G=q[0],Y=q[1],W=B(a().useState(!1),2),V=W[0],U=W[1],$=3!==n.length?o.alpha2ToAlpha3(n.toUpperCase()):n,H=2!==n.length?o.alpha3ToAlpha2(n.toUpperCase()):n,Z=Array.isArray(_)?_:Object.keys(_).map((function(e){return _[e].display_name})),K=a().useRef();a().useEffect((function(){g&&M(!1)}),[g]);var J,X=a().useCallback((function(e){var t;null==K||null===(t=K.current)||void 0===t||t.tearDown();var n=Object.keys(e).map((function(t){var n;return null===(n=e[t])||void 0===n?void 0:n.id}));u.WS.notificationEvent({notification_event:1,category:"authentication",event:"poi_documents_uploaded",args:{documents:n}}).then((function(){y()}))}),[y]),Q=a().useCallback(function(){var e,t=(e=F().mark((function e(t){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,l.init)({containerId:"onfido",language:{locale:(0,d.getLanguage)().toLowerCase()||"en",phrases:f(),mobilePhrases:f()},token:t,useModal:!1,useMemoryHistory:!0,onComplete:X,steps:[{type:"document",options:{documentTypes:{passport:Z.some((function(e){return/Passport/g.test(e)})),driving_licence:!!Z.some((function(e){return/Driving Licence/g.test(e)}))&&{country:$},national_identity_card:!!Z.some((function(e){return/National Identity Card/g.test(e)}))&&{country:$}},hideCountrySelection:!0}},"face"]});case 5:K.current=e.sent,U(!0),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),E(e.t0),M(!0),K.current=void 0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){D(o,r,a,i,l,"next",e)}function l(e){D(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[X,Z,$]),ee=a().useCallback((function(){return new Promise((function(e){var t="onfido_token",n=i.get(t);n?e(n):u.WS.serviceToken({service_token:1,service:"onfido",country:H}).then((function(n){var r;if(n.error)e({error:n.error});else if(null!==(r=n.service_token)&&void 0!==r&&r.onfido){var a=n.service_token.onfido.token;i.set(t,a,{expires:1/16,secure:!0,sameSite:"strict"}),e(a)}}))}))}),[H]),te=(0,r.useCallback)((function(){Y(!0),M(!1)}),[]);if(a().useEffect((function(){var e=function(){K.current||ee().then((function(e){"string"!=typeof e&&null!=e&&e.error?(function(e){switch(e.code){case"MissingPersonalDetails":S("all");break;case"InvalidPostalCode":S("postal_code");break;default:E(e)}}(e.error),L(!1),N(C+1),K.current=void 0):"string"==typeof e&&Q(e).then((function(){L(!1)})),R.current&&clearTimeout(R.current)}))};return 0===C?e():0!==C&&C<3&&(R.current=setTimeout((function(){e()}),Math.pow(2,C)+1e3*(0,u.cryptoMathRandom)())),function(){clearTimeout(R.current)}}),[ee,Q,C]),O)J=a().createElement(s.Loading,{is_fullscreen:!1});else if(z)J=a().createElement(p.default,{has_invalid_postal_code:"postal_code"===z,from:"proof_of_identity"});else if(C>=3&&x){var ne;J=a().createElement(m.default,{error_message:null!==(ne=null==x?void 0:x.message)&&void 0!==ne?ne:x})}return a().createElement(s.ThemedScrollbars,{is_bypassed:(0,u.isMobile)(),height:v},a().createElement("div",{className:"onfido-container"},J||a().createElement(c.Z,{appear:T,in:T,timeout:{exit:350},classNames:{exit:"account-form__poi-confirm-example_wrapper--exit"},unmountOnExit:!0},a().createElement("div",{className:"account-form__poi-confirm-example_wrapper account-form__poi-confirm-example_container"},a().createElement(I,{account_settings:t,getChangeableFields:h,onFormConfirm:te}))),a().createElement(A,{is_onfido_disabled:T,is_confirmed:G,is_onfido_container_hidden:!!J,is_onfido_initialized:V})))}},"./Sections/Verification/ProofOfIdentity/proof-of-identity-container.jsx":(e,t,n)=>{n.d(t,{default:()=>we});var r=n("@deriv/components"),a=n("@deriv/shared"),o=n("./Sections/Verification/ProofOfIdentity/proof-of-identity-utils.ts"),i=n("./Components/demo-message/index.ts"),l=n("./Components/error-component/index.js"),c=n("./Components/poi/status/expired/index.js"),s=n("react"),u=n.n(s),d=n("@deriv/translations");const m=function(e){var t=e.handleRequireSubmission;return u().createElement("div",{className:"proof-of-identity__container","data-testid":"idv_expired_container"},u().createElement(r.Icon,{icon:"IcPoiFailed",className:"icon",size:128}),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},(0,a.isMobile)()?(0,d.localize)("ID verification failed"):(0,d.localize)("Verification of document number failed")),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",size:"xs"},(0,a.isMobile)()?(0,d.localize)("The ID you submitted is expired."):(0,d.localize)("It looks like your identity document has expired. Please try again with a valid document.")),u().createElement(r.Button,{type:"button",className:"account-management__continue",onClick:t,large:!0,text:(0,d.localize)("Try Again"),primary:!0}))};var f=["styles"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}const _=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,f);return u().createElement("svg",p({viewBox:"0 0 115 123",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),u().createElement("path",{d:"M92.84 120.37H20.65V3.49h72.19a7.81 7.81 0 017.81 7.81v101.25a7.83 7.83 0 01-7.81 7.82z",fill:"#C6E4E4"}),u().createElement("path",{d:"M60.65 22.43A19.75 19.75 0 1080.4 42.18a19.75 19.75 0 00-19.75-19.75zm-18 20.28h7.83c.01 3.18.46 6.35 1.34 9.41h-6.2a18 18 0 01-3-9.41h.03zm18.84-12.78v-5.72c2.09.45 4 2.58 5.36 5.72h-5.36zm6 1.68A32.25 32.25 0 0169.16 41h-7.67v-9.39h6zm-7.71-7.4v5.72h-5.33c1.38-3.14 3.27-5.27 5.36-5.72h-.03zm0 7.4V41h-7.64a32.07 32.07 0 011.64-9.41l6 .02zM50.45 41h-7.8A18 18 0 0146 31.61h6A33.62 33.62 0 0050.45 41zm1.67 1.69h7.69v9.41h-6.24a33.21 33.21 0 01-1.45-9.39v-.02zm7.69 11.11v6.35c-2.23-.49-4.23-2.87-5.63-6.35h5.63zm1.68 6.35V53.8h5.63c-1.4 3.48-3.4 5.86-5.63 6.35zm0-8v-9.44h7.69a33 33 0 01-1.45 9.41l-6.24.03zm9.37-9.41h7.83a17.92 17.92 0 01-3 9.41h-6.2a34.7 34.7 0 001.37-9.44v.03zm0-1.69a34.53 34.53 0 00-1.52-9.41h5.94A18 18 0 0178.66 41l-7.8.05zm3-11.09h-5.14a16.29 16.29 0 00-3.13-5.11 18 18 0 018.29 5.08l-.02.03zm-18.15-5.14a16.29 16.29 0 00-3.13 5.11h-5.16a18 18 0 018.29-5.11zm-8.87 29h5.5a16.73 16.73 0 003.37 5.74 18.06 18.06 0 01-8.87-5.76v.02zm18.75 5.74A16.82 16.82 0 0069 53.8h5.5a18.07 18.07 0 01-8.91 5.74v.02zM87.3 78.41H34.55a4.17 4.17 0 00-4.17 4.17v2.14a4.17 4.17 0 004.17 4.17H87.3a4.17 4.17 0 004.17-4.17v-2.14a4.17 4.17 0 00-4.17-4.17z",fill:"#fff"}),u().createElement("path",{d:"M103 50.98H13.06a5.5 5.5 0 00-5.5 5.5V107a5.5 5.5 0 005.5 5.5H103a5.5 5.5 0 005.5-5.5V56.48a5.5 5.5 0 00-5.5-5.5z",fill:"#fff"}),u().createElement("path",{d:"M103 51.48a5 5 0 015 5V107a5 5 0 01-5 5H13.06a5 5 0 01-5-5V56.48a5 5 0 015-5H103zm0-1H13.06a6 6 0 00-6 6V107a6 6 0 006 6H103a6 6 0 006-6V56.48a6 6 0 00-6-6z",fill:"#F2F2F2"}),u().createElement("path",{d:"M45.91 61.24H18.87a3 3 0 00-3 3v35.17a3 3 0 003 3h27.04a3 3 0 003-3V64.24a3 3 0 00-3-3z",fill:"#F2F2F2"}),u().createElement("path",{d:"M89.75 70.37H59.58a1.55 1.55 0 00-1.55 1.55v1.95c0 .86.7 1.55 1.55 1.55h30.17a1.55 1.55 0 001.55-1.55v-1.95a1.55 1.55 0 00-1.55-1.55zm.2 11.37H59.38a1.35 1.35 0 00-1.35 1.35v1.68c0 .75.6 1.35 1.35 1.35h30.57a1.35 1.35 0 001.35-1.35v-1.68a1.35 1.35 0 00-1.35-1.35zm0 6.82H59.38a1.35 1.35 0 00-1.35 1.35v1.68c0 .75.6 1.35 1.35 1.35h30.57a1.35 1.35 0 001.35-1.35v-1.68a1.35 1.35 0 00-1.35-1.35z",fill:"#E3E4E3"}),u().createElement("path",{d:"M32.45 81.79a6.77 6.77 0 100-13.54 6.77 6.77 0 000 13.54zm-5.45.28S28.48 84 32.45 84s5.27-1.93 5.27-1.93 6.06 2.33 6.06 8.7c0 0-3.14 4.63-11.14 4.63S21 90.77 21 90.77s.19-6.86 6-8.7z",fill:"#84ABAE"}),u().createElement("path",{d:"M100.55 126a21.45 21.45 0 100-42.9 21.45 21.45 0 000 42.9z",fill:"#EC3F3F"}),u().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M103.34 110h-4.68L98 91h6l-.66 19zm-2.35 3c.9 0 1.63.28 2.18.85.55.56.83 1.28.83 2.16 0 .87-.28 1.58-.83 2.15-.55.56-1.27.84-2.18.84-.9 0-1.61-.28-2.16-.84A2.94 2.94 0 0198 116a2.87 2.87 0 013-3.01z",fill:"#fff"}))},h=function(e){var t=e.handleRequireSubmission;return u().createElement("div",{className:"proof-of-identity__container"},u().createElement(_,{className:"icon",size:128}),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},(0,d.localize)("ID verification failed")),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",size:"xs"},(0,d.localize)("We were unable to verify your ID with the details you provided. "),(0,d.localize)("Please upload your identity document.")),u().createElement(r.Button,{type:"button",className:"account-management__continue",onClick:t,large:!0,text:(0,d.localize)("Upload identity document"),primary:!0}))},y=function(e){var t=e.handleRequireSubmission;return u().createElement("div",{className:"proof-of-identity__container"},u().createElement(_,{className:"icon",size:128}),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},(0,d.localize)("ID verification failed")),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",size:"xs"},(0,d.localize)("We were unable to verify your ID with the details you provided.")),u().createElement(r.Button,{type:"button",className:"account-management__continue",onClick:t,large:!0,text:(0,d.localize)("Try again"),primary:!0}))};var v=["styles"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}const b=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,v);return u().createElement("svg",g({viewBox:"0 0 123 123",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),u().createElement("path",{d:"M85.84 117.37H13.65V.49h72.19a7.81 7.81 0 017.81 7.81v101.25a7.83 7.83 0 01-7.81 7.82z",fill:"#C6E4E4"}),u().createElement("path",{d:"M53.65 19.43A19.75 19.75 0 1073.4 39.18a19.75 19.75 0 00-19.75-19.75zm-18 20.28h7.83c.01 3.18.46 6.35 1.34 9.41h-6.2a18 18 0 01-3-9.41h.03zm18.84-12.78v-5.72c2.09.45 4 2.58 5.36 5.72h-5.36zm6 1.68A32.25 32.25 0 0162.16 38h-7.67v-9.39h6zm-7.71-7.4v5.72h-5.33c1.38-3.14 3.27-5.27 5.36-5.72h-.03zm0 7.4V38h-7.64a32.07 32.07 0 011.64-9.41l6 .02zM43.45 38h-7.8A18 18 0 0139 28.61h6A33.62 33.62 0 0043.45 38zm1.67 1.69h7.69v9.41h-6.24a33.21 33.21 0 01-1.45-9.39v-.02zm7.69 11.11v6.35c-2.23-.49-4.23-2.87-5.63-6.35h5.63zm1.68 6.35V50.8h5.63c-1.4 3.48-3.4 5.86-5.63 6.35zm0-8v-9.44h7.69a33 33 0 01-1.45 9.41l-6.24.03zm9.37-9.41h7.83a17.92 17.92 0 01-3 9.41h-6.2a34.7 34.7 0 001.37-9.44v.03zm0-1.69a34.53 34.53 0 00-1.52-9.41h5.94A18 18 0 0171.66 38l-7.8.05zm3-11.09h-5.14a16.29 16.29 0 00-3.13-5.11 18 18 0 018.29 5.08l-.02.03zm-18.15-5.14a16.29 16.29 0 00-3.13 5.11h-5.16a18 18 0 018.29-5.11zm-8.87 29h5.5a16.73 16.73 0 003.37 5.74 18.06 18.06 0 01-8.87-5.76v.02zm18.75 5.74A16.82 16.82 0 0062 50.8h5.5a18.07 18.07 0 01-8.91 5.74v.02zM80.3 75.41H27.55a4.17 4.17 0 00-4.17 4.17v2.14a4.17 4.17 0 004.17 4.17H80.3a4.17 4.17 0 004.17-4.17v-2.14a4.17 4.17 0 00-4.17-4.17z",fill:"#fff"}),u().createElement("path",{d:"M96 47.98H6.06a5.5 5.5 0 00-5.5 5.5V104a5.5 5.5 0 005.5 5.5H96a5.5 5.5 0 005.5-5.5V53.48a5.5 5.5 0 00-5.5-5.5z",fill:"#fff"}),u().createElement("path",{d:"M96 48.48a5 5 0 015 5V104a5 5 0 01-5 5H6.06a5 5 0 01-5-5V53.48a5 5 0 015-5H96zm0-1H6.06a6 6 0 00-6 6V104a6 6 0 006 6H96a6 6 0 006-6V53.48a6 6 0 00-6-6z",fill:"#F2F2F2"}),u().createElement("path",{d:"M38.91 58.24H11.87a3 3 0 00-3 3v35.17a3 3 0 003 3h27.04a3 3 0 003-3V61.24a3 3 0 00-3-3z",fill:"#F2F2F2"}),u().createElement("path",{d:"M82.75 67.37H52.58a1.55 1.55 0 00-1.55 1.55v1.95c0 .86.7 1.55 1.55 1.55h30.17a1.55 1.55 0 001.55-1.55v-1.95a1.55 1.55 0 00-1.55-1.55zm.2 11.37H52.38a1.35 1.35 0 00-1.35 1.35v1.68c0 .75.6 1.35 1.35 1.35h30.57a1.35 1.35 0 001.35-1.35v-1.68a1.35 1.35 0 00-1.35-1.35zm0 6.82H52.38a1.35 1.35 0 00-1.35 1.35v1.68c0 .75.6 1.35 1.35 1.35h30.57a1.35 1.35 0 001.35-1.35v-1.68a1.35 1.35 0 00-1.35-1.35z",fill:"#E3E4E3"}),u().createElement("path",{d:"M25.45 78.79a6.77 6.77 0 100-13.54 6.77 6.77 0 000 13.54zm-5.45.28S21.48 81 25.45 81s5.27-1.93 5.27-1.93 6.06 2.33 6.06 8.7c0 0-3.14 4.63-11.14 4.63S14 87.77 14 87.77s.19-6.86 6-8.7z",fill:"#84ABAE"}),u().createElement("path",{d:"M93.55 123a21.45 21.45 0 100-42.9 21.45 21.45 0 000 42.9z",fill:"#FF6444"}),u().createElement("path",{d:"M93.55 86.62l-.01 14.93h13.95",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))};var x=n("./Components/poa/poa-button/index.ts");const E=function(e){var t=e.needs_poa,n=e.is_from_external,a=e.redirect_button,o=!n&&u().createElement(x.Z,{custom_text:(0,d.localize)("Submit proof of address")});return u().createElement("div",{className:"proof-of-identity__container"},u().createElement(b,{className:"icon"}),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},(0,d.localize)("Your documents were submitted successfully")),u().createElement(r.Text,{className:"proof-of-identity__text text",size:"xs",align:"center"},(0,d.localize)("We’ll review your documents and notify you of its status within 5 minutes.")),t?u().createElement(u().Fragment,null,u().createElement(r.Text,{className:"text",size:"xs",align:"center"},(0,d.localize)("Next, we'll need your proof of address.")),o):u().createElement("div",{className:"proof-of-identity__redirection"},a))};var w=["styles"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}const S=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,w);return u().createElement("svg",z({viewBox:"0 0 115 123",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),u().createElement("path",{d:"M85.29 117.37H18.71c-5.92 0-10.71-4.48-10.71-10V10.49c0-5.52 4.79-10 10.71-10h66.58a8.1 8.1 0 018.36 7.81v101.25a8.11 8.11 0 01-8.36 7.82z",fill:"#C6E4E4"}),u().createElement("path",{d:"M53.65 19.43A19.75 19.75 0 1073.4 39.18a19.75 19.75 0 00-19.75-19.75zm-18 20.28h7.83c.01 3.18.46 6.35 1.34 9.41h-6.2a18 18 0 01-3-9.41h.03zm18.84-12.78v-5.72c2.09.45 4 2.58 5.36 5.72h-5.36zm6 1.68A32.25 32.25 0 0162.16 38h-7.67v-9.39h6zm-7.71-7.4v5.72h-5.33c1.38-3.14 3.27-5.27 5.36-5.72h-.03zm0 7.4V38h-7.64a32.07 32.07 0 011.64-9.41l6 .02zM43.45 38h-7.8A18 18 0 0139 28.61h6A33.62 33.62 0 0043.45 38zm1.67 1.69h7.69v9.41h-6.24a33.21 33.21 0 01-1.45-9.39v-.02zm7.69 11.11v6.35c-2.23-.49-4.23-2.87-5.63-6.35h5.63zm1.68 6.35V50.8h5.63c-1.4 3.48-3.4 5.86-5.63 6.35zm0-8v-9.44h7.69a33 33 0 01-1.45 9.41l-6.24.03zm9.37-9.41h7.83a17.92 17.92 0 01-3 9.41h-6.2a34.7 34.7 0 001.37-9.44v.03zm0-1.69a34.53 34.53 0 00-1.52-9.41h5.94A18 18 0 0171.66 38l-7.8.05zm3-11.09h-5.14a16.3 16.3 0 00-3.13-5.11 18 18 0 018.29 5.08l-.02.03zm-18.15-5.14a16.29 16.29 0 00-3.13 5.11h-5.16a18 18 0 018.29-5.11zm-8.87 29h5.5a16.73 16.73 0 003.37 5.74 18.06 18.06 0 01-8.87-5.76v.02zm18.75 5.74A16.82 16.82 0 0062 50.8h5.5a18.07 18.07 0 01-8.91 5.74v.02zM80.3 75.41H27.55a4.17 4.17 0 00-4.17 4.17v2.14a4.17 4.17 0 004.17 4.17H80.3a4.17 4.17 0 004.17-4.17v-2.14a4.17 4.17 0 00-4.17-4.17z",fill:"#fff"}),u().createElement("path",{d:"M96 47.98H6.06a5.5 5.5 0 00-5.5 5.5V104a5.5 5.5 0 005.5 5.5H96a5.5 5.5 0 005.5-5.5V53.48a5.5 5.5 0 00-5.5-5.5z",fill:"#fff"}),u().createElement("path",{d:"M96 48.48a5 5 0 015 5V104a5 5 0 01-5 5H6.06a5 5 0 01-5-5V53.48a5 5 0 015-5H96zm0-1H6.06a6 6 0 00-6 6V104a6 6 0 006 6H96a6 6 0 006-6V53.48a6 6 0 00-6-6z",fill:"#F2F2F2"}),u().createElement("path",{d:"M38.91 58.24H11.87a3 3 0 00-3 3v35.17a3 3 0 003 3h27.04a3 3 0 003-3V61.24a3 3 0 00-3-3z",fill:"#F2F2F2"}),u().createElement("path",{d:"M82.75 67.37H52.58a1.55 1.55 0 00-1.55 1.55v1.95c0 .86.7 1.55 1.55 1.55h30.17a1.55 1.55 0 001.55-1.55v-1.95a1.55 1.55 0 00-1.55-1.55zm.2 9.26H52.38a1.35 1.35 0 00-1.35 1.35v1.68c0 .75.6 1.35 1.35 1.35h30.57a1.35 1.35 0 001.35-1.35v-1.68a1.35 1.35 0 00-1.35-1.35zm0 8.93H52.38a1.35 1.35 0 00-1.35 1.35v1.68c0 .74.6 1.35 1.35 1.35h30.57a1.35 1.35 0 001.35-1.35v-1.68a1.35 1.35 0 00-1.35-1.35z",fill:"#E3E4E3"}),u().createElement("path",{d:"M25.45 78.79a6.77 6.77 0 100-13.54 6.77 6.77 0 000 13.54zm-5.45.28S21.48 81 25.45 81s5.27-1.93 5.27-1.93 6.06 2.33 6.06 8.7c0 0-3.14 4.63-11.14 4.63S14 87.77 14 87.77s.19-6.86 6-8.7z",fill:"#84ABAE"}),u().createElement("path",{d:"M91.99 123A23 23 0 1092 77a23 23 0 00-.01 46z",fill:"#4BB4B3"}),u().createElement("path",{d:"M90.38 107.38c-.25 0-.49-.09-.68-.24l-6.06-5a1.09 1.09 0 01-.15-1.51 1.07 1.07 0 011.51-.15l5.23 4.28 9.45-11.61a1.07 1.07 0 111.66 1.35L91.22 107a1.08 1.08 0 01-.73.39l-.11-.01z",fill:"#fff"}))},k=function(e){var t=e.needs_poa,n=e.is_from_external,o=e.redirect_button,i=t?(0,d.localize)("Your ID is verified. You will also need to submit proof of your address."):(0,d.localize)("ID verification passed");return u().createElement("div",{className:"proof-of-identity__container","data-testid":"poi_idv_verified_container"},u().createElement(S,{className:"icon"}),u().createElement(r.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},i),t?u().createElement(u().Fragment,null,!(0,a.isMobile)()&&u().createElement(r.Text,{className:"text",size:"xs",align:"center"},(0,d.localize)("Next, we'll need your proof of address.")),!n&&u().createElement(x.Z,{custom_text:(0,d.localize)("Submit proof of address")})):o)},O=function(e){var t=e.handleRequireSubmission,n=e.idv,r=e.is_from_external,a=e.needs_poa,i=e.redirect_button,l=n.status,c=n.submissions_left;switch(l){case o.Yy.pending:return u().createElement(E,{is_from_external:r,needs_poa:a,redirect_button:i});case o.Yy.rejected:case o.Yy.suspected:return Number(c)<1?u().createElement(h,{handleRequireSubmission:t}):u().createElement(y,{handleRequireSubmission:t});case o.Yy.verified:return u().createElement(k,{is_from_external:r,needs_poa:a,redirect_button:i});case o.Yy.expired:return u().createElement(m,{redirect_button:i,handleRequireSubmission:t});default:return null}};var L=n("./Components/poi/status/limited/index.js"),j=n("./Components/icon-message-content/index.ts");const C=function(){return u().createElement(j.default,{message:(0,d.localize)("Proof of identity verification not required"),text:(0,d.localize)("Your account does not need identity verification at this time. We will inform you if identity verification is required in the future."),icon:u().createElement(r.Icon,{icon:"IcPoiVerified",size:128})})};var N=n("./Components/poi/status/upload-complete/index.ts"),P=n("./Components/poi/status/verified/index.ts"),I=n("../../../node_modules/classnames/index.js"),T=n.n(I);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===A(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){var t=e.text;return u().createElement("div",{className:"account-management__list-message"},u().createElement("div",{className:"account-management__list-icon"},u().createElement(r.Icon,{icon:"IcCloseCircle",color:"red"})),u().createElement("div",{className:"account-management__list-text-container"},u().createElement(r.Text,{size:"xs",className:"account-management__list-text"},t)))},B=function(e){var t=e.message_list,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u().useState(!1),2),a=n[0],o=n[1],i=t.slice(0,3);return a?u().createElement(u().Fragment,null,t.map((function(e,t){return u().createElement(D,{key:t,text:e})})),u().createElement(r.Button,{type:"button",className:"account-management__list-button",onClick:function(){return o(!1)},large:!0,text:(0,d.localize)("Show less"),tertiary:!0})):u().createElement(u().Fragment,null,i.map((function(e,t){return u().createElement(D,{key:t,text:e})})),u().createElement(r.Button,{type:"button",className:"account-management__list-button",onClick:function(){return o(!0)},large:!0,text:(0,d.localize)("Show more"),tertiary:!0}))};const R=function(e){var t=e.className,n=e.icon,o=e.message,i=e.message_list,l=void 0===i?[]:i,c=e.onContinue,s=l.length>3;return u().createElement(r.ThemedScrollbars,{is_bypassed:(0,a.isMobile)()},u().createElement(r.Div100vhContainer,{className:"account-management__message-wrapper",is_disabled:(0,a.isDesktop)(),height_offset:"110px"},u().createElement("div",{className:T()("account-management__message-content",F({},"".concat(t,"__message-content"),t)),"data-testid":"dt_icon_message_list"},n&&u().createElement("div",{className:T()("account-management__message-icon",F({},"".concat(t,"__message-icon"),t))},n),u().createElement(r.Text,{as:"div",weight:"bold",className:T()("account-management__message",F({},"".concat(t,"__message"),t))},o),l&&u().createElement("div",{className:"account-management__list-container"},s?u().createElement(B,{message_list:l}):l.map((function(e,t){return u().createElement(D,{key:t,text:e})}))),c&&u().createElement(r.Button,{type:"button",className:"account-management__continue",onClick:c,large:!0,text:(0,d.localize)("Upload Document"),primary:!0}))))},q=function(e){var t=e.handleRequireSubmission,n=e.rejected_reasons;return u().createElement(R,{message:(0,d.localize)("Your proof of identity submission failed because:"),icon:u().createElement(r.Icon,{icon:"IcPoiFailed",size:128}),message_list:n,onContinue:t})};var G=n("./Components/poi/status/unsupported/index.js");const Y=function(e){var t=e.handleRequireSubmission,n=e.is_from_external,r=e.needs_poa,a=e.onfido,i=e.redirect_button,l=e.manual,s=e.setIsCfdPoiCompleted,d=e.country_code,m=e.handleViewComplete,f=a.status,p=a.submissions_left,_=a.last_rejected;switch(f){case o.Yy.pending:return u().createElement(N.default,{is_from_external:n,needs_poa:r,redirect_button:i});case o.Yy.rejected:case o.Yy.suspected:return Number(p)<1?u().createElement(G.default,{manual:l,is_from_external:n,setIsCfdPoiCompleted:s,country_code:d,handleViewComplete:m,onfido:a}):u().createElement(q,{rejected_reasons:_,handleRequireSubmission:t});case o.Yy.verified:return u().createElement(P.default,{is_from_external:n,needs_poa:r,redirect_button:i});case o.Yy.expired:return u().createElement(c.default,{is_from_external:n,redirect_button:i,handleRequireSubmission:t});default:return null}};var W=n("../../../node_modules/formik/dist/formik.esm.js"),V=n("./Components/form-footer/index.ts");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const H=function(e){var t=e.handleSelectionNext,n=e.is_from_external,a=e.residence_list,o=e.selected_country,i=e.setSelectedCountry,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u().useState([]),2),c=l[0],s=l[1],m=function(e){var t=c.find((function(t){return t.text===e}));t&&(null==i||i(t))};return u().useEffect((function(){s(a)}),[a]),u().createElement(W.J9,{initialValues:{country_input:""},validate:function(e){var t={},n=e.country_input;return n?c.find((function(e){return e.text===n}))||(t.country_input=(0,d.localize)("Please select a valid country of document issuance.")):t.country_input=(0,d.localize)("Please select the country of document issuance."),t},onSubmit:function(e,n){var r=n.setSubmitting;m(e.country_input),r(!1),null==t||t()}},(function(e){var t=e.dirty,a=e.errors,i=e.handleBlur,l=e.handleChange,s=e.handleSubmit,f=e.isSubmitting,p=e.isValid,_=e.setFieldValue,h=e.touched,y=e.values;return u().createElement(u().Fragment,null,u().createElement("div",{className:T()("proof-of-identity__container",{"min-height":!n})},u().createElement(r.Text,{className:"proof-of-identity__header",align:"center",weight:"bold"},(0,d.localize)("Proof of identity")),u().createElement(r.Text,{className:"proof-of-identity__country-text ",size:"xs"},(0,d.localize)("In which country was your document issued?")),u().createElement("fieldset",{className:"proof-of-identity__fieldset"},u().createElement(W.gN,{name:"country_input"},(function(e){var t=e.field;return u().createElement(u().Fragment,null,u().createElement(r.DesktopWrapper,null,u().createElement(r.Autocomplete,U({className:T()({"external-dropdown":n})},t,{data_testid:"dt_external_dropdown",name:"country_input","data-lpignore":"true",error:h.country_input&&a.country_input,autoComplete:"off",type:"text",label:(0,d.localize)("Country"),list_items:c,value:y.country_input,onBlur:function(e){i(e);var t=e.target.value;c.find((function(e){return e.text===t}))||(_("country_input","",!0),m(""))},onChange:l,onItemSelection:function(e){var t=e.text;_("country_input","No results found"!==t&&t?t:"",!0),m(t)},required:!0}))),u().createElement(r.MobileWrapper,null,u().createElement("div",{className:"proof-of-identity__dropdown-container"},u().createElement(r.SelectNative,U({},t,{name:"country_input",error:h.country_input&&a.country_input,label:(0,d.localize)("Country"),placeholder:(0,d.localize)("Please select"),list_items:c,value:y.country_input,onChange:function(e){l(e),m(e.target.value)},use_text:!0,required:!0})))))})))),u().createElement(V.default,{className:T()("proof-of-identity__footer",{"external-footer":n})},u().createElement(r.Button,{className:"proof-of-identity__submit-button",type:"submit",onClick:function(){return s()},has_effect:!0,is_disabled:!t||f||!p||!o,is_loading:!1,text:(0,d.localize)("Next"),large:!0,primary:!0})))}))};var Z=n("./Helpers/utils.ts"),K=["styles"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}const X=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,K);return u().createElement("svg",J({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),u().createElement("g",{clipPath:"url(#clip0)"},u().createElement("path",{d:"M8.7.3a1 1 0 010 1.4L3.42 7H15a1 1 0 110 2H3.41l5.3 5.3a1 1 0 11-1.42 1.4l-7-7-.07-.08.07.09A1 1 0 010 8.09 1.03 1.03 0 010 8v-.02-.07V8a1 1 0 01.21-.62.97.97 0 01.08-.09l7-7a1 1 0 011.42 0z",fill:"#333"})),u().createElement("defs",null,u().createElement("clipPath",{id:"clip0"},u().createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))};function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function ee(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ae=function(e){var t,n,o,i=e.errors,l=e.touched,c=e.values,s=e.handleBlur,m=e.handleChange,f=e.setFieldValue,p=e.class_name,_=e.selected_country,h=e.hide_hint,y=e.can_skip_document_verification,v=void 0!==y&&y,g=te(u().useState([]),2),b=g[0],x=g[1],E=te(u().useState(null),2),w=E[0],z=E[1],S=te(u().useState(""),2),k=S[0],O=S[1],L=null!==(t=null==_||null===(n=_.identity)||void 0===n||null===(o=n.services)||void 0===o?void 0:o.idv)&&void 0!==t?t:{},j=L.documents_supported,C=L.has_visual_sample,N={id:"",text:"",value:"",example_format:"",sample_image:""},P=u().useMemo((function(){return(0,a.getIDVNotApplicableOption)()}),[]);u().useEffect((function(){if(j&&_&&_.value){var e=Object.keys(j);if(0===e.length)return;var t=(["gh","ng"].includes(_.value)?e.filter((function(e){return"voter_id"!==e})):e).map((function(e){var t,n,r,a=j[e],o=a.display_name,i=a.format,l=(0,Z.wA)(null!==(t=_.value)&&void 0!==t?t:"",e),c=l.new_display_name,s=l.example_format,u=l.sample_image;return j[e].additional?{id:e,text:c||o,additional:{display_name:null===(n=j[e].additional)||void 0===n?void 0:n.display_name,format:null===(r=j[e].additional)||void 0===r?void 0:r.format},value:i,sample_image:u,example_format:s}:{id:e,text:c||o,value:i,sample_image:u,example_format:s}}));x(v?[].concat(ee(t),[P]):ee(t))}}),[j,_,v,P]);var I=function(){f("document_type",N,!0)},A=function(e){var t;return null!==(t=b.find((function(t){return t.text===e})))&&void 0!==t?t:N},M=function(e,t){var n,r=("document_number"===t?c.document_type:c.document_type.additional).example_format,o=null;o=r.includes("-")?(0,a.formatInput)(r,null!==(n=o)&&void 0!==n?n:e.target.value,"-"):e.target.value,f(t,o,!0)},F=function(e){var t;f("document_type",e,!0),O(null==e?void 0:e.id),(null==e?void 0:e.id)===P.id&&(f("document_number","",!0),f("document_additional","",!0)),C&&z(null!==(t=e.sample_image)&&void 0!==t?t:"")};return u().createElement(u().Fragment,null,u().createElement("section",{className:T()("idv-form",p)},u().createElement("div",{className:"details-form"},u().createElement("div",{className:"poi-form-on-signup__fields"},u().createElement("div",{className:T()("proof-of-identity__container",{"proof-of-identity__container--idv":h})},u().createElement("div",{className:T()("proof-of-identity__inner-container",{"proof-of-identity__inner-container--incl-image":w})},u().createElement("div",{className:"proof-of-identity__fieldset-container"},u().createElement("fieldset",{className:T()({"proof-of-identity__fieldset":!h})},u().createElement(W.gN,{name:"document_type"},(function(e){var t=e.field;return u().createElement(u().Fragment,null,u().createElement(r.DesktopWrapper,null,u().createElement("div",{className:"document-dropdown"},u().createElement(r.Autocomplete,Q({},t,{name:"document_type","data-lpignore":"true",error:l.document_type&&i.document_type,autoComplete:"off",type:"text",label:(0,d.localize)("Choose the document type"),list_items:b,value:c.document_type.text,onBlur:function(e){s(e),A(e.target.value)||I()},onChange:m,onItemSelection:function(e){"No results found"!==e.text&&e.text?F(e):(O(""),I())},required:!0})))),u().createElement(r.MobileWrapper,null,u().createElement(r.SelectNative,Q({},t,{name:"document_type",error:l.document_type&&i.document_type,label:(0,d.localize)("Choose the document type"),placeholder:(0,d.localize)("Please select"),list_items:b,value:c.document_type.text,onChange:function(e){m(e);var t=A(e.target.value);F(t)},use_text:!0,required:!0}))))}))),u().createElement("fieldset",{className:T()({"proof-of-identity__fieldset-input":!h})},u().createElement(W.gN,{name:"document_number"},(function(e){var t,n,a,o,d=e.field;return u().createElement(u().Fragment,null,u().createElement(r.Input,Q({},d,{name:"document_number",bottom_label:c.document_type&&(0,Z.Qf)(null!==(t=c.document_type.example_format)&&void 0!==t?t:""),disabled:!c.document_type.id||c.document_type.id===P.id,error:l.document_number&&i.document_number||i.error_message,autoComplete:"off",placeholder:(0,Z.Oy)(k),value:c.document_number,onPaste:Z.i3,onBlur:s,onChange:m,onKeyUp:function(e){return M(e,"document_number")},required:!0,label:(0,Z.Oy)(k)})),(null===(n=c.document_type.additional)||void 0===n?void 0:n.display_name)&&u().createElement(r.Input,Q({},d,{name:"document_additional",bottom_label:c.document_type.additional&&(0,Z.Qf)(null===(a=c.document_type.additional)||void 0===a?void 0:a.example_format),disabled:!c.document_type.id||c.document_type.id===P.id,error:l.document_additional&&i.document_additional||i.error_message,autoComplete:"off",placeholder:"Enter your ".concat(null===(o=c.document_type.additional)||void 0===o?void 0:o.display_name.toLowerCase()),value:c.document_additional,onPaste:Z.i3,onBlur:s,onChange:m,onKeyUp:function(e){return M(e,"document_additional")},required:!0})))})))),w&&u().createElement("div",{className:"proof-of-identity__sample-container"},u().createElement(r.Text,{size:"xxs",weight:"bold"},(0,d.localize)("Sample:")),u().createElement("div",{className:"proof-of-identity__image-container"},u().createElement("img",{className:"proof-of-identity__image",src:w,alt:"document sample image"})))))))))};var oe=n("./Components/forms/personal-details-form.jsx"),ie=n("./Components/form-sub-header/index.ts");function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(){ce=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new S(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function p(){}var _={};c(_,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(k([])));y&&y!==t&&n.call(y,o)&&(_=y);var v=p.prototype=m.prototype=Object.create(_);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==le(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=p,r(v,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,l,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(z),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),z(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;z(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function se(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===le(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const pe=function(e){var t=e.handleBack,n=e.handleViewComplete,o=e.selected_country,i=e.is_from_external,l=e.account_settings,c=e.getChangeableFields,s=(0,a.filterObjProperties)(l,["first_name","last_name","date_of_birth"])||{};s.date_of_birth&&(s.date_of_birth=(0,a.toMoment)(s.date_of_birth).format("YYYY-MM-DD"));var m=function(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(c()),f=de({document_type:{id:"",text:"",value:"",example_format:"",sample_image:""},document_number:""},s),p=function(e){return e?(0,d.localize)("Example: ")+e:""},_=u().useMemo((function(){return(0,a.getIDVNotApplicableOption)()}),[]),h=function(e){return e===_.id},y=function(){var e,t=(e=ce().mark((function e(t,r){var i,l,c,s,u;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.setSubmitting,l=r.setErrors,i(!0),c=(0,Z.cf)(t,m),e.next=5,a.WS.setSettings(c);case 5:if(!(s=e.sent).error){e.next=10;break}return l({error_message:s.error.message}),i(!1),e.abrupt("return");case 10:if(!a.WS.authorized.storage.getSettings().error){e.next=15;break}return l({error_message:s.error.message}),i(!1),e.abrupt("return");case 15:u=de({identity_verification_document_add:1},(0,a.formatIDVFormValues)(t,o.value)),a.WS.send(u).then((function(e){i(!1),e.error?l({error_message:e.error.message}):n()}));case 17:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){se(o,r,a,i,l,"next",e)}function l(e){se(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return u().createElement(W.J9,{initialValues:de({},f),validate:function(e){var t={},n=e.document_type,r=e.document_number,o=e.document_additional,i=!!n.additional;return t.document_type=function(e){if(null==e||!e.text)return(0,d.localize)("Please select a document type.")}(n),h(null==n?void 0:n.id)||(i&&(t.document_additional=function(e,t){var n,r,a=(0,Z.Rz)(t,null===(n=e.additional)||void 0===n?void 0:n.format);if(a)return(0,d.localize)(a)+p(null===(r=e.additional)||void 0===r?void 0:r.example_format)}(n,o)),t.document_number=function(e,t){var n=e===t.example_format;return e?n?(0,d.localize)("Please enter a valid ID number."):(0,Z.Of)(t.value).test(e)?void 0:(0,d.localize)("Please enter the correct format. ")+p(t.example_format):(0,d.localize)("Please enter your document number. ")+p(t.example_format)}(r,n)),(0,Z.Gu)(t,e)((function(e){return e}),["first_name","last_name","date_of_birth"],(0,d.localize)("This field is required")),e.first_name&&(t.first_name=(0,Z.Ol)(e.first_name)),e.last_name&&(t.last_name=(0,Z.Ol)(e.last_name)),(0,a.removeEmptyPropertiesFromObject)(t)},onSubmit:y},(function(e){var n,l,c=e.dirty,s=e.errors,f=e.handleBlur,p=e.handleChange,_=e.handleSubmit,y=e.isSubmitting,v=e.isValid,g=e.setFieldValue,b=e.setFieldTouched,x=e.touched,E=e.values;return u().createElement("div",{className:"proof-of-identity__container proof-of-identity__container--reset"},u().createElement("section",{className:"form-body"},u().createElement(ie.default,{title:(0,d.localize)("Identity verification")}),u().createElement(ae,{errors:s,touched:x,values:E,handleChange:p,handleBlur:f,setFieldValue:g,hide_hint:!1,selected_country:o,is_from_external:i,class_name:"idv-layout"}),u().createElement(ie.default,{title:(0,d.localize)("Details")}),u().createElement("div",{className:T()({"account-form__poi-confirm-example_container":!h(null==E||null===(n=E.document_type)||void 0===n?void 0:n.id)})},u().createElement(oe.Z,{errors:s,touched:x,values:E,handleChange:p,handleBlur:f,setFieldValue:g,setFieldTouched:b,is_qualified_for_idv:!0,is_appstore:!0,should_hide_helper_image:h(null==E||null===(l=E.document_type)||void 0===l?void 0:l.id),editable_fields:m}))),u().createElement(V.default,{className:"proof-of-identity__footer"},(0,a.isDesktop)()&&u().createElement(r.Button,{className:"back-btn",onClick:t,type:"button",has_effect:!0,large:!0,secondary:!0},u().createElement(X,{className:"back-btn-icon"})," ",(0,d.localize)("Go Back")),u().createElement(r.Button,{className:"proof-of-identity__submit-button",type:"submit",onClick:_,has_effect:!0,is_disabled:!c||y||!v,text:(0,d.localize)("Verify"),large:!0,primary:!0})))}))};var _e=n("./Sections/Verification/ProofOfIdentity/onfido-sdk-view-container.tsx");function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ve=function(e){var t=e.account_settings,n=e.allow_poi_resubmission,r=e.has_require_submission,i=e.height,l=e.getChangeableFields,c=e.identity_last_attempt,s=e.idv,d=e.is_from_external,m=e.is_idv_disallowed,f=e.needs_poa,p=e.onfido,_=e.onStateChange,h=e.redirect_button,y=e.refreshNotifications,v=e.residence_list,g=e.setIsCfdPoiCompleted,b=he(u().useState(),2),x=b[0],w=b[1],z=he(u().useState(),2),S=z[0],k=z[1],O=he(u().useState({}),2),L=O[0],j=O[1],C=function(){_&&"function"==typeof _&&_(o.Yy.pending),w(o.DR.complete),a.WS.authorized.getAccountStatus().then((function(){y()}))},P=u().useCallback((function(e){return v.find((function(t){return t.value===e}))}),[v]);switch(u().useEffect((function(){if(x!==o.DR.complete)if((r||n)&&c)switch(c.service){case o.vL.idv:Number(s.submissions_left)>0||Number(p.submissions_left)>0?w(o.DR.selecting):(k(o.vL.manual),w(o.DR.submitting));break;case o.vL.onfido:Number(p.submissions_left)>0?w(o.DR.selecting):(k(o.vL.manual),w(o.DR.submitting));break;case o.vL.manual:j(P(c.country_code)),w(o.DR.submitting),k(o.vL.manual)}else w(o.DR.selecting)}),[n,P,r,c,s.submissions_left,p.submissions_left]),x){case o.DR.selecting:return u().createElement(H,{handleSelectionNext:function(){if(Object.keys(L).length){var e=s.submissions_left,t=p.submissions_left,n=L.identity.services.idv.is_country_supported,r=L.identity.services.onfido.is_country_supported&&"ng"!==L.value;n&&Number(e)>0&&!m?k(o.vL.idv):k(t&&r?o.vL.onfido:o.vL.manual),w(o.DR.submitting)}},is_from_external:d,residence_list:v,selected_country:L,setSelectedCountry:j});case o.DR.submitting:switch(S){case o.vL.idv:return u().createElement(pe,{handleViewComplete:C,handleBack:function(){return w(o.DR.selecting)},selected_country:L,account_settings:t,getChangeableFields:l});case o.vL.onfido:var I=L.value,T=L.identity.services.onfido.documents_supported,A=Object.keys(T).map((function(e){return T[e].display_name}));return u().createElement(_e.Z,{account_settings:t,country_code:I,documents_supported:A,getChangeableFields:l,handleViewComplete:C,height:i});case o.vL.manual:return u().createElement(G.default,{country_code:L.value,is_from_external:d,setIsCfdPoiCompleted:g,allow_poi_resubmission:n,handleViewComplete:C,onfido:p});default:return null}case o.DR.complete:switch(S){case o.vL.idv:return u().createElement(E,{is_from_external:d,needs_poa:f,redirect_button:h});case o.vL.manual:return u().createElement(N.default,{is_from_external:d,needs_poa:f,redirect_button:h,is_manual_upload:!0});case o.vL.onfido:return u().createElement(N.default,{is_from_external:d,needs_poa:f,redirect_button:h});default:return null}default:return null}};var ge=n("./Sections/Verification/Helpers/verification.js"),be=n("react-router");function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const we=function(e){var t=e.account_settings,n=e.account_status,s=e.app_routing_history,m=e.fetchResidenceList,f=e.getChangeableFields,p=e.height,_=e.is_from_external,h=e.is_switching,y=e.is_virtual,v=e.is_high_risk,g=e.is_withdrawal_lock,b=e.onStateChange,x=e.refreshNotifications,E=e.routeBackInApp,w=e.should_allow_authentication,z=e.setIsCfdPoiCompleted,S=e.updateAccountStatus,k=(0,be.useHistory)(),j=xe(u().useState(),2),I=j[0],T=j[1],A=xe(u().useState(!1),2),M=A[0],F=A[1],D=xe(u().useState(),2),B=D[0],R=D[1],q=xe(u().useState(!0),2),W=q[0],V=q[1],U=(0,a.getPlatformRedirect)(s),$=Object.keys(a.platforms).includes(null==U?void 0:U.ref),H=function(){return F(!0)},Z=(null==t?void 0:t.citizen)||(null==t?void 0:t.country_code),K=function(){a.WS.authorized.getAccountStatus().then((function(){x()}))};if(u().useEffect((function(){h||a.WS.authorized.getAccountStatus().then((function(e){if(e.error)return T(e.error),void V(!1);m().then((function(e){e.error?T(e.error):R(e.residence_list),V(!1)}))}))}),[m,h]),W||h)return u().createElement(r.Loading,{is_fullscreen:!1});if(y)return u().createElement(i.default,null);if(I)return u().createElement(l.default,{error_message:(null==I?void 0:I.message)||I});var J=(0,ge.C)(n),X=J.idv,Q=J.allow_poi_resubmission,ee=J.identity_last_attempt,te=J.identity_status,ne=J.is_age_verified,re=J.is_idv_disallowed,ae=J.manual,oe=J.needs_poa,ie=J.onfido,le=v&&g;if(!w&&!ne)return u().createElement(C,null);var ce=$&&u().createElement(r.Button,{primary:!0,className:"proof-of-identity__redirect",onClick:function(){var e,t=a.platforms[U.ref],n=null!=t?t:{},r=n.is_hard_redirect,o=void 0!==r&&r,i=n.url,l=void 0===i?"":i;o?(window.location.href=l,window.sessionStorage.removeItem("config.platform")):(e=U.route,E(k,[e]))}},u().createElement(d.Localize,{i18n_default_text:"Back to {{platform_name}}",values:{platform_name:U.name}}));if(te===o.Yy.none||M||Q)return u().createElement(ve,{account_settings:t,allow_poi_resubmission:Q,has_require_submission:M,height:null!=p?p:null,getChangeableFields:f,identity_last_attempt:ee,idv:X,is_from_external:!!_,is_idv_disallowed:re||le,manual:ae,needs_poa:oe,onfido:ie,onStateChange:b,redirect_button:ce,refreshNotifications:x,residence_list:B,setIsCfdPoiCompleted:z,updateAccountStatus:S});if(!ee||te===o.Yy.verified&&te!==ee.status)switch(te){case o.Yy.pending:return u().createElement(N.default,{is_from_external:!!_,needs_poa:oe,redirect_button:ce,is_manual_upload:"pending"===(null==ae?void 0:ae.status)});case o.Yy.verified:return u().createElement(P.default,{is_from_external:!!_,needs_poa:oe,redirect_button:ce});case o.Yy.expired:return u().createElement(c.default,{is_from_external:!!_,redirect_button:ce,handleRequireSubmission:H});case o.Yy.rejected:case o.Yy.suspected:return u().createElement(L.Z,{handleRequireSubmission:H})}switch(ee.service){case o.vL.idv:return u().createElement(O,{handleRequireSubmission:H,idv:X,is_from_external:!!_,needs_poa:oe,redirect_button:ce});case o.vL.onfido:return u().createElement(Y,{handleRequireSubmission:H,is_from_external:!!_,needs_poa:oe,onfido:ie,manual:ae,setIsCfdPoiCompleted:z,redirect_button:ce,country_code:Z,handleViewComplete:K});case o.vL.manual:return u().createElement(G.default,{manual:ae,country_code:Z,is_from_external:_,setIsCfdPoiCompleted:z,needs_poa:oe,redirect_button:ce,handleRequireSubmission:H,handleViewComplete:K,onfido:ie});default:return null}}},"./Sections/Verification/ProofOfIdentity/proof-of-identity-utils.ts":(e,t,n)=>{n.d(t,{DR:()=>a,Yy:()=>r,vL:()=>o});var r={none:"none",pending:"pending",rejected:"rejected",verified:"verified",expired:"expired",suspected:"suspected"},a={selecting:"selecting",submitting:"submitting",complete:"complete"},o={idv:"idv",onfido:"onfido",manual:"manual"}},"./Sections/Verification/ProofOfIdentity/proof-of-identity.jsx":(e,t,n)=>{n.d(t,{default:()=>d});var r=n("@deriv/components"),a=n("./Sections/Verification/ProofOfIdentity/proof-of-identity-container.jsx"),o=n("react"),i=n.n(o),l=n("@deriv/shared"),c=n("../../stores/src/index.ts"),s=n("react-router-dom"),u=(0,c.Pi)((function(e){var t=e.is_from_external,n=e.onStateChange,o=(0,c.oR)(),s=o.client,u=o.common,d=o.notifications,m=s.account_status,f=s.account_settings,p=s.fetchResidenceList,_=s.getChangeableFields,h=s.is_switching,y=s.is_high_risk,v=s.is_withdrawal_lock,g=s.should_allow_authentication,b=s.is_virtual,x=s.updateAccountStatus,E=d.refreshNotifications,w=u.app_routing_history,z=u.routeBackInApp;return i().useEffect((function(){var e=(0,l.changeMetaTagWithOG)("description","Submit your proof of identity documents to verify your account and start trading"),t=(0,l.changeMetaTagWithOG)("title","Account Verification | Deriv app");return function(){e(),t()}}),[]),i().createElement(r.AutoHeightWrapper,{default_height:200},(function(e){var r=e.setRef,o=e.height;return i().createElement("div",{ref:r,className:"proof-of-identity"},i().createElement("div",{className:"proof-of-identity__main-container"},i().createElement(a.default,{height:o,account_settings:f,account_status:m,app_routing_history:w,fetchResidenceList:p,getChangeableFields:_,is_from_external:t,is_switching:h,is_virtual:b,is_high_risk:y,is_withdrawal_lock:v,onStateChange:n,refreshNotifications:E,routeBackInApp:z,should_allow_authentication:g,is_description_enabled:!0,updateAccountStatus:x})))}))}));const d=(0,s.withRouter)(u)},"../../api/src/APIProvider.tsx":(e,t,n)=>{n("react");var r=n("../../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs");window.ReactQueryClient||(window.ReactQueryClient=new r.S),window.ReactQueryClient},"../../api/src/hooks/index.ts":(e,t,n)=>{n("../../api/src/hooks/useAccountsList.ts"),n("../../api/src/hooks/useActiveAccount.ts"),n("../../api/src/hooks/useActiveTradingAccount.ts"),n("../../api/src/hooks/useActiveWalletAccount.ts"),n("../../api/src/hooks/useAllAvailableAccounts.ts"),n("../../api/src/hooks/useAuthorize.ts"),n("../../api/src/hooks/useBalance.ts"),n("../../api/src/hooks/useCurrencyConfig.ts"),n("../../api/src/hooks/useGetAccountStatus.ts"),n("../../api/src/hooks/useLandingCompany.ts"),n("../../api/src/hooks/useMT5LoginList.ts"),n("../../api/src/hooks/useSettings.ts"),n("../../api/src/hooks/useTradingAccountsList.ts"),n("../../api/src/hooks/useTradingPlatformAccounts.ts"),n("../../api/src/hooks/useTradingPlatformAvailableAccounts.ts"),n("../../api/src/hooks/useWalletAccountsList.ts")},"../../api/src/hooks/useAccountTypes.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useAccountsList.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useAuthorize.ts"),n("../../api/src/hooks/useBalance.ts"),n("../../api/src/hooks/useCurrencyConfig.ts")},"../../api/src/hooks/useActiveAccount.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useAccountsList.ts")},"../../api/src/hooks/useActiveTradingAccount.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useTradingAccountsList.ts")},"../../api/src/hooks/useActiveWalletAccount.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useWalletAccountsList.ts")},"../../api/src/hooks/useAllAvailableAccounts.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useAccountTypes.ts"),n("../../api/src/hooks/useLandingCompany.ts")},"../../api/src/hooks/useAuthorize.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useBalance.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useCurrencyConfig.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useGetAccountStatus.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useLandingCompany.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts"),n("../../api/src/hooks/useSettings.ts")},"../../api/src/hooks/useMT5LoginList.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useActiveWalletAccount.ts"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useSettings.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts"),n("../../api/src/useInvalidateQuery.ts"),n("../../api/src/useRequest.ts")},"../../api/src/hooks/useTradingAccountsList.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useAccountsList.ts")},"../../api/src/hooks/useTradingPlatformAccounts.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useTradingPlatformAvailableAccounts.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/hooks/useWalletAccountsList.ts":(e,t,n)=>{n("react"),n("../../api/src/hooks/useAccountsList.ts")},"../../api/src/index.ts":(e,t,n)=>{n.d(t,{mU:()=>r.Z}),n("../../api/src/APIProvider.tsx"),n("../../api/src/useFetch.ts"),n("../../api/src/useInvalidateQuery.ts"),n("../../api/src/useRequest.ts"),n("../../api/src/usePaginatedFetch.ts");var r=n("../../api/src/useSubscription.ts");n("../../api/src/hooks/index.ts")},"../../api/src/useFetch.ts":(e,t,n)=>{n("../../api/src/utils.ts")},"../../api/src/useInvalidateQuery.ts":(e,t,n)=>{n("react")},"../../api/src/usePaginatedFetch.ts":(e,t,n)=>{n("react"),n("../../api/src/useFetch.ts")},"../../api/src/useRequest.ts":(e,t,n)=>{n("react"),n("../../api/src/utils.ts")},"../../api/src/useSubscription.ts":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("react"),a=n("@deriv/shared");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t=c((0,r.useState)(!1),2),n=t[0],o=t[1],s=c((0,r.useState)(!1),2),u=s[0],d=s[1],m=c((0,r.useState)(),2),f=m[0],p=m[1],_=c((0,r.useState)(),2),h=_[0],y=_[1],v=(0,r.useRef)(),g=(0,a.useWS)(),b=(0,r.useCallback)((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=null==n?void 0:n[0],c=a&&"payload"in a?a.payload:void 0;o(!0),d(!0);try{var s;v.current=g.subscribe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}((s={},l(s,e,1),l(s,"subscribe",1),s),c||{})).subscribe((function(e){y(e),o(!1)}),(function(e){p(e.error),o(!1)}))}catch(e){p(e)}}),[g,e]),x=(0,r.useCallback)((function(){var e,t;null===(e=v.current)||void 0===e||null===(t=e.unsubscribe)||void 0===t||t.call(e),d(!1)}),[]);return(0,r.useEffect)((function(){return function(){x()}}),[x]),{subscribe:b,unsubscribe:x,is_loading:n,is_subscribed:u,error:f,data:h}}},"../../api/src/utils.ts":(e,t,n)=>{n("@deriv/shared")},"../../stores/src/index.ts":(e,t,n)=>{n.d(t,{Pi:()=>r.Pi,g3:()=>a.Z,oR:()=>o.Z});var r=n("../../../node_modules/mobx-react-lite/es/index.js"),a=(n("../../stores/src/mockStore.ts"),n("../../stores/src/storeContext.ts"),n("../../stores/src/storeProvider.tsx")),o=n("../../stores/src/useStore.ts")},"../../stores/src/mockStore.ts":(e,t,n)=>{n("../../../node_modules/lodash.merge/index.js")},"../../stores/src/providers/ExchangeRatesProvider.tsx":(e,t,n)=>{n.d(t,{Z:()=>u});var r=n("react"),a=n.n(r),o=n("../../api/src/index.ts"),i=n("../../../node_modules/lodash.merge/index.js"),l=n.n(i),c=n("../../../node_modules/mobx-react-lite/es/index.js"),s=n("../../stores/src/useStore.ts");const u=(0,c.Pi)((function(e){var t=e.children,n=(0,o.mU)("exchange_rates"),i=n.data,c=n.subscribe,u=(0,s.Z)().exchange_rates.update;return(0,r.useEffect)((function(){c({payload:{base_currency:"USD"}})}),[c]),(0,r.useEffect)((function(){if(i){var e=i.exchange_rates;e&&u((function(t){return l()(t,e)}))}}),[u,i]),a().createElement(a().Fragment,null,t)}))},"../../stores/src/providers/index.ts":(e,t,n)=>{n.d(t,{x:()=>r.Z});var r=n("../../stores/src/providers/ExchangeRatesProvider.tsx")},"../../stores/src/storeContext.ts":(e,t,n)=>{n.d(t,{Z:()=>r});const r=(0,n("react").createContext)(null)},"../../stores/src/storeProvider.tsx":(e,t,n)=>{n.d(t,{Z:()=>m});var r=n("react"),a=n.n(r),o=n("../../stores/src/providers/index.ts"),i=n("../../stores/src/storeContext.ts"),l=n("../../stores/src/stores/index.ts");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=function(e){var t=e.children,n=e.store,s=(0,r.useMemo)((function(){return"is_mock"in n&&n.is_mock?n:u(u({},n),{},{exchange_rates:new l.p,feature_flags:new l.I})}),[n]);return(0,r.useEffect)((function(){return function(){Object.values(s).forEach((function(e){"object"===c(e)&&"unmount"in e&&e.unmount()}))}}),[s]),a().createElement(i.Z.Provider,{value:s},a().createElement(o.x,null,t))}},"../../stores/src/stores/BaseStore.ts":(e,t,n)=>{n.d(t,{Z:()=>l});var r=n("mobx"),a=n("../../../node_modules/mobx-persist-store/lib/esm5/index.js");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===o(a)?a:String(a)),r)}var a}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=void 0,(0,r.makeObservable)(this,{data:r.observable,update:r.action.bound,unmount:r.action.bound}),(0,a.Ko)(this,{name:t,properties:["data"],storage:window.localStorage}).then((function(){return null==n?void 0:n()}))}var t,n;return t=e,(n=[{key:"update",value:function(e){this.data=e instanceof Function?e(this.data):e}},{key:"unmount",value:function(){(0,a.Rf)(this)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"../../stores/src/stores/ExchangeRatesStore.ts":(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{Z:()=>l});var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(r,e);var t,n=o(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,"ExchangeRatesStore")}return t=r,Object.defineProperty(t,"prototype",{writable:!1}),t}(n("../../stores/src/stores/BaseStore.ts").Z)},"../../stores/src/stores/FeatureFlagsStore.ts":(e,t,n)=>{n.d(t,{Z:()=>s});var r=n("../../stores/src/stores/BaseStore.ts");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c={next_wallet:!1},s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(r,e);var t,n=i(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,"FeatureFlagsStore",(function(){e.data||e.update(c),e.data&&Object.keys(e.data).length!==Object.keys(c).length&&e.update((function(e){var t=c;return Object.keys(c).forEach((function(n){void 0!==e[n]&&(t[n]=e[n])})),t}))}))).data=c,e}return t=r,Object.defineProperty(t,"prototype",{writable:!1}),t}(r.Z)},"../../stores/src/stores/index.ts":(e,t,n)=>{n.d(t,{I:()=>a.Z,p:()=>r.Z});var r=n("../../stores/src/stores/ExchangeRatesStore.ts"),a=n("../../stores/src/stores/FeatureFlagsStore.ts")},"../../stores/src/useStore.ts":(e,t,n)=>{n.d(t,{Z:()=>o});var r=n("react"),a=n("../../stores/src/storeContext.ts");const o=function(){var e=(0,r.useContext)(a.Z);if(!e)throw new Error("useStore must be used within StoreProvider");return e}},"./Assets/ic-poi-name-dob-example.svg":(e,t,n)=>{n.d(t,{Z:()=>l});var r=n("react"),a=n.n(r),o=["styles"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const l=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,o);return a().createElement("svg",i({width:"284",height:"158",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{clipPath:"url(#a)"},a().createElement("rect",{x:"25",y:".5",width:"218",height:"131",rx:"8",fill:"#fff"}),a().createElement("g",{opacity:".8",filter:"url(#b)"},a().createElement("circle",{cx:"195",cy:"186.5",r:"128",fill:"#CFCFCF"})),a().createElement("g",{opacity:".8",filter:"url(#c)"},a().createElement("circle",{cx:"267",cy:"34.5",r:"64",fill:"#D6DADB"})),a().createElement("g",{opacity:".8",filter:"url(#d)"},a().createElement("circle",{cx:"41",cy:"16.5",r:"40",fill:"#CFCFCF"})),a().createElement("path",{d:"M252.08-8.6L112.84 13.51 87.31 131.5h139.25L252.08-8.6z",fill:"#fff",style:{mixBlendMode:"overlay"},opacity:".16"})),a().createElement("rect",{x:"41",y:"16.5",width:"64",height:"40",rx:"4",fill:"#E0E0E0"}),a().createElement("rect",{x:"41",y:"83.5",width:"64",height:"12",rx:"4",fill:"#E0E0E0"}),a().createElement("rect",{x:"41",y:"99.5",width:"101",height:"16",rx:"4",fill:"#E0E0E0"}),a().createElement("g",{clipPath:"url(#e)"},a().createElement("path",{d:"M211.06 47.53l1.47-3.54c.6.53.7 1.2.51 1.77a49.47 49.47 0 01-1.78 5.07c-.4.94-1.26.98-1.87.2-1-1.32-1.94-2.7-2.9-4.04-.06-.08-.14-.17-.14-.26.02-.26.07-.52.1-.79.23.03.53-.02.66.11.47.42.88.91 1.3 1.38.23.24.45.48.92.65-.06-.5-.1-1.02-.18-1.52a22.09 22.09 0 00-19.92-18.7c-1.32-.13-2.65-.09-3.97-.13l-1.38-.09-.08-.32c.25-.18.48-.46.74-.5.92-.17 1.86-.32 2.78-.35 9.4-.32 18.11 5.48 21.69 14.51.68 1.72 1.04 3.58 1.54 5.38.1.37.15.76.23 1.14l.27.03z",fill:"#000"})),a().createElement("g",{clipPath:"url(#f)"},a().createElement("path",{d:"M114.24 78.33l3.23 2.06a1.6 1.6 0 01-1.82.2 49.82 49.82 0 01-4.69-2.62c-.86-.56-.75-1.42.13-1.88 1.47-.76 2.98-1.45 4.47-2.16.09-.05.2-.11.27-.1.26.07.51.16.77.25-.07.2-.07.5-.22.62-.5.38-1.05.7-1.58 1.05-.28.18-.56.36-.8.78.5.04 1.02.09 1.53.09a22.08 22.08 0 0021.84-16.42c.35-1.27.54-2.59.81-3.88l.32-1.35.33-.02c.13.28.38.55.37.82 0 .93 0 1.88-.13 2.8-1.3 9.31-8.51 16.9-18.02 18.87-1.82.37-3.71.41-5.57.6-.38.03-.77.01-1.16.02l-.08.27z",fill:"#000"})),a().createElement("g",{filter:"url(#g)"},a().createElement("rect",{x:"3",y:"66",width:"100",height:"24",rx:"4",fill:"#fff"}),a().createElement("rect",{x:"11",y:"70",width:"16",height:"16",rx:"8",fill:"#4BB4B3"}),a().createElement("path",{d:"M17 80.8l-2.33-2.33a.66.66 0 00-.94 0 .66.66 0 000 .93l2.8 2.8c.26.25.68.25.94 0l7.06-7.07a.66.66 0 000-.93.66.66 0 00-.93 0L17 80.8z",fill:"#fff"}),a().createElement("path",{d:"M35.88 82.5v-.74h1.95v-5.62h-.07L36 77.78l-.49-.53 1.85-1.73h1.31v6.24h1.8v.74h-4.59zm7.73-4.02c.47 0 .82-.1 1.06-.32.24-.22.36-.5.36-.84v-.07c0-.37-.12-.64-.35-.82a1.37 1.37 0 00-.9-.28c-.36 0-.66.08-.88.24a1.78 1.78 0 00-.56.63l-.62-.48c.08-.14.19-.28.3-.41a2.16 2.16 0 011.03-.63 2.8 2.8 0 011.58.02c.26.07.48.19.67.34a1.62 1.62 0 01.62 1.3 1.61 1.61 0 01-.4 1.08 1.98 1.98 0 01-.94.55v.04a2.04 2.04 0 011 .55 1.72 1.72 0 01.46 1.21c0 .3-.05.58-.16.83a1.88 1.88 0 01-.48.64 2.33 2.33 0 01-.75.41 3 3 0 01-.97.15c-.3 0-.57-.03-.8-.1a2.39 2.39 0 01-.62-.27 2.72 2.72 0 01-.48-.38 3.72 3.72 0 01-.36-.44l.63-.48c.08.14.18.27.28.38a1.68 1.68 0 00.78.48c.16.04.34.06.56.06.49 0 .86-.11 1.12-.33.25-.23.38-.55.38-.96v-.08c0-.41-.13-.73-.38-.95-.26-.23-.63-.34-1.12-.34h-.82v-.73h.76zm4.07 1.41v-.86h2.61v.86h-2.6zm6.3 2.73c-.83 0-1.44-.32-1.82-.95a5.19 5.19 0 01-.57-2.66c0-1.14.19-2.03.57-2.66.38-.63 1-.95 1.83-.95.83 0 1.44.32 1.82.95.38.63.58 1.52.58 2.66 0 1.14-.2 2.03-.58 2.66-.38.63-.99.95-1.82.95zm0-.73c.28 0 .51-.06.7-.17a1.29 1.29 0 00.48-.48c.12-.2.2-.45.26-.73.06-.28.09-.59.09-.93v-1.14c0-.34-.03-.65-.1-.93a2.3 2.3 0 00-.25-.73 1.3 1.3 0 00-.47-.48 1.36 1.36 0 00-.7-.17c-.28 0-.51.06-.7.17a1.3 1.3 0 00-.47.48c-.12.2-.21.45-.27.73-.06.28-.08.59-.08.93v1.14c0 .34.02.65.08.93s.15.52.27.73a1.3 1.3 0 00.47.48c.19.11.42.17.7.17zm7.98-5.63H58.9l-.2 2.66h.07c.17-.23.36-.42.56-.56.22-.14.5-.21.87-.21.3 0 .58.05.83.15a1.9 1.9 0 011.1 1.1c.1.27.15.57.15.91 0 .34-.05.65-.16.94-.1.28-.26.52-.47.73a2.1 2.1 0 01-.74.47 2.65 2.65 0 01-.98.17 2.76 2.76 0 01-.78-.1 2.28 2.28 0 01-.59-.27 2.59 2.59 0 01-.46-.38 4.42 4.42 0 01-.35-.44l.63-.48.27.38c.1.11.2.21.32.29a1.56 1.56 0 00.96.25c.48 0 .85-.13 1.1-.38.24-.25.36-.61.36-1.07v-.1c0-.46-.12-.82-.37-1.07-.24-.25-.6-.38-1.09-.38-.32 0-.57.06-.76.18a2.39 2.39 0 00-.49.41l-.7-.1.24-3.84h3.74v.74zm1.7 3.63v-.86h2.62v.86h-2.61zm4.2 2.61v-.74h1.94v-5.62h-.07l-1.76 1.64-.49-.53 1.85-1.73h1.31v6.24h1.8v.74h-4.59zm10.44-4.42c0 .52-.08 1.01-.23 1.47a5.62 5.62 0 01-1.4 2.25c-.3.29-.58.52-.86.7h-1.08c.37-.27.7-.54 1-.8a5.2 5.2 0 001.7-2.82l-.05-.02a2.32 2.32 0 01-.65.72c-.26.19-.6.28-1.03.28-.3 0-.58-.05-.83-.15a1.8 1.8 0 01-.65-.43 2.1 2.1 0 01-.43-.67c-.1-.27-.15-.57-.15-.9 0-.34.05-.65.16-.93a2.11 2.11 0 011.2-1.21c.28-.11.6-.17.96-.17s.68.06.97.19c.3.12.54.3.74.53.2.23.36.5.47.84.1.33.16.7.16 1.12zm-2.33 1.07c.46 0 .82-.13 1.07-.38.26-.25.39-.62.39-1.09v-.08c0-.47-.13-.84-.4-1.09a1.45 1.45 0 00-1.06-.38c-.46 0-.82.13-1.08.38-.25.25-.38.62-.38 1.09v.08c0 .47.13.84.38 1.09.26.25.62.38 1.08.38zm8.33-1.07c0 .52-.08 1.01-.23 1.47a5.53 5.53 0 01-.6 1.25 6 6 0 01-1.66 1.7h-1.08c.37-.27.7-.54 1-.8a5.2 5.2 0 001.7-2.82l-.05-.02a2.32 2.32 0 01-.65.72c-.26.19-.6.28-1.03.28-.3 0-.58-.05-.83-.15-.26-.1-.47-.24-.65-.43a2.1 2.1 0 01-.43-.67c-.1-.27-.15-.57-.15-.9 0-.34.05-.65.16-.93a2.11 2.11 0 011.2-1.21c.28-.11.6-.17.96-.17s.68.06.97.19c.29.12.53.3.73.53.21.23.37.5.47.84.11.33.16.7.16 1.12zm-2.33 1.07c.46 0 .81-.13 1.07-.38s.39-.62.39-1.09v-.08c0-.47-.13-.84-.4-1.09a1.45 1.45 0 00-1.06-.38c-.46 0-.82.13-1.08.38-.26.25-.38.62-.38 1.09v.08c0 .47.12.84.38 1.09.26.25.62.38 1.08.38zm5.6-.67c.47 0 .83-.1 1.06-.32.24-.22.36-.5.36-.84v-.07c0-.37-.12-.64-.35-.82a1.37 1.37 0 00-.9-.28c-.36 0-.65.08-.88.24a1.78 1.78 0 00-.56.63l-.62-.48c.09-.14.2-.28.31-.41a2.16 2.16 0 011.02-.63 2.8 2.8 0 011.58.02c.26.07.48.19.67.34a1.62 1.62 0 01.62 1.3 1.61 1.61 0 01-.39 1.08 1.98 1.98 0 01-.95.55v.04a2.04 2.04 0 011.01.55 1.72 1.72 0 01.46 1.21c0 .3-.06.58-.17.83a1.88 1.88 0 01-.48.64 2.33 2.33 0 01-.75.41 3 3 0 01-.97.15c-.3 0-.57-.03-.8-.1a2.39 2.39 0 01-.62-.27 2.72 2.72 0 01-.48-.38 3.72 3.72 0 01-.36-.44l.63-.48c.09.14.18.27.28.38a1.68 1.68 0 00.78.48c.16.04.35.06.56.06.5 0 .87-.11 1.12-.33.25-.23.38-.55.38-.96v-.08c0-.41-.13-.73-.38-.95-.25-.23-.63-.34-1.12-.34h-.82v-.73h.76z",fill:"#333"})),a().createElement("g",{filter:"url(#h)"},a().createElement("rect",{x:"3",y:"98",width:"100",height:"24",rx:"4",fill:"#fff"}),a().createElement("rect",{x:"11",y:"102",width:"16",height:"16",rx:"8",fill:"#EC3F3F"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.15 107.15a.5.5 0 01.7 0l2.15 2.14 2.15-2.14a.5.5 0 01.63-.06l.07.06a.5.5 0 010 .7L19.71 110l2.14 2.15a.5.5 0 01.06.63l-.06.07a.5.5 0 01-.7 0L19 110.71l-2.15 2.14a.5.5 0 01-.63.06l-.07-.06a.5.5 0 010-.7l2.14-2.15-2.14-2.15a.5.5 0 01-.06-.63l.06-.07z",fill:"#fff"}),a().createElement("path",{d:"M38 114.62c-.83 0-1.44-.32-1.83-.95a5.19 5.19 0 01-.57-2.66c0-1.14.19-2.03.57-2.66.39-.63 1-.95 1.83-.95.83 0 1.44.32 1.82.95.39.63.58 1.52.58 2.66 0 1.14-.2 2.03-.58 2.66-.38.63-.99.95-1.82.95zm0-.73c.27 0 .5-.06.7-.17.2-.11.35-.27.47-.48.12-.2.2-.45.26-.73.06-.28.09-.59.09-.93v-1.14c0-.34-.03-.65-.09-.93a2.3 2.3 0 00-.26-.73 1.3 1.3 0 00-.47-.48 1.36 1.36 0 00-.7-.17c-.27 0-.5.06-.7.17-.2.11-.35.27-.47.48-.12.2-.21.45-.27.73-.05.28-.08.59-.08.93v1.14c0 .34.03.65.08.93.06.28.15.52.27.73.12.2.28.37.47.48.2.11.43.17.7.17zm7.98-5.63h-3.06l-.2 2.66h.07c.16-.23.35-.42.56-.56.2-.14.5-.21.87-.21.3 0 .57.05.83.15a1.92 1.92 0 011.09 1.1 2.67 2.67 0 010 1.85c-.11.28-.27.52-.47.73a2.1 2.1 0 01-.74.47c-.3.11-.62.17-.98.17a2.76 2.76 0 01-.78-.1 2.3 2.3 0 01-.6-.27 2.57 2.57 0 01-.45-.38 4.44 4.44 0 01-.35-.44l.63-.48c.08.14.17.27.27.38.1.11.2.21.32.29a1.56 1.56 0 00.96.25c.48 0 .84-.13 1.09-.38.24-.25.37-.61.37-1.07v-.1c0-.46-.13-.82-.37-1.07-.25-.25-.61-.38-1.1-.38-.31 0-.57.06-.75.18a2.38 2.38 0 00-.5.41l-.7-.1.25-3.84h3.74v.74zm1.7 3.63v-.86h2.61v.86h-2.6zm4.19 2.61v-.74h1.95v-5.62h-.07l-1.76 1.64-.5-.53 1.86-1.73h1.3v6.24h1.8v.74h-4.58zm7.72-4.02c.48 0 .83-.1 1.06-.32.24-.22.36-.5.36-.84v-.07c0-.37-.11-.64-.35-.82a1.37 1.37 0 00-.9-.28c-.36 0-.65.08-.88.24a1.77 1.77 0 00-.56.63l-.62-.48c.09-.14.2-.28.31-.41a2.17 2.17 0 011.02-.63 2.8 2.8 0 011.58.02 1.81 1.81 0 011.12.89c.12.22.17.47.17.75 0 .23-.03.43-.1.61a1.44 1.44 0 01-.29.47 1.67 1.67 0 01-.43.34 2 2 0 01-.52.21v.04a2.04 2.04 0 011.01.55 1.72 1.72 0 01.46 1.21 1.87 1.87 0 01-.65 1.47c-.2.17-.45.31-.75.41-.3.1-.61.15-.97.15-.3 0-.56-.03-.8-.1a2.41 2.41 0 01-.62-.27 2.72 2.72 0 01-.48-.38 3.74 3.74 0 01-.36-.44l.63-.48c.09.14.18.27.28.38a1.7 1.7 0 00.78.48c.16.04.35.06.56.06.5 0 .87-.11 1.12-.33.26-.23.38-.55.38-.96v-.08c0-.41-.12-.73-.38-.95-.25-.23-.62-.34-1.12-.34h-.82v-.73h.76zm4.08 1.41v-.86h2.6v.86h-2.6zm4.18 2.61v-.74h1.95v-5.62h-.07l-1.76 1.64-.49-.53 1.85-1.73h1.31v6.24h1.8v.74h-4.59zm10.45-4.42c0 .52-.08 1.01-.23 1.47a5.62 5.62 0 01-1.4 2.25c-.3.29-.58.52-.86.7h-1.08c.37-.27.7-.54 1-.8a5.2 5.2 0 001.7-2.82l-.05-.02a2.31 2.31 0 01-.65.72c-.26.19-.6.28-1.03.28-.3 0-.58-.05-.83-.15a1.8 1.8 0 01-.65-.43 2.1 2.1 0 01-.43-.67c-.1-.27-.15-.57-.15-.9 0-.34.05-.65.16-.93a2.11 2.11 0 011.2-1.21c.28-.11.6-.17.96-.17s.68.06.97.19c.3.12.54.3.74.53.2.23.36.5.47.84.1.33.16.7.16 1.12zm-2.33 1.07c.46 0 .81-.13 1.07-.38s.39-.62.39-1.09v-.08c0-.47-.13-.84-.4-1.09a1.45 1.45 0 00-1.06-.38c-.46 0-.82.13-1.08.38-.26.25-.38.62-.38 1.09v.08c0 .47.12.84.38 1.09.26.25.62.38 1.08.38zm8.32-1.07c0 .52-.07 1.01-.23 1.47a5.53 5.53 0 01-.6 1.25 6 6 0 01-1.66 1.7h-1.08c.38-.27.71-.54 1-.8a5.2 5.2 0 001.7-2.82l-.05-.02a2.31 2.31 0 01-.65.72c-.26.19-.6.28-1.03.28-.3 0-.57-.05-.83-.15-.25-.1-.47-.24-.65-.43a2.1 2.1 0 01-.43-.67c-.1-.27-.15-.57-.15-.9 0-.34.06-.65.16-.93a2.11 2.11 0 011.2-1.21c.3-.11.61-.17.96-.17.36 0 .69.06.97.19.3.12.54.3.74.53.21.23.37.5.47.84.11.33.16.7.16 1.12zm-2.33 1.07c.46 0 .82-.13 1.07-.38.26-.25.4-.62.4-1.09v-.08c0-.47-.14-.84-.4-1.09a1.45 1.45 0 00-1.07-.38c-.46 0-.82.13-1.08.38-.25.25-.38.62-.38 1.09v.08c0 .47.13.84.38 1.09.26.25.62.38 1.08.38zm5.61-.67c.47 0 .83-.1 1.06-.32.24-.22.36-.5.36-.84v-.07c0-.37-.12-.64-.35-.82a1.37 1.37 0 00-.9-.28c-.36 0-.65.08-.88.24a1.77 1.77 0 00-.56.63l-.62-.48c.09-.14.2-.28.31-.41a2.17 2.17 0 011.02-.63 2.8 2.8 0 011.58.02c.26.07.48.19.67.34a1.62 1.62 0 01.62 1.3c0 .23-.04.43-.1.61a1.44 1.44 0 01-.29.47 1.67 1.67 0 01-.43.34 2 2 0 01-.52.21v.04a2.04 2.04 0 011.01.55 1.72 1.72 0 01.46 1.21 1.87 1.87 0 01-.65 1.47 2.33 2.33 0 01-.75.41 3 3 0 01-.97.15c-.3 0-.57-.03-.8-.1a2.41 2.41 0 01-.62-.27 2.72 2.72 0 01-.48-.38 3.74 3.74 0 01-.36-.44l.63-.48c.09.14.18.27.28.38a1.7 1.7 0 00.78.48c.16.04.35.06.56.06.5 0 .87-.11 1.12-.33.25-.23.38-.55.38-.96v-.08c0-.41-.13-.73-.38-.95-.25-.23-.63-.34-1.12-.34h-.82v-.73h.76z",fill:"#333"})),a().createElement("g",{filter:"url(#i)"},a().createElement("rect",{x:"3",y:"130",width:"100",height:"24",rx:"4",fill:"#fff"}),a().createElement("rect",{x:"11",y:"134",width:"16",height:"16",rx:"8",fill:"#EC3F3F"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.15 139.15a.5.5 0 01.7 0l2.15 2.14 2.15-2.14a.5.5 0 01.63-.06l.07.06a.5.5 0 010 .7L19.71 142l2.14 2.15a.5.5 0 01.06.63l-.06.07a.5.5 0 01-.7 0L19 142.71l-2.15 2.14a.5.5 0 01-.63.06l-.07-.06a.5.5 0 010-.7l2.14-2.15-2.14-2.15a.5.5 0 01-.06-.63l.06-.07z",fill:"#fff"}),a().createElement("path",{d:"M35.88 146.5v-.74h1.95v-5.62h-.07L36 141.78l-.49-.53 1.85-1.73h1.31v6.24h1.8v.74h-4.59zm10.45-4.42c0 .52-.08 1.01-.23 1.47a5.53 5.53 0 01-.6 1.25 6 6 0 01-.8 1 5.48 5.48 0 01-.86.7h-1.08c.37-.27.7-.54 1-.8a5.13 5.13 0 001.7-2.82l-.05-.02a2.31 2.31 0 01-.65.72c-.26.19-.6.28-1.03.28-.3 0-.58-.05-.83-.15-.26-.1-.47-.24-.65-.43a2.1 2.1 0 01-.43-.67c-.1-.27-.15-.57-.15-.9 0-.34.05-.65.16-.93a2.11 2.11 0 011.2-1.21 2.6 2.6 0 01.96-.17c.36 0 .68.06.97.19.29.12.54.3.74.53.2.23.36.5.47.84.1.33.16.7.16 1.12zM44 143.15c.46 0 .81-.13 1.07-.38s.39-.62.39-1.09v-.08c0-.47-.13-.84-.4-1.09a1.45 1.45 0 00-1.06-.38c-.46 0-.82.13-1.08.38-.26.25-.38.62-.38 1.09v.08c0 .47.12.84.38 1.09.26.25.62.38 1.08.38zm8.32-1.07c0 .52-.07 1.01-.23 1.47a5.53 5.53 0 01-.6 1.25c-.24.37-.5.7-.8 1a5.48 5.48 0 01-.86.7h-1.08c.38-.27.7-.54 1-.8a5.13 5.13 0 001.7-2.82l-.05-.02a2.31 2.31 0 01-.65.72c-.26.19-.6.28-1.03.28-.3 0-.57-.05-.83-.15-.25-.1-.47-.24-.65-.43a2.1 2.1 0 01-.43-.67c-.1-.27-.15-.57-.15-.9 0-.34.06-.65.16-.93a2.11 2.11 0 011.2-1.21 2.6 2.6 0 01.96-.17c.36 0 .69.06.97.19.3.12.54.3.74.53.2.23.37.5.47.84.1.33.16.7.16 1.12zM50 143.15c.46 0 .82-.13 1.07-.38.26-.25.4-.62.4-1.09v-.08c0-.47-.14-.84-.4-1.09a1.45 1.45 0 00-1.07-.38c-.46 0-.82.13-1.08.38-.25.25-.38.62-.38 1.09v.08c0 .47.13.84.38 1.09.26.25.62.38 1.08.38zm5.6-.67c.48 0 .84-.1 1.07-.32.24-.22.36-.5.36-.84v-.07c0-.37-.12-.64-.35-.82a1.37 1.37 0 00-.9-.28c-.36 0-.65.08-.88.24a1.77 1.77 0 00-.56.63l-.62-.48c.09-.14.19-.28.3-.41a2.17 2.17 0 011.03-.63 2.8 2.8 0 011.58.02 1.81 1.81 0 011.12.89c.11.22.17.47.17.75a1.6 1.6 0 01-.82 1.42 2 2 0 01-.52.21v.04a2.04 2.04 0 011 .55 1.72 1.72 0 01.46 1.21 2 2 0 01-.16.83 1.88 1.88 0 01-.48.64c-.2.17-.46.31-.75.41-.3.1-.62.15-.97.15-.3 0-.57-.03-.8-.1a2.41 2.41 0 01-.62-.27 2.72 2.72 0 01-.48-.38 3.72 3.72 0 01-.36-.44l.63-.48c.09.14.18.27.28.38a1.7 1.7 0 00.78.48c.16.04.35.06.56.06.5 0 .87-.11 1.12-.33.25-.23.38-.55.38-.96v-.08c0-.41-.13-.73-.38-.95-.25-.23-.63-.34-1.12-.34h-.82v-.73h.76zm4.08 1.41v-.86h2.61v.86h-2.6zm6.3 2.73c-.82 0-1.43-.32-1.82-.95a5.19 5.19 0 01-.57-2.66c0-1.14.19-2.03.57-2.66.39-.63 1-.95 1.83-.95.83 0 1.44.32 1.82.95.39.63.58 1.52.58 2.66 0 1.14-.2 2.03-.58 2.66-.38.63-.99.95-1.82.95zm0-.73c.28 0 .52-.06.7-.17a1.29 1.29 0 00.48-.48c.12-.2.2-.45.26-.73.06-.28.09-.59.09-.93v-1.14c0-.34-.03-.65-.1-.93a2.3 2.3 0 00-.25-.73 1.3 1.3 0 00-.47-.48 1.36 1.36 0 00-.7-.17c-.27 0-.5.06-.7.17-.2.11-.35.27-.47.48-.12.2-.21.45-.27.73-.05.28-.08.59-.08.93v1.14c0 .34.03.65.08.93.06.28.15.52.27.73.12.2.28.37.47.48.2.11.43.17.7.17zm7.99-5.63H70.9l-.2 2.66h.07c.16-.23.35-.42.56-.56.2-.14.5-.21.87-.21.3 0 .57.05.83.15a1.92 1.92 0 011.09 1.1 2.7 2.7 0 010 1.85 2.07 2.07 0 01-.47.73 2.1 2.1 0 01-.74.47 2.66 2.66 0 01-.98.17 2.75 2.75 0 01-.78-.1 2.3 2.3 0 01-.6-.27 2.57 2.57 0 01-.45-.38 4.44 4.44 0 01-.35-.44l.63-.48c.08.14.17.27.27.38a1.55 1.55 0 001.28.54c.48 0 .84-.13 1.09-.38.24-.25.37-.61.37-1.07v-.1c0-.46-.13-.82-.37-1.07-.25-.25-.61-.38-1.1-.38-.32 0-.57.06-.76.18a2.38 2.38 0 00-.49.41l-.7-.1.25-3.84h3.74v.74zm1.7 3.63v-.86h2.61v.86h-2.6zm4.19 2.61v-.74h1.95v-5.62h-.07l-1.76 1.64-.5-.53 1.86-1.73h1.3v6.24h1.8v.74h-4.58zm7.72-4.02c.47 0 .83-.1 1.06-.32.24-.22.36-.5.36-.84v-.07c0-.37-.12-.64-.35-.82a1.37 1.37 0 00-.9-.28c-.36 0-.65.08-.88.24a1.77 1.77 0 00-.56.63l-.62-.48c.09-.14.2-.28.31-.41a2.17 2.17 0 011.02-.63 2.8 2.8 0 011.58.02c.26.07.48.19.67.34a1.62 1.62 0 01.62 1.3c0 .23-.04.43-.1.61a1.44 1.44 0 01-.29.47 1.67 1.67 0 01-.43.34 2 2 0 01-.52.21v.04a2.04 2.04 0 011.01.55 1.72 1.72 0 01.46 1.21 1.87 1.87 0 01-.65 1.47 2.33 2.33 0 01-.75.41 3 3 0 01-.97.15c-.3 0-.57-.03-.8-.1a2.41 2.41 0 01-.62-.27 2.72 2.72 0 01-.48-.38 3.74 3.74 0 01-.36-.44l.63-.48c.09.14.18.27.28.38a1.7 1.7 0 00.78.48c.16.04.35.06.56.06.5 0 .87-.11 1.12-.33.25-.23.38-.55.38-.96v-.08c0-.41-.13-.73-.38-.95-.25-.23-.63-.34-1.12-.34h-.82v-.73h.76z",fill:"#333"})),a().createElement("path",{d:"M116.86 25.26v4.96c0 .32-.05.61-.16.88-.1.26-.25.48-.45.67-.2.18-.44.32-.73.43-.28.1-.6.15-.96.15a2.78 2.78 0 01-.92-.14 2.03 2.03 0 01-.68-.4 2.14 2.14 0 01-.46-.62 2.75 2.75 0 01-.25-.8l1.42-.28c.11.6.4.91.87.91a.8.8 0 00.56-.2c.16-.15.24-.37.24-.67v-3.67h-2.12v-1.22h3.64zm3.55 7.1a2.7 2.7 0 01-1.04-.19 2.12 2.12 0 01-.77-.55 2.54 2.54 0 01-.48-.87 3.6 3.6 0 01-.17-1.14c0-.42.05-.8.17-1.14a2.43 2.43 0 01.48-.86c.2-.24.47-.42.77-.55.3-.13.65-.19 1.04-.19s.73.06 1.03.2c.3.12.56.3.77.54.2.23.37.52.49.86.1.34.17.72.17 1.14 0 .42-.06.8-.17 1.14-.12.34-.28.63-.5.87a2 2 0 01-.76.55c-.3.13-.65.2-1.03.2zm0-1.17c.29 0 .52-.09.68-.27.16-.18.24-.44.24-.77v-1.07c0-.33-.08-.59-.24-.77a.86.86 0 00-.68-.27c-.3 0-.52.1-.68.27-.16.18-.24.44-.24.77v1.07c0 .33.08.6.24.77.16.18.38.27.68.27zm3.51-6.35h1.48v3.04h.06a1.62 1.62 0 01.49-.7c.23-.2.56-.3.97-.3.54 0 .95.17 1.22.53.28.36.42.87.42 1.54v3.3h-1.48v-3.18c0-.34-.05-.59-.16-.75-.1-.17-.3-.25-.57-.25-.12 0-.24.02-.35.05a.88.88 0 00-.31.14.78.78 0 00-.21.25.66.66 0 00-.08.33v3.4h-1.48v-7.4zm5.96 7.4V27h1.48v.9h.06c.1-.28.25-.52.49-.72.23-.2.55-.3.97-.3.54 0 .94.18 1.22.54.28.36.42.87.42 1.54v3.3h-1.48v-3.18c0-.34-.06-.59-.16-.75-.1-.17-.3-.25-.57-.25-.12 0-.24.02-.35.05a.86.86 0 00-.31.14.76.76 0 00-.21.25.65.65 0 00-.08.33v3.4h-1.48zm8.4-6.98h2.63c.46 0 .88.07 1.26.22s.7.37.97.66c.26.29.47.65.62 1.1.14.42.22.93.22 1.51s-.08 1.1-.22 1.53a3.06 3.06 0 01-.62 1.1 2.57 2.57 0 01-.97.64c-.38.15-.8.22-1.26.22h-2.63v-6.98zm2.63 5.63c.45 0 .8-.13 1.07-.38.26-.25.39-.66.39-1.22v-1.08c0-.56-.13-.97-.4-1.22a1.47 1.47 0 00-1.06-.38h-1.11v4.28h1.1zm4.72 1.46c-.3 0-.52-.07-.67-.22a.83.83 0 01-.21-.58v-.2a.8.8 0 01.21-.57c.15-.15.37-.23.67-.23.3 0 .52.08.66.23a.77.77 0 01.22.57v.2a.8.8 0 01-.22.58c-.14.15-.36.22-.66.22zm6.94.01c-.61 0-1.13-.1-1.56-.3a3.63 3.63 0 01-1.1-.83l1-1c.48.52 1.07.8 1.76.8.37 0 .65-.09.83-.24a.76.76 0 00.27-.6.72.72 0 00-.16-.49c-.1-.13-.32-.22-.65-.27l-.7-.09a2.7 2.7 0 01-1.62-.67 1.95 1.95 0 01-.51-1.4c0-.32.06-.6.18-.87s.29-.48.5-.67c.24-.19.5-.33.83-.43a3.57 3.57 0 011.1-.16c.54 0 1 .08 1.4.25.4.17.74.41 1.03.73l-1.01 1.02a1.95 1.95 0 00-.61-.47 1.85 1.85 0 00-.9-.19c-.33 0-.58.06-.75.18a.58.58 0 00-.25.5c0 .24.06.41.19.52.13.1.35.18.64.23l.69.11c.72.11 1.25.34 1.6.67.35.33.52.8.52 1.4 0 .33-.06.64-.18.92s-.3.52-.53.72c-.23.2-.51.36-.85.47-.34.1-.73.16-1.16.16zm3.9-.12V27h1.48v.9h.06a1.58 1.58 0 01.48-.72c.23-.2.54-.3.93-.3.36 0 .67.1.92.27.25.18.44.44.55.8h.03a1.42 1.42 0 01.57-.76c.14-.1.3-.17.47-.22.17-.06.36-.09.56-.09.5 0 .9.18 1.16.54.27.36.4.87.4 1.54v3.3h-1.47v-3.18c0-.67-.24-1-.72-1-.22 0-.42.06-.6.2s-.27.31-.27.57v3.4h-1.48v-3.17c0-.67-.24-1-.72-1-.1 0-.21.02-.32.05a.8.8 0 00-.28.14.84.84 0 00-.2.25.74.74 0 00-.07.33v3.4h-1.48zm9.68-5.8c-.3 0-.52-.08-.66-.2a.74.74 0 01-.2-.54v-.22a.7.7 0 01.2-.52c.14-.14.36-.2.66-.2.3 0 .51.06.65.2.14.13.2.3.2.52v.22c0 .21-.06.4-.2.53s-.35.2-.65.2zm-.74.55h1.48v5.25h-1.48V27zm4.7 5.25c-.52 0-.9-.13-1.17-.39-.26-.26-.4-.64-.4-1.14v-2.57h-.73V27h.37c.2 0 .33-.05.4-.14a.7.7 0 00.12-.42v-.86h1.33V27h1.04v1.15h-1.04v2.95h.96v1.15h-.88zm1.98-7.4h1.48v3.04h.06a1.62 1.62 0 01.5-.7c.23-.2.55-.3.96-.3.54 0 .95.17 1.22.53.28.36.42.87.42 1.54v3.3h-1.48v-3.18c0-.34-.05-.59-.16-.75-.1-.17-.3-.25-.57-.25-.12 0-.23.02-.35.05a.88.88 0 00-.3.14.78.78 0 00-.22.25.66.66 0 00-.08.33v3.4h-1.48v-7.4zM112.7 48.71v-.6h1.56v-4.49h-.05l-1.41 1.31-.4-.42 1.49-1.39h1.05v5h1.44v.59h-3.68zm6.18-3.22c.38 0 .67-.08.85-.25a.87.87 0 00.3-.68v-.05c0-.3-.1-.51-.29-.66a1.1 1.1 0 00-.72-.22c-.29 0-.52.06-.7.19-.18.12-.33.29-.45.5l-.5-.38a2.3 2.3 0 01.25-.33 1.73 1.73 0 01.82-.5 2.07 2.07 0 01.6-.08c.23 0 .45.03.66.1.2.05.39.14.54.27a1.29 1.29 0 01.5 1.04c0 .18-.04.34-.1.48a1.15 1.15 0 01-.22.38 1.58 1.58 0 01-.76.44v.03a1.62 1.62 0 01.8.44 1.38 1.38 0 01.37.97c0 .24-.04.46-.13.66a1.51 1.51 0 01-.38.52 1.84 1.84 0 01-.6.32c-.24.08-.5.12-.78.12-.24 0-.45-.02-.64-.08a1.9 1.9 0 01-.5-.21 2.2 2.2 0 01-.38-.3 2.9 2.9 0 01-.29-.36l.5-.38.23.3a1.34 1.34 0 00.63.39c.12.03.27.04.44.04.4 0 .7-.08.9-.26.2-.18.3-.44.3-.77v-.06c0-.33-.1-.59-.3-.76-.2-.18-.5-.27-.9-.27h-.65v-.59h.6zm9.7-1.49h-.04l-.47.94-1.34 2.43-1.33-2.43-.48-.94h-.04v4.7h-.65v-5.58h.9l1.6 3.01h.03l1.61-3h.87v5.58h-.66V44zm5.08 4.7c-.24 0-.42-.06-.52-.18a.96.96 0 01-.2-.48h-.04a1.07 1.07 0 01-.44.57 1.4 1.4 0 01-.75.2c-.44 0-.78-.12-1.02-.34a1.19 1.19 0 01-.36-.91c0-.4.14-.7.42-.9.3-.2.74-.31 1.34-.31h.81v-.41c0-.3-.08-.52-.24-.67-.16-.16-.4-.23-.73-.23-.25 0-.46.05-.63.16a1.4 1.4 0 00-.42.45l-.38-.36c.1-.22.29-.41.53-.57.25-.16.56-.24.93-.24.5 0 .9.13 1.17.37.28.25.41.59.41 1.03v2.27h.48v.56h-.36zm-1.84-.44c.16 0 .3-.02.44-.06a1.06 1.06 0 00.34-.16.8.8 0 00.22-.24.58.58 0 00.08-.3v-.67h-.84c-.37 0-.64.05-.81.16a.52.52 0 00-.25.46v.17c0 .2.07.36.22.47.15.11.35.17.6.17zm5.61-3.68h.64l-1.85 5.09a2.05 2.05 0 01-.15.3.6.6 0 01-.17.2.7.7 0 01-.27.1 1.87 1.87 0 01-.37.04h-.33v-.56h.65l.31-.88-1.54-4.29h.64l.99 2.8.2.68h.03l.22-.67 1-2.81zm3.37 4.13v-.6h1.56v-4.49h-.06l-1.4 1.31-.4-.42 1.48-1.39h1.05v5h1.44v.59h-3.67zm8.35-3.54c0 .42-.06.81-.18 1.18a4.47 4.47 0 01-.48 1 4.82 4.82 0 01-.64.8c-.23.23-.46.41-.69.56h-.86c.3-.22.56-.43.8-.64.23-.21.44-.43.62-.65a4.13 4.13 0 00.44-.73 4.43 4.43 0 00.3-.88l-.04-.01c-.13.23-.3.42-.52.57-.2.15-.48.23-.82.23-.24 0-.47-.04-.67-.12a1.45 1.45 0 01-.52-.35 1.68 1.68 0 01-.34-.53 2.04 2.04 0 01-.12-.72c0-.28.04-.52.13-.75a1.69 1.69 0 01.96-.97 2.07 2.07 0 01.76-.13c.3 0 .55.05.78.15.23.1.43.24.6.42a1.8 1.8 0 01.37.68c.08.26.13.56.13.9zm-1.86.86c.37 0 .65-.1.86-.3.2-.2.3-.5.3-.88v-.06c0-.38-.1-.67-.3-.87-.2-.2-.5-.3-.86-.3s-.66.1-.86.3c-.2.2-.3.49-.3.87v.06c0 .38.1.67.3.87.2.2.5.3.86.3zm6.66-.86c0 .42-.06.81-.18 1.18a4.47 4.47 0 01-.48 1 4.82 4.82 0 01-.64.8c-.24.23-.47.41-.69.56h-.86c.3-.22.56-.43.8-.64.23-.21.44-.43.61-.65a4.13 4.13 0 00.45-.73 4.43 4.43 0 00.3-.88l-.04-.01c-.14.23-.31.42-.52.57-.21.15-.49.23-.83.23-.24 0-.46-.04-.66-.12a1.45 1.45 0 01-.52-.35 1.68 1.68 0 01-.35-.53 2.04 2.04 0 01-.12-.72c0-.28.05-.52.13-.75a1.69 1.69 0 01.96-.97 2.07 2.07 0 01.77-.13c.29 0 .55.05.78.15.23.1.43.24.59.42a1.8 1.8 0 01.37.68c.09.26.13.56.13.9zm-1.86.86c.37 0 .65-.1.85-.3.21-.2.32-.5.32-.88v-.06c0-.38-.1-.67-.32-.87-.2-.2-.48-.3-.85-.3s-.66.1-.87.3c-.2.2-.3.49-.3.87v.06c0 .38.1.67.3.87.21.2.5.3.87.3zm4.48-.54c.38 0 .66-.08.85-.25a.87.87 0 00.29-.68v-.05c0-.3-.1-.51-.28-.66a1.1 1.1 0 00-.72-.22c-.29 0-.52.06-.7.19-.19.12-.34.29-.45.5l-.5-.38c.07-.11.15-.22.25-.33a1.75 1.75 0 01.81-.5 2.07 2.07 0 01.6-.08c.24 0 .46.03.67.1.2.05.38.14.53.27.16.11.28.26.36.44.1.17.14.37.14.6 0 .18-.03.34-.09.48a1.15 1.15 0 01-.22.38 1.57 1.57 0 01-.76.44v.03a1.6 1.6 0 01.8.44c.12.11.2.25.27.42a1.6 1.6 0 01-.03 1.22c-.1.2-.22.36-.39.5a1.84 1.84 0 01-.6.33c-.23.08-.49.12-.77.12-.24 0-.45-.02-.64-.08a1.92 1.92 0 01-.5-.21 2.2 2.2 0 01-.38-.3 3.1 3.1 0 01-.29-.36l.5-.38a2.3 2.3 0 00.23.3 1.35 1.35 0 00.62.39c.13.03.28.04.45.04.4 0 .7-.08.9-.26.2-.18.3-.44.3-.77v-.06c0-.33-.1-.59-.3-.76-.2-.18-.5-.27-.9-.27h-.66v-.59h.61z",fill:"#333"}),a().createElement("g",{filter:"url(#j)"},a().createElement("rect",{x:"178",y:"56.5",width:"100",height:"24",rx:"4",fill:"#fff"}),a().createElement("rect",{x:"184.5",y:"60.5",width:"16",height:"16",rx:"8",fill:"#4BB4B3"}),a().createElement("path",{d:"M190.5 71.3l-2.33-2.33a.66.66 0 00-.94 0 .66.66 0 000 .93l2.8 2.8c.26.25.68.25.94 0l7.06-7.07a.66.66 0 000-.93.66.66 0 00-.93 0l-6.6 6.6z",fill:"#fff"}),a().createElement("path",{d:"M212.72 66.02v5.17c0 .3-.05.56-.15.8-.1.24-.23.44-.41.61a1.82 1.82 0 01-.63.39 2.43 2.43 0 01-.81.13c-.54 0-.98-.14-1.31-.43-.33-.3-.54-.68-.63-1.16l.76-.18c.07.3.2.55.38.74.19.19.46.28.82.28.36 0 .64-.11.84-.33.2-.22.3-.55.3-1v-4.28h-2.4v-.74h3.24zm3.68 7.1c-.35 0-.67-.06-.95-.19a2.12 2.12 0 01-.74-.54 2.68 2.68 0 01-.47-.85 3.45 3.45 0 01-.17-1.12c0-.4.05-.78.17-1.11.11-.33.27-.62.47-.85.2-.24.45-.42.74-.55.28-.13.6-.19.95-.19.34 0 .66.06.94.19.28.13.53.31.74.55.2.23.36.52.48.85.11.33.17.7.17 1.11 0 .41-.06.79-.17 1.12a2.61 2.61 0 01-.48.85 2.13 2.13 0 01-.74.54c-.28.13-.6.19-.94.19zm0-.71c.43 0 .78-.13 1.06-.4.27-.27.4-.67.4-1.22v-.74c0-.55-.13-.95-.4-1.22-.28-.27-.63-.4-1.06-.4-.44 0-.79.13-1.06.4-.28.27-.41.67-.41 1.22v.74c0 .55.13.95.4 1.22.28.27.63.4 1.07.4zm3.64-6.81h.8v3.08h.04c.13-.3.3-.53.53-.7.24-.17.55-.26.93-.26.54 0 .96.17 1.26.52.32.34.47.82.47 1.45V73h-.8v-3.17c0-.93-.39-1.39-1.17-1.39-.16 0-.31.02-.47.06-.14.04-.28.1-.4.18a.93.93 0 00-.29.31.88.88 0 00-.1.43V73h-.8v-7.4zm5.69 7.4v-5.16h.8v.84h.04c.12-.3.3-.53.53-.7.23-.17.54-.26.93-.26.53 0 .95.17 1.26.52.31.34.47.82.47 1.45V73h-.8v-3.17c0-.93-.4-1.39-1.17-1.39-.16 0-.32.02-.47.06-.15.04-.28.1-.4.18a.92.92 0 00-.3.31.87.87 0 00-.1.43V73h-.8zm8.12-6.98h2.34c.44 0 .83.07 1.18.22.36.15.66.37.9.66.26.29.45.65.58 1.09.14.43.2.94.2 1.52a5.3 5.3 0 01-.2 1.53 3 3 0 01-.58 1.09 2.37 2.37 0 01-.9.65c-.35.15-.74.22-1.18.22h-2.34v-6.98zm2.34 6.24c.29 0 .55-.05.8-.14a1.76 1.76 0 001.01-1.11c.1-.27.15-.58.15-.93v-1.14c0-.35-.05-.65-.15-.92a1.92 1.92 0 00-.4-.69 1.66 1.66 0 00-.62-.42c-.24-.1-.5-.15-.79-.15h-1.5v5.5h1.5zm4.5.86c-.21 0-.37-.05-.47-.16a.62.62 0 01-.14-.42v-.13c0-.17.05-.31.14-.42.1-.1.26-.16.47-.16.21 0 .37.05.46.16.1.1.15.25.15.42v.13a.59.59 0 01-.15.42c-.1.1-.25.16-.46.16zm6.62 0c-.57 0-1.05-.1-1.45-.32-.4-.22-.74-.52-1.02-.9l.62-.52c.25.33.52.58.82.75.3.17.65.25 1.06.25.5 0 .88-.12 1.14-.36.27-.24.4-.56.4-.96 0-.33-.1-.59-.3-.77-.2-.18-.53-.32-1-.43l-.56-.13a3.4 3.4 0 01-1.47-.66 1.6 1.6 0 01-.5-1.26c0-.3.05-.58.17-.82.11-.24.27-.44.47-.6.2-.16.45-.28.73-.36.28-.09.6-.13.94-.13a2.6 2.6 0 012.31 1.14l-.63.46a2.17 2.17 0 00-.7-.63 2.06 2.06 0 00-1.02-.23c-.45 0-.8.1-1.06.29-.26.19-.38.47-.38.85 0 .33.1.59.32.76.22.17.55.3.99.4l.57.13c.68.15 1.18.39 1.49.7.3.31.46.73.46 1.25 0 .32-.06.61-.17.87-.1.26-.26.48-.47.66-.2.18-.46.32-.76.42-.3.1-.63.15-1 .15zm3.77-.12v-5.16h.8v.84h.04l.2-.37c.08-.12.17-.22.28-.31a1.53 1.53 0 01.9-.28c.35 0 .66.08.95.25.28.16.5.43.64.8h.02c.1-.28.26-.52.52-.73a1.6 1.6 0 011.05-.32c.52 0 .93.17 1.23.52.3.34.45.82.45 1.45V73h-.8v-3.17c0-.46-.1-.8-.27-1.04-.18-.23-.47-.35-.86-.35-.16 0-.32.02-.46.06-.14.04-.27.1-.38.18a.85.85 0 00-.27.31.87.87 0 00-.1.43V73h-.8v-3.17c0-.46-.1-.8-.27-1.04-.18-.23-.46-.35-.84-.35-.16 0-.32.02-.46.06-.15.04-.28.1-.4.18a.95.95 0 00-.27.31.87.87 0 00-.1.43V73h-.8zm9.13-6.37c-.17 0-.3-.04-.38-.12a.5.5 0 01-.11-.33v-.13c0-.13.04-.24.1-.32.09-.09.22-.13.39-.13s.3.04.37.13c.08.08.12.19.12.32v.13c0 .13-.04.24-.12.33-.07.08-.2.12-.37.12zm-.4 1.21h.8V73h-.8v-5.16zm3.64 5.16c-.28 0-.5-.08-.64-.23a.9.9 0 01-.21-.62v-3.61h-.85v-.7h.48c.17 0 .29-.03.35-.1.07-.07.1-.2.1-.37v-.96h.72v1.43h1.13v.7h-1.13v3.76h1.05v.7h-1zm2.37-7.4h.8v3.08h.04c.12-.3.3-.53.53-.7.23-.17.54-.26.93-.26.53 0 .95.17 1.26.52.3.34.47.82.47 1.45V73h-.8v-3.17c0-.93-.4-1.39-1.17-1.39-.16 0-.32.02-.47.06-.15.04-.29.1-.4.18a.92.92 0 00-.3.31.87.87 0 00-.1.43V73h-.8v-7.4z",fill:"#333"})),a().createElement("g",{filter:"url(#k)"},a().createElement("rect",{x:"178",y:"88.5",width:"100",height:"24",rx:"4",fill:"#fff"}),a().createElement("rect",{x:"186",y:"92.5",width:"16",height:"16",rx:"8",fill:"#EC3F3F"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M191.15 97.65a.5.5 0 01.7 0l2.15 2.14 2.15-2.14a.5.5 0 01.63-.06l.07.06a.5.5 0 010 .7l-2.14 2.15 2.14 2.15a.5.5 0 01.06.63l-.06.07a.5.5 0 01-.7 0l-2.15-2.14-2.15 2.14a.5.5 0 01-.63.06l-.07-.06a.5.5 0 010-.7l2.14-2.15-2.14-2.15a.5.5 0 01-.06-.63l.06-.07z",fill:"#fff"}),a().createElement("path",{d:"M214.22 98.02v5.17c0 .3-.05.56-.15.8-.1.24-.23.44-.41.61a1.81 1.81 0 01-.63.39c-.25.09-.52.13-.81.13-.54 0-.98-.14-1.31-.43-.33-.3-.54-.68-.63-1.16l.76-.18c.07.3.2.55.38.74.19.19.46.28.82.28.36 0 .64-.11.84-.33.2-.22.3-.55.3-1v-4.28h-2.4v-.74h3.24zm3.68 7.1c-.35 0-.67-.06-.95-.19a2.12 2.12 0 01-.74-.54 2.68 2.68 0 01-.47-.85 3.45 3.45 0 01-.17-1.12c0-.4.05-.78.17-1.11.11-.33.27-.62.47-.85.2-.24.45-.42.74-.55.28-.13.6-.19.95-.19.34 0 .66.06.94.19.28.13.53.31.74.55.2.23.36.52.48.85.11.33.17.7.17 1.11 0 .41-.06.79-.17 1.12a2.6 2.6 0 01-.48.85 2.14 2.14 0 01-.74.54c-.28.13-.6.19-.94.19zm0-.71c.43 0 .78-.13 1.06-.4.27-.27.4-.67.4-1.22v-.74c0-.55-.13-.95-.4-1.22-.28-.27-.63-.4-1.06-.4-.44 0-.79.13-1.06.4-.28.27-.41.67-.41 1.22v.74c0 .55.13.95.4 1.22.28.27.63.4 1.07.4zm3.64-6.81h.8v3.08h.04c.13-.3.3-.53.53-.7.24-.17.55-.26.93-.26.54 0 .96.17 1.26.52.32.34.47.82.47 1.45V105h-.8v-3.17c0-.93-.39-1.39-1.17-1.39-.16 0-.31.02-.47.06-.14.04-.28.1-.4.18a.93.93 0 00-.29.31.88.88 0 00-.1.43V105h-.8v-7.4zm5.69 7.4v-5.16h.8v.84h.04c.12-.3.3-.53.53-.7.23-.17.54-.26.93-.26.53 0 .95.17 1.26.52.31.34.47.82.47 1.45V105h-.8v-3.17c0-.93-.4-1.39-1.17-1.39-.16 0-.32.02-.47.06-.15.04-.28.1-.4.18a.92.92 0 00-.3.31.87.87 0 00-.1.43V105h-.8zm10.08.12c-.56 0-1.05-.1-1.45-.32-.4-.22-.74-.52-1.02-.9l.62-.52c.25.33.52.58.82.75.3.17.66.25 1.06.25.5 0 .88-.12 1.14-.36.27-.24.4-.56.4-.96 0-.33-.1-.59-.3-.77-.2-.18-.53-.32-.99-.43l-.57-.13a3.4 3.4 0 01-1.47-.66 1.6 1.6 0 01-.5-1.26c0-.3.06-.58.17-.82.12-.24.27-.44.47-.6.21-.16.45-.28.73-.36.29-.09.6-.13.94-.13a2.6 2.6 0 012.31 1.14l-.63.46a2.18 2.18 0 00-.7-.63 2.07 2.07 0 00-1.02-.23c-.44 0-.8.1-1.06.29-.25.19-.38.47-.38.85 0 .33.11.59.32.76.22.17.55.3 1 .4l.56.13c.69.15 1.19.39 1.5.7.3.31.45.73.45 1.25 0 .32-.05.61-.17.87-.1.26-.26.48-.47.66-.2.18-.46.32-.76.42-.29.1-.62.15-1 .15zm3.77-.12v-5.16h.8v.84h.04l.2-.37c.08-.12.18-.22.28-.31a1.52 1.52 0 01.91-.28c.34 0 .66.08.94.25.3.16.5.43.64.8h.02a1.59 1.59 0 01.52-.73 1.6 1.6 0 011.05-.32c.53 0 .94.17 1.23.52.3.34.45.82.45 1.45V105h-.8v-3.17c0-.46-.09-.8-.27-1.04-.18-.23-.46-.35-.86-.35-.16 0-.3.02-.46.06-.14.04-.26.1-.38.18a.88.88 0 00-.37.74V105h-.8v-3.17c0-.46-.09-.8-.27-1.04-.18-.23-.46-.35-.84-.35-.16 0-.3.02-.46.06-.14.04-.27.1-.39.18a.97.97 0 00-.28.31.88.88 0 00-.1.43V105h-.8zm9.13-6.37c-.17 0-.3-.04-.38-.12a.5.5 0 01-.1-.33v-.13c0-.13.03-.24.1-.32.08-.09.21-.13.38-.13.18 0 .3.04.37.13.08.08.12.19.12.32v.13c0 .13-.03.24-.11.33-.08.08-.2.12-.37.12zm-.4 1.21h.8V105h-.8v-5.16zm3.64 5.16c-.28 0-.49-.08-.64-.23a.9.9 0 01-.2-.62v-3.61h-.86v-.7h.48c.18 0 .3-.03.35-.1.07-.07.1-.2.1-.37v-.96h.72v1.43h1.13v.7h-1.13v3.76h1.05v.7h-1zm2.37-7.4h.8v3.08h.04c.13-.3.3-.53.53-.7.23-.17.54-.26.93-.26.53 0 .95.17 1.26.52.31.34.47.82.47 1.45V105h-.8v-3.17c0-.93-.39-1.39-1.17-1.39-.16 0-.32.02-.47.06-.15.04-.28.1-.4.18a.92.92 0 00-.29.31.87.87 0 00-.1.43V105h-.8v-7.4z",fill:"#333"})),a().createElement("g",{filter:"url(#l)"},a().createElement("rect",{x:"178",y:"120.5",width:"103",height:"24",rx:"4",fill:"#fff"}),a().createElement("rect",{x:"186",y:"124.5",width:"16",height:"16",rx:"8",fill:"#EC3F3F"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M191.15 129.65a.5.5 0 01.7 0l2.15 2.14 2.15-2.14a.5.5 0 01.63-.06l.07.06a.5.5 0 010 .7l-2.14 2.15 2.14 2.15a.5.5 0 01.06.63l-.06.07a.5.5 0 01-.7 0l-2.15-2.14-2.15 2.14a.5.5 0 01-.63.06l-.07-.06a.5.5 0 010-.7l2.14-2.15-2.14-2.15a.5.5 0 01-.06-.63l.06-.07z",fill:"#fff"}),a().createElement("path",{d:"M212.89 137.12c-.57 0-1.05-.1-1.45-.32-.4-.22-.74-.52-1.02-.9l.62-.52c.25.33.52.58.82.75.3.17.65.25 1.06.25.5 0 .88-.12 1.14-.36.27-.24.4-.56.4-.96 0-.33-.1-.59-.3-.77-.2-.18-.53-.32-.99-.43l-.57-.13a3.4 3.4 0 01-1.47-.66 1.6 1.6 0 01-.5-1.26c0-.3.06-.58.17-.82.11-.24.27-.44.47-.6.2-.16.45-.28.73-.36.29-.09.6-.13.94-.13a2.6 2.6 0 012.31 1.14l-.63.46a2.16 2.16 0 00-.7-.63 2.06 2.06 0 00-1.02-.23c-.45 0-.8.1-1.06.29-.25.19-.38.47-.38.85 0 .33.1.59.32.76.22.17.55.3.99.4l.57.13c.69.15 1.18.39 1.49.7.3.31.46.73.46 1.25 0 .32-.06.61-.17.87-.1.26-.26.48-.47.66-.2.18-.46.32-.76.42-.3.1-.63.15-1 .15zm3.77-.12v-5.16h.8v.84h.04l.2-.37c.08-.12.17-.22.28-.31a1.53 1.53 0 01.91-.28c.34 0 .65.08.94.25.29.16.5.43.64.8h.02c.1-.28.27-.52.52-.73a1.6 1.6 0 011.05-.32c.53 0 .94.17 1.23.52.3.34.45.82.45 1.45V137h-.8v-3.17c0-.46-.09-.8-.27-1.04-.18-.23-.47-.35-.86-.35-.16 0-.31.02-.46.06-.14.04-.27.1-.38.18a.85.85 0 00-.27.31.87.87 0 00-.1.43V137h-.8v-3.17c0-.46-.09-.8-.27-1.04-.18-.23-.46-.35-.84-.35-.16 0-.31.02-.46.06-.15.04-.28.1-.39.18a.95.95 0 00-.28.31.87.87 0 00-.1.43V137h-.8zm9.13-6.37c-.17 0-.3-.04-.38-.12a.5.5 0 01-.1-.33v-.13c0-.13.03-.24.1-.32.08-.09.2-.13.38-.13.17 0 .3.04.37.13.08.08.12.19.12.32v.13c0 .13-.04.24-.12.33-.07.08-.2.12-.37.12zm-.4 1.21h.8V137h-.8v-5.16zm3.64 5.16c-.28 0-.5-.08-.64-.23a.9.9 0 01-.2-.62v-3.61h-.86v-.7h.48c.17 0 .3-.03.35-.1.07-.07.1-.2.1-.37v-.96h.72v1.43h1.13v.7h-1.13v3.76h1.05v.7h-1zm2.37-7.4h.8v3.08h.04c.12-.3.3-.53.53-.7.23-.17.54-.26.93-.26.53 0 .95.17 1.26.52.31.34.47.82.47 1.45V137h-.8v-3.17c0-.93-.4-1.39-1.17-1.39-.16 0-.32.02-.47.06-.15.04-.28.1-.4.18a.92.92 0 00-.3.31.87.87 0 00-.1.43V137h-.8v-7.4zm8.12.42h2.34c.44 0 .83.07 1.18.22.36.15.66.37.9.66.26.29.45.65.58 1.09.14.43.2.94.2 1.52a5.3 5.3 0 01-.2 1.53 3 3 0 01-.58 1.09 2.37 2.37 0 01-.9.65c-.35.15-.74.22-1.18.22h-2.34v-6.98zm2.34 6.24c.29 0 .55-.05.8-.14a1.76 1.76 0 001.01-1.11c.1-.27.15-.58.15-.93v-1.14c0-.35-.05-.65-.15-.92a1.92 1.92 0 00-.4-.69 1.65 1.65 0 00-.62-.42c-.24-.1-.5-.15-.79-.15h-1.5v5.5h1.5zm4.5-.43c.21 0 .37.06.46.17.1.1.15.25.15.42v.14a2.65 2.65 0 01-.91 1.77h-.67c.2-.21.36-.42.48-.61.13-.19.22-.4.27-.63a.5.5 0 01-.3-.19.62.62 0 01-.09-.34v-.14c0-.17.05-.31.14-.42.1-.11.26-.17.47-.17zm7.95-5.81v5.17c0 .3-.05.56-.15.8-.1.24-.23.44-.41.61a1.81 1.81 0 01-.63.39c-.25.09-.52.13-.81.13-.54 0-.98-.14-1.31-.43-.33-.3-.54-.68-.63-1.16l.76-.18c.06.3.2.55.38.74.18.19.46.28.82.28.36 0 .64-.11.84-.33.2-.22.3-.55.3-1v-4.28h-2.4v-.74h3.24zm3.68 7.1c-.35 0-.67-.06-.95-.19a2.12 2.12 0 01-.74-.54 2.68 2.68 0 01-.47-.85 3.45 3.45 0 01-.17-1.12c0-.4.05-.78.17-1.11.1-.33.27-.62.47-.85.2-.24.45-.42.74-.55.28-.13.6-.19.95-.19.34 0 .66.06.94.19.28.13.53.31.74.55.2.23.36.52.48.85.1.33.17.7.17 1.11 0 .41-.06.79-.17 1.12a2.6 2.6 0 01-.48.85 2.14 2.14 0 01-.74.54c-.28.13-.6.19-.94.19zm0-.71c.43 0 .78-.13 1.06-.4.27-.27.4-.67.4-1.22v-.74c0-.55-.13-.95-.4-1.22-.28-.27-.63-.4-1.06-.4-.44 0-.8.13-1.06.4-.28.27-.41.67-.41 1.22v.74c0 .55.13.95.4 1.22.28.27.63.4 1.07.4zm3.64-6.81h.8v3.08h.04c.13-.3.3-.53.53-.7.23-.17.54-.26.93-.26.53 0 .95.17 1.26.52.31.34.47.82.47 1.45V137h-.8v-3.17c0-.93-.39-1.39-1.17-1.39-.16 0-.32.02-.47.06-.15.04-.28.1-.4.18a.93.93 0 00-.29.31.88.88 0 00-.1.43V137h-.8v-7.4zm5.68 7.4v-5.16h.8v.84h.04c.13-.3.3-.53.54-.7.23-.17.54-.26.93-.26.53 0 .95.17 1.26.52.3.34.47.82.47 1.45V137h-.8v-3.17c0-.93-.4-1.39-1.17-1.39-.16 0-.32.02-.47.06-.15.04-.29.1-.4.18a.92.92 0 00-.3.31.87.87 0 00-.1.43V137h-.8z",fill:"#333"})),a().createElement("defs",null,a().createElement("filter",{id:"b",x:"-93",y:"-101.5",width:"576",height:"576",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feGaussianBlur",{stdDeviation:"80",result:"effect1_foregroundBlur_1211_60959"})),a().createElement("filter",{id:"c",x:"75",y:"-157.5",width:"384",height:"384",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feGaussianBlur",{stdDeviation:"64",result:"effect1_foregroundBlur_1211_60959"})),a().createElement("filter",{id:"d",x:"-127",y:"-151.5",width:"336",height:"336",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feGaussianBlur",{stdDeviation:"64",result:"effect1_foregroundBlur_1211_60959"})),a().createElement("filter",{id:"g",x:"0",y:"64",width:"106",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.06 0"}),a().createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1211_60959"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1.5"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.1 0"}),a().createElement("feBlend",{in2:"effect1_dropShadow_1211_60959",result:"effect2_dropShadow_1211_60959"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1211_60959",result:"shape"})),a().createElement("filter",{id:"h",x:"0",y:"96",width:"106",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.06 0"}),a().createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1211_60959"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1.5"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.1 0"}),a().createElement("feBlend",{in2:"effect1_dropShadow_1211_60959",result:"effect2_dropShadow_1211_60959"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1211_60959",result:"shape"})),a().createElement("filter",{id:"i",x:"0",y:"128",width:"106",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.06 0"}),a().createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1211_60959"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1.5"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.1 0"}),a().createElement("feBlend",{in2:"effect1_dropShadow_1211_60959",result:"effect2_dropShadow_1211_60959"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1211_60959",result:"shape"})),a().createElement("filter",{id:"j",x:"175",y:"54.5",width:"106",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.06 0"}),a().createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1211_60959"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1.5"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.1 0"}),a().createElement("feBlend",{in2:"effect1_dropShadow_1211_60959",result:"effect2_dropShadow_1211_60959"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1211_60959",result:"shape"})),a().createElement("filter",{id:"k",x:"175",y:"86.5",width:"106",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.06 0"}),a().createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1211_60959"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1.5"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.1 0"}),a().createElement("feBlend",{in2:"effect1_dropShadow_1211_60959",result:"effect2_dropShadow_1211_60959"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1211_60959",result:"shape"})),a().createElement("filter",{id:"l",x:"175",y:"118.5",width:"109",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.06 0"}),a().createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1211_60959"}),a().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"1.5"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0 0.054902 0 0 0 0.1 0"}),a().createElement("feBlend",{in2:"effect1_dropShadow_1211_60959",result:"effect2_dropShadow_1211_60959"}),a().createElement("feBlend",{in:"SourceGraphic",in2:"effect2_dropShadow_1211_60959",result:"shape"})),a().createElement("clipPath",{id:"a"},a().createElement("rect",{x:"25",y:".5",width:"218",height:"131",rx:"8",fill:"#fff"})),a().createElement("clipPath",{id:"e"},a().createElement("path",{fill:"#fff",transform:"rotate(-55.14 120.52 -157.66)",d:"M0 0h12v36H0z"})),a().createElement("clipPath",{id:"f"},a().createElement("path",{fill:"#fff",transform:"rotate(44.74 5.11 190.16)",d:"M0 0h12v36H0z"}))))}}}]);