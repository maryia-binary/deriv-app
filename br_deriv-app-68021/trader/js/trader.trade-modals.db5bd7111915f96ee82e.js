"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["trade-modals"],{"./src/App/Components/Elements/Modals/UnsupportedContractModal/index.js":(e,o,t)=>{t.d(o,{Z:()=>d});var r=t("../../node_modules/prop-types/index.js"),i=t.n(r),a=t("react"),n=t("@deriv/components"),l=t("@deriv/translations"),s=t("./src/Stores/connect.js"),c=t("@deriv/shared"),_=function(e){var o=e.disableApp,t=e.enableApp,r=e.is_loading,i=e.is_visible,s=e.onConfirm,_=e.onClose;return a.createElement(n.Dialog,{title:(0,l.localize)("We’re working on it"),confirm_button_text:(0,l.localize)("Stay on {{website_domain}}",{website_domain:c.website_name}),cancel_button_text:(0,l.localize)("Go to Binary.com"),onConfirm:s,onCancel:_,disableApp:o,enableApp:t,is_loading:r,is_closed_on_cancel:!0,is_visible:i},a.createElement(l.Localize,{i18n_default_text:"You’ve selected a trade type that is currently unsupported, but we’re working on it."}))};_.propTypes={disableApp:i().func,enableApp:i().func,is_loading:i().bool,is_visible:i().bool,onClose:i().func,onConfirm:i().func};const d=(0,s.$j)((function(e){var o=e.ui;return{disableApp:o.disableApp,enableApp:o.enableApp,is_loading:o.is_loading}}))(_)},"./src/App/Containers/Modals/index.js":(e,o,t)=>{t.r(o),t.d(o,{default:()=>E});var r=t("react"),i=t("@deriv/shared"),a=t("./src/Stores/connect.js"),n=t("./src/App/Components/Elements/Modals/UnsupportedContractModal/index.js"),l=t("../../node_modules/prop-types/index.js"),s=t.n(l),c=t("@deriv/components"),_=t("@deriv/translations"),d=function(e){var o=e.disableApp,t=e.enableApp,a=e.is_loading,n=e.is_visible,l=e.onCancel,s=e.onConfirm;return r.createElement(c.Dialog,{className:"market-unavailable-modal",title:(0,_.localize)("We’re working on it"),confirm_button_text:(0,_.localize)("Stay on {{platform_name_trader}}",{platform_name_trader:(0,i.getPlatformSettings)("trader").name}),cancel_button_text:(0,_.localize)("Go to {{platform_name_smarttrader}}",{platform_name_smarttrader:(0,i.getPlatformSettings)("smarttrader").name}),onConfirm:s,onCancel:l,is_mobile_full_width:!1,is_visible:n,disableApp:o,enableApp:t,is_loading:a},r.createElement(_.Localize,{i18n_default_text:"This market is not yet available on {{platform_name_trader}}, but it is on {{platform_name_smarttrader}}.",values:{platform_name_trader:(0,i.getPlatformSettings)("trader").name,platform_name_smarttrader:(0,i.getPlatformSettings)("smarttrader").name}}))};d.propTypes={disableApp:s().func,enableApp:s().func,is_loading:s().bool,is_visible:s().bool,onCancel:s().func,onConfirm:s().func};const p=(0,a.$j)((function(e){var o=e.ui;return{disableApp:o.disableApp,enableApp:o.enableApp,is_loading:o.is_loading}}))(d);var u={buy:(0,_.localize)("Purchase Error"),cancel:(0,_.localize)("Deal Cancellation Error"),contract_update:(0,_.localize)("Contract Update Error"),sell:(0,_.localize)("Sell Error")},m=function(e){var o=e.is_visible,t=e.toggleModal,a=e.is_appstore,n=e.is_logged_in;return r.createElement(c.Modal,{id:"dt_authorization_required_modal",is_open:o,small:!0,toggleModal:t,title:(0,_.localize)("Start trading with us")},r.createElement(c.Modal.Body,null,(0,_.localize)("Log in or create a free account to place a trade.")),r.createElement(c.Modal.Footer,null,r.createElement(c.Button,{has_effect:!0,text:(0,_.localize)("Log in"),onClick:function(){return(0,i.redirectToLogin)(n,(0,_.getLanguage)())},secondary:!0}),r.createElement(c.Button,{has_effect:!0,text:(0,_.localize)("Create free account"),onClick:function(){return(0,i.redirectToSignUp)({is_appstore:a})},primary:!0})))};m.propTypes={is_appstore:s().bool,is_visible:s().bool,is_logged_in:s().bool,toggleModal:s().func};const g=m;var f=t("react-router-dom"),b=function(e){var o=e.history,t=e.is_virtual,a=e.is_visible,n=e.message,l=e.toggleModal;return r.createElement(c.Modal,{id:"dt_insufficient_balance_modal",is_open:a,small:!0,is_vertical_centered:(0,i.isMobile)(),toggleModal:l,title:(0,_.localize)("Insufficient balance")},r.createElement(c.Modal.Body,null,n),r.createElement(c.Modal.Footer,null,r.createElement(c.Button,{has_effect:!0,text:t?(0,_.localize)("OK"):(0,_.localize)("Deposit now"),onClick:function(){t?l():o.push(i.routes.cashier_deposit)},primary:!0})))};b.propTypes={history:s().object,is_virtual:s().bool,is_visible:s().bool,message:s().string,toggleModal:s().func};const v=(0,f.withRouter)(b);var C=function(e){var o=e.is_virtual,t=e.is_visible,i=e.is_logged_in,a=e.onConfirm,n=e.services_error,l=n.code,s=n.message;return l&&s?"AuthorizationRequired"===l?r.createElement(g,{is_logged_in:i,is_visible:t,toggleModal:a}):"InsufficientBalance"===l?r.createElement(v,{is_virtual:o,is_visible:t,message:s,toggleModal:a}):r.createElement(c.Modal,{is_open:t,small:!0,title:u[n.type],toggleModal:a},r.createElement(c.Modal.Body,null,s),r.createElement(c.Modal.Footer,null,r.createElement(c.Button,{has_effect:!0,text:(0,_.localize)("OK"),onClick:a,primary:!0}))):null};C.propTypes={is_visible:s().bool,is_virtual:s().bool,is_logged_in:s().bool,onConfirm:s().func,services_error:s().object};const y=C,E=(0,a.$j)((function(e){var o=e.ui,t=e.modules,r=e.common,i=e.client;return{is_market_unavailable_visible:o.has_only_forward_starting_contracts,is_services_error_visible:o.is_services_error_visible,is_unsupported_contract_modal_visible:o.is_unsupported_contract_modal_visible,is_virtual:i.is_virtual,is_logged_in:i.is_logged_in,proposal_info:t.trade.proposal_info,purchase_info:t.trade.purchase_info,resetPreviousSymbol:t.trade.resetPreviousSymbol,clearPurchaseInfo:t.trade.clearPurchaseInfo,resetPurchase:t.trade.requestProposal,services_error:r.services_error,setHasOnlyForwardingContracts:o.setHasOnlyForwardingContracts,toggleServicesErrorModal:o.toggleServicesErrorModal,toggleUnsupportedContractModal:o.toggleUnsupportedContractModal}}))((function(e){var o=e.clearPurchaseInfo,t=e.is_unsupported_contract_modal_visible,a=e.is_market_unavailable_visible,l=e.is_services_error_visible,s=e.is_virtual,c=e.is_logged_in,_=e.toggleUnsupportedContractModal,d=e.setHasOnlyForwardingContracts,u=e.resetPreviousSymbol,m=e.toggleServicesErrorModal,g=e.resetPurchase,f=e.services_error,b=function(){d(!1),u()},v=function(){_(!1)};return r.createElement(r.Fragment,null,r.createElement(n.Z,{onConfirm:v,onClose:function(){window.open((0,i.urlFor)("user/portfoliows",{legacy:!0}),"_blank"),v()},is_visible:t}),r.createElement(p,{onConfirm:function(){b()},onCancel:function(){window.open((0,i.getUrlSmartTrader)()),b()},is_visible:a}),r.createElement(y,{onConfirm:function(){m(!1),"buy"===f.type&&(o(),g())},services_error:f,is_visible:l,is_virtual:s,is_logged_in:c}))}))}}]);