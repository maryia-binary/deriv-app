!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@deriv/shared"),require("@deriv/translations")):"function"==typeof define&&define.amd?define(["@deriv/shared","@deriv/translations"],r):"object"==typeof exports?exports["@deriv/account"]=r(require("@deriv/shared"),require("@deriv/translations")):e["@deriv/account"]=r(e["@deriv/shared"],e["@deriv/translations"])}(self,((e,r)=>(()=>{"use strict";var t={"@deriv/shared":r=>{r.exports=e},"@deriv/translations":e=>{e.exports=r}},a={};function s(e){var r=a[e];if(void 0!==r)return r.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return s.d(r,{a:r}),r},s.d=(e,r)=>{for(var t in r)s.o(r,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},s.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var o={};return(()=>{s.d(o,{default:()=>c});var e=s("@deriv/translations"),r=s("@deriv/shared");function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){l(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r,a){return(r=function(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,"string");if("object"!==t(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var n=function(r,t){var a,s;return"im"===t&&(null===(a=r.address_state.rules)||void 0===a||a.shift()),/^(im|gb)$/.test(t)&&(null===(s=r.address_postcode.rules)||void 0===s||s.splice(0,0,["req",(0,e.localize)("Postal/ZIP code is required")])),r},d=function(e,r){var t;return r&&"svg"!==r&&"maltainvest"!==r||null===(t=e.address_state.rules)||void 0===t||t.shift(),e};const c=function(t,a,s){var o=t.upgrade_info,l=t.real_account_signup_target,c=t.residence,u=t.account_settings,p="svg"===(null==o?void 0:o.can_upgrade_to),_=function(t){var a,s,o,l,n,d=t.account_settings,c=t.is_svg,u="gb"===d.country_code;if(!d)return{};var p,_={address_line_1:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(a=d.address_line_1)&&void 0!==a?a:"",rules:[["req",(0,e.localize)("First line of address is required")],["length",(0,e.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,e.localize)("Use only the following special characters: {{permitted_characters}}",{permitted_characters:r.address_permitted_special_characters_message,interpolation:{escapeValue:!1}}),{regex:r.regex_checks.address_details.address_line_1}],["po_box",(0,r.getErrorMessages)().po_box()]].filter((function(e){return c?0!==e.indexOf("po_box"):e}))},address_line_2:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(s=d.address_line_2)&&void 0!==s?s:"",rules:[["length",(0,e.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,e.localize)("Use only the following special characters: {{permitted_characters}}",{permitted_characters:r.address_permitted_special_characters_message,interpolation:{escapeValue:!1}}),{regex:r.regex_checks.address_details.address_line_2}],["po_box",(0,r.getErrorMessages)().po_box()]].filter((function(e){return c?0!==e.indexOf("po_box"):e}))},address_city:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(o=d.address_city)&&void 0!==o?o:"",rules:[["req",(0,e.localize)("City is required")],["length",(0,e.localize)("Only {{max}} characters, please.",{max:99}),{max:99}],["regular",(0,e.localize)("Only letters, periods, hyphens, apostrophes, and spaces, please."),{regex:r.regex_checks.address_details.address_city}]]},address_state:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(l=d.address_state)&&void 0!==l?l:"",rules:[["req",(0,e.localize)("State is required")],["regular",(0,e.localize)("State is not in a proper format"),{regex:r.regex_checks.address_details.address_state}]]},address_postcode:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(n=d.address_postcode)&&void 0!==n?n:"",rules:[["length",(0,e.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,e.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["regular",(0,e.localize)("Letters, numbers, spaces, hyphens only"),{regex:r.regex_checks.address_details.address_postcode}]]}};return u?i(i({},_),{},{address_postcode:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(p=d.address_postcode)&&void 0!==p?p:"",rules:[["length",(0,e.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,e.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["regular",(0,e.localize)("Letters, numbers, spaces, hyphens only"),{regex:r.regex_checks.address_details.address_postcode}],["regular",(0,e.localize)("Our accounts and services are unavailable for the Jersey postal code."),{regex:r.regex_checks.address_details.non_jersey_postcode}]]}}):_}({account_settings:u,is_svg:p}),m=u.immutable_fields,v="maltainvest"===l;return{header:{active_title:s?(0,e.localize)("Where do you live?"):(0,e.localize)("Complete your address details"),title:s?(0,e.localize)("ADDRESS"):(0,e.localize)("Address")},body:a,form_value:(0,r.getDefaultFields)(l,_),props:{validate:(0,r.generateValidationFunction)(l,d(n(_,c),l)),is_svg:p,disabled_items:m,is_mf:v},passthrough:["residence_list","is_fully_authenticated","has_real_account"],icon:"IcDashboardAddress"}}})(),o.default})()));