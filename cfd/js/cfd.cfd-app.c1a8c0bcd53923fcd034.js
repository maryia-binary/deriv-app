/*! For license information please see cfd.cfd-app.c1a8c0bcd53923fcd034.js.LICENSE.txt */
(self.webpackChunk_deriv_cfd=self.webpackChunk_deriv_cfd||[]).push([["cfd-app"],{"./src/Assets/svgs/trading-platform/index.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n("react"),a=n.n(r),o=["styles"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=["styles"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=["styles"];function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var m={Derived:function(e){e.styles;var t=c(e,o);return a().createElement("svg",i({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{clipPath:"url(#prefix__clip0_26153_90537)"},a().createElement("path",{d:"M0 12C0 5.38 5.38 0 12 0h40c6.62 0 12 5.38 12 12v40c0 6.62-5.38 12-12 12H12C5.38 64 0 58.62 0 52V12z",fill:"url(#prefix__paint0_linear_26153_90537)"}),a().createElement("path",{d:"M0 12C0 5.38 5.38 0 12 0h40c6.62 0 12 5.38 12 12v40c0 6.62-5.38 12-12 12H12C5.38 64 0 58.62 0 52V12z",fill:"url(#prefix__paint1_radial_26153_90537)"}),a().createElement("path",{d:"M3 43v9c0 4.96 4.04 9 9 9h40c4.96 0 9-4.04 9-9v-9H3z",fill:"#7448D3"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.1 8.88a7 7 0 014.54 2.64 7.14 7.14 0 011.48 5.08l-1.1 7.96c0 .12-.06.24-.14.34-.08.1-.18.18-.28.24-.12.06-.24.08-.36.08s-.24-.04-.36-.1l-1.46-.94a.73.73 0 01-.28-.32.77.77 0 01-.06-.42l.48-3.84a4.37 4.37 0 00-.6-2.64l-.18 1.12-1.02-.42a.73.73 0 00-.58 0 .78.78 0 00-.4.4c-.18.02-.36.12-.48.26s-.18.34-.18.52l.06 1.76c0 .14.06.28.14.4.08.12.2.2.32.26l1.26.56c-2.52.68-5.16.68-7.68 0l1.2-.48a.91.91 0 00.34-.28c.1-.12.12-.26.14-.4l.06-1.76a.77.77 0 00-.18-.5.72.72 0 00-.46-.26c-.2-.64-1-.46-1-.46l-.98.4-.18-1.12c-.28.44-.48.92-.58 1.42l-3.22 1.32-.22-1.26-.18-1.54a7.23 7.23 0 011.3-5.14 6.94 6.94 0 014.42-2.8 3.4 3.4 0 01.9-2.04 3.3 3.3 0 013.52-.78 3.21 3.21 0 012.02 2.68l-.02.06zm.02 1.38v.96a3.22 3.22 0 11-6.46.12v-.94l-1.36 2.38 1.14.72-.6 1.16 3.54 2.36s.08.04.12.04c.04 0 .08-.02.12-.04a.11.11 0 00.06-.1v-.12l-1.18-2.52c.46.22.96.34 1.48.34s1.02-.14 1.46-.38l-1.1 2.56s-.02.08 0 .12c0 .04.04.08.06.1.04.02.08.04.12.04.04 0 .08 0 .12-.04l3.46-2.48-.64-1.16 1.14-.78-1.44-2.32-.04-.02zm-4.62-1.8a1.36 1.36 0 011.2-.86v-.78a2.1 2.1 0 00-1.48.64c-.38.4-.6.94-.6 1.5h.76c0-.18.02-.36.1-.52l.02.02zm2.78 11.22s0 .16-.04.22c-.02.08-.06.14-.12.2s-.12.1-.18.12a.72.72 0 01-.22.04h-1.48s-.14 0-.22-.04a.57.57 0 01-.3-.3.72.72 0 01-.04-.22v-.86s0-.14.04-.22a.36.36 0 01.12-.18c.06-.06.12-.1.18-.12a.72.72 0 01.22-.04h1.48s.14 0 .22.04a.7.7 0 01.18.12c.06.06.1.12.12.18.02.06.04.14.04.22v.84z",fill:"#6CAD56"}),a().createElement("path",{d:"M23.9 23.28l.36 1.58a.76.76 0 00.46.56c.12.06.24.08.38.06.12 0 .24-.06.36-.12l1.44-.98c.12-.08.22-.2.28-.34.06-.14.08-.28.06-.44l-.52-1.84-1.6.68c-.44.2-.84.5-1.18.84h-.04z",fill:"#6CAD56"}),a().createElement("path",{d:"M37.26 21.78l-2.06-.9a.92.92 0 01-.34-.28c-.1-.12-.12-.26-.14-.4l-.06-1.76c0-.12.02-.26.08-.38s.14-.22.24-.28c.1-.08.22-.12.36-.14.12 0 .26 0 .38.06l1.74.7c.08.4.1.82.06 1.22l-.26 2.16z",fill:"#3E9AC7"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.1 20.74l-2.4-1-.46 3.42a1.14 1.14 0 01.44 1.04l-.54-.38-.06.46c-.12.98-.7.98-.96.92-.14.1-.32.16-.5.16s-.36-.08-.5-.18l-1.48-.94a.73.73 0 01-.28-.32c-.06-.14-.08-.28-.06-.42l.1-.84s-2.74 2-3.94 7.24l1.32-1.08a.6.6 0 01.4-.16c.14 0 .3 0 .42.08l1.56.78c.16.08.28.22.34.38s.08.34.04.52c.1.16.14.34.1.54a.77.77 0 01-.26.48l-.94.78.18.56a4.1 4.1 0 01-2.52-.88l-2.96-2.44a.91.91 0 00-.38-.16c-.14 0-.28 0-.4.06l-1.56.78a.67.67 0 00-.28.24.72.72 0 00-.14.36c0 .12 0 .26.04.38s.12.22.22.3l6.1 5.14a6.94 6.94 0 005.04 1.42 7 7 0 004.62-2.48c.68.32 1.44.4 2.16.22a3.28 3.28 0 002-1.5 3.45 3.45 0 00.36-2.48 3.09 3.09 0 00-1.2-1.82c.68-1.7.68-3.6 0-5.3a7.16 7.16 0 00-3.62-3.84v-.04zm2.46 8.42l-1.28-2.4-1.22.62-.66-1.16L38.54 28s-.1.04-.12.08c-.04.04-.04.1-.04.14 0 .06.04.1.08.12.04.04.1.04.14.04l2.72.32a3.21 3.21 0 013.4-.04l.82.5h.02zm-5.74 2.08l-1.56-2.32-.1-.08h-.12c-.04 0-.08.04-.1.08-.02.04-.04.08-.04.12l.24 4.28 1.3.06.04 1.4h2.72l-.84-.5a3.5 3.5 0 01-.94-.86 3.09 3.09 0 01-.54-1.16 2.94 2.94 0 01-.08-1.02h.02zm-1.9-4.46l-.62 1.36s-.08.14-.14.18a.41.41 0 01-.2.12c-.08.02-.14.04-.22.04a.46.46 0 01-.22-.06l-.76-.38a.5.5 0 01-.28-.32.66.66 0 010-.44l.62-1.36s.08-.14.14-.18c.06-.06.12-.1.2-.12.08-.02.14-.04.22-.04.08 0 .14.02.22.06l.76.38a.5.5 0 01.28.32c.06.14.04.3 0 .44zm8.9 6.84l-.66-.38c.18-.32.22-.68.14-1.02-.1-.34-.32-.64-.62-.82l.38-.66a2.13 2.13 0 01.76 2.9v-.02z",fill:"#3E9AC7"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5 31.26a.7.7 0 01-.16-.44c0-.16.04-.32.12-.46a.87.87 0 01.06-.5c.08-.16.2-.28.36-.36l1.56-.78c.14-.06.28-.08.42-.08.14 0 .28.08.4.16l1.28 1.06c-1.34-5.14-4.1-7.22-4.1-7.22l.32 1.14c.02.14 0 .3-.04.44a.78.78 0 01-.28.34l-1.44.98a.84.84 0 01-.48.14.65.65 0 01-.46-.2.93.93 0 01-.46-.12.8.8 0 01-.3-.38l-.2-1.06-.78.3c.38-.96 1.08-1.44 1.96-1.84l3.52-1.5a.91.91 0 00.34-.28.96.96 0 00.14-.4l.06-1.76a.87.87 0 00-.08-.38.67.67 0 00-.24-.28.72.72 0 00-.36-.14c-.12 0-.26 0-.38.06l-7.36 3.02a7.16 7.16 0 00-3.62 3.84 7.14 7.14 0 000 5.3c.08-.06.18-.14.28-.18l.86-.52 1.3-2.44 1.22.62.66-1.16 3.86 1.8s.1.04.12.08c.04.04.04.1.04.14 0 .06-.04.1-.08.12-.04.04-.1.04-.14.04l-2.74.32c.44.28.8.64 1.08 1.08.28.44.42.94.46 1.46l1.56-2.32.1-.08H26c.04 0 .08.04.1.08.02.04.04.08.04.12l-.28 4.3-1.3.04-.04 1.36h-2.66l.78-.48c.36-.22.68-.52.94-.86.26-.34.44-.74.54-1.16a3.45 3.45 0 00-.36-2.48 3.3 3.3 0 00-2-1.5 3.21 3.21 0 00-2.46.36l-1.7 1.04a3.5 3.5 0 00-.94.86c-.26.34-.44.74-.54 1.16a3.45 3.45 0 00.36 2.48 3.3 3.3 0 002 1.5c.72.18 1.48.1 2.16-.2a7 7 0 009.66 1.06l1.72-1.44-4.52-3.82v.02zm-.52-3l-.62-1.36s-.06-.14-.06-.22c0-.08 0-.16.04-.22.02-.08.06-.14.12-.2s.12-.1.18-.14l.76-.36s.14-.06.22-.06c.08 0 .16 0 .22.04.08.02.14.06.2.12s.1.12.14.18l.62 1.36s.06.14.06.22c0 .08 0 .16-.04.22-.02.08-.06.14-.12.2s-.12.1-.18.14l-.76.38s-.14.06-.22.06c-.08 0-.16 0-.22-.04a.41.41 0 01-.2-.12.47.47 0 01-.12-.18l-.02-.02zm-9.2 4c.02-.18.08-.34.16-.5.18-.3.48-.54.82-.62l-.2-.74a2.17 2.17 0 00-1.5 2.62l.74-.2a1.56 1.56 0 01-.04-.52l.02-.04z",fill:"#D7CB3B"}),a().createElement("path",{d:"M34.9 32.66l1.5-1.28s.18-.18.22-.3a.8.8 0 00.04-.38.62.62 0 00-.14-.36.78.78 0 00-.28-.24l-1.56-.78a1.04 1.04 0 00-.42-.08.77.77 0 00-.4.16l-1.88 1.54 1.1.92c.52.42 1.14.68 1.8.8h.02z",fill:"#D7CB3B"}),a().createElement("path",{d:"M17.08 46.42h4.06c2.92 0 4.82 1.88 4.82 5.58s-1.9 5.58-4.82 5.58h-4.06V46.42zm4.06 9.3c1.56 0 2.58-.92 2.58-2.84v-1.76c0-1.9-1-2.84-2.58-2.84h-1.96v7.42h1.96v.02zm9.08 1.86H28.1V46.42h5.04c2.04 0 3.3 1.34 3.3 3.46 0 1.54-.7 2.7-2.08 3.16l2.28 4.54h-2.36l-2.08-4.3h-2v4.3h.02zm2.72-6.08c.82 0 1.32-.44 1.32-1.26v-.74c0-.82-.5-1.24-1.32-1.24h-2.72v3.24h2.72zm7.92 6.08l-3.64-11.16h2.16l1.72 5.44 1 3.7h.04l.98-3.7 1.72-5.44h2.1L43.3 57.58h-2.44z",fill:"#fff"})),a().createElement("defs",null,a().createElement("radialGradient",{id:"prefix__paint1_radial_26153_90537",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -97 97 0 32.21 25.13)"},a().createElement("stop",{offset:".2",stopColor:"#F1F2F2"}),a().createElement("stop",{offset:".55",stopColor:"#C1D2D2"})),a().createElement("linearGradient",{id:"prefix__paint0_linear_26153_90537",x1:"32",y1:"64",x2:"32",y2:"0",gradientUnits:"userSpaceOnUse"},a().createElement("stop",{stopColor:"#9F9F9F"}),a().createElement("stop",{offset:".49",stopColor:"#F1F2F2"})),a().createElement("clipPath",{id:"prefix__clip0_26153_90537"},a().createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))},Financial:function(e){e.styles;var t=u(e,l);return a().createElement("svg",s({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{clipPath:"url(#prefix__clip0_26153_90581)"},a().createElement("path",{d:"M0 12A12 12 0 0112 0h40a12 12 0 0112 12v40a12 12 0 01-12 12H12A12 12 0 010 52V12z",fill:"url(#prefix__paint0_linear_26153_90581)"}),a().createElement("path",{d:"M0 12A12 12 0 0112 0h40a12 12 0 0112 12v40a12 12 0 01-12 12H12A12 12 0 010 52V12z",fill:"url(#prefix__paint1_radial_26153_90581)"}),a().createElement("path",{d:"M3 43v9a9 9 0 009 9h40a9 9 0 009-9v-9H3z",fill:"#FFC71B"}),a().createElement("path",{d:"M19.56 57.8V46.63h7.18v1.88h-5.07v2.7h4.42v1.88h-4.42v4.72h-2.12.01zm8.77 0v-1.69h1.48v-7.78h-1.48v-1.69h5.08v1.7h-1.5v7.77h1.5v1.7h-5.08zm10.44-5.72l-1.16-2.32h-.04v8.04h-2V46.63h2.32l3.35 5.73 1.15 2.32h.05v-8.05h2v11.18h-2.32l-3.35-5.73z",fill:"#fff"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.1 8.89v-.01a7.04 7.04 0 014.54 2.65 7.2 7.2 0 011.48 5.1l-1.1 7.96a.78.78 0 01-.44.58.76.76 0 01-.71-.03l-1.47-.93a.77.77 0 01-.35-.75l.48-3.84a4.29 4.29 0 00-.6-2.63l-.17 1.12-1.03-.41a.75.75 0 00-.57 0 .77.77 0 00-.41.4.76.76 0 00-.48.28.78.78 0 00-.18.52l.07 1.76a.78.78 0 00.45.66l1.27.56a14.5 14.5 0 01-7.69 0l1.2-.47a.77.77 0 00.47-.68l.06-1.76a.78.78 0 00-.17-.5.76.76 0 00-.46-.27c-.2-.64-1-.46-1-.46l-.99.4-.18-1.1c-.28.43-.47.91-.58 1.42l-3.22 1.33-.22-1.26-.18-1.55a7.2 7.2 0 011.3-5.13 7.04 7.04 0 014.43-2.8 3.3 3.3 0 01.9-2.05 3.2 3.2 0 014.58-.08 3.28 3.28 0 01.97 1.97zm.02.33zm.02 1.04l.02.97a3.3 3.3 0 01-.91 2.33 3.22 3.22 0 01-2.28 1 3.22 3.22 0 01-2.3-.92 3.3 3.3 0 01-1-2.3l-.01-.93-1.34 2.39 1.15.7-.6 1.17 3.54 2.36a.19.19 0 00.23-.02.2.2 0 00.04-.23l-1.18-2.52a3.2 3.2 0 002.94-.05l-1.1 2.56a.2.2 0 00.05.23.19.19 0 00.23 0l3.46-2.48-.64-1.16 1.14-.77-1.44-2.33zM30.5 8.47c.07-.17.17-.32.3-.44.24-.26.57-.4.92-.42v-.77a2.1 2.1 0 00-1.48.65c-.38.4-.6.94-.6 1.5h.77c0-.18.03-.36.1-.52zm2.78 11.21a.57.57 0 01-.34.55.55.55 0 01-.22.04h-1.49a.56.56 0 01-.52-.35.57.57 0 01-.04-.22v-.87a.57.57 0 01.35-.52.55.55 0 01.21-.05h1.49a.55.55 0 01.4.17.57.57 0 01.16.4v.85z",fill:"#6CAD56"}),a().createElement("path",{d:"M23.9 23.29l.36 1.58a.78.78 0 00.45.58.76.76 0 00.73-.07l1.44-1a.77.77 0 00.32-.76l-.5-1.85-1.6.68c-.44.2-.85.5-1.2.84z",fill:"#6CAD56"}),a().createElement("path",{d:"M37.26 21.78l-2.05-.9a.78.78 0 01-.46-.68l-.07-1.76a.78.78 0 01.32-.66.76.76 0 01.73-.09l1.73.7c.08.4.1.82.06 1.23l-.26 2.16z",fill:"#3E9AC7"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.1 20.73l-2.4-.99-.47 3.42a1.16 1.16 0 01.46 1.06l-.55-.39-.06.47c-.13.98-.7.98-.97.93a.82.82 0 01-1-.04l-1.47-.94a.77.77 0 01-.35-.75l.1-.83s-2.73 2-3.94 7.24l1.32-1.08a.76.76 0 01.82-.1l1.56.78a.78.78 0 01.38.89.78.78 0 01-.15 1l-.94.78.18.56a4.2 4.2 0 01-2.53-.88l-2.96-2.44a.76.76 0 00-.79-.1l-1.56.78a.76.76 0 00-.43.6.78.78 0 00.27.69l6.1 5.15a7 7 0 009.66-1.07 3.2 3.2 0 002.16.21 3.25 3.25 0 002-1.49 3.3 3.3 0 00.37-2.48 3.3 3.3 0 00-1.2-1.82 7.22 7.22 0 000-5.31 7.1 7.1 0 00-3.62-3.85zm2.46 8.43l-1.3-2.4-1.2.6-.66-1.15-3.86 1.77a.2.2 0 00-.12.08.2.2 0 00.04.27c.04.03.09.05.14.04l2.73.32a3.21 3.21 0 013.4-.04l.83.51zm-5.73 2.08l-1.56-2.3a.2.2 0 00-.22-.08.2.2 0 00-.13.2l.25 4.27 1.3.05.03 1.4h2.72l-.83-.5a3.25 3.25 0 01-.94-.86 3.3 3.3 0 01-.62-2.18zm-1.9-4.45l-.63 1.36a.58.58 0 01-.32.3.56.56 0 01-.44-.03l-.76-.38a.57.57 0 01-.27-.75l.62-1.36a.57.57 0 01.32-.3.56.56 0 01.44.02l.77.39c.13.06.23.18.28.32a.58.58 0 01-.01.43zm8.9 6.83l-.66-.38c.17-.31.22-.68.13-1.03a1.35 1.35 0 00-.62-.82l.38-.67c.48.29.83.75.97 1.3a2.15 2.15 0 01-.2 1.6z",fill:"#3E9AC7"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5 31.26a.78.78 0 01-.05-.89.78.78 0 01.42-.85l1.56-.77a.76.76 0 01.81.1l1.29 1.05c-1.34-5.14-4.1-7.21-4.1-7.21l.32 1.13a.78.78 0 01-.33.77l-1.43.98a.76.76 0 01-.94-.07.76.76 0 01-.47-.12.77.77 0 01-.3-.4l-.19-1.06-.78.3c.38-.97 1.08-1.44 1.95-1.84l3.52-1.5a.76.76 0 00.47-.68l.06-1.76a.78.78 0 00-.32-.66.76.76 0 00-.73-.08l-7.35 3.02a7.1 7.1 0 00-3.62 3.85 7.22 7.22 0 000 5.3 2.74 2.74 0 01.28-.19l.86-.52 1.3-2.43 1.22.61.66-1.16 3.86 1.8c.05 0 .1.03.12.07a.2.2 0 01-.04.28.2.2 0 01-.14.03l-2.74.32a3.22 3.22 0 011.52 2.55l1.57-2.32a.19.19 0 01.35.12l-.28 4.3-1.3.05-.03 1.37h-2.67l.78-.48c.36-.22.68-.51.94-.86a3.3 3.3 0 00.6-2.44 3.3 3.3 0 00-.43-1.2 3.25 3.25 0 00-2-1.5 3.21 3.21 0 00-2.45.38l-1.7 1.03a3.25 3.25 0 00-.94.86 3.3 3.3 0 00-.6 2.44 3.3 3.3 0 00.43 1.2 3.25 3.25 0 002 1.5 3.2 3.2 0 002.15-.21 7 7 0 009.68 1.06l1.72-1.45-4.51-3.82zm-.52-3l-.63-1.36a.57.57 0 01.27-.77l.76-.37a.56.56 0 01.64.1c.05.04.1.1.13.18l.62 1.35a.57.57 0 01-.27.78l-.76.38a.56.56 0 01-.63-.1.57.57 0 01-.13-.2zm-9.2 4a1.35 1.35 0 01.98-1.12l-.2-.75a2.1 2.1 0 00-1.27 1 2.15 2.15 0 00-.21 1.6l.73-.2a1.36 1.36 0 01-.03-.53z",fill:"#D7CB3B"}),a().createElement("path",{d:"M34.9 32.66l1.5-1.28a.77.77 0 00.26-.7.78.78 0 00-.42-.6l-1.57-.77a.76.76 0 00-.8.1l-1.88 1.54 1.11.92a3.93 3.93 0 001.8.8z",fill:"#D7CB3B"})),a().createElement("defs",null,a().createElement("radialGradient",{id:"prefix__paint1_radial_26153_90581",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -97 97 0 32 25)"},a().createElement("stop",{offset:".2",stopColor:"#F1F2F2"}),a().createElement("stop",{offset:".55",stopColor:"#C1D2D2"})),a().createElement("linearGradient",{id:"prefix__paint0_linear_26153_90581",x1:"32",y1:"64",x2:"32",y2:"0",gradientUnits:"userSpaceOnUse"},a().createElement("stop",{stopColor:"#9F9F9F"}),a().createElement("stop",{offset:".49",stopColor:"#F1F2F2"})),a().createElement("clipPath",{id:"prefix__clip0_26153_90581"},a().createElement("path",{fill:"#fff",d:"M0 0h64v64H0z"}))))},CFDs:function(e){e.styles;var t=f(e,d);return a().createElement("svg",_({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{clipPath:"url(#a)"},a().createElement("path",{d:"M0 6a6 6 0 016-6h20a6 6 0 016 6v20a6 6 0 01-6 6H6a6 6 0 01-6-6V6z",fill:"url(#b)"}),a().createElement("path",{d:"M0 6a6 6 0 016-6h20a6 6 0 016 6v20a6 6 0 01-6 6H6a6 6 0 01-6-6V6z",fill:"url(#c)"}),a().createElement("path",{d:"M1.5 21.5V26A4.5 4.5 0 006 30.5h20a4.5 4.5 0 004.5-4.5v-4.5h-29z",fill:"#2A8F9D"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.55 4.44a3.57 3.57 0 013.01 3.86l-.55 3.98c0 .06-.03.12-.07.17a.53.53 0 01-.14.12c-.06.03-.12.04-.18.04s-.12-.02-.18-.05l-.73-.47a.36.36 0 01-.14-.16.39.39 0 01-.03-.21l.24-1.92c.04-.46-.06-.92-.3-1.32l-.09.56-.51-.21a.36.36 0 00-.29 0 .39.39 0 00-.2.2.38.38 0 00-.24.13.41.41 0 00-.09.26l.03.88c0 .07.03.14.07.2.04.06.1.1.16.13l.63.28a7.36 7.36 0 01-3.84 0l.6-.24a.46.46 0 00.17-.14c.05-.06.06-.13.07-.2l.03-.88a.38.38 0 00-.32-.38c-.1-.32-.5-.23-.5-.23l-.49.2-.09-.56c-.14.22-.24.46-.29.71l-1.61.66-.11-.63-.09-.77c-.12-.91.12-1.83.65-2.57a3.47 3.47 0 012.21-1.4 1.7 1.7 0 01.45-1.02 1.65 1.65 0 011.76-.39 1.6 1.6 0 011.01 1.34l-.01.03zm.01.69v.48a1.61 1.61 0 11-3.23.06V5.2l-.68 1.19.57.36-.3.58 1.77 1.18.06.02.06-.02a.05.05 0 00.03-.05V8.4l-.59-1.26c.23.11.48.17.74.17s.51-.07.73-.19l-.55 1.28v.06c0 .02.02.04.03.05l.06.02c.02 0 .04 0 .06-.02l1.73-1.24-.32-.58.57-.39-.72-1.16-.02-.01zm-2.31-.9a.68.68 0 01.6-.43v-.39c-.28 0-.54.12-.74.32-.19.2-.3.47-.3.75h.38c0-.09.01-.18.05-.26l.01.01zm1.39 5.61s0 .08-.02.11c-.01.04-.03.07-.06.1l-.09.06a.36.36 0 01-.11.02h-.74s-.07 0-.11-.02a.28.28 0 01-.15-.15.36.36 0 01-.02-.11v-.43s0-.07.02-.11a.18.18 0 01.06-.09.24.24 0 01.09-.06.36.36 0 01.11-.02h.74s.07 0 .11.02l.09.06.06.09.02.11v.42z",fill:"#6CAD56"}),a().createElement("path",{d:"M11.95 11.64l.18.79a.38.38 0 00.23.28c.06.03.12.04.19.03.06 0 .12-.03.18-.06l.72-.49a.4.4 0 00.14-.17c.03-.07.04-.14.03-.22l-.26-.92-.8.34c-.22.1-.42.25-.59.42h-.02z",fill:"#6CAD56"}),a().createElement("path",{d:"M18.63 10.89l-1.03-.45a.46.46 0 01-.17-.14c-.05-.06-.06-.13-.07-.2l-.03-.88c0-.06.01-.13.04-.19s.07-.11.12-.14a.36.36 0 01.18-.07c.06 0 .13 0 .19.03l.87.35c.04.2.05.41.03.61l-.13 1.08z",fill:"#3E9AC7"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.55 10.37l-1.2-.5-.23 1.71a.57.57 0 01.22.52l-.27-.19-.03.23c-.06.49-.35.49-.48.46-.07.05-.16.08-.25.08s-.18-.04-.25-.09l-.74-.47a.36.36 0 01-.14-.16c-.03-.07-.04-.14-.03-.21l.05-.42s-1.37 1-1.97 3.62l.66-.54a.3.3 0 01.2-.08c.07 0 .15 0 .21.04l.78.39c.08.04.14.11.17.19s.04.17.02.26c.05.08.07.17.05.27a.38.38 0 01-.13.24l-.47.39.09.28c-.46 0-.9-.16-1.26-.44l-1.48-1.22a.46.46 0 00-.19-.08c-.07 0-.14 0-.2.03l-.78.39a.33.33 0 00-.14.12.36.36 0 00-.07.18c0 .06 0 .13.02.19s.06.11.11.15l3.05 2.57a3.5 3.5 0 004.83-.53 1.61 1.61 0 002.29-1.24c.03-.21.02-.43-.03-.64a1.54 1.54 0 00-.6-.91 3.58 3.58 0 00-1.81-4.57v-.02zm1.23 4.21l-.64-1.2-.61.31-.33-.58-1.93.89s-.05.02-.06.04c-.02.02-.02.05-.02.07 0 .03.02.05.04.06.02.02.05.02.07.02l1.36.16a1.6 1.6 0 011.7-.02l.41.25h.01zm-2.87 1.04l-.78-1.16-.05-.04h-.06c-.02 0-.04.02-.05.04l-.02.06.12 2.14.65.03.02.7h1.36l-.42-.25a1.75 1.75 0 01-.47-.43 1.54 1.54 0 01-.27-.58 1.47 1.47 0 01-.04-.51h.01zm-.95-2.23l-.31.68s-.04.07-.07.09a.2.2 0 01-.1.06l-.11.02a.23.23 0 01-.11-.03l-.38-.19a.25.25 0 01-.14-.16.33.33 0 010-.22l.31-.68s.04-.07.07-.09a.2.2 0 01.1-.06l.11-.02c.04 0 .07.01.11.03l.38.19c.07.03.12.09.14.16.03.07.02.15 0 .22zm4.45 3.42l-.33-.19a.7.7 0 00.07-.51.71.71 0 00-.31-.41l.19-.33a1.06 1.06 0 01.38 1.45v-.01z",fill:"#3E9AC7"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.75 15.63a.35.35 0 01-.08-.22c0-.08.02-.16.06-.23a.43.43 0 01.03-.25.4.4 0 01.18-.18l.78-.39a.52.52 0 01.21-.04c.07 0 .14.04.2.08l.64.53c-.67-2.57-2.05-3.61-2.05-3.61l.16.57c.01.07 0 .15-.02.22a.39.39 0 01-.14.17l-.72.49a.42.42 0 01-.24.07.33.33 0 01-.23-.1.46.46 0 01-.23-.06.4.4 0 01-.15-.19l-.1-.53-.39.15c.19-.48.54-.72.98-.92l1.76-.75a.46.46 0 00.17-.14.48.48 0 00.07-.2l.03-.88a.43.43 0 00-.04-.19.33.33 0 00-.12-.14.36.36 0 00-.18-.07c-.06 0-.13 0-.19.03l-3.68 1.51a3.58 3.58 0 00-1.81 4.57c.04-.03.09-.07.14-.09l.43-.26.65-1.22.61.31.33-.58 1.93.9s.05.02.06.04c.02.02.02.05.02.07 0 .03-.02.05-.04.06-.02.02-.05.02-.07.02l-1.37.16c.22.14.4.32.54.54.14.22.21.47.23.73l.78-1.16.05-.04H13c.02 0 .04.02.05.04l.02.06-.14 2.15-.65.02-.02.68h-1.33l.39-.24c.18-.11.34-.26.47-.43.13-.17.22-.37.27-.58a1.73 1.73 0 00-.18-1.24 1.65 1.65 0 00-1-.75 1.6 1.6 0 00-1.23.18l-.85.52c-.18.11-.34.26-.47.43-.13.17-.22.37-.27.58a1.73 1.73 0 00.18 1.24c.22.37.58.64 1 .75.36.09.74.05 1.08-.1a3.5 3.5 0 004.83.53l.86-.72-2.26-1.91v.01zm-.26-1.5l-.31-.68s-.03-.07-.03-.11c0-.04 0-.08.02-.11a.2.2 0 01.06-.1.55.55 0 01.09-.07l.38-.18s.07-.03.11-.03c.04 0 .08 0 .11.02.04.01.07.03.1.06l.07.09.31.68s.03.07.03.11c0 .04 0 .08-.02.11-.01.04-.03.07-.06.1l-.09.07-.38.19s-.07.03-.11.03c-.04 0-.08 0-.11-.02a.2.2 0 01-.1-.06.24.24 0 01-.06-.09l-.01-.01zm-4.6 2a.73.73 0 01.08-.25.67.67 0 01.41-.31l-.1-.37a1.08 1.08 0 00-.75 1.31l.37-.1a.78.78 0 01-.02-.26l.01-.02z",fill:"#D7CB3B"}),a().createElement("path",{d:"M17.45 16.33l.75-.64s.09-.09.11-.15a.4.4 0 00.02-.19.31.31 0 00-.07-.18.4.4 0 00-.14-.12l-.78-.39a.52.52 0 00-.21-.04.39.39 0 00-.2.08l-.94.77.55.46c.26.21.57.34.9.4h.01z",fill:"#D7CB3B"}),a().createElement("path",{d:"M6.58 26.04c0-1.89.97-2.93 2.47-2.93 1.02 0 1.68.42 2.09 1.31l-1.05.54c-.14-.46-.44-.78-1.04-.78-.71 0-1.18.48-1.18 1.36v.9c0 .88.47 1.36 1.18 1.36.6 0 .94-.38 1.11-.83l.99.58a2.18 2.18 0 01-2.1 1.33c-1.5 0-2.47-.96-2.47-2.85v.01zM12 28.79v-5.58h3.7v1.08h-2.49v1.14h2.12v1.07h-2.12v2.29h-1.22.01zm4.68-5.58h2.1c1.48 0 2.45.94 2.45 2.79s-.98 2.79-2.45 2.79h-2.1v-5.58zm2.1 4.5c.72 0 1.17-.39 1.17-1.28v-.86c0-.89-.45-1.28-1.17-1.28h-.89v3.42h.89zm3.07.42l.7-.7c.3.33.66.54 1.11.54.45 0 .62-.15.62-.4 0-.21-.13-.31-.42-.35l-.46-.06c-.95-.12-1.42-.54-1.42-1.3 0-.81.63-1.37 1.63-1.37.88 0 1.29.24 1.71.66l-.68.7a1.42 1.42 0 00-.97-.43c-.4 0-.56.14-.56.35 0 .22.1.34.44.39l.47.06c.91.12 1.38.54 1.38 1.26 0 .81-.72 1.4-1.8 1.4-.81 0-1.34-.27-1.77-.75h.02z",fill:"#fff"})),a().createElement("defs",null,a().createElement("radialGradient",{id:"c",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -48.5 48.5 0 16.04 12.3)"},a().createElement("stop",{offset:".2",stopColor:"#F1F2F2"}),a().createElement("stop",{offset:".55",stopColor:"#C1D2D2"})),a().createElement("linearGradient",{id:"b",x1:"16",y1:"32",x2:"16",y2:"0",gradientUnits:"userSpaceOnUse"},a().createElement("stop",{stopColor:"#9F9F9F"}),a().createElement("stop",{offset:".49",stopColor:"#F1F2F2"})),a().createElement("clipPath",{id:"a"},a().createElement("path",{fill:"#fff",d:"M0 0h32v32H0z"}))))}};const p=function(e){var t=e.icon,n=e.className,r=e.size,o=e.onClick,i=m[t];return i?a().createElement(i,{className:n,style:{width:r,height:r},onClick:o}):null}},"./src/Components/cfd-account-copy.tsx":(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),c=n("@deriv/shared"),l=function(e){var t=e.text,n=e.className;return a().createElement("div",{className:n,"data-testid":"cfd_account_copy_main_div"},a().createElement(o.Clipboard,{text_copy:t,info_message:(0,c.isMobile)()?"":(0,i.localize)("copy"),success_message:(0,i.localize)("copied!"),popoverAlignment:(0,c.isMobile)()?"left":"bottom"}))}},"./src/Components/success-dialog.jsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n("../../node_modules/prop-types/index.js"),a=n.n(r),o=n("../../node_modules/classnames/index.js"),i=n.n(o),c=n("react"),l=n.n(c),s=n("@deriv/components"),u=n("@deriv/translations");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var _=function(e){var t=e.className;return l().createElement(s.Icon,{className:t,icon:"IcCheckmarkCircle",custom_color:"var(--status-success)",size:24})},f=function(e){var t=e.classNameMessage,n=void 0===t?"":t,r=e.has_cancel,a=e.has_submit,o=e.icon,c=e.message,f=e.onCancel,m=e.onSubmit,p=e.heading,h=e.icon_size,v=e.text_submit,g=e.text_cancel,y=e.is_open,b=e.toggleModal,w=e.title,x=e.has_close_icon,E=e.width,S=void 0===E?"":E,z=e.is_medium_button;return l().createElement(s.Modal,{className:"cfd-success-dialog",is_open:y,toggleModal:b,has_close_icon:x,small:!w,title:w,width:S},l().createElement(s.Modal.Body,null,l().createElement("div",{className:i()("success-change__icon-area",{"success-change__icon-area--large":"large"===h,"success-change__icon-area--xlarge":"xlarge"===h})},o,l().createElement(_,{className:"bottom-right-overlay"})),!p&&l().createElement(s.Text,{as:"h2",weight:"bold",size:"s",className:"dc-modal-header__title"},l().createElement(u.Localize,{i18n_default_text:"Success!"})),p&&p,l().isValidElement(c)&&c,!l().isValidElement(c)&&l().createElement("p",{className:n},c)),l().createElement(s.Modal.Footer,null,r&&l().createElement(s.Button,d({onClick:f,has_effect:!0,text:g||(0,u.localize)("Maybe later"),secondary:!0},z?{medium:!0}:{large:!0})),a&&l().createElement(s.Button,d({has_effect:!0,onClick:m,text:v,primary:!0},z?{medium:!0}:{large:!0}))))};f.defaultProps={icon_size:"large",has_cancel:!1,has_submit:!0},f.propTypes={classNameMessage:a().string,has_cancel:a().bool,has_close_icon:a().bool,has_submit:a().bool,heading:a().oneOfType([a().string,a().object]),icon:a().object,icon_size:a().string,icon_type:a().string,is_medium_button:a().bool,is_open:a().bool,message:a().oneOfType([a().string,a().object]),onCancel:a().func,onSubmit:a().func,text_cancel:a().string,text_submit:a().string,title:a().string,toggleModal:a().func,width:a().string};const m=f},"./src/Containers/cfd-change-password-confirmation.tsx":(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n("react"),a=n.n(r),o=n("../../node_modules/classnames/index.js"),i=n.n(o),c=n("../../node_modules/formik/dist/formik.esm.js"),l=n("@deriv/components"),s=n("@deriv/translations"),u=n("@deriv/shared");function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=function(e){var t=e.confirm_label,n=e.className,r=e.platform,o=e.onConfirm,d=e.onCancel,f=e.context;return a().createElement(c.J9,{initialValues:{password:""},onSubmit:o},(function(e){var o=e.isSubmitting,c=e.handleSubmit;return a().createElement("form",{onSubmit:c,"data-testid":"dt_cfd_change_password_form"},a().createElement("div",{className:i()("cfd-change-password-confirmation__wrapper",_({},"".concat(n,"-wrapper"),n))},a().createElement("div",{className:i()("cfd-change-password-confirmation",n)},a().createElement(l.Icon,{className:"cfd-change-password__icon",icon:r===u.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),a().createElement(l.Text,{as:"p",align:"center",size:"s",weight:"bold"},a().createElement(s.Localize,{i18n_default_text:"Confirm to change your {{platform}} password",values:{platform:(0,u.getCFDPlatformLabel)(r)}})),a().createElement(l.Text,{className:"cfd-change-password-confirmation__description",as:"p",align:"center",color:"loss-danger",size:"xs"},a().createElement(s.Localize,{i18n_default_text:"This will change the password to all of your {{platform}} accounts.",values:{platform:(0,u.getCFDPlatformLabel)(r)}})),a().createElement(l.FormSubmitButton,{is_center:!0,label:t||(0,s.localize)("Create"),cancel_label:(0,s.localize)("Cancel"),is_loading:o,has_cancel:!0,onCancel:d,context:f}))))}))}},"./src/Containers/cfd-dbvi-onboarding.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>p});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),c=n("@deriv/account/dist/account/js/poi-poa-docs-submitted"),l=n.n(c),s=n("./src/Stores/connect.js"),u=n("@deriv/shared"),d=n("./src/Containers/cfd-financial-stp-real-account-signup.tsx");function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.onClickOk;return a().createElement("div",{className:"da-icon-with-message"},a().createElement(o.Icon,{icon:"IcPoaLock",size:128}),a().createElement(o.Text,{className:"da-icon-with-message__text",as:"p",size:(0,u.isMobile)()?"xs":"s",weight:"bold"},(0,i.localize)("Switch to your real account to submit your documents")),a().createElement(o.Button,{has_effect:!0,text:(0,i.localize)("Ok"),onClick:function(){t()},className:"da-icon-with-message__button",primary:!0}))};const p=(0,s.$j)((function(e){var t=e.client,n=e.modules.cfd,r=e.ui;return{account_status:t.account_status,account_type:n.account_type,disableApp:r.disableApp,enableApp:r.enableApp,fetchAccountSettings:t.fetchAccountSettings,has_created_account_for_selected_jurisdiction:n.has_created_account_for_selected_jurisdiction,has_submitted_cfd_personal_details:n.has_submitted_cfd_personal_details,is_cfd_verification_modal_visible:n.is_cfd_verification_modal_visible,is_virtual:t.is_virtual,jurisdiction_selected_shortcode:n.jurisdiction_selected_shortcode,mt5_login_list:t.mt5_login_list,openPasswordModal:n.enableCFDPasswordModal,toggleCFDVerificationModal:n.toggleCFDVerificationModal,updateAccountStatus:t.updateAccountStatus,updateMT5Status:t.updateMT5Status}}))((function(e){var t=e.account_status,n=e.context,r=e.disableApp,c=e.enableApp,s=e.fetchAccountSettings,f=e.has_created_account_for_selected_jurisdiction,p=e.has_submitted_cfd_personal_details,h=e.is_cfd_verification_modal_visible,v=e.is_virtual,g=e.jurisdiction_selected_shortcode,y=e.openPasswordModal,b=e.toggleCFDVerificationModal,w=e.updateAccountStatus,x=e.updateMT5Status,E=_(a().useState(!0),2),S=E[0],z=E[1],O=_(a().useState(!1),2),T=O[0],k=O[1],D=function(){u.WS.authorized.getAccountStatus().then((function(e){var t=e.get_account_status;if(null!=t&&t.authentication){var n=(0,u.getAuthenticationStatusInfo)(t),r=n.poi_acknowledged_for_vanuatu_maltainvest,a=n.poi_acknowledged_for_bvi_labuan,o=n.poa_acknowledged;z("vanuatu"===g?r&&o&&p:"maltainvest"===g?r&&o:a&&o&&p)}k(!1)})),k(!1)};a().useEffect((function(){h&&(k(!0),D(),s())}),[h]);var A=function(){return T?a().createElement(o.Loading,{is_fullscreen:!1}):v?a().createElement(m,{onClickOk:b}):S?a().createElement(l(),{onClickOK:b,updateAccountStatus:w,account_status:t,jurisdiction_selected_shortcode:g,has_created_account_for_selected_jurisdiction:f,openPasswordModal:y,context:n}):a().createElement(d.default,{onFinish:function(){x(),f?z(!0):(b(),y())},context:n})},M=function(){return f?(0,i.localize)("Submit your proof of identity and address"):(0,i.localize)("Add a real MT5 account")};return a().createElement(a().Suspense,{fallback:a().createElement(o.UILoader,null)},a().createElement(o.DesktopWrapper,null,a().createElement(o.Modal,{className:"cfd-financial-stp-modal",disableApp:r,enableApp:c,is_open:h,title:M(),toggleModal:b,height:"700px",width:"996px",context:n,onMount:function(){return D()},exit_classname:"cfd-modal--custom-exit"},A())),a().createElement(o.MobileWrapper,null,a().createElement(o.MobileDialog,{portal_element_id:"deriv_app",title:M(),wrapper_classname:"cfd-financial-stp-modal",visible:h,onClose:b,context:n},A())))}))},"./src/Containers/cfd-financial-stp-real-account-signup.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>de});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/shared"),c=n("./src/Stores/connect.js"),l=n("../../node_modules/formik/dist/formik.esm.js"),s=n("@deriv/account/dist/account/js/file-uploader-container"),u=n.n(s),d=n("@deriv/account/dist/account/js/form-sub-header"),_=n.n(d),f=n("@deriv/account/dist/account/js/poa-status-codes"),m=n.n(f),p=n("@deriv/translations");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var v=["maxLength","name","optional"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var z=function(e){var t=e.maxLength,n=e.name,r=e.optional,i=void 0!==r&&r,c=S(e,v);return a().createElement(l.gN,{name:n},(function(e){var r=e.field,l=e.form,s=l.errors,u=l.touched;return a().createElement(o.Input,E({},r,{type:"text",required:!i,name:n,autoComplete:"off",maxLength:t||30,error:u[r.name]&&s[r.name]},c))}))},O=function(e){var t=e.values,n=(e.context,e.residence_list),r=e.account_opening_reason,a=e.is_tin_required,o=w(n.filter((function(e){return e.text===t.tax_residence&&e.tin_format})),1)[0],i=null==o?void 0:o.tin_format,c=i||["^[A-Za-z0-9./s-]{0,25}$"],l={citizen:[function(e){return!!e},function(e){return n.map((function(e){return e.text})).includes(e)}],tax_residence:[function(e){return!!e},function(e){return n.map((function(e){return e.text})).includes(e)}],tax_identification_number:[function(e){return!(!t.tax_residence&&a||i)||!!e},function(e){return!c||(null==c?void 0:c.some((function(t){return e.match(t)})))}],account_opening_reason:[function(e){return!!e},function(e){return r.map((function(e){return e.value})).includes(e)}],place_of_birth:[function(e){return!!e},function(e){return n.map((function(e){return e.text})).includes(e)}]},s={citizen:(0,p.localize)("Citizenship"),tax_residence:(0,p.localize)("Tax residence"),tax_identification_number:(0,p.localize)("Tax identification number"),account_opening_reason:(0,p.localize)("Account opening reason"),place_of_birth:(0,p.localize)("Place of birth")},u={};return Object.entries(l).forEach((function(e){var n,r=w(e,2),a=r[0],o=r[1].findIndex((function(e){return!e(t[a])}));-1!==o&&(u[a]=(n=s[a],[(0,p.localize)("{{field_name}} is required",{field_name:n}),(0,p.localize)("{{field_name}} is not properly formatted.",{field_name:n})])[o])})),u};const T=function(e){var t,n,r=e.changeable_fields,c=e.is_loading,s=e.landing_company,u=e.residence_list,d=e.onSubmit,_=e.context,f=e.value,m=e.index,h=e.form_error,v=[{text:(0,p.localize)("Hedging"),value:"Hedging"},{text:(0,p.localize)("Income Earning"),value:"Income Earning"},{text:(0,p.localize)("Speculative"),value:"Speculative"},{text:(0,p.localize)("Peer-to-peer exchange"),value:"Peer-to-peer exchange"}],g=!(null===(t=null==s||null===(n=s.config)||void 0===n?void 0:n.tax_details_required)||void 0===t||!t);return 0===u.length||c?a().createElement(o.Loading,{is_fullscreen:!1}):a().createElement(l.J9,{initialValues:y({},f),validateOnChange:!0,validateOnBlur:!0,validate:function(e){return O({values:e,context:_,residence_list:u,account_opening_reason:v,is_tin_required:g})},onSubmit:function(e,t){return function(e,t,n,r,a,o){var i=function(e){var t,n,r,a=e.residence_list,o=e.citizen_text,i=e.tax_residence_text,c=e.place_of_birth_text;return null==a||a.forEach((function(e){e.text===o&&(t=e),e.text===c&&(r=e),e.text===i&&(n=e)})),{citizen:t,place_of_birth:r,tax_residence:n}}({residence_list:o,citizen_text:e.citizen,tax_residence_text:e.tax_residence,place_of_birth_text:e.place_of_birth}),c=i.citizen,l=i.place_of_birth,s=i.tax_residence;r(n,y(y({},e),{},{citizen:(null==c?void 0:c.value)||"",place_of_birth:(null==l?void 0:l.value)||"",tax_residence:(null==s?void 0:s.value)||""}),t.setSubmitting,a)}(e,t,m,d,!(0,i.isDeepEqual)(f,e),u)},validateOnMount:!0},(function(e){var t,n=e.handleSubmit,c=e.isSubmitting,s=e.handleChange,d=e.handleBlur,m=e.errors,g=e.touched,y=e.values,b=e.setFieldValue,w=e.isValid,x=g.citizen&&m.citizen,S=g.place_of_birth&&m.place_of_birth,O=g.tax_residence&&m.tax_residence,T=g.account_opening_reason&&m.account_opening_reason,k=!(!f.citizen||null!=r&&r.includes("citizen")),D=!(!f.place_of_birth||null!=r&&r.includes("place_of_birth")),A=!(!f.tax_residence||null!=r&&r.includes("tax_residence")),M=!(!f.account_opening_reason||null!=r&&r.includes("account_opening_reason")),C=function(e,t){var n=e.value?e.text:"";b(t,n,!0)},P=null!==(t=u.find((function(e){return e.text===y.tax_residence&&e.tin_format})))&&void 0!==t&&t.tin_format?(0,p.localize)("Tax identification number*"):(0,p.localize)("Tax identification number");return a().createElement(o.AutoHeightWrapper,{default_height:200,height_offset:(0,i.isDesktop)()?148:null},(function(e){var t=e.setRef;return a().createElement("form",{className:"cfd-personal-details-modal__form",ref:t,onSubmit:n,autoComplete:"off",noValidate:!0},a().createElement(o.Div100vhContainer,{className:"details-form",max_autoheight_offset:"179px",is_disabled:(0,i.isDesktop)()},a().createElement(o.Text,{as:"p",size:"xxs",align:"center",className:"details-form__description","data-testid":"dt_cfd_details_form_description"},a().createElement(p.Localize,{i18n_default_text:"Any information you provide is confidential and will be used for verification purposes only."})),a().createElement(o.ThemedScrollbars,{height:"512px",is_bypassed:(0,i.isMobile)()},a().createElement("div",{className:"details-form__elements"},a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(o.DesktopWrapper,null,a().createElement(l.gN,{name:"citizen"},(function(e){var t=e.field;return a().createElement(o.Autocomplete,E({},t,{id:"real_mt5_citizenship","data-lpignore":"true",autoComplete:"off",type:"text",label:(0,p.localize)("Citizenship*"),error:x,disabled:k,list_items:u,onItemSelection:function(e){return C(e,"citizen")},list_portal_id:"modal_root",required:!0}))}))),a().createElement(o.MobileWrapper,null,a().createElement(o.SelectNative,{placeholder:(0,p.localize)("Please select"),label:(0,p.localize)("Citizenship*"),value:y.citizen,list_items:u,error:x,disabled:k,use_text:!0,onChange:function(e){return b("citizen",e.target.value,!0)},required:!0,should_hide_disabled_options:!1}))),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(o.DesktopWrapper,null,a().createElement(l.gN,{name:"place_of_birth"},(function(e){var t=e.field;return a().createElement(o.Autocomplete,E({},t,{id:"real_mt5_place_of_birth","data-lpignore":"true",autoComplete:"off",type:"text",label:(0,p.localize)("Place of birth*"),error:S,disabled:D,list_items:u,onItemSelection:function(e){return C(e,"place_of_birth")},list_portal_id:"modal_root",required:!0}))}))),a().createElement(o.MobileWrapper,null,a().createElement(o.SelectNative,{placeholder:(0,p.localize)("Please select"),label:(0,p.localize)("Place of birth*"),value:y.place_of_birth,list_items:u,error:S,disabled:D,use_text:!0,onChange:function(e){return b("place_of_birth",e.target.value,!0)},required:!0,should_hide_disabled_options:!1}))),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(o.DesktopWrapper,null,a().createElement(l.gN,{name:"tax_residence"},(function(e){var t=e.field;return a().createElement(o.Autocomplete,E({id:"real_mt5_tax_residence","data-lpignore":"true",type:"text",autoComplete:"off",label:(0,p.localize)("Tax residence*"),error:O,disabled:A,list_items:u,onItemSelection:function(e){return C(e,"tax_residence")},list_portal_id:"modal_root"},t))}))),a().createElement(o.MobileWrapper,null,a().createElement(o.SelectNative,{placeholder:(0,p.localize)("Please select"),label:(0,p.localize)("Tax residence*"),value:y.tax_residence,error:O,disabled:A,list_items:u,use_text:!0,onChange:function(e){return b("tax_residence",e.target.value,!0)},required:!0}))),a().createElement("fieldset",{className:"account-form__fieldset"},a().createElement(z,{id:"real_mt5_tax_identification_number",name:"tax_identification_number",label:P,placeholder:P,value:y.tax_identification_number,onBlur:d,disabled:!(!f.tax_identification_number||null!=r&&r.includes("tax_identification_number")),optional:!0})),a().createElement(l.gN,{name:"account_opening_reason"},(function(e){var t=e.field;return a().createElement(a().Fragment,null,a().createElement(o.DesktopWrapper,null,a().createElement(o.Dropdown,E({},t,{placeholder:(0,p.localize)("Account opening reason*"),is_align_text_left:!0,name:t.name,list:v,value:y.account_opening_reason,disabled:M,onChange:s,handleBlur:d,error:T,list_portal_id:"modal_root"}))),a().createElement(o.MobileWrapper,null,a().createElement(o.SelectNative,E({},t,{placeholder:(0,p.localize)("Please select"),name:t.name,label:(0,p.localize)("Account opening reason*"),list_items:v,value:y.account_opening_reason,disabled:M,error:T,onChange:function(e){s(e),b("account_opening_reason",e.target.value,!0)},data_testid:"account_opening_reason_mobile"}))))}))))),a().createElement(o.Modal.Footer,{is_bypassed:(0,i.isMobile)(),has_separator:!0},h&&a().createElement(o.FormSubmitErrorMessage,{message:h}),a().createElement(o.FormSubmitButton,{is_disabled:c||!w||Object.keys(m).length>0,is_absolute:(0,i.isMobile)(),label:(0,p.localize)("Next"),context:_})))}))}))};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var D,A=["onSave","index","onSubmit","refreshNotifications"];function M(){M=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),c=new z(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function _(){}function f(){}function m(){}var p={};l(p,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(O([])));v&&v!==t&&n.call(v,o)&&(p=v);var g=m.prototype=_.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==k(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return T()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function C(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const I=function(e){var t=e.onSave,n=e.index,r=e.onSubmit,c=e.refreshNotifications,s=R(e,A),d=a().useRef(null),f=L(a().useState(!0),2),h=f[0],v=f[1],g=L((0,o.useStateCallback)({poa_status:"none",has_poi:!1,form_error:""}),2),y=g[0],b=g[1],w=L((0,o.useStateCallback)({files:[],error_message:null}),2),x=w[0],E=w[1],S=L(a().useState(!1),2),O=S[0],T=S[1],k=function(){var e,a=(e=M().mark((function e(a,o){var c,l,s,u,d,_;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(c=F({},a)).document_file,o.setSubmitting(!0),e.next=5,i.WS.setSettings(c);case 5:if(!(l=e.sent).error){e.next=10;break}return b(F(F({},y),{form_error:l.error.message})),o.setSubmitting(!1),e.abrupt("return");case 10:return e.next=12,i.WS.authorized.storage.getSettings();case 12:if(s=e.sent,!(u=s.error)){e.next=17;break}return b(F(F({},y),{form_error:u.message})),e.abrupt("return");case 17:return b(F(F({},y),{form_error:""})),e.prev=18,e.next=21,null===(d=D.current)||void 0===d?void 0:d.upload();case 21:if(!(_=e.sent)||null==_||!_.warning){e.next=26;break}return b(F(F({},y),{form_error:_.warning})),o.setSubmitting(!1),e.abrupt("return");case 26:return e.next=28,i.WS.authorized.storage.getAccountStatus();case 28:if(!e.sent.error){e.next=34;break}return b(F(F({},y),{form_error:u.message})),o.setSubmitting(!1),e.abrupt("return");case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(18),b(F(F({},y),{form_error:e.t0.message}));case 39:o.setSubmitting(!1),t(n,a),r(n,a);case 42:case"end":return e.stop()}}),e,null,[[18,36]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){C(o,r,a,i,c,"next",e)}function c(e){C(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e,t){return a.apply(this,arguments)}}();a().useEffect((function(){i.WS.authorized.getAccountStatus().then((function(e){i.WS.wait("states_list").then((function(){var t,n,r,a,o,i,l=null===(t=e.get_account_status)||void 0===t||null===(n=t.authentication)||void 0===n||null===(r=n.document)||void 0===r?void 0:r.status,s=null===(a=e.get_account_status)||void 0===a||null===(o=a.authentication)||void 0===o||null===(i=o.identity)||void 0===i?void 0:i.status;if(l&&s){var u="none"===s;b(F(F({},y),{poa_status:l,needs_poi:u,identity_status:s}),(function(){v(!1),c()}))}l&&["rejected","expired","suspected"].includes(l)&&T(!0)}))}))}),[c,b]);var P=function(e,t){return y.poa_status!==m().verified&&0!==Object.keys(t).length},j=s.states_list,N=s.value,I=N.address_line_1,B=N.address_line_2,V=N.address_city,U=N.address_state,X=N.address_postcode,W=y.form_error,G=y.poa_status,H=!h&&G!==m().verified;return a().createElement(l.J9,{initialValues:{address_line_1:I,address_line_2:B,address_city:V,address_state:U,address_postcode:X,document_file:x.files},validateOnMount:!0,validate:function(e){if([m().verified,m().pending].includes(y.poa_status))return{};var t={address_line_1:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,i.validAddress)(e)},function(e){return(0,i.validLength)(e,{max:70})}],address_line_2:[function(e){return!e||(0,i.validAddress)(e)},function(e){return(0,i.validLength)(e,{max:70})}],address_city:[function(e){return!!e&&!e.match(/^\s*$/)},function(e){return(0,i.validLength)(e,{min:1,max:35})},function(e){return(0,i.validLetterSymbol)(e)}],address_state:[function(e){return(0,i.validLength)(e,{max:35})}],address_postcode:[function(e){return(0,i.validLength)(e,{max:20})},function(e){return!e||(0,i.validPostCode)(e)}]},n={address_line_1:[(0,p.localize)("First line of address is required"),(0,p.localize)("First line of address is not in a proper format."),(0,p.localize)("This should not exceed {{max}} characters.",{max:70})],address_line_2:[(0,p.localize)("Second line of address is not in a proper format."),(0,p.localize)("This should not exceed {{max}} characters.",{max:70})],address_city:[(0,p.localize)("Town/City is required."),(0,p.localize)("This should not exceed {{max_number}} characters.",{max_number:35}),(0,p.localize)("Town/City is not in a proper format.")],address_state:[(0,p.localize)("State/Province is not in a proper format.")],address_postcode:[(0,p.localize)("This should not exceed {{max_number}} characters.",{max_number:20}),(0,p.localize)("Only letters, numbers, space, and hyphen are allowed.")]},r={};return Object.entries(t).forEach((function(t){var a=L(t,2),o=a[0],i=a[1].findIndex((function(t){return!t(e[o])}));-1!==i&&(r[o]=n[o][i])})),r},enableReinitialize:!0,onSubmit:k,innerRef:d},(function(e){e.dirty;var r=e.errors,c=e.handleSubmit,s=e.isSubmitting,d=e.handleBlur,f=e.handleChange,v=e.setFieldTouched,g=e.setFieldValue,y=e.values,b=e.touched;return a().createElement(o.AutoHeightWrapper,{default_height:200},(function(e){var w=e.setRef,S=e.height;return a().createElement("form",{ref:w,onSubmit:c,className:"cfd-proof-of-address"},a().createElement(o.Div100vhContainer,{className:"details-form",height_offset:"100px",is_disabled:(0,i.isDesktop)()},h&&a().createElement(o.Loading,{is_fullscreen:!1}),H&&a().createElement(o.ThemedScrollbars,{autohide:!1,height:"".concat(S-77,"px"),is_bypassed:(0,i.isMobile)()},a().createElement("div",{className:"cfd-proof-of-address__field-area"},O&&a().createElement(o.Text,{size:"xs",align:"center",color:"loss-danger"},(0,p.localize)("We were unable to verify your address with the details you provided. Please check and resubmit or choose a different document type.")),a().createElement(_(),{title:(0,p.localize)("Address information")}),a().createElement(z,{name:"address_line_1",maxLength:255,required:!0,label:(0,p.localize)("First line of address*"),placeholder:(0,p.localize)("First line of address*"),onBlur:d}),a().createElement(z,{name:"address_line_2",maxLength:255,label:(0,p.localize)("Second line of address (optional)"),optional:!0,placeholder:(0,p.localize)("Second line of address"),onBlur:d}),a().createElement("div",{className:"cfd-proof-of-address__inline-fields"},a().createElement(z,{maxLength:255,name:"address_city",required:!0,label:(0,p.localize)("Town/City*"),placeholder:(0,p.localize)("Town/City*"),onBlur:d}),a().createElement("fieldset",{className:"address-state__fieldset"},(null==j?void 0:j.length)>0?a().createElement(a().Fragment,null,a().createElement(o.DesktopWrapper,null,a().createElement(l.gN,{name:"address_state"},(function(e){var t=e.field;return a().createElement(o.Dropdown,{id:"address_state",className:"address_state-dropdown",is_align_text_left:!0,list:j,error:b[t.name]&&r[t.name],name:"address_state",value:y.address_state,onChange:f,placeholder:(0,p.localize)("State/Province"),list_portal_id:"modal_root"})}))),a().createElement(o.MobileWrapper,null,a().createElement(o.SelectNative,{label:(0,p.localize)("State/Province"),value:y.address_state,list_items:j,error:b.address_state&&r.address_state,onChange:function(e){f(e),g("address_state",e.target.value,!0)}}))):a().createElement(z,{name:"address_state",label:(0,p.localize)("State/Province"),placeholder:(0,p.localize)("State/Province"),value:y.address_state,onBlur:d})),a().createElement(z,{maxLength:255,name:"address_postcode",label:(0,p.localize)("Postal/ZIP code"),placeholder:(0,p.localize)("Postal/ZIP code"),onBlur:d,optional:!0})),a().createElement("div",{className:"cfd-proof-of-address__file-upload"},a().createElement(u(),{onRef:function(e){return D=e},getSocket:i.WS.getSocket,onFileDrop:function(e){return function(e,r,a,o,i){a("document_file",!0),o("document_file",e),E({files:e,error_message:r},(function(){"function"==typeof t&&t(n,F(F({},i),{document_file:e}))}))}(e.files,e.error_message,v,g,y)}})))),a().createElement(o.Modal.Footer,{is_bypassed:(0,i.isMobile)()},(G===m().none||H)&&a().createElement(o.FormSubmitButton,{is_disabled:P(0,r)||G!==m().verified&&x.files&&x.files.length<1||!!x.error_message,label:G===m().verified?(0,p.localize)("Submit"):(0,p.localize)("Next"),is_absolute:(0,i.isMobile)(),is_loading:s,form_error:W}))))}))}))};var B=n("@deriv/account/dist/account/js/proof-of-identity-container-for-mt5"),V=n.n(B),U=(n("@deriv/account/dist/account/css/proof-of-identity-container-for-mt5.css"),["index","onSave","onSubmit","height"]);function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X.apply(this,arguments)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const q=(0,c.$j)((function(e){var t=e.client,n=e.common,r=e.notifications;return{account_status:t.account_status,app_routing_history:n.app_routing_history,fetchResidenceList:t.fetchResidenceList,is_switching:t.is_switching,is_virtual:t.is_virtual,is_high_risk:t.is_high_risk,is_withdrawal_lock:t.is_withdrawal_lock,refreshNotifications:r.refreshNotifications,routeBackInApp:n.routeBackInApp,should_allow_authentication:t.should_allow_authentication,account_settings:t.account_settings,residence_list:t.residence_list}}))((function(e){var t,n,r,o=e.index,i=e.onSave,c=e.onSubmit,l=e.height,s=H(e,U),u=W(a().useState("none"),2),d=u[0],_=u[1],f=(null===(t=s.account_settings)||void 0===t?void 0:t.citizen)||(null===(n=s.account_settings)||void 0===n?void 0:n.country_code),m=null===(r=s.residence_list)||void 0===r?void 0:r.find((function(e){return e.value===f}));return a().createElement(V(),X({},s,{height:l,is_from_external:!0,onStateChange:function(e){return function(e){_(e),i(o,{poi_state:e}),c(o,{poi_state:d})}(e)},citizen_data:m}))}));function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function $(){$=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),c=new z(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function _(){}function f(){}function m(){}var p={};l(p,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(O([])));v&&v!==t&&n.call(v,o)&&(p=v);var g=m.prototype=_.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==J(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return T()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Q(o,r,a,i,c,"next",e)}function c(e){Q(o,r,a,i,c,"throw",e)}i(void 0)}))}}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const re=(0,c.$j)((function(e){var t=e.ui,n=e.client;return{account_settings:n.account_settings,disableApp:t.disableApp,enableApp:t.enableApp,getChangeableFields:n.getChangeableFields,landing_company:n.landing_company,residence_list:n.residence_list,setAccountSettings:n.setAccountSettings}}))((function(e){var t=e.account_settings,n=e.context,r=e.getChangeableFields,c=e.landing_company,l=e.residence_list,s=e.setAccountSettings,u=e.onSubmit,d=te(a().useState(""),2),_=d[0],f=d[1],m=te(a().useState(!1),2),h=m[0],v=m[1],g=te(a().useState({citizen:"",place_of_birth:"",tax_residence:"",tax_identification_number:"",account_opening_reason:""}),2),y=g[0],b=g[1],w=function(){var e=ee($().mark((function e(n){var r,a,o,c,l,s,u,d;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=11;break}return e.next=3,i.WS.authorized.storage.getSettings();case 3:if(!(a=e.sent).error){e.next=8;break}return f(a.error.message),"function"==typeof n&&n(!1),e.abrupt("return");case 8:r=a.get_settings,e.next=12;break;case 11:r=t;case 12:c=(o=r).citizen,l=o.place_of_birth,s=o.tax_residence,u=o.tax_identification_number,d=o.account_opening_reason,b(K(K({},y),{},{citizen:x(c)||"",place_of_birth:x(l)||"",tax_residence:x(s)||"",tax_identification_number:u||"",account_opening_reason:d||""}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a().useEffect((function(){v(!0),w().then((function(){v(!1)}))}),[]);var x=function(e){var t=te(null==l?void 0:l.filter((function(t){return t.value===e})),1)[0];return(0,i.getPropertyValue)(t,["text"])||e},E=function(e,t){b(K(K({},t),{},{citizen:x(t.citizen),place_of_birth:x(t.place_of_birth),tax_residence:x(t.tax_residence)}))},S=function(){var e=ee($().mark((function e(n,r,a){var o,c=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(c.length>3&&void 0!==c[3])||c[3])){e.next=10;break}return e.next=4,i.WS.setSettings(r);case 4:if(!(o=e.sent).error){e.next=9;break}return f(o.error.message),a(!1),e.abrupt("return");case 9:w(a);case 10:E(0,r),s(K(K({},t),r)),u(n,r);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),z=function(){return a().createElement(o.Div100vhContainer,{className:"cfd-personal-details-modal",id:"cfd-personal-details-modal",is_disabled:(0,i.isDesktop)(),height_offset:"40px"},a().createElement("div",{className:"cfd-personal-details-modal__heading-container"},a().createElement(o.Text,{as:"p",weight:"bold",align:"center",size:"s"},(0,p.localize)("Complete your personal details"))),a().createElement("div",{className:"cfd-personal-details-modal__body"},a().createElement(T,{context:n,form_error:_,index:2,is_loading:h,landing_company:c,onSubmit:S,residence_list:l,changeable_fields:r(),value:y})))};return a().createElement(a().Fragment,null,a().createElement(o.DesktopWrapper,null,z()),a().createElement(o.MobileWrapper,null,z()))}));function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const de=(0,c.$j)((function(e){var t=e.client,n=e.modules.cfd,r=e.notifications;return{addNotificationByKey:r.addNotificationMessageByKey,authentication_status:t.authentication_status,get_settings:t.account_settings,client_email:t.email,is_fully_authenticated:t.is_fully_authenticated,landing_company:t.landing_company,refreshNotifications:r.refreshNotifications,removeNotificationMessage:r.removeNotificationMessage,removeNotificationByKey:r.removeNotificationByKey,residence_list:t.residence_list,states_list:t.states_list,fetchStatesList:t.fetchStatesList,storeProofOfAddress:n.storeProofOfAddress,account_status:t.account_status,jurisdiction_selected_shortcode:n.jurisdiction_selected_shortcode,has_submitted_cfd_personal_details:n.has_submitted_cfd_personal_details}}))((function(e){var t=e.account_status,n=e.authentication_status,r=e.fetchStatesList,c=e.get_settings,l=e.refreshNotifications,s=e.has_submitted_cfd_personal_details,u=e.jurisdiction_selected_shortcode,d=le(a().useState(0),2),_=d[0],f=d[1],m=le(a().useState(""),2),p=m[0],h=m[1],v=_,g=a().useRef(!0).current,y=(0,i.getAuthenticationStatusInfo)(t),b=y.need_poi_for_vanuatu_maltainvest,w=y.need_poi_for_bvi_labuan,x={body:q,form_value:{poi_state:"unknown"},forwarded_props:["addNotificationByKey","authentication_status","refreshNotifications","removeNotificationMessage","removeNotificationByKey","jurisdiction_selected_shortcode"]},E={body:I,form_value:{address_line_1:c.address_line_1,address_line_2:c.address_line_2,address_city:c.address_city,address_state:c.address_state,address_postcode:c.address_postcode,upload_file:""},forwarded_props:["states_list","get_settings","storeProofOfAddress","refreshNotifications"]},S={body:re,form_value:{citizen:"",place_of_birth:"",tax_residence:"",tax_identification_number:"",account_opening_reason:""},forwarded_props:["residence_list","landing_company"]},z=!("pending"===n.document_status||"verified"===n.document_status),O=!s&&"maltainvest"!==u,T=[].concat(ce(("vanuatu"===u||"maltainvest"===u?b:w)?[x]:[]),ce(z?[E]:[]),ce(O?[S]:[])),k=le(a().useState(T),2),D=k[0],A=k[1];a().useEffect((function(){l()}),[D,l]),a().useEffect((function(){r()}),[r]);var M=function(){g=!1,e.onFinish()},C=function(e,t){if(g){var n=ce(D);n[e].form_value=t,A(n)}},P=function(e){return e?D[v][e]:D[v]},F=P("body"),j=P("form_value"),L=(P("forwarded_props")||[]).reduce((function(t,n){return Object.assign(t,ie({},n,e[n]))}),{});return a().createElement(o.Div100vhContainer,{className:"cfd-financial-stp-modal",id:"real_mt5_financial_stp_account_opening",is_disabled:(0,i.isDesktop)(),height_offset:"40px"},a().createElement("div",{className:"cfd-financial-stp-modal__body","data-testid":"dt_cfd_financial_stp_modal_body"},a().createElement(F,oe({value:j,index:v,onSubmit:function(e,t){h(""),_+1<D.length?(C(e,t),f(_+1)):M()},height:"auto",context:e.context,onCancel:function(){_-1>=0?(f(_-1),h("")):M()},onSave:C,form_error:p},L))))}))},"./src/Containers/cfd-password-manager-modal.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>P});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),c=n("@deriv/shared"),l=n("./src/Stores/connect.js"),s=n("./src/Stores/Modules/CFD/cfd-store.js"),u=n("./src/Containers/cfd-change-password-confirmation.tsx"),d=function(e){var t=e.platform,n=e.onConfirm;return a().createElement("div",{className:"cfd-change-password"},a().createElement(o.Icon,{className:"cfd-change-password__icon",icon:t===c.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),a().createElement(o.Text,{as:"p",align:"center",size:"s",weight:"bold"},a().createElement(i.Localize,{i18n_default_text:"{{platform}} password",values:{platform:(0,c.getCFDPlatformLabel)(t)}})),a().createElement(o.Text,{as:"p",align:"center",className:"cfd-change-password__description",size:"xs"},t===c.CFD_PLATFORMS.MT5?a().createElement(i.Localize,{i18n_default_text:"Use this password to log in to your Deriv MT5 accounts on the desktop, web, and mobile apps."}):a().createElement(i.Localize,{i18n_default_text:"Use this password to log in to your Deriv X accounts on the web and mobile apps."})),a().createElement(o.Button,{className:"dc-btn dc-btn--primary dc-btn__large dc-modal__container_cfd-reset-password-modal__button",onClick:n},a().createElement(o.Text,{size:"xs",weight:"bold",color:"colored-background"},a().createElement(i.Localize,{i18n_default_text:"Change password"}))))},_=function(e){var t=e.email,n=e.platform,r=e.account_group,l=a().useCallback((function(){var e=n===c.CFD_PLATFORMS.MT5?1:2;"real"===r?e=Number("".concat(e,"0")):"demo"===r&&(e=Number("".concat(e,"1")));var a=n===c.CFD_PLATFORMS.MT5?"trading_platform_mt5_password_reset":"trading_platform_dxtrade_password_reset";c.WS.verifyEmail(t,a,{url_parameters:{redirect_to:e}})}),[t,n,r]);return a().useEffect((function(){l()}),[l]),a().createElement(o.SendEmailTemplate,{title:(0,i.localize)("We've sent you an email"),subtitle:(0,i.localize)("Please click on the link in the email to change your {{platform}} password.",{platform:(0,c.getCFDPlatformLabel)(n)}),lbl_no_receive:(0,i.localize)("Didn't receive the email?"),txt_resend:(0,i.localize)("Resend email"),txt_resend_in:(0,i.localize)("Resend email in"),onClickSendEmail:l})};const f=function(e){var t=e.platform,n=e.email,r=e.account_group,c=a().useRef(),l=[{component:a().createElement(d,{platform:t,onConfirm:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.goNextStep()}})},{component:a().createElement(u.Z,{confirm_label:(0,i.localize)("Confirm"),platform:t,onConfirm:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.goNextStep()},onCancel:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.goPrevStep()}})},{component:a().createElement(_,{platform:t,email:n,account_group:r})}];return a().createElement("div",{className:"cfd-trading-password"},a().createElement(o.MultiStep,{ref:c,steps:l}))};var m=n("../../node_modules/prop-types/index.js"),p=n.n(m),h=n("../../node_modules/formik/dist/formik.esm.js");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var g=function(e){var t=e.toggleModal,n=e.is_investor;return a().createElement("div",{className:"cfd-password-manager__success"},a().createElement(o.Icon,{icon:"IcPasswordUpdated",size:128}),a().createElement(o.Text,{as:"p",size:"xxs",align:"center"},n?a().createElement(i.Localize,{i18n_default_text:"Your investor password has been changed."}):a().createElement(i.Localize,{i18n_default_text:"Your password has been changed."})),a().createElement(o.Button,{onClick:t,className:"cfd-password-manager__success-btn",primary:!0,large:!0},a().createElement("p",{className:"dc-btn__text"},(0,i.localize)("OK"))))},y=function(e){var t=e.error_message_investor,n=e.is_submit_success_investor,r=e.multi_step_ref,l=e.onSubmit,s=e.setPasswordType,u=e.toggleModal,d=e.validatePassword;if(n)return a().createElement(g,{toggleModal:u,is_investor:!0});var _={old_password:"",new_password:"",password_type:"".concat("investor")};return a().createElement("div",{className:"cfd-password-manager__investor-wrapper"},a().createElement(o.Text,{as:"p",size:"xs",className:"cfd-password-manager--paragraph"},a().createElement(i.Localize,{i18n_default_text:"Use this password to grant viewing access to another user. While they may view your trading account, they will not be able to trade or take any other actions."})),a().createElement(o.Text,{as:"p",size:"xs",className:"cfd-password-manager--paragraph"},a().createElement(i.Localize,{i18n_default_text:"If this is the first time you try to create a password, or you have forgotten your password, please reset it."})),t&&a().createElement(o.Text,{as:"p",color:"loss-danger",size:"xs",className:"cfd-password-manager--error-message","data-testid":"dt_error_message_investor"},t),a().createElement(h.J9,{initialValues:_,validate:d,onSubmit:l},(function(e){var t=e.isSubmitting,n=e.errors,l=e.setFieldTouched,u=e.values,d=e.touched;return a().createElement(h.l0,{className:"cfd-password-manager__investor-form",noValidate:!0},a().createElement(h.gN,{name:"old_password"},(function(e){var t=e.field;return a().createElement(o.PasswordInput,v({},t,{autoComplete:"current-password",label:(0,i.localize)("Current investor password"),error:d.old_password&&n.old_password,required:!0}))})),a().createElement(h.gN,{name:"new_password"},(function(e){var t=e.field;return a().createElement(o.PasswordMeter,{input:t.value,has_error:!(!d.new_password||!n.new_password),custom_feedback_messages:(0,c.getErrorMessages)().password_warnings},(function(e){var r=e.has_warning;return a().createElement(o.PasswordInput,v({},t,{autoComplete:"new-password",label:(0,i.localize)("New investor password"),hint:!r&&(0,i.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters and numbers."),error:d.new_password&&n.new_password,onChange:function(e){l("new_password",!0,!0),t.onChange(e)},className:"cfd-password-manager__new-password",required:!0}))}))})),a().createElement("div",{className:"cfd-password-manager__actions"},a().createElement(o.Button,{className:"cfd-password-manager--button",is_disabled:t||!u.old_password||!u.new_password||Object.keys(n).length>0,is_loading:t,text:(0,i.localize)("Change investor password"),primary:!0,large:!0}),a().createElement(o.Button,{className:"cfd-password-manager--button",type:"button",onClick:function(){var e;s("investor"),null===(e=r.current)||void 0===e||e.goNextStep()},text:(0,i.localize)("Create or reset investor password"),tertiary:!0,large:!0})))})))};y.propTypes={error_message_investor:p().string,is_submit_success_investor:p().bool,multi_step_ref:p().object,onSubmit:p().func,setPasswordType:p().func,toggleModal:p().func,validatePassword:p().func};const b=y;function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function _(){}function f(){}function m(){}var p={};l(p,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(p=v);var g=m.prototype=_.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==w(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return D()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=S(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return f.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=function(e){var t=e.count_from,n=void 0===t?60:t,r=e.onTimeout,o=T(a().useState(n),2),i=o[0],c=o[1];return a().useEffect((function(){var e;return 0!==i?e=setTimeout((function(){c(i-1)}),1e3):r(),function(){clearTimeout(e)}}),[i]),a().createElement("span",{className:"countdown"},i)},A=function(e){var t=e.sendVerifyEmail,n=e.account_type,r=e.account_group,c=e.server,l=(e.context,e.password_type),s=T(a().useState(!1),2),u=s[0],d=s[1],_=T(a().useState(!1),2),f=_[0],m=_[1];a().useEffect((function(){localStorage.setItem("cfd_reset_password_intent",[c,r,n].join(".")),localStorage.setItem("cfd_reset_password_type",l),t()}),[]);return a().createElement("div",{className:"cfd-verification-email-sent"},a().createElement(o.Icon,{icon:"IcEmailSent",size:128}),a().createElement("h2",{className:"cfd-verification-email-sent__title"},a().createElement(i.Localize,{i18n_default_text:"We've sent you an email"})),a().createElement(o.Text,{as:"p",size:"xs",align:"center"},a().createElement(i.Localize,{i18n_default_text:"Please click on the link in the email to reset your password."})),!u&&a().createElement(o.Button,{className:"cfd-verification-email-sent__resend-button",primary:!0,onClick:function(){d(!0)}},a().createElement(i.Localize,{i18n_default_text:"Didn't receive the email?"})),u&&a().createElement(a().Fragment,null,a().createElement(o.Text,{as:"p",size:"xs",align:"center",weight:"bold",className:"cfd-verification-email-sent__title--sub"},a().createElement(i.Localize,{i18n_default_text:"Didn't receive the email?"})),a().createElement(o.Text,{as:"p",size:"xs",align:"center"},a().createElement(i.Localize,{i18n_default_text:"Check your spam or junk folder. If it's not there, try resending the email."})),a().createElement(o.Button,{className:"cfd-verification-email-sent__resend-button",large:!0,primary:!0,disabled:f,onClick:function(){t(),m(!0)}},!f&&a().createElement(i.Localize,{i18n_default_text:"Resend email"}),f&&a().createElement(a().Fragment,null,a().createElement(i.Localize,{i18n_default_text:"Resend in <0 /> seconds",components:[a().createElement(D,{key:0,onTimeout:function(){return m(!1)},count_from:60})]})))))},M=function(e){var t=e.multi_step_ref,n=e.steps;return a().createElement(o.MultiStep,{ref:t,steps:n,className:"cfd-password-manager",lbl_previous:(0,i.localize)("Back")})},C=function(e){var t=e.toggleModal,n=e.selected_login,r=e.email,l=e.setPasswordType,u=e.multi_step_ref,d=e.platform,_=(e.context,e.onChangeActiveTabIndex),m=e.account_group,p=T(a().useState(0),2),h=p[0],v=p[1],g=T(a().useState(""),2),y=g[0],w=g[1],E=T(a().useState(!1),2),z=E[0],k=E[1],D="calc(100vh - 84px - 5.6rem - 8.8rem - 4rem)",A=function(e){var t={};return(0,c.validLength)(e.new_password,{min:8,max:25})?(0,c.validPassword)(e.new_password)?e.new_password.toLowerCase()===r.toLowerCase()&&(t.new_password=(0,i.localize)("Your password cannot be the same as your email address.")):t.new_password=(0,c.getErrorMessages)().password():t.new_password=(0,i.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.old_password||void 0===e.old_password||(t.old_password=(0,i.localize)("This field is required")),t},M=a().useCallback(function(){var e,t=(e=x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s.default.changePassword(S({login:n},t));case 4:(r=e.sent)?w(r):(w(""),k(!0));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,c,"next",e)}function c(e){O(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[n]),C=a().createElement(a().Fragment,null,a().createElement(o.DesktopWrapper,null,a().createElement(o.ThemedScrollbars,{height:D,is_bypassed:(0,c.isMobile)(),autohide:!1},a().createElement(f,{toggleModal:t,platform:d,email:r,account_group:m}))),a().createElement(o.MobileWrapper,null,a().createElement(o.Div100vhContainer,{className:"cfd-password-manager__scroll-wrapper",height_offset:"120px"},a().createElement(f,{toggleModal:t,platform:d,email:r,account_group:m}))));return d===c.CFD_PLATFORMS.DXTRADE?C:a().createElement(o.Tabs,{active_index:h,onTabItemClick:function(e){v(e),_(e),w(""),k(!1)},top:!0},a().createElement("div",{label:(0,i.localize)("{{platform}} password",{platform:(0,c.getCFDPlatformLabel)(d)})},C),a().createElement("div",{label:(0,i.localize)("Investor password")},a().createElement(o.DesktopWrapper,null,a().createElement(o.ThemedScrollbars,{height:D},a().createElement(b,{is_submit_success_investor:z,toggleModal:t,error_message_investor:y,validatePassword:A,onSubmit:M,setPasswordType:l,multi_step_ref:u}))),a().createElement(o.MobileWrapper,null,a().createElement(o.Div100vhContainer,{className:"cfd-password-manager__scroll-wrapper",height_offset:"120px"},a().createElement(b,{is_submit_success_investor:z,toggleModal:t,error_message_investor:y,validatePassword:A,onSubmit:M,setPasswordType:l,multi_step_ref:u})))))};const P=(0,l.$j)((function(e){var t=e.modules.cfd,n=e.client,r=e.ui;return{email:n.email,enableApp:r.enableApp,disableApp:r.disableApp,is_eu:n.is_eu,sendVerifyEmail:t.sendVerifyEmail}}))((function(e){var t=e.enableApp,n=e.email,r=e.disableApp,l=e.is_visible,s=e.platform,u=e.context,d=e.selected_login,_=e.toggleModal,f=e.selected_account_type,m=e.selected_account_group,p=e.selected_server,h=e.sendVerifyEmail,v=a().useRef(),g=T(a().useState(0),2),y=g[0],b=g[1],w=T(a().useState("main"),2),x=w[0],E=w[1];if(!d)return null;var S,z=[{component:a().createElement(C,{email:n,selected_login:d,toggleModal:_,setPasswordType:E,multi_step_ref:v,platform:s,context:u,onChangeActiveTabIndex:function(e){b(e)},account_group:m})},{component:a().createElement(A,{server:p,context:u,sendVerifyEmail:h,account_type:f,account_group:m,password_type:x})}];return a().createElement(a().Suspense,{fallback:a().createElement(o.UILoader,null)},a().createElement(o.DesktopWrapper,null,a().createElement(o.Modal,{className:"cfd-password-manager__modal",disableApp:r,enableApp:t,is_open:l,title:(0,i.localize)("Manage {{platform}} password",{platform:(0,c.getCFDPlatformLabel)(s)}),toggleModal:_,height:"688px",width:"904px",should_header_stick_body:!1},a().createElement(M,{steps:z,multi_step_ref:v}))),a().createElement(o.MobileWrapper,null,a().createElement(o.PageOverlay,{is_open:l,portal_id:"deriv_app",header:(S=y,0===S?(0,i.localize)("Manage {{platform}} password",{platform:(0,c.getCFDPlatformLabel)(s)}):(0,i.localize)("Manage password")),onClickClose:_},a().createElement(M,{steps:z,multi_step_ref:v}))))}))},"./src/Containers/cfd-password-modal.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>D});var r=n("../../node_modules/formik/dist/formik.esm.js"),a=n("react"),o=n.n(a),i=n("react-router"),c=n("@deriv/account/dist/account/js/sent-email-modal"),l=n.n(c),s=n("./src/Stores/Modules/CFD/Helpers/cfd-config.ts"),u=n("@deriv/components"),d=n("@deriv/shared"),_=n("@deriv/translations"),f=n("./src/Components/success-dialog.jsx"),m=n("./src/Stores/connect.js"),p=n("./src/Containers/cfd-change-password-confirmation.tsx"),h=n("./src/Assets/svgs/trading-platform/index.tsx");function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=e.should_set_trading_password,n=e.is_password_reset_error,r=e.platform,a=(0,d.isMobile)()?"p":"span",i=(0,d.isMobile)()?{padding:"2rem"}:{};return o().createElement(u.Text,{styles:i,as:a,line_height:"m",weight:"bold",size:"s",align:"center"},!t&&!n&&o().createElement(_.Localize,{i18n_default_text:"Enter your {{platform}} password",values:{platform:(0,d.getCFDPlatformLabel)(r)}}),n&&o().createElement(_.Localize,{i18n_default_text:"Too many attempts"}))},E=function(e){var t=e.is_selected_mt5_verified,n=e.jurisdiction_selected_shortcode,r=e.manual_status;return t?o().createElement(_.Localize,{i18n_default_text:"To start trading, top-up funds from your Deriv account into this account."}):["bvi","vanuatu"].includes(n)?"pending"===r?o().createElement(_.Localize,{i18n_default_text:"Were reviewing your documents. This should take about 1 to 3 days."}):o().createElement(_.Localize,{i18n_default_text:"Were reviewing your documents. This should take about 5 minutes."}):["labuan","maltainvest"].includes(n)?o().createElement(_.Localize,{i18n_default_text:"Were reviewing your documents. This should take about 1 to 3 days."}):null},S=o().memo((function(e){var t=e.platform,n=e.type,r=e.show_eu_related_content,a=window.location.pathname===d.routes.traders_hub;if(t===d.CFD_PLATFORMS.DXTRADE)switch(n){case"all":default:return o().createElement(u.Icon,{icon:"IcDxtradeDerivxPlatform",size:128});case"synthetic":return o().createElement(u.Icon,{icon:"IcDxtradeSyntheticPlatform",size:128});case"financial":return o().createElement(u.Icon,{icon:"IcDxtradeFinancialPlatform",size:128})}else if(a)switch(n){case"synthetic":return o().createElement(h.Z,{icon:"Derived",size:128});case"financial":return r?o().createElement(h.Z,{icon:"CFDs",size:128}):o().createElement(h.Z,{icon:"Financial",size:128});default:return o().createElement(h.Z,{icon:"Financial",size:128})}else switch(n){case"synthetic":return o().createElement(u.Icon,{icon:"IcMt5SyntheticPlatform",size:128});case"financial":return r?o().createElement(u.Icon,{icon:"IcMt5CfdPlatform",size:128}):o().createElement(u.Icon,{icon:"IcMt5FinancialPlatform",size:128});default:return o().createElement(u.Icon,{icon:"IcMt5FinancialStpPlatform",size:128})}}));S.displayName="IconType";var z=function(e,t,n,r){t(e),n().then((function(){r("password",!0)}))},O=function(e){var t=e.password,n=e.platform,a=e.validatePassword,i=e.context,c=e.onSubmit,l=e.error_message,s=e.is_real_financial_stp;return o().createElement(r.J9,{initialValues:{password:t},enableReinitialize:!0,validate:a,onSubmit:c},(function(e){var t=e.errors,r=e.isSubmitting,a=e.handleBlur,c=e.handleChange,f=e.handleSubmit,m=e.setFieldTouched,p=e.touched,h=e.values,v=e.validateForm;return o().createElement("form",{onSubmit:f},o().createElement("div",{className:"cfd-password-modal__content dc-modal__container_cfd-password-modal__body cfd-password-modal__create-password-content","data-testid":"dt_create_password"},o().createElement(u.Icon,{icon:n===d.CFD_PLATFORMS.MT5?"IcMt5OnePassword":"IcDxtradeOnePassword",width:"122",height:"108"}),o().createElement(u.Text,{size:"s",weight:"bold",className:"cfd-password-modal__create-password-title"},o().createElement(_.Localize,{i18n_default_text:"Create a {{platform}} password",values:{platform:(0,d.getCFDPlatformLabel)(n)}})),o().createElement(u.Text,{size:"xs",align:"center",className:"cfd-password-modal__create-password-description"},o().createElement(_.Localize,{i18n_default_text:"You can use this password for all your {{platform}} accounts.",values:{platform:(0,d.getCFDPlatformLabel)(n)}})),o().createElement("div",{className:"input-element"},o().createElement(u.PasswordMeter,{input:h.password,context:i,has_error:!(!p.password||!t.password),custom_feedback_messages:(0,d.getErrorMessages)().password_warnings},(function(){return o().createElement(u.PasswordInput,{autoComplete:"new-password",label:(0,_.localize)("{{platform}} password",{platform:(0,d.getCFDPlatformLabel)(n)}),error:p.password&&t.password||(0===h.password.length?l:""),name:"password",value:h.password,onBlur:a,onChange:function(e){z(e,c,v,m)},data_testId:"dt_".concat(n,"_password")})}))),s&&o().createElement("div",{className:"dc-modal__container_cfd-password-modal__description"},o().createElement(_.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through Deriv (FX) Ltd. All trading in this account is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA)."})),o().createElement(u.FormSubmitButton,{is_disabled:!h.password||Object.keys(t).length>0,is_loading:r,label:(0,_.localize)("Create {{platform}} password",{platform:(0,d.getCFDPlatformLabel)(n)}),is_center:!0,context:i})))}))},T=function(e){var t=e.has_mt5_account,n=e.platform,r=e.error_message,a=e.context,i=e.validatePassword,c=e.submitPassword,l=e.is_real_financial_stp,s=o().useRef(),_=b(o().useState(""),2),f=_[0],m=_[1],h=[{component:o().createElement(O,{password:f,context:a,platform:n,error_message:r,validatePassword:i,onSubmit:function(e,r){var a;n===d.CFD_PLATFORMS.MT5&&t?(m(e.password),null===(a=s.current)||void 0===a||a.goNextStep()):c(e,r)},is_real_financial_stp:l})},{component:o().createElement(p.Z,{className:"cfd-password-modal__change-password-confirmation",platform:n,onConfirm:function(e,t){return c({password:f},t)},onCancel:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.goPrevStep()},context:a})}];return o().createElement(u.MultiStep,{ref:s,steps:h})},k=function(e){var t=e.account_title,n=e.account_type,a=e.closeModal,i=e.context,c=e.error_message,l=e.error_type,f=e.form_error,m=e.has_mt5_account,p=e.is_real_financial_stp,h=e.jurisdiction_selected_shortcode,v=e.onCancel,g=e.onForgotPassword,y=e.platform,b=e.should_set_trading_password,w=e.show_eu_related_content,x=e.submitPassword,E=e.validatePassword,S=o().useMemo((function(){return"PasswordReset"===l?(0,_.localize)("Try later"):(0,_.localize)("Add account")}),[l]),O=!(0,d.isDesktop)()||!b||"PasswordReset"===l,k=function(e){var t=e.should_set_trading_password,n=e.error_type;return t&&"PasswordReset"!==n?(0,d.isDesktop)()?null:(0,_.localize)("Cancel"):(0,_.localize)("Forgot password?")}({should_set_trading_password:b,error_type:l}),D=function(){if(O)return b?v():g()};if("PasswordReset"===l)return o().createElement(o().Fragment,null,o().createElement("div",{className:"cfd-password-reset"},o().createElement("div",{className:"cfd-password-modal__content cfd-password-modal__content--password-reset"},o().createElement(u.Text,{as:"p",line_height:"24",size:"xs"},o().createElement(_.Localize,{i18n_default_text:"Please try again in a minute."}))),o().createElement(r.J9,{onSubmit:a,initialValues:{}},(function(e){var t=e.handleSubmit;return o().createElement("form",{onSubmit:t},o().createElement(u.FormSubmitButton,{has_cancel:O,cancel_label:k,onCancel:D,context:i,is_absolute:(0,d.isMobile)(),label:S}))}))));if(b)return o().createElement(T,{platform:y,context:i,error_message:c,validatePassword:E,submitPassword:x,has_mt5_account:m,is_real_financial_stp:p});return o().createElement(r.J9,{initialValues:{password:""},enableReinitialize:!0,validate:E,onSubmit:x},(function(e){var r=e.errors,a=e.isSubmitting,m=e.handleBlur,v=e.handleChange,g=e.handleSubmit,x=e.setFieldTouched,E=e.touched,T=e.values,A=e.validateForm;return o().createElement("form",{onSubmit:g},o().createElement("div",{className:"cfd-password-modal__content dc-modal__container_cfd-password-modal__body"},!b&&o().createElement(u.Text,{size:"xs",className:"dc-modal__container_cfd-password-modal__account-title"},"real"===n.category&&o().createElement(_.Localize,{i18n_default_text:"Enter your {{platform}} password to add a {{platform_name}} {{account}} {{jurisdiction_shortcode}} account.",values:{platform:(0,d.getCFDPlatformLabel)(y),platform_name:y===d.CFD_PLATFORMS.MT5?"MT5":"Deriv X",account:w?"":t,jurisdiction_shortcode:y===d.CFD_PLATFORMS.DXTRADE?"":w?"CFDs":(0,s.g6)(h)}}),"demo"===n.category&&o().createElement(_.Localize,{i18n_default_text:"Enter your {{platform}} password to add a {{platform_name}} {{account}} account.",values:{platform:(0,d.getCFDPlatformLabel)(y),platform_name:y===d.CFD_PLATFORMS.MT5?"MT5":"Deriv X",account:t}})),o().createElement("div",{className:"input-element"},o().createElement(u.PasswordInput,{autoComplete:"new-password",label:(0,_.localize)("{{platform}} password",{platform:(0,d.getCFDPlatformLabel)(y)}),error:E.password&&r.password||(0===T.password.length?c:""),name:"password",value:T.password,onBlur:m,onChange:function(e){z(e,v,A,x)},data_testId:"dt_".concat(y,"_password")})),p&&o().createElement("div",{className:"dc-modal__container_cfd-password-modal__description"},o().createElement(_.Localize,{i18n_default_text:"Your MT5 Financial STP account will be opened through {{legal_entity_name}}. All trading in this account is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA). None of your other accounts, including your Deriv account, is subject to the regulations and guidelines of the Labuan Financial Service Authority (LFSA).",values:{legal_entity_name:(0,d.getLegalEntityName)("fx")}})),"PasswordError"===l&&o().createElement(u.Text,{size:"xs",as:"p",className:"dc-modal__container_mt5-password-modal__hint"},o().createElement(_.Localize,{i18n_default_text:"Hint: You may have entered your Deriv password, which is different from your {{platform}} password.",values:{platform:(0,d.getCFDPlatformLabel)(y)}}))),o().createElement(u.FormSubmitButton,{is_disabled:!T.password,has_cancel:O,cancel_label:k,onCancel:D,is_absolute:(0,d.isMobile)(),is_loading:a,label:S,context:i,is_center:b,form_error:f}))}))};const D=(0,m.$j)((function(e){var t=e.client,n=e.modules,r=e.traders_hub;return{email:t.email,account_title:n.cfd.account_title,account_type:n.cfd.account_type,account_status:t.account_status,disableCFDPasswordModal:n.cfd.disableCFDPasswordModal,error_message:n.cfd.error_message,error_type:n.cfd.error_type,getAccountStatus:n.cfd.getAccountStatus,has_cfd_error:n.cfd.has_cfd_error,landing_companies:t.landing_companies,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_logged_in:t.is_logged_in,is_cfd_success_dialog_enabled:n.cfd.is_cfd_success_dialog_enabled,is_cfd_password_modal_enabled:n.cfd.is_cfd_password_modal_enabled,is_dxtrade_allowed:t.is_dxtrade_allowed,jurisdiction_selected_shortcode:n.cfd.jurisdiction_selected_shortcode,setMt5Error:n.cfd.setError,setCFDSuccessDialog:n.cfd.setCFDSuccessDialog,submitMt5Password:n.cfd.submitMt5Password,submitCFDPassword:n.cfd.submitCFDPassword,cfd_new_account:n.cfd.new_account_response,mt5_trading_servers:t.mt5_trading_servers,mt5_login_list:t.mt5_login_list,updateAccountStatus:t.updateAccountStatus,show_eu_related_content:r.show_eu_related_content}}))((0,i.withRouter)((function(e){var t,n,r=e.account_title,a=e.account_type,i=e.account_status,c=e.disableCFDPasswordModal,m=e.email,p=e.error_message,h=e.error_type,v=e.form_error,w=e.getAccountStatus,z=e.history,O=e.is_logged_in,T=e.context,D=e.is_cfd_password_modal_enabled,A=e.is_cfd_success_dialog_enabled,M=e.is_dxtrade_allowed,C=e.jurisdiction_selected_shortcode,P=e.platform,F=e.has_cfd_error,j=e.landing_companies,L=e.mt5_login_list,N=e.cfd_new_account,R=e.setCFDSuccessDialog,I=e.setMt5Error,B=e.submitMt5Password,V=e.submitCFDPassword,U=e.updateAccountStatus,X=e.show_eu_related_content,W=b(o().useState(!0),2),G=W[0],H=W[1],q="bvi"===(null==j||null===(t=j.mt_financial_company)||void 0===t||null===(n=t.financial_stp)||void 0===n?void 0:n.shortcode),J=Boolean(null==L?void 0:L.length),$=Array.isArray(null==i?void 0:i.status)&&i.status.includes(P===d.CFD_PLATFORMS.MT5?"mt5_password_not_set":"dxtrade_password_not_set"),Y="PasswordError"===h,K="PasswordReset"===h,Z=b(o().useState(!1),2),Q=Z[0],ee=Z[1],te=(0,d.getAuthenticationStatusInfo)(i),ne=te.poi_verified_for_bvi_labuan,re=te.poi_verified_for_vanuatu_maltainvest,ae=te.poa_verified,oe=te.manual_status,ie=b(o().useState(!1),2),ce=ie[0],le=ie[1];o().useEffect((function(){O&&U()}),[]),o().useEffect((function(){"svg"===C?le(!0):"bvi"===C?le(ne):"vanuatu"===C?le(re):"labuan"===C?le(ne&&ae):"maltainvest"===C&&le(re&&ae)}),[C,i]);var se=function(){R(!1),I(!1)},ue=function(){se(),c()},de=function(){ue();var e=P===d.CFD_PLATFORMS.MT5?1:2;"real"===a.category?e=Number("".concat(e,"0")):"demo"===a.category&&(e=Number("".concat(e,"1")));var t=P===d.CFD_PLATFORMS.MT5?"trading_platform_mt5_password_reset":"trading_platform_dxtrade_password_reset";d.WS.verifyEmail(m,t,{url_parameters:{redirect_to:e}}),ee(!0)},_e=D&&!A&&(!F||Y||K),fe=!F&&A&&D&&G,me=Q&&G,pe="real_financial_stp"===[a.category,a.type].join("_"),he=o().useMemo((function(){return!!_e&&(!!$||(0,d.isDesktop)())}),[$,_e]),ve=o().useMemo((function(){return!(!_e||$)&&(0,d.isMobile)()}),[$,_e]),ge=o().useMemo((function(){return"real"===a.category?P===d.CFD_PLATFORMS.MT5?ce?(0,_.localize)("Transfer now"):(0,_.localize)("OK"):(0,_.localize)("Transfer now"):(0,_.localize)("Continue")}),[P,a,ce]),ye=o().createElement(k,{is_bvi:q,context:T,account_title:r,account_type:a,closeModal:ue,error_type:h,error_message:p,has_mt5_account:J,form_error:v,jurisdiction_selected_shortcode:C,should_set_trading_password:$,is_real_financial_stp:pe,validatePassword:function(e){var t,n={};return(0,d.validLength)(e.password,{min:8,max:25})?(0,d.validPassword)(e.password)||(n.password=(0,d.getErrorMessages)().password()):n.password=(0,_.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),(null===(t=e.password)||void 0===t?void 0:t.toLowerCase())===m.toLowerCase()&&(n.password=(0,_.localize)("Your password cannot be the same as your email address.")),n},onForgotPassword:de,submitPassword:function(e,t){P===d.CFD_PLATFORMS.MT5?B(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),t):(e.platform=P,V(e,t))},platform:P,is_dxtrade_allowed:M,onCancel:ue,show_eu_related_content:X}),be=o().createElement(u.Modal,{className:"cfd-password-modal",has_close_icon:!0,is_open:he,toggleModal:ue,should_header_stick_body:!0,renderTitle:function(){return o().createElement(x,{should_set_trading_password:$,is_password_reset_error:K,platform:P,context:T})},onUnmount:function(){return w(P)},onExited:function(){return H(!0)},onEntered:function(){return H(!1)},width:(0,d.isMobile)()?"32.8rem":"auto"},ye),we=o().createElement(u.MobileDialog,{has_full_height:!0,portal_element_id:"modal_root",visible:ve,onClose:ue,wrapper_classname:"cfd-password-modal"},o().createElement(x,{should_set_trading_password:$,has_mt5_account:J,is_password_reset_error:K,platform:P,context:T}),ye);return o().createElement(o().Fragment,null,be,we,o().createElement(f.Z,{is_open:fe,toggleModal:ue,onCancel:ue,onSubmit:P!==d.CFD_PLATFORMS.MT5||ce?function(){c(),se(),"real"===a.category&&(sessionStorage.setItem("cfd_transfer_to_login_id",N.login||""),z.push(d.routes.cashier_acc_transfer))}:ue,classNameMessage:"cfd-password-modal__message",message:function(){var e=a.category,t=a.type;if(!e&&!t)return"";var n="real"===e?(0,_.localize)("real"):(0,_.localize)("demo"),r=(0,s.D_)(X)[e][t].short_title,i=C&&(0,s.g6)(C),c="maltainvest"!==C?"MT5":"";return"real"===e?o().createElement(o().Fragment,null,o().createElement(_.Localize,{i18n_default_text:"Congratulations, you have successfully created your {{category}} <0>{{platform}}</0> <1>{{type}} {{jurisdiction_selected_shortcode}}</1> account. ",values:{type:"dxtrade"===P&&"Derived"===r?"Synthetic":r,platform:P===d.CFD_PLATFORMS.MT5?c:"Deriv X",category:n,jurisdiction_selected_shortcode:P!==d.CFD_PLATFORMS.MT5||X?"":i},components:[o().createElement("span",{key:0,className:"cfd-account__platform"}),o().createElement("strong",{key:1})]}),P===d.CFD_PLATFORMS.DXTRADE?o().createElement(_.Localize,{i18n_default_text:"To start trading, transfer funds from your Deriv account into this account."}):o().createElement(E,{is_selected_mt5_verified:ce,jurisdiction_selected_shortcode:C,manual_status:oe})):o().createElement(_.Localize,{i18n_default_text:"Congratulations, you have successfully created your {{category}} <0>{{platform}}</0> <1>{{type}}</1> account.",values:{type:r,platform:P===d.CFD_PLATFORMS.MT5?"MT5":(0,d.getCFDPlatformLabel)(P),category:n},components:[o().createElement("span",{key:0,className:"cfd-account__platform"}),o().createElement("strong",{key:1})]})}(),icon:o().createElement(S,{platform:P,type:a.type,show_eu_related_content:X}),icon_size:"xlarge",text_submit:ge,has_cancel:P===d.CFD_PLATFORMS.MT5?ce&&"real"===a.category:"real"===a.category,has_close_icon:!1,width:(0,d.isMobile)()?"32.8rem":"auto",is_medium_button:(0,d.isMobile)()}),o().createElement(l(),{is_open:me,identifier_title:"trading_password",onClose:function(){return ee(!1)},onClickSendEmail:de}))})))},"./src/Containers/cfd-reset-password-modal.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>S});var r=n("../../node_modules/prop-types/index.js"),a=n.n(r),o=n("../../node_modules/formik/dist/formik.esm.js"),i=n("react"),c=n.n(i),l=n("react-router-dom"),s=n("@deriv/components"),u=n("@deriv/shared"),d=n("@deriv/translations"),_=n("./src/Stores/connect.js"),f=n("./src/Stores/Modules/CFD/Helpers/cfd-config.ts");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var p=["current_list","context","children","is_eu"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var x=function(e){var t,n,r,a,o,i=e.current_list,c=(e.context,e.children),l=e.is_eu,s=w(e,p),u=localStorage.getItem("cfd_reset_password_intent"),d=localStorage.getItem("cfd_reset_password_type")||"main";if(u&&/(real|demo)\.(financial_stp|financial|synthetic|synthetic_svg|synthetic_bvi|financial_svg|financial_bvi|financial_fx|financial_v)/.test(u)&&i){var _=y(u.split("."),3);o=_[0],t=_[1],n=_[2],r=i["mt5.".concat(t,".").concat(n,"@").concat(o)].login,a=(0,f.D_)(l)[t][n].title}else if(i){var m,h,g,b,x,E,S=y(Object.keys(i).pop().split("."),3);o=S[0],t=S[1],n=S[2],r=null!==(m=null===(h=i["mt5.".concat(t,".").concat(n,"@").concat(o)])||void 0===h?void 0:h.login)&&void 0!==m?m:"",a=null!==(g=null===(b=(0,f.D_)(l))||void 0===b||null===(x=b[t])||void 0===x||null===(E=x[n])||void 0===E?void 0:E.title)&&void 0!==g?g:""}else r="",a="";return c(v({login:r,title:a,type:d},s))},E=function(e){var t=e.current_list,n=e.email,r=e.is_cfd_reset_password_modal_enabled,a=e.is_eu,i=e.context,l=e.is_logged_in,_=e.platform,f=e.setCFDPasswordResetModal,m=y(c().useState({error_code:void 0,has_error:!1,error_message:void 0,is_finished:!1,changed_password_type:""}),2),p=m[0],h=m[1],g=function(){localStorage.removeItem("cfd_reset_password_intent"),localStorage.removeItem("cfd_reset_password_type"),localStorage.removeItem("cfd_reset_password_code")},b=function(e){var t={};return(0,u.validLength)(e.new_password,{min:8,max:25})?(0,u.validPassword)(e.new_password)||(t.new_password=(0,u.getErrorMessages)().password()):t.new_password=(0,d.localize)("You should enter {{min_number}}-{{max_number}} characters.",{min_number:8,max_number:25}),e.new_password.toLowerCase()===n.toLowerCase()&&(t.new_password=(0,d.localize)("Your password cannot be the same as your email address.")),t},w=function(e,t,n,r){var a=r.setSubmitting;a(!0);var o={account_id:n,platform:u.CFD_PLATFORMS.MT5,new_password:e.new_password,verification_code:localStorage.getItem("cfd_reset_password_code")};u.WS.tradingPlatformInvestorPasswordReset(o).then((function(e){var n,r;null!=e&&null!==(n=e.error)&&void 0!==n&&n.code?(r=e.error,h(v(v({},p),{},{error_code:r.code,has_error:!0,error_message:r.message}))):(h(v(v({},p),{},{is_finished:!0,changed_password_type:t})),g()),a(!1)}))},E=function(){return 0!==Object.keys(t).length},S=!E()&&localStorage.getItem("cfd_reset_password_code");return c().createElement(s.Modal,{className:"cfd-reset-password-modal",context:i,is_open:r&&!S,toggleModal:function(){return f(!1)},title:_===u.CFD_PLATFORMS.DXTRADE?(0,d.localize)("Reset Deriv X investor password"):(0,d.localize)("Reset Deriv MT5 investor password"),onMount:function(){return(0,u.redirectToLogin)(l,(0,d.getLanguage)(),!0)},should_header_stick_body:!1},!E()&&!p.has_error&&c().createElement(s.Loading,{is_fullscreen:!1}),E()&&!p.has_error&&!p.is_finished&&c().createElement(x,{context:i,current_list:t,is_eu:a},(function(e){var t=e.type,n=e.login;return c().createElement(o.J9,{initialValues:{new_password:""},validate:b,onSubmit:function(e,r){return w(e,t,n,r)}},(function(e){var n=e.handleSubmit,r=e.errors,a=e.values,o=e.isSubmitting,i=e.handleChange,l=e.handleBlur,_=e.touched;return c().createElement("form",{autoComplete:"off",onSubmit:n},c().createElement("div",{className:"cfd-reset-password"},c().createElement("div",{className:"cfd-reset-password__container"},c().createElement("div",{className:"cfd-reset-password__password-area"},c().createElement(s.PasswordMeter,{input:a.new_password,has_error:!(!_.new_password||!r.new_password),custom_feedback_messages:(0,u.getErrorMessages)().password_warnings},(function(e){var n=e.has_warning;return c().createElement(s.PasswordInput,{autoComplete:"new-password",className:"cfd-reset-password__password-field",name:"new_password",label:(0,d.localize)("New {{type}} password",{type:t}),onChange:i,onBlur:l,error:_.new_password&&r.new_password,value:a.new_password,"data-lpignore":"true",required:!0,hint:!n&&(0,d.localize)("Strong passwords contain at least 8 characters, combine uppercase and lowercase letters, numbers, and symbols.")})}))),o&&c().createElement(s.Loading,{is_fullscreen:!1}),!o&&c().createElement(s.FormSubmitButton,{is_disabled:o||!a.new_password||Object.keys(r).length>0,errors:r,is_center:!0,large:!0,label:(0,d.localize)("Create {{type}} password",{type:t})}))))}))})),p.has_error&&c().createElement("div",{className:"cfd-reset-password__error"},c().createElement(s.Icon,{icon:"IcMt5Expired",size:128}),c().createElement(s.Text,{as:"p",size:"xs",weight:"bold",align:"center",className:"cfd-reset-password__heading"},p.error_message),"InvalidToken"===p.error_code&&c().createElement(s.Text,{as:"p",color:"prominent",size:"xs",align:"center",className:"cfd-reset-password__description--is-centered"},c().createElement(d.Localize,{i18n_default_text:"Please request a new password and check your email for the new token."})),c().createElement(s.Button,{primary:!0,large:!0,className:"cfd-reset-password__confirm-button",onClick:function(){g(),f(!1)}},c().createElement(d.Localize,{i18n_default_text:"Ok"}))),p.is_finished&&c().createElement("div",{className:"cfd-reset-password__success"},c().createElement(s.Icon,{icon:"IcMt5PasswordUpdated",size:128}),c().createElement("div",{className:"cfd-reset-password__description"},c().createElement(s.Text,{as:"p",size:"xs",align:"center",weight:"bold",line_height:"xxl"},c().createElement(d.Localize,{i18n_default_text:"Password saved"})),c().createElement(d.Localize,{i18n_default_text:"Your {{account_type}} password has been changed.",values:{account_type:"main"===p.changed_password_type?(0,d.localize)("main"):(0,d.localize)("investor")}})),c().createElement(s.Button,{primary:!0,large:!0,onClick:function(){return f(!1)}},c().createElement(d.Localize,{i18n_default_text:"Ok"}))))};E.propTypes={current_list:a().oneOfType([a().array,a().object]),email:a().string,is_cfd_reset_password_modal_enabled:a().bool,is_eu:a().bool,is_logged_in:a().bool,platform:a().string,setCFDPasswordResetModal:a().func,history:a().object,context:a().object};const S=c().memo((0,l.withRouter)((0,_.$j)((function(e){var t=e.modules.cfd,n=e.client,r=e.ui;return{email:n.email,is_eu:n.is_eu,is_cfd_reset_password_modal_enabled:r.is_cfd_reset_password_modal_enabled,setCFDPasswordResetModal:r.setCFDPasswordResetModal,current_list:t.current_list,is_logged_in:n.is_logged_in}}))(E)))},"./src/Containers/cfd-server-error-dialog.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),c=n("../stores/src/index.ts");const l=(0,c.Pi)((function(){var e=(0,c.oR)(),t=e.ui,n=e.modules,r=t.enableApp,l=t.disableApp,s=n.cfd,u=s.clearCFDError,d=s.error_message,_=s.error_type,f=s.has_cfd_error,m=s.is_cfd_success_dialog_enabled,p=f&&!m&&_&&"PasswordReset"!==_&&"PasswordError"!==_;return a().createElement(o.Dialog,{title:(0,i.localize)("Somethings not right"),confirm_button_text:(0,i.localize)("OK"),onConfirm:u,disableApp:l,enableApp:r,is_visible:p},d||a().createElement(i.Localize,{i18n_default_text:"Sorry, an error occurred while processing your request."}))}))},"./src/Containers/cfd-top-up-demo-modal.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>d});var r=n("react"),a=n.n(r),o=n("./src/Components/success-dialog.jsx"),i=n("@deriv/components"),c=n("@deriv/shared"),l=n("@deriv/translations"),s=n("./src/Stores/connect.js"),u=n("./src/Helpers/constants.ts");const d=(0,s.$j)((function(e){var t=e.ui,n=e.modules;return{is_top_up_virtual_open:t.is_top_up_virtual_open,is_top_up_virtual_in_progress:t.is_top_up_virtual_in_progress,is_top_up_virtual_success:t.is_top_up_virtual_success,closeTopUpModal:t.closeTopUpModal,closeSuccessTopUpModal:t.closeSuccessTopUpModal,current_account:n.cfd.current_account,dxtrade_companies:n.cfd.dxtrade_companies,mt5_companies:n.cfd.mt5_companies,topUpVirtual:n.cfd.topUpVirtual}}))((function(e){var t=e.dxtrade_companies,n=e.mt5_companies,r=e.current_account,s=e.closeSuccessTopUpModal,d=e.closeTopUpModal,_=e.is_top_up_virtual_open,f=e.is_top_up_virtual_in_progress,m=e.is_top_up_virtual_success,p=e.platform,h=e.context,v=e.topUpVirtual,g=a().useCallback((function(){return(n||t)&&r?n[r.category][r.type].title:""}),[n,t,r]),y=(0,c.getCFDPlatformLabel)(p);if(!n&&!t||!r)return null;var b=(0,u.tY)(),w=b.minimum_amount,x=b.additional_amount;return a().createElement(a().Fragment,null,a().createElement(i.Modal,{toggleModal:d,is_open:_,context:h,className:"top-up-virtual",title:(0,l.localize)("Fund top up"),width:"384px"},a().createElement("div",{className:"dc-modal__container_top-up-virtual__body"},a().createElement(i.Text,{as:"p",align:"center",size:"xxs",line_height:"xs",className:"dc-modal__container_top-up-virtual__description","data-testid":"dt_top_up_virtual_description"},a().createElement(l.Localize,{i18n_default_text:"You can top up your demo account with an additional <0></0> if your balance is <1></1> or less.",components:[a().createElement(i.Money,{key:0,amount:x,currency:r.currency,show_currency:!0}),a().createElement(i.Money,{key:1,amount:w,currency:r.currency,show_currency:!0})]})),a().createElement("h4",{className:"dc-modal__container_top-up-virtual--h4"},a().createElement(l.Localize,{i18n_default_text:"{{ platform }} {{ account_title }} account",values:{platform:y,account_title:g()}})),a().createElement("div",null,a().createElement(i.Text,{as:"p",align:"center",size:"xxs"},a().createElement(l.Localize,{i18n_default_text:"Current balance"})),a().createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},a().createElement(i.Money,{amount:r.display_balance,currency:r.currency,has_sign:r.balance<0}))),a().createElement("div",{className:"dc-modal__container_top-up-virtual--button"},a().createElement(i.Button,{is_disabled:r.balance>1e3||f,type:"button",is_loading:f,onClick:function(){return v(p)},primary:!0,large:!0},!f&&a().createElement(l.Localize,{i18n_default_text:"Top up <0></0>",components:[a().createElement(i.Money,{key:0,amount:x,currency:r.currency,show_currency:!0})]}))))),a().createElement(o.Z,{is_open:m,toggleModal:function(){s()},has_close_icon:!0,title:(0,l.localize)("Fund top up"),icon:a().createElement(i.Icon,{icon:"IcCashierWallet",size:128}),heading:a().createElement("h3",{className:"cfd-success-topup__heading"},a().createElement(l.Localize,{i18n_default_text:"<0></0> has been credited into your {{platform}} {{title}} account.",values:{platform:y,title:g()},components:[a().createElement(i.Money,{key:0,amount:x,currency:r.currency,show_currency:!0})]})),message:a().createElement("div",{className:"cfd-success-topup__description"},a().createElement("p",null,a().createElement(l.Localize,{i18n_default_text:"New current balance"})),a().createElement("div",{className:"dc-modal__container_top-up-virtual--balance"},a().createElement(i.Money,{amount:r.balance,currency:r.currency}))),icon_size:"large",has_cancel:!1,has_submit:!1,width:"384px"}))}))},"./src/Containers/compare-accounts-modal.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>W});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),c=n("./src/Stores/connect.js"),l=n("@deriv/shared");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t,n,r,c=e.landing_companies,s=e.platform,u=e.is_logged_in,d=e.is_uk,_=u?(s===l.CFD_PLATFORMS.MT5?[null==c||null===(t=c.mt_gaming_company)||void 0===t?void 0:t.financial,null==c||null===(n=c.mt_financial_company)||void 0===n?void 0:n.financial,(null==c||null===(r=c.mt_financial_company)||void 0===r?void 0:r.financial_stp)&&s===l.CFD_PLATFORMS.MT5]:[null==c?void 0:c.dxtrade_gaming_company,null==c?void 0:c.dxtrade_financial_company]).filter(Boolean).length:s===l.CFD_PLATFORMS.MT5?3:2,f=d?a().createElement("div",null,(0,i.localize)("Forex, stocks, stock indices, cryptocurrencies"),a().createElement(o.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"**"),(0,i.localize)(", synthetic indices")):(0,i.localize)("Forex, stocks, stock indices, cryptocurrencies, synthetic indices");return[{attribute:(0,i.localize)("Account currency"),mt5:{synthetic:(0,i.localize)("USD"),synthetic_eu:(0,i.localize)("EUR"),financial:(0,i.localize)("USD"),financial_au:(0,i.localize)("USD"),financial_eu:(0,i.localize)("EUR/GBP/USD"),financial_stp:(0,i.localize)("USD"),footnote:null},dxtrade:{synthetic:(0,i.localize)("USD"),synthetic_eu:(0,i.localize)("EUR"),financial:(0,i.localize)("USD"),financial_au:(0,i.localize)("USD"),financial_eu:(0,i.localize)("EUR/GBP"),footnote:null}},{attribute:(0,i.localize)("Maximum leverage"),mt5:{synthetic:(0,i.localize)("Up to 1:1000"),synthetic_eu:(0,i.localize)("Up to 1:1000"),financial:(0,i.localize)("Up to 1:1000"),financial_au:(0,i.localize)("Up to 1:30"),financial_eu:(0,i.localize)("Up to 1:30"),financial_stp:(0,i.localize)("Up to 1:100"),footnote:(0,i.localize)("Leverage gives you the ability to trade a larger position using your existing capital. Leverage varies across different symbols.")},dxtrade:{synthetic:(0,i.localize)("Up to 1:1000"),synthetic_eu:(0,i.localize)("Up to 1:1000"),financial:(0,i.localize)("Up to 1:1000"),financial_au:(0,i.localize)("Up to 1:30"),financial_eu:(0,i.localize)("Up to 1:30"),footnote:(0,i.localize)("Leverage gives you the ability to trade a larger position using your existing capital. Leverage varies across different symbols.")}},{attribute:(0,i.localize)("Order execution"),mt5:{synthetic:(0,i.localize)("Market"),synthetic_eu:(0,i.localize)("Market"),financial:(0,i.localize)("Market"),financial_au:(0,i.localize)("Market"),financial_eu:(0,i.localize)("Market"),financial_stp:(0,i.localize)("Market"),footnote:(0,i.localize)("All {{count}} account types use market execution. This means you agree with the broker's price in advance and will place orders at the broker's price.",{count:_})},dxtrade:{synthetic:(0,i.localize)("Market"),synthetic_eu:(0,i.localize)("Market"),financial:(0,i.localize)("Market"),financial_au:(0,i.localize)("Market"),financial_eu:(0,i.localize)("Market"),footnote:(0,i.localize)("All {{count}} account types use market execution. This means you agree with the broker's price in advance and will place orders at the broker's price.",{count:_})}},{attribute:(0,i.localize)("Spread"),mt5:{synthetic:(0,i.localize)("Fixed/Variable"),synthetic_eu:(0,i.localize)("Fixed/Variable"),financial:(0,i.localize)("Variable"),financial_au:(0,i.localize)("Variable"),financial_eu:(0,i.localize)("Fixed/Variable"),financial_stp:(0,i.localize)("Variable"),footnote:(0,i.localize)("The spread is the difference between the buy price and sell price. A variable spread means that the spread is constantly changing, depending on market conditions. A fixed spread remains constant but is subject to alteration, at the Broker's absolute discretion.")},dxtrade:{synthetic:(0,i.localize)("Fixed/Variable"),synthetic_eu:(0,i.localize)("Fixed/Variable"),financial:(0,i.localize)("Variable"),financial_au:(0,i.localize)("Variable"),financial_eu:(0,i.localize)("Variable"),footnote:(0,i.localize)("The spread is the difference between the buy price and sell price. A variable spread means that the spread is constantly changing, depending on market conditions. A fixed spread remains constant but is subject to alteration, at the Broker's absolute discretion.")}},{attribute:(0,i.localize)("Commission"),mt5:{synthetic:(0,i.localize)("No"),synthetic_eu:(0,i.localize)("No"),financial:(0,i.localize)("No"),financial_au:(0,i.localize)("No"),financial_eu:(0,i.localize)("No"),financial_stp:(0,i.localize)("No"),footnote:(0,i.localize)("Deriv charges no commission across all account types.")},dxtrade:{synthetic:(0,i.localize)("No"),synthetic_eu:(0,i.localize)("No"),financial:(0,i.localize)("No"),financial_au:(0,i.localize)("No"),financial_eu:(0,i.localize)("No"),footnote:(0,i.localize)("Deriv charges no commission across all account types.")}},{attribute:(0,i.localize)("Minimum deposit"),mt5:{synthetic:(0,i.localize)("No"),synthetic_eu:(0,i.localize)("No"),financial:(0,i.localize)("No"),financial_au:(0,i.localize)("No"),financial_eu:(0,i.localize)("No"),financial_stp:(0,i.localize)("No"),footnote:null},dxtrade:{synthetic:(0,i.localize)("No"),synthetic_eu:(0,i.localize)("No"),financial:(0,i.localize)("No"),financial_au:(0,i.localize)("No"),financial_eu:(0,i.localize)("No"),footnote:null}},{attribute:(0,i.localize)("Margin call"),mt5:{synthetic:(0,i.localize)("100%"),synthetic_eu:(0,i.localize)("100%"),financial:(0,i.localize)("100%"),financial_au:(0,i.localize)("100%"),financial_eu:(0,i.localize)("100%"),financial_stp:(0,i.localize)("100%"),footnote:(0,i.localize)("Youll get a warning, known as margin call, if your account balance drops down close to the stop out level.")},dxtrade:{synthetic:(0,i.localize)("100%"),synthetic_eu:(0,i.localize)("100%"),financial:(0,i.localize)("100%"),financial_au:(0,i.localize)("100%"),financial_eu:(0,i.localize)("100%"),footnote:(0,i.localize)("Youll get a warning, known as margin call, if your account balance drops down close to the stop out level.")}},{attribute:(0,i.localize)("Stop out level"),mt5:{synthetic:(0,i.localize)("50%"),synthetic_eu:(0,i.localize)("50%"),financial:(0,i.localize)("50%"),financial_au:(0,i.localize)("50%"),financial_eu:(0,i.localize)("50%"),financial_stp:(0,i.localize)("50%"),footnote:(0,i.localize)("To understand stop out, first you need to learn about margin level, which is  the ratio of your equity (the total balance you would have if you close all your positions at that point) to the margin you're using at the moment. If your margin level drops below our stop out level, your positions may be closed automatically to protect you from further losses.")},dxtrade:{synthetic:(0,i.localize)("50%"),synthetic_eu:(0,i.localize)("50%"),financial:(0,i.localize)("50%"),financial_au:(0,i.localize)("50%"),financial_eu:(0,i.localize)("50%"),footnote:(0,i.localize)("To understand stop out, first you need to learn about margin level, which is  the ratio of your equity (the total balance you would have if you close all your positions at that point) to the margin you're using at the moment. If your margin level drops below our stop out level, your positions may be closed automatically to protect you from further losses.")}},{attribute:(0,i.localize)("Number of assets"),mt5:{synthetic:(0,i.localize)("20+"),synthetic_eu:(0,i.localize)("20+"),financial:(0,i.localize)("150+"),financial_au:(0,i.localize)("100+"),financial_eu:(0,i.localize)("50+"),financial_stp:(0,i.localize)("70+"),footnote:null},dxtrade:{synthetic:(0,i.localize)("20+"),synthetic_eu:(0,i.localize)("20+"),financial:(0,i.localize)("90+"),financial_au:(0,i.localize)("90+"),financial_eu:(0,i.localize)("90+"),footnote:null}},{attribute:(0,i.localize)("Cryptocurrency trading"),mt5:{synthetic:(0,i.localize)("N/A"),synthetic_eu:(0,i.localize)("N/A"),financial:(0,i.localize)("24/7"),financial_au:(0,i.localize)("24/7"),financial_eu:(0,i.localize)("24/7"),financial_stp:(0,i.localize)("24/7"),footnote:(0,i.localize)("Indicates the availability of cryptocurrency trading on a particular account.")},dxtrade:{synthetic:(0,i.localize)("N/A"),synthetic_eu:(0,i.localize)("N/A"),financial:(0,i.localize)("24/7"),financial_au:(0,i.localize)("24/7"),financial_eu:(0,i.localize)("24/7"),footnote:(0,i.localize)("Indicates the availability of cryptocurrency trading on a particular account.")}},{attribute:(0,i.localize)("Trading instruments"),mt5:{synthetic:(0,i.localize)("Synthetics"),synthetic_eu:(0,i.localize)("Synthetics"),financial:(0,i.localize)("FX-majors (standard/micro lots), FX-minors, basket indices, commodities, cryptocurrencies, and stocks and stock indices"),financial_au:(0,i.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies, Stocks, and Stock Indices"),financial_eu:f,financial_stp:(0,i.localize)("FX-majors, FX-minors, FX-exotics, and cryptocurrencies"),footnote:null},dxtrade:{synthetic:(0,i.localize)("Synthetics"),synthetic_eu:(0,i.localize)("Synthetics"),financial:(0,i.localize)("FX majors (standard/micro lots), FX minors, basket indices, commodities, and cryptocurrencies"),financial_au:(0,i.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies"),financial_eu:(0,i.localize)("FX-majors (standard/micro lots), FX-minors, Commodities, Cryptocurrencies (except UK)"),footnote:null}}]},h=function(e){var t=e.name,n=e.counter,r=f(a().useState(!1),2),i=r[0],c=r[1];return n?a().createElement(a().Fragment,null,a().createElement(o.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer",onClick:function(){return c(!i)}},t,a().createElement(o.Text,{weight:"bold",as:"span",line_height:"x",size:"xxxs",className:"counter"},n))):a().createElement(o.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer"},t)},v=function(e){var t=e.landing_companies,n=e.is_logged_in,r=e.is_eu_client,o=e.platform,i=e.residence,c=e.is_uk,s="au"===i;return function(e,t,n,r,o,i){var c=function(e,t,n){return i?t:r?n:e},s=0;return t.filter((function(e){return e[o]})).map((function(t){var i,u,_,f=t.attribute,m=t.mt5,p=void 0===m?{}:m,v=t.dxtrade,g=void 0===v?{}:v,y=o===l.CFD_PLATFORMS.MT5?p:g,b=y.synthetic,w=y.synthetic_eu,x=y.financial,E=y.financial_au,S=y.financial_eu,z=y.footnote,O={synthetic:r?w:b},T={financial:c(x,E,S)},k=z?++s:null;return n?d(d(d({attribute:a().createElement(h,{name:f,counter:k})},null!=e&&null!==(i=e.mt_gaming_company)&&void 0!==i&&i.financial?O:{}),null!=e&&null!==(u=e.mt_financial_company)&&void 0!==u&&u.financial?T:{}),null!=e&&null!==(_=e.mt_financial_company)&&void 0!==_&&_.financial_stp&&o===l.CFD_PLATFORMS.MT5?{financial_stp:null==p?void 0:p.financial_stp}:{}):o===l.CFD_PLATFORMS.DXTRADE?d(d({attribute:a().createElement(h,{name:f,counter:k})},O),T):d(d(d({attribute:a().createElement(h,{name:f,counter:k})},O),T),{financial_stp:null==p?void 0:p.financial_stp})}))}(t,p({landing_companies:t,platform:o,is_logged_in:n,is_uk:c}),n,r,o,s)},g=function(e){var t=e.platform,n=e.show_risk_message,r=e.landing_companies,c=e.is_logged_in,s=e.is_uk;return a().createElement("div",{className:"cfd-compare-account--hint"},a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),a().createElement(i.Localize,{i18n_default_text:"At bank rollover, liquidity in the forex markets is reduced and may increase the spread and processing time for client orders. This happens around 21:00 GMT during daylight saving time, and 22:00 GMT non-daylight saving time."})),n&&a().createElement(a().Fragment,null,a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),a().createElement(i.Localize,{i18n_default_text:"Margin call and stop out level will change from time to time based on market condition."})),a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement(o.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"*"),a().createElement(i.Localize,{i18n_default_text:"To protect your portfolio from adverse market movements due to the market opening gap, we reserve the right to decrease leverage on all offered symbols for financial accounts before market close and increase it again after market open. Please make sure that you have enough funds available in your {{platform}} account to support your positions at all times.",values:{platform:t===l.CFD_PLATFORMS.MT5?(0,i.localize)("MT5"):(0,i.localize)("Deriv X")}})),s&&a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement(o.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"**"),a().createElement(i.Localize,{i18n_default_text:"Cryptocurrency trading is not available for clients residing in the United Kingdom.",values:{platform:t===l.CFD_PLATFORMS.MT5?(0,i.localize)("MT5"):(0,i.localize)("Deriv X")}}))),p({landing_companies:r,platform:t,is_logged_in:c,is_uk:s}).filter((function(e){var n;return!(null===(n=e[t])||void 0===n||!n.footnote)})).map((function(e,n){return a().createElement("div",{key:n,className:"cfd-compare-accounts__bullet-wrapper"},a().createElement(o.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},n+1),a().createElement("div",{className:"cfd-compare-accounts__footnote"},a().createElement(o.Text,{as:"p",size:"xs",weight:"bold",color:"prominent",className:"cfd-compare-accounts__footnote-title"},e.attribute),a().createElement(o.Text,{size:"xs",color:"prominent"},e[t].footnote)))})))};const y=function(e){var t=e.landing_companies,n=e.is_logged_in,r=e.platform,c=e.is_eu_client,s=e.residence,u=e.is_eu,d=e.is_uk,_=f(a().useState([]),2),m=_[0],p=_[1],h=f(a().useState(r===l.CFD_PLATFORMS.DXTRADE?"1.5fr 1fr 2fr":"1.5fr 1fr 2fr 1fr"),2),y=h[0],b=h[1];a().useEffect((function(){var e,a,o;(p(v({landing_companies:t,is_logged_in:n,platform:r,is_eu_client:c,residence:s,is_uk:d})),n&&r===l.CFD_PLATFORMS.MT5)?b("1.5fr ".concat(null!=t&&null!==(e=t.mt_gaming_company)&&void 0!==e&&e.financial?"1fr":""," ").concat(null!=t&&null!==(a=t.mt_financial_company)&&void 0!==a&&a.financial?"2fr":""," ").concat(null!=t&&null!==(o=t.mt_financial_company)&&void 0!==o&&o.financial_stp?" 1fr ":"")):n&&r===l.CFD_PLATFORMS.DXTRADE&&b("1.5fr ".concat(null!=t&&t.dxtrade_gaming_company?"1fr":""," ").concat(null!=t&&t.dxtrade_financial_company?"2fr":""))}),[null==t?void 0:t.mt_financial_company,null==t?void 0:t.mt_gaming_company,n,d,t,r,c,s]);var w=r===l.CFD_PLATFORMS.MT5||!c,x=u?(0,i.localize)("CFDs"):(0,i.localize)("Financial");return a().createElement(o.Div100vhContainer,{height_offset:"40px",is_bypassed:(0,l.isDesktop)()},a().createElement(o.ThemedScrollbars,{className:"cfd-compare-accounts",style:{"--cfd-compare-accounts-template-columns":y}},a().createElement("div",{className:"cfd-compare-accounts__table-wrapper"},a().createElement(o.Table,{className:"cfd-compare-accounts__table"},a().createElement(o.Table.Header,null,a().createElement(o.Table.Row,{className:"cfd-compare-accounts__table-row"},a().createElement(o.Table.Head,{fixed:!0}),n?a().createElement(a().Fragment,null,(0,l.isLandingCompanyEnabled)({landing_companies:t,platform:r,type:"gaming"})&&a().createElement(o.Table.Head,null,(0,i.localize)("Derived")),(0,l.isLandingCompanyEnabled)({landing_companies:t,platform:r,type:"financial"})&&a().createElement(o.Table.Head,null,x,a().createElement(o.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*")),(0,l.isLandingCompanyEnabled)({landing_companies:t,platform:r,type:"financial_stp"})&&a().createElement(o.Table.Head,null,(0,i.localize)("Financial STP"),a().createElement(o.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*"))):a().createElement(a().Fragment,null,a().createElement(o.Table.Head,null,(0,i.localize)("Derived")),a().createElement(o.Table.Head,null,(0,i.localize)("Financial"),a().createElement(o.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*")),r===l.CFD_PLATFORMS.MT5&&a().createElement(o.Table.Head,null,(0,i.localize)("Financial STP"),a().createElement(o.Text,{size:"s",weight:"bold",className:"cfd-compare-accounts__star"},"*"))))),a().createElement(o.Table.Body,null,m.map((function(e,t){return a().createElement(o.Table.Row,{key:t,className:"cfd-compare-accounts__table-row"},Object.keys(e).map((function(t,n){return a().createElement(o.Table.Cell,{key:n,fixed:0===n},e[t])})))}))))),a().createElement(g,{platform:r,show_risk_message:w,landing_companies:t,is_logged_in:n,is_uk:d})))};var b=n("../../node_modules/classnames/index.js"),w=n.n(b),x=function(){return[{label:(0,i.localize)("Add"),action:"financial_maltainvest"}]},E=["derivx"];function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function D(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){var t,n=e.id,r=e.attribute,i=e.values,c=e.pre_appstore_class,s=e.available_accounts_count,u=e.classname_for_demo_and_eu,d=e.is_pre_appstore_setting,_=e.content_flag,f=e.is_high_risk_for_mt5,m=e.CFDs_restricted_countries,p=e.is_preappstore_restricted_cr_demo_account,h="leverage"===n,v="platform"===n,g="instruments"===n,y=function(){return"counterparty"===n||"leverage"===n?(0,l.isDesktop)()?"xxs":"xxxs":(0,l.isDesktop)()?"xxxs":"xxxxs"};return v&&!d?null:(v&&d&&m&&(i.synthetic_bvi={text:"MT5"}),m&&delete i.derivx,d&&p&&delete i.synthetic_bvi,v&&_===l.ContentFlag.HIGH_RISK_CR&&f&&(i.financial_svg={text:"MT5"}),a().createElement(o.Table.Row,{className:null!=u?u:w()("cfd-accounts-compare-modal__table-row".concat(c),(t={},P(t,"cfd-accounts-compare-modal__table-row--leverage".concat(c),h),P(t,"cfd-accounts-compare-modal__row-with-columns-count-".concat(s+1),s<6),P(t,"cfd-accounts-compare-modal__table-row--platform".concat(c),v),P(t,"cfd-accounts-compare-modal__table-row--instruments".concat(c),g),t))},a().createElement(o.Table.Cell,{fixed:!0},a().createElement(o.Text,{as:"p",weight:"bold",color:"prominent",size:"xxs"},r)),Object.keys(i).map((function(e){var t,n,r,c,l,s,u,d,_,f,m,p,h,v,g,b,x,E,S,z;return a().createElement(o.Table.Cell,{key:e,className:w()("cfd-accounts-compare-modal__table-row-item",{"cfd-accounts-compare-modal__table-row-item--tooltip":null===(t=i[e])||void 0===t?void 0:t.tooltip_msg})},a().createElement(a().Fragment,null,Array.isArray(i[e])?null===(n=i[e])||void 0===n?void 0:n.map((function(e,t){var n,r,i,c,l,s,u,d,_,f,m;return a().createElement(o.Text,{key:t,as:"p",color:null!==(n=null==e||null===(r=e.options)||void 0===r?void 0:r.color)&&void 0!==n?n:"prominent",weight:null!==(i=null==e||null===(c=e.options)||void 0===c?void 0:c.weight)&&void 0!==i?i:"normal",align:null!==(l=null==e||null===(s=e.options)||void 0===s?void 0:s.align)&&void 0!==l?l:"center",size:null!==(u=null==e||null===(d=e.options)||void 0===d?void 0:d.size)&&void 0!==u?u:y(),styles:null!==(_=null==e||null===(f=e.options)||void 0===f?void 0:f.styles)&&void 0!==_?_:""},e.text,(null==e||null===(m=e.options)||void 0===m?void 0:m.should_show_asterick_at_end)&&a().createElement(o.Text,{color:"loss-danger",size:"xxxs"},"*"))})):a().createElement(a().Fragment,null,a().createElement(o.Text,{as:"p",weight:null!==(r=null===(c=i[e])||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weight)&&void 0!==r?r:"normal",align:null!==(s=null===(u=i[e])||void 0===u||null===(d=u.options)||void 0===d?void 0:d.align)&&void 0!==s?s:"center",color:null!==(_=null===(f=i[e])||void 0===f||null===(m=f.options)||void 0===m?void 0:m.color)&&void 0!==_?_:"prominent",size:null!==(p=null===(h=i[e])||void 0===h||null===(v=h.options)||void 0===v?void 0:v.size)&&void 0!==p?p:y(),styles:null!==(g=null===(b=i[e])||void 0===b||null===(x=b.options)||void 0===x?void 0:x.styles)&&void 0!==g?g:""},null===(E=i[e])||void 0===E?void 0:E.text),(null===(S=i[e])||void 0===S?void 0:S.tooltip_msg)&&a().createElement(o.Popover,{alignment:"left",className:"cfd-compare-accounts-tooltip",classNameBubble:"cfd-compare-accounts-tooltip--msg",icon:"info",disable_message_icon:!0,is_bubble_hover_enabled:!0,message:null===(z=i[e])||void 0===z?void 0:z.tooltip_msg,zIndex:9999}))))}))))};const j=(0,c.$j)((function(e){var t=e.modules,n=e.client,r=e.common,a=e.ui,o=e.traders_hub;return{account_settings:n.account_settings,account_status:n.account_status,account_type:t.cfd.account_type,clearCFDError:t.cfd.clearCFDError,current_list:t.cfd.current_list,has_real_account:n.has_active_real_account,has_real_mt5_login:n.has_real_mt5_login,is_virtual:n.is_virtual,openSwitchToRealAccountModal:a.openSwitchToRealAccountModal,setAccountSettings:n.setAccountSettings,setAccountType:t.cfd.setAccountType,setJurisdictionSelectedShortcode:t.cfd.setJurisdictionSelectedShortcode,should_restrict_bvi_account_creation:n.should_restrict_bvi_account_creation,should_restrict_vanuatu_account_creation:n.should_restrict_vanuatu_account_creation,toggleCFDVerificationModal:t.cfd.toggleCFDVerificationModal,trading_platform_available_accounts:n.trading_platform_available_accounts,updateMT5Status:n.updateMT5Status,upgradeable_landing_companies:n.upgradeable_landing_companies,setAppstorePlatform:r.setAppstorePlatform,no_CR_account:o.no_CR_account,is_eu_user:o.is_eu_user,no_MF_account:o.no_MF_account,CFDs_restricted_countries:o.CFDs_restricted_countries}}))((function(e){var t,n=e.content_flag,r=e.account_settings,c=e.account_status,s=e.clearCFDError,u=e.current_list,d=e.has_real_account,_=e.is_demo_tab,f=e.is_logged_in,m=e.is_pre_appstore_setting,p=e.is_preappstore_cr_demo_account,h=e.is_preappstore_restricted_cr_demo_account,v=e.is_real_enabled,g=e.is_virtual,y=e.openDerivRealAccountNeededModal,b=e.openPasswordModal,S=e.openSwitchToRealAccountModal,O=e.real_account_creation_unlock_date,M=e.setAccountSettings,C=e.setAccountType,j=e.setAppstorePlatform,L=e.setJurisdictionSelectedShortcode,N=e.setShouldShowCooldownModal,R=e.should_restrict_bvi_account_creation,I=e.should_restrict_vanuatu_account_creation,B=e.should_show_derivx,V=e.show_eu_related_content,U=e.toggleCFDVerificationModal,X=e.toggleCompareAccounts,W=e.trading_platform_available_accounts,G=e.upgradeable_landing_companies,H=e.updateMT5Status,q=e.no_CR_account,J=e.is_eu_user,$=e.no_MF_account,Y=e.CFDs_restricted_countries,K=A(a().useState(!1),2),Z=K[0],Q=K[1],ee=W.map((function(e){return"".concat("gaming"===e.market_type?"synthetic":e.market_type,"_").concat(e.shortcode)})),te=W.some((function(e){return"gaming"===e.market_type})),ne=[].concat(D(ee),D(B&&te?["derivx"]:[])),re=V?1:6,ae=f?ne.length:re,oe=f||V?ne.filter((function(e){return e.startsWith("synthetic")})).length:2,ie=f||V?ne.filter((function(e){return e.startsWith("financial")})).length||1:4,ce=1===oe&&1===ie,le=(0,l.getAuthenticationStatusInfo)(c),se=le.poi_or_poa_not_submitted,ue=le.poi_acknowledged_for_vanuatu_maltainvest,de=le.poi_acknowledged_for_bvi_labuan,_e=le.poa_acknowledged,fe=le.poa_pending;a().useEffect((function(){if(f&&!g&&H(),!Z){var e={};r?e=r:l.WS.authorized.storage.getSettings().then((function(t){e=t.get_settings,M(t.get_settings)}));var t=e,n=t.citizen,a=t.place_of_birth,o=t.tax_residence,i=t.tax_identification_number,c=t.account_opening_reason;n&&a&&o&&i&&c&&Q(!0)}}),[]);var me,pe,he=function(e){return Object.entries(u).some((function(t){var n=A(t,2),r=n[0],a=n[1],o=A(e.action.split("_"),2),i=o[0],c=o[1],s=_?"demo":"real";return a.market_type===i&&a.landing_company_short===c&&a.account_type===s&&r.includes(l.CFD_PLATFORMS.MT5)}))},ve=function(e){var t=f&&(m?q&&!J||$&&J:!d)&&(null==G?void 0:G.length)>0&&v;X(),t?O&&"financial_maltainvest"===e.action?N(!0):y():g&&!["synthetic_svg","financial_svg","derivx","financial_maltainvest"].includes(e.action)?S():function(e){var t={category:_?"demo":"real",type:"derivx"===e.action?"all":e.action.startsWith("financial")?"financial":"synthetic"};switch(s(),C(t),e.action){case"synthetic_svg":case"financial_svg":j(l.CFD_PLATFORMS.MT5),L("svg"),b(t);break;case"synthetic_bvi":case"financial_bvi":j(l.CFD_PLATFORMS.MT5),L("bvi"),de&&!se&&!R&&Z&&_e?b(t):U();break;case"synthetic_vanuatu":case"financial_vanuatu":j(l.CFD_PLATFORMS.MT5),L("vanuatu"),ue&&!se&&!I&&Z&&_e?b(t):U();break;case"financial_labuan":j(l.CFD_PLATFORMS.MT5),L("labuan"),de&&_e&&Z?b(t):U();break;case"financial_maltainvest":j(l.CFD_PLATFORMS.MT5),L("maltainvest"),ue&&_e||_?b(t):U();break;case"derivx":j(l.CFD_PLATFORMS.DXTRADE),b(t)}}(e)},ge=B&&oe?"__pre-appstore":"",ye=p?"cfd-accounts-compare-modal-row-demo":V?"cfd-accounts-compare-modal-row-eu":null;return a().createElement("div",{className:"cfd-accounts-compare-modal"},a().createElement("div",{className:"cfd-accounts-compare-modal__table-wrapper"},a().createElement(o.Table,{className:"cfd-accounts-compare-modal__table"},a().createElement(o.Table.Header,null,a().createElement(o.Table.Row,{className:null!=ye?ye:w()("cfd-accounts-compare-modal__table-header".concat(ge),(t={},P(t,"cfd-accounts-compare-modal__table-header-for-synthetic-".concat(oe,"-financial-").concat(ie).concat(ge),ae<6&&!Y),P(t,"cfd-accounts-compare-modal__table-header-for-synthetic-".concat(oe).concat(ge),Y),t))},a().createElement(o.Table.Head,{fixed:!0,className:"cfd-accounts-compare-modal__table-empty-cell"}),!V&&oe>0&&a().createElement(o.Table.Head,{className:"cfd-accounts-compare-modal__table-header-item"},(0,i.localize)("Derived")),!Y&&ie>0&&a().createElement(o.Table.Head,{className:"cfd-accounts-compare-modal__table-header-item"},V?(0,i.localize)("CFDs"):(0,i.localize)("Financial")),!Y&&B&&oe>0&&a().createElement(o.Table.Head,{className:"cfd-accounts-compare-modal__table-header-item"},(0,i.localize)("Deriv X")))),a().createElement(a().Fragment,null,a().createElement(o.Table.Body,null,(pe=p?[{id:"platform",attribute:(0,i.localize)("Platform"),values:{synthetic_svg:{text:(0,i.localize)("MT5")},financial_svg:{text:(0,i.localize)("MT5")},derivx:{text:(0,i.localize)("Deriv X")}}},{id:"leverage",attribute:(0,i.localize)("Maximum leverage"),values:{synthetic_svg:{text:(0,i.localize)("Up to 1:1000")},financial_svg:{text:(0,i.localize)("Up to 1:1000")},derivx:{text:(0,i.localize)("Up to 1:1000")}}},{id:"instruments",attribute:(0,i.localize)("Trading instruments"),values:{synthetic_svg:[{text:(0,i.localize)("Synthetics")},{text:(0,i.localize)("Baskets")},{text:(0,i.localize)("Derived FX")}],financial_svg:[{text:(0,i.localize)("Forex: standard/micro")},{text:(0,i.localize)("Stocks")},{text:(0,i.localize)("Stock indices")},{text:(0,i.localize)("Commodities")},{text:(0,i.localize)("Cryptocurrencies")}],derivx:[{text:(0,i.localize)("Synthetics")},{text:(0,i.localize)("Baskets")},{text:(0,i.localize)("Derived FX")},{text:(0,i.localize)("Forex: standard/micro")},{text:(0,i.localize)("Stocks")},{text:(0,i.localize)("Stock indices")},{text:(0,i.localize)("Commodities")},{text:(0,i.localize)("Cryptocurrencies")}]}}]:V?m&&n===l.ContentFlag.EU_DEMO?[{id:"leverage",attribute:(0,i.localize)("Maximum leverage"),values:{financial_maltainvest:{text:(0,i.localize)("Up to 1:30"),options:{size:"xxxs"}}}},{id:"instruments",attribute:(0,i.localize)("Trading instruments"),values:{financial_maltainvest:[{text:(0,i.localize)("Synthetics"),options:{should_show_asterick_at_end:!0}},{text:(0,i.localize)("Forex: standard")},{text:(0,i.localize)("Stocks")},{text:(0,i.localize)("Stock indices")},{text:(0,i.localize)("Commodities")},{text:(0,i.localize)("Cryptocurrencies")},{text:(0,i.localize)("*Boom 300 and Crash 300 Index"),options:{color:"loss-danger",weight:"bold",styles:{paddingTop:"2rem"}}}]}}]:[{id:"platform",attribute:(0,i.localize)("Platform"),values:{financial_maltainvest:{text:(0,i.localize)("MT5"),options:{size:"xxs"}}}},{id:"jurisdiction",attribute:(0,i.localize)("Jurisdiction"),values:{financial_maltainvest:{text:(0,i.localize)("Malta"),options:{weight:"bold"}}}},{id:"counterparty",attribute:(0,i.localize)("Counterparty company"),values:{financial_maltainvest:{text:(0,i.localize)("Deriv Investments (Europe) Limited")}}},{id:"regulator",attribute:(0,i.localize)("Regulator"),values:{financial_maltainvest:{text:(0,i.localize)("Regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)"),options:{styles:{padding:"1.8rem 0.8rem"}}}}},{id:"leverage",attribute:(0,i.localize)("Maximum leverage"),values:{financial_maltainvest:{text:(0,i.localize)("Up to 1:30"),options:{size:"xxxs"}}}},{id:"instruments",attribute:(0,i.localize)("Trading instruments"),values:{financial_maltainvest:[{text:(0,i.localize)("Synthetics"),options:{should_show_asterick_at_end:!0}},{text:(0,i.localize)("Forex: standard")},{text:(0,i.localize)("Stocks")},{text:(0,i.localize)("Stock indices")},{text:(0,i.localize)("Commodities")},{text:(0,i.localize)("Cryptocurrencies")},{text:(0,i.localize)("*Boom 300 and Crash 300 Index"),options:{color:"loss-danger",weight:"bold",styles:{paddingTop:"2rem"}}}]}}]:[{id:"platform",attribute:(0,i.localize)("Platform"),values:{synthetic_svg:{text:(0,i.localize)("MT5")},derivx:{text:(0,i.localize)("Deriv X")}}},{id:"jurisdiction",attribute:(0,i.localize)("Jurisdiction"),values:{synthetic_svg:{text:(0,i.localize)("St. Vincent & Grenadines"),options:{weight:"bold"}},synthetic_bvi:{text:(0,i.localize)("British Virgin Islands"),options:{weight:"bold"}},synthetic_vanuatu:{text:(0,i.localize)("Vanuatu"),options:{weight:"bold"}},financial_svg:{text:(0,i.localize)("St. Vincent & Grenadines"),options:{weight:"bold"}},financial_bvi:{text:(0,i.localize)("British Virgin Islands"),options:{weight:"bold"}},financial_vanuatu:{text:(0,i.localize)("Vanuatu"),options:{weight:"bold"}},financial_labuan:{text:(0,i.localize)("Labuan"),options:{weight:"bold"},tooltip_msg:(0,i.localize)("Choosing this jurisdiction will give you a Financial STP account. Your trades will go directly to the market and have tighter spreads.")},derivx:{text:(0,i.localize)("St. Vincent & Grenadines"),options:{weight:"bold"}}}},{id:"counterparty",attribute:(0,i.localize)("Counterparty company"),values:{synthetic_svg:{text:(0,i.localize)("Deriv (SVG) LLC")},synthetic_bvi:{text:(0,i.localize)("Deriv (BVI) Ltd")},synthetic_vanuatu:{text:(0,i.localize)("Deriv (V) Ltd")},financial_svg:{text:(0,i.localize)("Deriv (SVG) LLC")},financial_bvi:{text:(0,i.localize)("Deriv (BVI) Ltd")},financial_vanuatu:{text:(0,i.localize)("Deriv (V) Ltd")},financial_labuan:{text:(0,i.localize)("Deriv (FX) Ltd")},derivx:{text:(0,i.localize)("Deriv (SVG) LLC")}}},{id:"regulator",attribute:(0,i.localize)("Regulator/External dispute resolution"),values:{synthetic_svg:{text:(0,i.localize)("Financial Commission")},synthetic_bvi:{text:(0,i.localize)("British Virgin Islands Financial Services Commission (licence no. SIBA/L/18/1114)")},synthetic_vanuatu:{text:(0,i.localize)("Vanuatu Financial Services Commission")},financial_svg:{text:(0,i.localize)("Financial Commission")},financial_bvi:{text:(0,i.localize)("British Virgin Islands Financial Services Commission (licence no. SIBA/L/18/1114)")},financial_vanuatu:{text:(0,i.localize)("Vanuatu Financial Services Commission")},financial_labuan:{text:(0,i.localize)("Labuan Financial Services Authority (Licence no. MB/18/0024)")},derivx:{text:"Financial Commission"}}},{id:"leverage",attribute:(0,i.localize)("Maximum leverage"),values:{synthetic_svg:{text:(0,i.localize)("Up to 1:1000")},financial_vanuatu:{text:(0,i.localize)("Up to 1:1000")},financial_labuan:{text:(0,i.localize)("Up to 1:100")},derivx:{text:(0,i.localize)("Up to 1:1000")}}},{id:"instruments",attribute:(0,i.localize)("Trading instruments"),values:{synthetic_svg:[{text:(0,i.localize)("Synthetics")},{text:(0,i.localize)("Baskets")},{text:(0,i.localize)("Derived FX")}],financial_svg:[{text:(0,i.localize)("Forex: standard/micro")},{text:(0,i.localize)("Stocks")},{text:(0,i.localize)("Stock indices")},{text:(0,i.localize)("Commodities")},{text:(0,i.localize)("Cryptocurrencies")}],financial_vanuatu:[{text:(0,i.localize)("Forex")},{text:(0,i.localize)("Stock indices")},{text:(0,i.localize)("Commodities")},{text:(0,i.localize)("Cryptocurrencies")}],financial_labuan:[{text:(0,i.localize)("Forex")},{text:(0,i.localize)("Cryptocurrencies")}],derivx:[{text:(0,i.localize)("Synthetics")},{text:(0,i.localize)("Baskets")},{text:(0,i.localize)("Derived FX")},{text:(0,i.localize)("Forex: standard/micro")},{text:(0,i.localize)("Stocks")},{text:(0,i.localize)("Stock indices")},{text:(0,i.localize)("Commodities")},{text:(0,i.localize)("Cryptocurrencies")}]}}],f?pe.map((function(e){var t=Object.entries(e.values).reduce((function(e,t){var n=A(t,2),r=n[0],a=n[1];return ne.includes(r)?T(T({},e),{},P({},r,a)):e}),{}),n=T(T({},e),{},{values:{}}),r=B?7:6;if(ne.length<r&&!V){var a=["synthetic_svg","synthetic_bvi","financial_svg","financial_bvi","financial_vanuatu","financial_labuan"].concat(D(B&&oe>0?["derivx"]:[]));n.values=a.reduce((function(e,t){return ne.includes(t)?T(T({},e),{},P({},t,void 0)):e}),{}),ne.forEach((function(t){"leverage"!==e.id||"financial_svg"!==t&&"financial_bvi"!==t?"instruments"===e.id&&"synthetic_bvi"===t?n.values[t]=e.values.synthetic_svg:"instruments"===e.id&&"financial_bvi"===t&&(n.values[t]=e.values.financial_svg):n.values[t]=e.values.financial_vanuatu}))}return T(T({},n),{},{values:T(T({},n.values),t)})})):V?pe:pe.map((function(e){var t=e.values,n=(t.derivx,k(t,E));return T(T({},e),{},{values:n})}))).map((function(e){return a().createElement(F,z({key:e.id},e,{pre_appstore_class:ge,available_accounts_count:ae,classname_for_demo_and_eu:ye,is_pre_appstore_setting:m,content_flag:n,is_high_risk_for_mt5:ce,CFDs_restricted_countries:Y,is_preappstore_restricted_cr_demo_account:h}))}))),f&&a().createElement(o.Table.Row,{className:null!=ye?ye:w()("cfd-accounts-compare-modal__table-footer".concat(ge),P({},"cfd-accounts-compare-modal__row-with-columns-count-".concat(ae+1),ae<6))},a().createElement(o.Table.Cell,{fixed:!0,className:"cfd-accounts-compare-modal__table-empty-cell cfd-accounts-compare-modal__table-footer__item"}),(me=p?[{label:(0,i.localize)("Add"),action:"synthetic_svg"},{label:(0,i.localize)("Add"),action:"financial_svg"},{label:(0,i.localize)("Add"),action:"derivx"}]:_&&V||V?x():[{label:(0,i.localize)("Add"),action:"synthetic_svg"},{label:(0,i.localize)("Add"),action:"synthetic_bvi"},{label:(0,i.localize)("Add"),action:"synthetic_vanuatu"},{label:(0,i.localize)("Add"),action:"financial_svg"},{label:(0,i.localize)("Add"),action:"financial_bvi"},{label:(0,i.localize)("Add"),action:"financial_vanuatu"},{label:(0,i.localize)("Add"),action:"financial_labuan"},{label:(0,i.localize)("Add"),action:"derivx"}],me.filter((function(e){return(!Y||"derivx"!==e.action)&&ne.includes(e.action)}))).map((function(e,t){return a().createElement(o.Table.Cell,{key:t,className:w()("cfd-accounts-compare-modal__table-footer__item",P({},"cfd-accounts-compare-modal__table-footer__item--eu-pre_appstore}",m&&V))},!_&&function(e){var t=e.action.split("_")[1];return!(he(e)||"derivx"===e.action||("bvi"!==t||!R||!fe)&&("vanuatu"!==t||!I||!fe))}(e)?a().createElement("div",{className:"cfd-accounts-compare-modal__table-footer__item--verification-pending"},a().createElement(o.Text,{size:l.isDesktop?"xxs":"xxxs",align:"center"},(0,i.localize)("Pending verification"))):a().createElement(o.Button,{className:"cfd-accounts-compare-modal__table-footer__button",disabled:"derivx"===e.action?Object.entries(u).some((function(e){var t=A(e,2),n=t[0],r=t[1],a=_?"demo":"real";return r.account_type===a&&n.includes(l.CFD_PLATFORMS.DXTRADE)})):he(e),type:"button",primary_light:!0,onClick:function(){return ve(e)}},e.label))})))))))}));function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t=e.landing_companies,n=e.is_logged_in,r=[null==t?void 0:t.dxtrade_all_company].length,a=n?r:2;return[{attribute:(0,i.localize)("Currency"),dxtrade:{derivx:(0,i.localize)("USD"),footnote:null}},{attribute:(0,i.localize)("Maximum leverage"),dxtrade:{derivx:(0,i.localize)("Up to 1:1000"),footnote:(0,i.localize)("Leverage gives you the ability to trade a larger position using your existing capital. Leverage varies across different symbols.")}},{attribute:(0,i.localize)("Order execution"),dxtrade:{derivx:(0,i.localize)("Market"),footnote:(0,i.localize)("All {{count}} account types use market execution. This means you agree with the broker's price in advance and will place orders at the broker's price.",{count:a})}},{attribute:(0,i.localize)("Spread"),dxtrade:{derivx:(0,i.localize)("Fixed/Variable"),footnote:(0,i.localize)("The spread is the difference between the buy price and sell price. A variable spread means that the spread is constantly changing, depending on market conditions. A fixed spread remains constant but is subject to alteration, at the Broker's absolute discretion.")}},{attribute:(0,i.localize)("Commission"),dxtrade:{derivx:(0,i.localize)("No"),footnote:(0,i.localize)("Deriv charges no commission across all account types.")}},{attribute:(0,i.localize)("Minimum deposit"),dxtrade:{derivx:(0,i.localize)("No"),footnote:null}},{attribute:(0,i.localize)("Margin call"),dxtrade:{derivx:(0,i.localize)("100%"),footnote:(0,i.localize)("Youll get a warning, named margin call, if your account balance drops down close to the stop out level.")}},{attribute:(0,i.localize)("Stop out level"),dxtrade:{derivx:(0,i.localize)("50%"),footnote:(0,i.localize)("If your margin level drops below our stop out level, your positions may be closed automatically to protect you from further losses.")}},{attribute:(0,i.localize)("Negative Balance Protection"),dxtrade:{derivx:(0,i.localize)("Available"),footnote:null}},{attribute:(0,i.localize)("Number of assets"),dxtrade:{derivx:(0,i.localize)("110+"),footnote:null}},{attribute:(0,i.localize)("Cryptocurrency trading"),dxtrade:{derivx:(0,i.localize)("N/A"),footnote:(0,i.localize)("Indicates the availability of cryptocurrency trading on a particular account.")}},{attribute:(0,i.localize)("Trading instruments"),dxtrade:{derivx:(0,i.localize)("Synthetics, Baskets, Derived FX, Forex: standard/micro, Stocks, Stock indices, Commodities, Cryptocurrencies"),footnote:null}}]},I=function(e){var t=e.name,n=e.counter,r=L(a().useState(!1),2),i=(r[0],r[1]);return n?a().createElement(a().Fragment,null,a().createElement(o.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer",onClick:function(){return i((function(e){return!e}))}},t,a().createElement(o.Text,{weight:"bold",as:"span",line_height:"x",size:"xxxs",className:"counter"},n))):a().createElement(o.Text,{as:"p",weight:"bold",size:"xs",line_height:"s",className:"cfd-attribute-describer"},t)},B=function(e){var t=e.landing_companies,n=e.is_logged_in,r=(e.is_eu_client,e.platform),o=(e.residence,e.is_uk);return function(e,t,n,r,o){var i=0;return t.filter((function(e){return e[o]})).map((function(e){var t=e.attribute,n=e.dxtrade,r=void 0===n?{}:n,c=r.derivx,s=r.footnote?++i:null;return o===l.CFD_PLATFORMS.DXTRADE?{attribute:a().createElement(I,{name:t,counter:s}),derivx:c}:{attribute:a().createElement(I,{name:t,counter:s})}}))}(0,R({landing_companies:t,platform:r,is_logged_in:n,is_uk:o}),0,0,r)},V=function(e){var t=e.platform,n=e.show_risk_message,r=e.landing_companies,c=e.is_logged_in,l=e.is_uk;return a().createElement("div",{className:"cfd-compare-account--hint"},a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),a().createElement(i.Localize,{i18n_default_text:"At bank rollover, liquidity in the forex markets is reduced and may increase the spread and processing time for client orders. This happens around 21:00 GMT during daylight saving time, and 22:00 GMT non-daylight saving time."})),n&&a().createElement(a().Fragment,null,a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement("span",{className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--circle"}),a().createElement(i.Localize,{i18n_default_text:"Margin call and stop out level will change from time to time based on market condition."})),a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement(o.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"*"),a().createElement(i.Localize,{i18n_default_text:"To protect your portfolio from adverse market movements due to the market opening gap, we reserve the right to decrease leverage on all offered symbols for financial accounts before market close and increase it again after market open. Please make sure that you have enough funds available in your {{platform}} account to support your positions at all times.",values:{platform:(0,i.localize)("Deriv X")}})),l&&a().createElement("div",{className:"cfd-compare-accounts__bullet-wrapper"},a().createElement(o.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},"**"),a().createElement(i.Localize,{i18n_default_text:"Cryptocurrency trading is not available for clients residing in the United Kingdom.",values:{platform:(0,i.localize)("Deriv X")}}))),R({landing_companies:r,platform:t,is_logged_in:c,is_uk:l}).filter((function(e){var n;return!(null===(n=e[t])||void 0===n||!n.footnote)})).map((function(e,n){return a().createElement("div",{key:n,className:"cfd-compare-accounts__bullet-wrapper"},a().createElement(o.Text,{size:"xs",line_height:"x",weight:"bold",className:"cfd-compare-accounts__bullet cfd-compare-accounts__bullet--star cfd-compare-accounts__star"},n+1),a().createElement("div",{className:"cfd-compare-accounts__footnote"},a().createElement(o.Text,{as:"p",size:"xs",weight:"bold",color:"prominent",className:"cfd-compare-accounts__footnote-title"},e.attribute),a().createElement(o.Text,{size:"xs",color:"prominent"},e[t].footnote)))})))};const U=function(e){var t=e.landing_companies,n=e.is_logged_in,r=e.platform,c=e.is_eu_client,s=e.residence,u=e.is_uk,d=L(a().useState([]),2),_=d[0],f=d[1],m=L(a().useState("1fr 1.5fr"),2),p=m[0],h=m[1];a().useEffect((function(){f(B({landing_companies:t,is_logged_in:n,platform:r,is_eu_client:c,residence:s,is_uk:u})),h("1fr 1.5fr")}),[null==t?void 0:t.mt_financial_company,null==t?void 0:t.mt_gaming_company,n,u,t,r,c,s]);var v=!c;return a().createElement(o.Div100vhContainer,{height_offset:"40px",is_bypassed:(0,l.isDesktop)()},a().createElement(o.ThemedScrollbars,{className:"cfd-compare-accounts",style:{"--cfd-compare-accounts-template-columns":p}},a().createElement("div",{className:"cfd-compare-accounts__table-wrapper"},a().createElement(o.Table,{className:"cfd-compare-accounts__table"},a().createElement(o.Table.Header,null,a().createElement(o.Table.Row,{className:"cfd-compare-accounts__table-row"},a().createElement(o.Table.Head,{fixed:!0}),a().createElement(o.Table.Head,null,(0,i.localize)("Deriv X")))),a().createElement(o.Table.Body,null,_.map((function(e,t){return a().createElement(o.Table.Row,{key:t,className:"cfd-compare-accounts__table-row"},Object.keys(e).map((function(t,n){return a().createElement(o.Table.Cell,{key:n,fixed:0===n},e[t])})))}))))),a().createElement(V,{platform:r,show_risk_message:v,landing_companies:t,is_logged_in:n,is_uk:u})))};var X=function(e){var t=e.is_demo_tab,n=e.is_logged_in,r=e.landing_companies,o=e.platform,i=e.is_eu_client,c=e.has_unmerged_account,l=e.residence,s=e.is_eu,u=e.is_uk;return t||!c?a().createElement(U,{is_logged_in:n,landing_companies:r,platform:o,is_eu_client:i,residence:l,is_eu:s,is_uk:u}):a().createElement(y,{is_logged_in:n,landing_companies:r,platform:o,is_eu_client:i,residence:l,is_eu:s,is_uk:u})};const W=(0,c.$j)((function(e){var t=e.modules,n=e.ui,r=e.client,a=e.traders_hub;return{disableApp:n.disableApp,enableApp:n.enableApp,is_compare_accounts_visible:t.cfd.is_compare_accounts_visible,is_loading:r.is_populating_mt5_account_list,is_eu:r.is_eu,is_uk:r.is_uk,is_eu_country:r.is_eu_country,is_logged_in:r.is_logged_in,landing_companies:r.landing_companies,residence:r.residence,toggleCompareAccounts:t.cfd.toggleCompareAccountsModal,openDerivRealAccountNeededModal:n.openDerivRealAccountNeededModal,selected_region:a.selected_region,is_eu_user:a.is_eu_user,content_flag:a.content_flag,show_eu_related_content:a.show_eu_related_content,CFDs_restricted_countries:a.CFDs_restricted_countries}}))((function(e){var t,n,r,c=e.context,s=e.disableApp,u=e.enableApp,d=e.has_unmerged_account,_=e.is_compare_accounts_visible,f=e.is_demo_tab,m=e.is_eu,p=e.is_loading,h=e.is_logged_in,v=e.is_real_enabled,g=e.is_uk,y=e.landing_companies,b=e.openDerivRealAccountNeededModal,w=e.openPasswordModal,x=e.platform,E=e.real_account_creation_unlock_date,S=e.residence,z=e.setShouldShowCooldownModal,O=e.toggleCompareAccounts,T=e.content_flag,k=e.show_eu_related_content,D=e.CFDs_restricted_countries,A=window.location.pathname.startsWith("/appstore/traders-hub"),M=(0,l.isLandingCompanyEnabled)({landing_companies:y,platform:l.CFD_PLATFORMS.DXTRADE,type:"financial"})||(0,l.isLandingCompanyEnabled)({landing_companies:y,platform:l.CFD_PLATFORMS.DXTRADE,type:"gaming"})||(0,l.isLandingCompanyEnabled)({landing_companies:y,platform:l.CFD_PLATFORMS.DXTRADE,type:"all"}),C=A&&M&&!k,P=A&&k&&f,F=A&&T===l.ContentFlag.CR_DEMO,L=A&&D&&T===l.ContentFlag.CR_DEMO,N=x&&x===l.CFD_PLATFORMS.DXTRADE,R=1===[null==y||null===(t=y.mt_gaming_company)||void 0===t?void 0:t.financial,null==y||null===(n=y.mt_financial_company)||void 0===n?void 0:n.financial,null==y||null===(r=y.mt_financial_company)||void 0===r?void 0:r.financial_stp].filter(Boolean).length||f&&x===l.CFD_PLATFORMS.DXTRADE||!d&&x===l.CFD_PLATFORMS.DXTRADE?(0,i.localize)("Account Information"):(0,i.localize)("Compare accounts"),I=function(){return A&&k?f?(0,i.localize)("Deriv MT5 CFDs demo account"):(0,i.localize)("Deriv MT5 CFDs real account"):C?f?(0,i.localize)("Compare CFDs demo accounts"):(0,i.localize)("Compare CFDs real accounts"):N?R:(0,i.localize)("Compare available accounts")},B=function(){return N?{height:"696px",width:"903px"}:F?{height:"404px",width:"610px"}:k?A?T===l.ContentFlag.EU_DEMO?{height:"350px",width:"483px"}:{height:"560px",width:"483px"}:{height:"525px",width:"300px"}:A&&C?{height:"600px",width:"1115px"}:{height:"506px",width:"996px"}},V=function(){return N?a().createElement(X,{is_demo_tab:f,is_logged_in:h,landing_companies:y,platform:x,is_eu_client:!!k,residence:S,has_unmerged_account:d,is_eu:m,is_uk:g}):a().createElement(j,{content_flag:T,context:c,is_demo_tab:f,is_logged_in:h,is_pre_appstore_setting:A,is_preappstore_cr_demo_account:F,is_preappstore_restricted_cr_demo_account:L,is_real_enabled:v,openDerivRealAccountNeededModal:b,openPasswordModal:w,real_account_creation_unlock_date:E,setShouldShowCooldownModal:z,should_show_derivx:C,show_eu_related_content:k,show_preappstore_eu_demo:P,toggleCompareAccounts:O})};return a().createElement(a().Fragment,null,a().createElement("div",{className:"cfd-compare-accounts-modal__wrapper",style:{marginTop:N?"5rem":"2.4rem"}},!(f&&"mt5"===x)&&!A&&a().createElement(o.Button,{className:"cfd-dashboard__welcome-message--button",has_effect:!0,text:R,onClick:O,secondary:!0,disabled:p}),a().createElement(a().Suspense,{fallback:a().createElement(o.UILoader,null)},a().createElement(o.DesktopWrapper,null,a().createElement(o.Modal,{className:N?"cfd-dashboard__compare-accounts":"cfd-accounts-compare-modal",disableApp:s,enableApp:u,is_open:_,title:I(),toggleModal:O,type:"button",height:B().height,width:B().width,exit_classname:N?"":"cfd-modal--custom-exit"},V())),a().createElement(o.MobileWrapper,null,a().createElement(o.MobileDialog,{portal_element_id:"deriv_app",title:I(),wrapper_classname:"cfd-dashboard__compare-accounts",visible:_,onClose:O,header_classname:N?"":"cfd-accounts-compare-modal-mobile-header",has_full_height:!0},V())))))}))},"./src/Containers/jurisdiction-modal/jurisdiction-modal.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>S});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("@deriv/translations"),c=n("./src/Stores/connect.js"),l=n("../../node_modules/classnames/index.js"),s=n.n(l),u=n("@deriv/shared"),d=function(e){var t=e.account_status,n=e.account_type,r=e.card_classname,c=e.disabled,l=(e.context,e.is_virtual),s=e.type_of_card,d=e.should_restrict_bvi_account_creation,_=e.should_restrict_vanuatu_account_creation,f=e.real_synthetic_accounts_existing_data,m=e.real_financial_accounts_existing_data,p=(0,u.getAuthenticationStatusInfo)(t),h=p.poi_not_submitted_for_vanuatu_maltainvest,v=p.poi_and_poa_not_submitted,g=p.poi_resubmit_for_vanuatu_maltainvest,y=p.poi_resubmit_for_bvi_labuan,b=p.need_poa_resubmission,w=p.need_poi_for_bvi_labuan,x=p.poa_pending,E=p.poi_acknowledged_for_vanuatu_maltainvest,S=p.poi_acknowledged_for_bvi_labuan,z=p.poa_not_submitted,O="svg"===s,T="vanuatu"===s,k="bvi"===s,D="labuan"===s,A="maltainvest"===s;return c&&("synthetic"===n?null==f?void 0:f.some((function(e){return e.landing_company_short===s})):null==m?void 0:m.some((function(e){return e.landing_company_short===s})))?a().createElement("div",{className:"".concat(r,"__verification-status--account_added")},a().createElement(o.Text,{size:"xxs",weight:"bold",color:"colored-background"},a().createElement(i.Localize,{i18n_default_text:"Account added"}))):l&&!O?a().createElement("div",{className:"".concat(r,"__verification-status--not_submitted")},a().createElement(o.Text,{as:"p",size:"xxxs",align:"center",color:"prominent"},a().createElement(i.Localize,{i18n_default_text:"Switch to your real account to create a Deriv MT5 {{account_title}} {{type_title}} account.",values:{account_title:function(){switch(n){case"synthetic":return"Derived";case"financial":return"Financial";default:return""}}(),type_title:function(){switch(s){case"bvi":return"BVI";case"vanuatu":return"Vanuatu";case"labuan":return"STP";default:return""}}()}}))):O?a().createElement("div",{className:"".concat(r,"__verification-status--hint")},a().createElement(o.Text,{size:"xxxs",align:"center","line-height":"s",color:"less-prominent"},a().createElement(i.Localize,{i18n_default_text:"You will need to submit proof of identity and address once you reach certain thresholds"}))):v?a().createElement("div",{className:"".concat(r,"__verification-status--not_submitted")},a().createElement(o.Text,{as:"p",size:"xxs",align:"center",color:"prominent"},a().createElement(i.Localize,{i18n_default_text:"Proof of identity and address are required"}))):T&&h?a().createElement("div",{className:"".concat(r,"__verification-status--not_submitted")},a().createElement(o.Text,{as:"p",size:"xxs",align:"center",color:"prominent"},a().createElement(i.Localize,{i18n_default_text:"Proof of identity is required"}))):k&&d||T&&_?x?a().createElement("div",{className:"".concat(r,"__verification-status--pending")},a().createElement(o.Text,{size:"xxs",color:"prominent"},a().createElement(i.Localize,{i18n_default_text:"Pending proof of address review"}))):a().createElement("div",{className:"".concat(r,"__verification-status--failed")},a().createElement(o.Text,{size:"xxs",color:"colored-background"},a().createElement(i.Localize,{i18n_default_text:"Resubmit proof of address"}))):(k||D)&&E&&z||(T||A)&&S&&z?a().createElement("div",{className:"".concat(r,"__verification-status--failed")},a().createElement(o.Text,{size:"xxs",color:"colored-background"},a().createElement(i.Localize,{i18n_default_text:"Proof of address is required"}))):(k||D)&&w&&b||(T||A)&&g&&b?a().createElement("div",{className:"".concat(r,"__verification-status--failed")},a().createElement(o.Text,{size:"xxs",color:"colored-background"},a().createElement(i.Localize,{i18n_default_text:"Resubmit your proof of identity and address"}))):(k||D)&&y||(T||A)&&g?a().createElement("div",{className:"".concat(r,"__verification-status--failed")},a().createElement(o.Text,{size:"xxs",color:"colored-background"},a().createElement(i.Localize,{i18n_default_text:"Resubmit proof of identity"}))):!O&&b?a().createElement("div",{className:"".concat(r,"__verification-status--failed")},a().createElement(o.Text,{size:"xxs",color:"colored-background"},a().createElement(i.Localize,{i18n_default_text:"Resubmit proof of address"}))):null};const _=(0,c.$j)((function(e){var t=e.modules.cfd,n=e.client;return{account_status:n.account_status,is_virtual:n.is_virtual,should_restrict_bvi_account_creation:n.should_restrict_bvi_account_creation,should_restrict_vanuatu_account_creation:n.should_restrict_vanuatu_account_creation,real_financial_accounts_existing_data:t.real_financial_accounts_existing_data,real_synthetic_accounts_existing_data:t.real_synthetic_accounts_existing_data}}))((function(e){return a().createElement("div",{className:"".concat(e.card_classname,"__verification-status")},a().createElement(d,e))}));function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const v=function(e){var t=e.account_type,n=e.disabled,r=e.context,c=e.jurisdiction_selected_shortcode,l=e.financial_available_accounts,u=e.setJurisdictionSelectedShortcode,d=e.synthetic_available_accounts,f=e.type_of_card,h="cfd-jurisdiction-card--".concat(t),v=null==d?void 0:d.length,g=null==l?void 0:l.length,y="synthetic"===t,b=p(a().useState(y?v:g),1)[0],w={svg:{is_over_header_available:!1,header:(0,i.localize)("St. Vincent & Grenadines"),synthetic_contents:["".concat((0,i.localize)("Selecting this will onboard you through Deriv (SVG) LLC (company no. 273 LLC 2020)")),"".concat((0,i.localize)("30+ assets: synthetics, basket indices and derived FX")),"".concat((0,i.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,i.localize)("Selecting this will onboard you through Deriv (SVG) LLC (company no. 273 LLC 2020)")),"".concat((0,i.localize)("Registered with the Financial Commission")),"".concat((0,i.localize)("165+ assets: forex (standard/micro), stocks, stock indices, commodities, and cryptocurrencies")),"".concat((0,i.localize)("Leverage up to 1:1000"))]},vanuatu:{is_over_header_available:!1,header:(0,i.localize)("Vanuatu"),synthetic_contents:["".concat((0,i.localize)("Regulated by the Vanuatu Financial Services Commission")),"".concat((0,i.localize)("30+ assets: synthetics, basket indices and derived FX")),"".concat((0,i.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,i.localize)("Regulated by the Vanuatu Financial Services Commission")),"".concat((0,i.localize)("Registered with the Financial Commission")),"".concat((0,i.localize)("90+ assets: forex, stock indices, commodities and cryptocurrencies")),"".concat((0,i.localize)("Leverage up to 1:1000"))]},labuan:{over_header:(0,i.localize)("Straight-through processing"),is_over_header_available:!0,header:(0,i.localize)("Labuan"),synthetic_contents:["".concat((0,i.localize)("Regulated by the Labuan Financial Services Authority (Licence no. MB/18/0024)")),"".concat((0,i.localize)("Registered with the Financial Commission")),"".concat((0,i.localize)("80+ assets: forex and cryptocurrencies")),"".concat((0,i.localize)("Leverage up to 1:100"))],financial_contents:["".concat((0,i.localize)("Regulated by the Labuan Financial Services Authority (Licence no. MB/18/0024)")),"".concat((0,i.localize)("Registered with the Financial Commission")),"".concat((0,i.localize)("80+ assets: forex and cryptocurrencies")),"".concat((0,i.localize)("Leverage up to 1:100")),"".concat((0,i.localize)("Straight-through processing"))]},maltainvest:{is_over_header_available:!1,header:(0,i.localize)("Malta"),synthetic_contents:["".concat((0,i.localize)("Regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)")),"".concat((0,i.localize)("Registered with the Financial Commission")),"".concat((0,i.localize)("150+ assets: forex, stocks, stock indices, synthetics, commodities and cryptocurrencies")),"".concat((0,i.localize)("Leverage up to 1:30"))],financial_contents:["".concat((0,i.localize)("Regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)")),"".concat((0,i.localize)("Registered with the Financial Commission")),"".concat((0,i.localize)("150+ assets: forex, stocks, stock indices, synthetics, commodities and cryptocurrencies")),"".concat((0,i.localize)("Leverage up to 1:30"))]},bvi:{is_over_header_available:!1,header:(0,i.localize)("British Virgin Islands"),synthetic_contents:["".concat((0,i.localize)("Regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114)")),"".concat((0,i.localize)("30+ assets: synthetics, basket indices and derived FX")),"".concat((0,i.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,i.localize)("Regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114)")),"".concat((0,i.localize)("Registered with the Financial Commission")),"".concat((0,i.localize)("165+ assets: forex (standard/micro), stocks, stock indices, commodities, and cryptocurrencies")),"".concat((0,i.localize)("Leverage up to 1:1000"))]}}[f],x=y?w.synthetic_contents:w.financial_contents,E=function(){return a().createElement(o.Icon,{icon:"IcCheckmark",className:"".concat(h,"__bullet-wrapper--checkmark"),color:"green",size:18})};return a().createElement(a().Fragment,null,a().createElement("div",{className:s()(h,m({},"".concat(h,"--selected"),c===f)),onClick:n?function(){}:function(){var e;u(c===(e=f)?"":e)},style:[1,2,3].includes(b)?{width:"32em"}:{width:"27.6em"}},w.is_over_header_available&&a().createElement("div",{className:s()("".concat(h,"__over-header"))},a().createElement(o.Text,{as:"p",color:"info-blue",line_height:"xxl",weight:"bold"},a().createElement(i.Localize,{i18n_default_text:w.over_header}))),a().createElement("div",{className:"".concat(h,"__info-container")},a().createElement(o.Text,{as:"p",color:"prominent",weight:"bold",size:"sm",className:"".concat(h,"__h2-header")},a().createElement(i.Localize,{i18n_default_text:w.header})),x.map((function(e,t){return a().createElement("div",{className:"".concat(h,"__bullet-wrapper"),key:t},a().createElement("div",null,a().createElement(E,null)),a().createElement(o.Text,{as:"p",size:"xs",color:"prominent"},a().createElement(i.Localize,{i18n_default_text:e})),/Straight-through processing/.test(e)&&a().createElement(o.Popover,{alignment:"left",className:"cfd-compare-accounts-tooltip",classNameBubble:"cfd-compare-accounts-tooltip--msg",icon:"info",disable_message_icon:!0,is_bubble_hover_enabled:!0,message:(0,i.localize)("Choosing this jurisdiction will give you a Financial STP account. Your trades will go directly to the market and have tighter spreads."),zIndex:9999}))}))),a().createElement(_,{type_of_card:f,card_classname:h,disabled:n,context:r,account_type:t})))};const g=function(e){var t=e.account_type,n=e.is_virtual,r=e.jurisdiction_selected_shortcode,o=e.setJurisdictionSelectedShortcode,i=e.synthetic_available_accounts,c=e.financial_available_accounts,l=e.context,s=e.real_synthetic_accounts_existing_data,u=e.real_financial_accounts_existing_data,d="cfd-jurisdiction-card--".concat(t),_=function(e){return!(!n||"svg"===e)||("synthetic"===t?null==s?void 0:s.some((function(t){return t.landing_company_short===e})):null==u?void 0:u.some((function(t){return t.landing_company_short===e})))};return a().createElement(a().Fragment,null,a().createElement("div",{className:"".concat(d,"__wrapper")},["svg","bvi","vanuatu","labuan","maltainvest"].map((function(e){return n=e,("synthetic"===t?null==i?void 0:i.some((function(e){return e.shortcode===n})):null==c?void 0:c.some((function(e){return e.shortcode===n})))&&a().createElement(v,{key:"".concat(t,"_").concat(e),type_of_card:e,context:l,disabled:_(e),jurisdiction_selected_shortcode:r,synthetic_available_accounts:i,financial_available_accounts:c,account_type:t,setJurisdictionSelectedShortcode:o});var n}))))};const y=function(e){var t=e.class_name,n=e.is_checked,r=e.jurisdiction_selected_shortcode,c=e.onCheck,l=e.context,s=e.should_restrict_bvi_account_creation,d=e.should_restrict_vanuatu_account_creation,_={bvi:{name:"Deriv (BVI) Ltd",tnc_url:"tnc/deriv-(bvi)-ltd.pdf"},labuan:{name:"Deriv (FX) Ltd",tnc_url:"tnc/deriv-(fx)-ltd.pdf"},maltainvest:{name:"Deriv Investments (Europe) Limited",tnc_url:"tnc/deriv-investments-(europe)-limited.pdf"},vanuatu:{name:"Deriv (V) Ltd",tnc_url:"tnc/general-terms.pdf"}};return a().createElement(a().Fragment,null,!!r&&!("svg"===r||"bvi"===r&&s||"vanuatu"===r&&d)&&a().createElement("div",{className:t},a().createElement(o.Checkbox,{context:l,value:n,onChange:c,label:a().createElement(o.Text,{as:"p",align:"center",size:(0,u.isMobile)()?"xxs":"xs",line_height:"xs"},a().createElement(i.Localize,{i18n_default_text:"I confirm and accept {{company}} 's <0>Terms and Conditions</0>",values:{company:_[r].name},components:[a().createElement(o.StaticUrl,{key:0,className:"link--no-bold",href:_[r].tnc_url})]})),defaultChecked:!!n})))};var b=function(e){var t=e.account_status,n=e.account_type,r=(e.context,e.card_classname),o=e.jurisdiction_selected_shortcode,c=e.should_restrict_bvi_account_creation,l=e.should_restrict_vanuatu_account_creation,s="synthetic"===n?"Derived":"Financial",d=(0,u.getAuthenticationStatusInfo)(t).poa_pending;return"svg"===o?a().createElement(i.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0> account under Deriv (SVG) LLC (company no. 273 LLC 2020).",values:{account_type_name:s}}):"bvi"===o&&c||"vanuatu"===o&&l?d?a().createElement(i.Localize,{i18n_default_text:"<0>You can open this account once your submitted documents have been verified.</0>",components:[a().createElement("span",{key:0,className:"".concat(r,"__footnote--pending")})]}):a().createElement(i.Localize,{i18n_default_text:"To create this account first we need you to resubmit your proof of address."}):"bvi"===o?a().createElement(i.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0>  account under Deriv (BVI) Ltd, regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114).",values:{account_type_name:s}}):"vanuatu"===o?a().createElement(i.Localize,{i18n_default_text:"Add Your Deriv MT5 <0>{{account_type_name}}</0>  account under Deriv (V) Ltd, regulated by the Vanuatu Financial Services Commission.",values:{account_type_name:s}}):"labuan"===o?a().createElement(i.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0>  STP account under Deriv (FX) Ltd regulated by Labuan Financial Services Authority (Licence no. MB/18/0024).",values:{account_type_name:s}}):"maltainvest"===o?a().createElement(i.Localize,{i18n_default_text:"Add your Deriv MT5 CFDs account under Deriv Investments (Europe) Limited, regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)."}):null};const w=function(e){return a().createElement("div",{className:"".concat(e.card_classname,"__footnote")},a().createElement(o.Text,{as:"p",color:"prominent",align:"center",size:(0,u.isMobile)()?"xxs":"xs",weight:"bold",line_height:"xs"},a().createElement(b,e)))};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const S=(0,c.$j)((function(e){var t=e.modules.cfd,n=e.ui,r=e.client,a=e.traders_hub;return{account_type:t.account_type,account_settings:r.account_settings,account_status:r.account_status,content_flag:a.content_flag,disableApp:n.disableApp,enableApp:n.enableApp,is_jurisdiction_modal_visible:t.is_jurisdiction_modal_visible,is_virtual:r.is_virtual,jurisdiction_selected_shortcode:t.jurisdiction_selected_shortcode,real_financial_accounts_existing_data:t.real_financial_accounts_existing_data,real_synthetic_accounts_existing_data:t.real_synthetic_accounts_existing_data,setAccountSettings:r.setAccountSettings,setJurisdictionSelectedShortcode:t.setJurisdictionSelectedShortcode,should_restrict_bvi_account_creation:r.should_restrict_bvi_account_creation,should_restrict_vanuatu_account_creation:r.should_restrict_vanuatu_account_creation,show_eu_related_content:a.show_eu_related_content,trading_platform_available_accounts:r.trading_platform_available_accounts,toggleCFDVerificationModal:t.toggleCFDVerificationModal,toggleJurisdictionModal:t.toggleJurisdictionModal,updateMT5Status:r.updateMT5Status,fetchAccountSettings:r.fetchAccountSettings,has_submitted_cfd_personal_details:t.has_submitted_cfd_personal_details}}))((function(e){var t=e.account_status,n=e.account_type,r=e.disableApp,c=e.enableApp,l=e.is_jurisdiction_modal_visible,s=e.context,d=e.is_virtual,_=e.jurisdiction_selected_shortcode,f=e.openPasswordModal,m=e.real_synthetic_accounts_existing_data,p=e.real_financial_accounts_existing_data,h=e.trading_platform_available_accounts,v=e.toggleJurisdictionModal,b=e.setJurisdictionSelectedShortcode,E=e.should_restrict_bvi_account_creation,S=e.should_restrict_vanuatu_account_creation,z=e.show_eu_related_content,O=e.toggleCFDVerificationModal,T=e.updateMT5Status,k=e.fetchAccountSettings,D=e.has_submitted_cfd_personal_details,A=x(a().useState(!1),2),M=A[0],C=A[1],P=(0,u.getAuthenticationStatusInfo)(t),F=P.poi_or_poa_not_submitted,j=P.poi_acknowledged_for_bvi_labuan,L=P.poi_acknowledged_for_vanuatu_maltainvest,N=P.poa_acknowledged,R=P.need_poa_resubmission;a().useEffect((function(){l&&(d||(T(),k()),b(""))}),[l]),a().useEffect((function(){_&&C(!1)}),[_,l]);var I=h.filter((function(e){return"financial"===e.market_type&&(z?"maltainvest"===e.shortcode:"maltainvest"!==e.shortcode)})),B=h.filter((function(e){return"gaming"===e.market_type&&(z?"maltainvest"===e.shortcode:"maltainvest"!==e.shortcode)})),V=z?(0,i.localize)("Jurisdiction for your Deriv MT5 CFDs account"):(0,i.localize)("Choose a jurisdiction for your MT5 {{account_type}} account",{account_type:"synthetic"===n.type?"Derived":"Financial"}),U="svg"===_,X="bvi"===_,W="vanuatu"===_,G="labuan"===_,H="maltainvest"===_,q=function(){return a().createElement(a().Fragment,null,a().createElement(g,{account_type:n.type,financial_available_accounts:I,is_virtual:d,real_financial_accounts_existing_data:p,real_synthetic_accounts_existing_data:m,jurisdiction_selected_shortcode:_,context:s,setJurisdictionSelectedShortcode:b,synthetic_available_accounts:B}),a().createElement("div",{className:"cfd-jurisdiction-card--".concat(n.type,"__footer-wrapper")},a().createElement(w,{account_status:t,account_type:n.type,card_classname:"cfd-jurisdiction-card--".concat(n.type),context:s,jurisdiction_selected_shortcode:_,should_restrict_bvi_account_creation:E,should_restrict_vanuatu_account_creation:S}),a().createElement(y,{is_checked:M,context:s,onCheck:function(){return C(!M)},class_name:"cfd-jurisdiction-card--".concat(n.type,"__jurisdiction-checkbox"),jurisdiction_selected_shortcode:_,should_restrict_bvi_account_creation:E,should_restrict_vanuatu_account_creation:S}),a().createElement(o.Modal.Footer,{has_separator:!0},a().createElement(o.Button,{disabled:!(_&&!("synthetic"===n.type?null==m?void 0:m.some((function(e){return e.landing_company_short===_})):null==p?void 0:p.some((function(e){return e.landing_company_short===_})))&&(U||X&&E&&R||W&&S&&R||M)),primary:!0,style:{width:(0,u.isMobile)()?"100%":"unset"},onClick:function(){var e;v(),e={category:n.category,type:n.type},U?f(e):W?L&&!F&&!S&&N&&D?f(e):O():X?j&&!F&&!E&&N&&D?f(e):O():G?j&&N&&D?f(e):O():H&&(L&&N?f(e):O())}},(0,i.localize)("Next")))))};return a().createElement("div",null,a().createElement(a().Suspense,{fallback:a().createElement(o.UILoader,null)},a().createElement(o.DesktopWrapper,null,a().createElement(o.Modal,{className:"jurisdiction-modal",disableApp:r,enableApp:c,exit_classname:"cfd-modal--custom-exit",is_open:l,title:V,toggleModal:v,type:"button",context:s,width:"synthetic"===n.type?"1040px":"1200px"},a().createElement(q,null))),a().createElement(o.MobileWrapper,null,a().createElement(o.MobileDialog,{portal_element_id:"deriv_app",title:V,context:s,visible:l,onClose:v},a().createElement(q,null)))))}))},"./src/Containers/mt5-trade-modal.tsx":(e,t,n)=>{"use strict";n.d(t,{default:()=>b});var r=n("react"),a=n.n(r),o=n("@deriv/components"),i=n("./src/Stores/connect.js"),c=n("@deriv/translations"),l=n("@deriv/shared"),s=n("./src/Components/cfd-account-copy.tsx"),u=n("./src/Helpers/constants.ts"),d=n("./src/Assets/svgs/trading-platform/index.tsx"),_=function(e){var t=e.value,n=e.is_bold;return a().createElement("div",{className:"cfd-trade-modal__spec-box"},a().createElement(o.Text,{size:"xs",weight:n?"bold":"",className:"cfd-trade-modal__spec-text"},t),a().createElement(s.O,{text:t,className:"cfd-trade-modal__spec-copy"}))},f=function(e){var t=e.platform,n=e.onClick;return a().createElement("div",{className:"cfd-trade-modal__password-box"},a().createElement("div",{className:"cfd-trade-modal__password-text"},a().createElement(o.Popover,{alignment:"right",message:(0,c.localize)("Use these credentials to log in to your {{platform}} account on the website and mobile apps.",{platform:(0,l.getCFDPlatformLabel)(t)}),classNameBubble:"cfd-trade-modal__password-tooltip",zIndex:9999},a().createElement(o.Text,{size:"xs"},"***************"))),a().createElement(o.Popover,{className:"cfd-trade-modal__password-popover",alignment:"left",message:(0,c.localize)("Change Password"),relative_render:!0,zIndex:9999},a().createElement(o.Button,{className:"cfd-trade-modal__password-action",transparent:!0,onClick:n,icon:a().createElement(o.Icon,{icon:"IcEdit",className:"da-article__learn-more-icon",custom_color:"var(--text-less-prominent)"})})))};const m=function(e){var t,n,r=e.mt5_trade_account,i=e.show_eu_related_content,s=e.onPasswordManager,m=e.toggleModal,p=function(){if("demo"===r.account_type&&"financial"===r.market_type&&"labuan"===r.landing_company_short||"real"===r.account_type)return r.landing_company_short},h=function(){return i?"CFDs":"synthetic"===r.market_type?"Derived":"Financial"};return a().createElement("div",{className:"cfd-trade-modal-container"},a().createElement("div",{className:"cfd-trade-modal"},a().createElement(d.Z,{icon:h(),size:24}),a().createElement("div",{className:"cfd-trade-modal__desc"},a().createElement(o.Text,{size:"xs",line_height:"l",className:"cfd-trade-modal__desc-heading"},(0,l.getCFDAccountDisplay)({market_type:r.market_type,sub_account_type:r.sub_account_type,platform:l.CFD_PLATFORMS.MT5,is_eu:i,shortcode:p(),is_mt5_trade_modal:!0})),(null==r?void 0:r.display_login)&&a().createElement(o.Text,{color:"less-prominent",size:"xxxs",line_height:"xxxs"},null==r?void 0:r.display_login)),(null==r?void 0:r.display_balance)&&a().createElement(o.Text,{size:"xs",color:"profit-success",className:"cfd-trade-modal__desc-balance",weight:"bold"},a().createElement(o.Money,{amount:r.display_balance,currency:r.currency,has_sign:!!r.balance&&r.balance<0,show_currency:!0}))),a().createElement("div",{className:"cfd-trade-modal__login-specs"},a().createElement("div",{className:"cfd-trade-modal__login-specs-item"},a().createElement(o.Text,{className:"cfd-trade-modal--paragraph"},(0,c.localize)("Broker")),a().createElement(_,{is_bold:!0,value:"Deriv Limited"})),a().createElement("div",{className:"cfd-trade-modal__login-specs-item"},a().createElement(o.Text,{className:"cfd-trade-modal--paragraph"},(0,c.localize)("Server")),a().createElement(_,{is_bold:!0,value:null==r||null===(t=r.server_info)||void 0===t?void 0:t.environment})),a().createElement("div",{className:"cfd-trade-modal__login-specs-item"},a().createElement(o.Text,{className:"cfd-trade-modal--paragraph"},(0,c.localize)("Login ID")),a().createElement(_,{is_bold:!0,value:null==r?void 0:r.display_login})),a().createElement("div",{className:"cfd-trade-modal__login-specs-item"},a().createElement(o.Text,{className:"cfd-trade-modal--paragraph"},(0,c.localize)("Password")),a().createElement("div",{className:"cfd-trade-modal--paragraph"},a().createElement(f,{platform:"mt5",onClick:function(){var e=(0,l.getCFDAccountKey)({market_type:r.market_type,sub_account_type:r.sub_account_type,platform:l.CFD_PLATFORMS.DMT5,shortcode:r.landing_company_short});s(null==r?void 0:r.login,function(e,t){return t&&(0,c.localize)("MT5 CFDs"),e}(r.market_type,i),r.account_type,e,null==r?void 0:r.server),m()}}))),a().createElement("div",{className:"cfd-trade-modal__maintenance"},a().createElement(o.Icon,{icon:"IcAlertWarning",size:(0,l.isMobile)()?28:20,className:"cfd-trade-modal__maintenance-icon"}),a().createElement("div",{className:"cfd-trade-modal__maintenance-text"},a().createElement(c.Localize,{i18n_default_text:"Server maintenance starts at 01:00 GMT every Sunday, and this process may take up to 2 hours to complete. Service may be disrupted during this time."})))),a().createElement("div",{className:"cfd-trade-modal__download-center-app"},a().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},a().createElement(o.Icon,{icon:"IcMt5Logo",size:32}),a().createElement(o.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,c.localize)("MetaTrader 5 web")),a().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,u.FJ)({category:r.account_type,loginid:r.display_login,server_name:null==r||null===(n=r.server_info)||void 0===n?void 0:n.environment}),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Text,{size:"xxs",weight:"bold"},(0,c.localize)("Open")))),a().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},a().createElement(o.Icon,{icon:"IcWindowsLogo",size:32}),a().createElement(o.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,c.localize)("MetaTrader 5 Windows app")),a().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,u.gG)("windows"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Text,{size:"xxs",weight:"bold"},(0,c.localize)("Download")))),a().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},a().createElement(o.Icon,{icon:"IcMacosLogo",size:32}),a().createElement(o.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,c.localize)("MetaTrader 5 MacOS app")),a().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,u.gG)("macos"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Text,{size:"xxs",weight:"bold"},(0,c.localize)("Download")))),a().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},a().createElement(o.Icon,{icon:"IcLinuxLogo",size:32}),a().createElement(o.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,c.localize)("MetaTrader 5 Linux app")),a().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,u.gG)("linux"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Text,{size:"xxs",weight:"bold"},(0,c.localize)("Learn more"))))),a().createElement(o.Text,{align:"center",as:"div",className:"cfd-trade-modal__download-center-text",size:(0,l.isMobile)()?"xxxs":"xxs",weight:"bold"},(0,c.localize)("Download {{ platform }} on your phone to trade with the {{ platform }} {{ account }} account",{platform:(0,l.getCFDPlatformLabel)(l.CFD_PLATFORMS.MT5),account:h()})),a().createElement("div",{className:"cfd-trade-modal__download-center-options"},a().createElement("div",{className:"cfd-trade-modal__download-center-options--mobile-links"},a().createElement("a",{href:(0,u.gG)("ios"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Icon,{icon:"IcInstallationApple",width:135,height:40})),a().createElement("a",{href:(0,u.gG)("android"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),a().createElement("a",{href:(0,u.gG)("huawei"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Icon,{icon:"IcInstallationHuawei",width:135,height:40}))),!(0,l.isMobile)()&&a().createElement("div",{className:"cfd-trade-modal__download-center-options--qrcode"},a().createElement("img",{src:(0,l.getUrlBase)("/public/images/common/mt5_download.png"),width:80,height:80}),a().createElement(o.Text,{align:"center",size:"xxs"},(0,c.localize)("Scan the QR code to download {{ platform }}.",{platform:(0,l.getPlatformSettings)("mt5").name})))))};var p=n("../../node_modules/react-qrcode/lib/qrcode.js"),h=function(e){var t=e.value,n=e.is_bold;return a().createElement("div",{className:"cfd-trade-modal__spec-box"},a().createElement(o.Text,{size:"xs",weight:n?"bold":"",className:"cfd-trade-modal__spec-text"},t),a().createElement(s.O,{text:t,className:"cfd-trade-modal__spec-copy"}))},v=function(e){var t=e.platform,n=e.onClick;return a().createElement("div",{className:"cfd-trade-modal__password-box"},a().createElement("div",{className:"cfd-trade-modal__password-text"},a().createElement(o.Popover,{alignment:"right",message:(0,c.localize)("Use these credentials to log in to your {{platform}} account on the website and mobile apps.",{platform:(0,l.getCFDPlatformLabel)(t)}),classNameBubble:"cfd-trade-modal__password-tooltip",zIndex:9999},a().createElement(o.Text,{size:"xs"},"***************"))),a().createElement(o.Popover,{className:"cfd-trade-modal__password-popover",alignment:"left",message:(0,c.localize)("Change Password"),relative_render:!0,zIndex:9999},a().createElement(o.Button,{className:"cfd-trade-modal__password-action",transparent:!0,onClick:n,icon:a().createElement(o.Icon,{icon:"IcEdit",className:"da-article__learn-more-icon",custom_color:"var(--text-less-prominent)"})})))},g=function(e){var t=e.dxtrade_tokens,n=e.is_demo;return a().createElement(a().Fragment,null,a().createElement("a",{className:"cfd-trade-modal__dxtrade-button",href:(0,u.Nu)(n?"demo":"real",t&&t[n?"demo":"real"]),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Icon,{className:"cfd-trade-modal__dxtrade-button-icon",icon:"IcBrandDxtrade",width:32,height:32}),a().createElement("div",{className:"cfd-trade-modal__dxtrade-button-text"},a().createElement(o.Text,{color:"colored-background",size:"xxs",weight:"bold"},a().createElement(c.Localize,{i18n_default_text:"Web terminal"})))))};const y=function(e){var t,n,r=e.mt5_trade_account,i=e.is_eu_user,s=e.onPasswordManager,d=e.toggleModal,_=e.dxtrade_tokens,f=e.is_demo,m=function(){if("demo"===r.account_type&&"financial"===r.market_type&&"labuan"===r.landing_company_short||"real"===r.account_type)return r.landing_company_short};return a().createElement("div",{className:"cfd-trade-modal-container"},a().createElement("div",{className:"cfd-trade-modal"},a().createElement(o.Icon,{icon:"IcBrandDxtrade",size:24}),a().createElement("div",{className:"cfd-trade-modal__desc"},a().createElement(o.Text,{size:"xs",line_height:"l",className:"cfd-trade-modal__desc-heading"},(0,l.getCFDAccountDisplay)({market_type:r.market_type,sub_account_type:r.sub_account_type,platform:l.CFD_PLATFORMS.MT5,is_eu:i,shortcode:m(),is_mt5_trade_modal:!0})),(null==r?void 0:r.display_login)&&a().createElement(o.Text,{color:"less-prominent",size:"xxxs",line_height:"xxxs"},null==r?void 0:r.display_login)),(null==r?void 0:r.display_balance)&&a().createElement(o.Text,{size:"xs",color:"profit-success",className:"cfd-trade-modal__desc-balance",weight:"bold"},a().createElement(o.Money,{amount:r.display_balance,currency:r.currency,has_sign:!!r.balance&&r.balance<0,show_currency:!0}))),a().createElement("div",{className:"cfd-trade-modal__login-specs"},a().createElement("div",{className:"cfd-trade-modal__login-specs-item"},a().createElement(o.Text,{className:"cfd-trade-modal--paragraph"},(0,c.localize)("Username")),a().createElement(h,{is_bold:!0,value:null==r?void 0:r.login})),a().createElement("div",{className:"cfd-trade-modal__login-specs-item"},a().createElement(o.Text,{className:"cfd-trade-modal--paragraph"},(0,c.localize)("Password")),a().createElement("div",{className:"cfd-trade-modal--paragraph"},a().createElement(v,{platform:"dxtrade",onClick:function(){var e=(0,l.getCFDAccountKey)({market_type:r.market_type,sub_account_type:r.sub_account_type,platform:l.CFD_PLATFORMS.DMT5,shortcode:r.landing_company_short});s(null==r?void 0:r.login,function(e,t){return t&&(0,c.localize)("MT5 CFDs"),e}(r.market_type,i),r.account_type,e,null==r?void 0:r.server),d()}}))),a().createElement("div",{className:"cfd-trade-modal__maintenance"},a().createElement(o.Icon,{icon:"IcAlertWarning",size:(0,l.isMobile)()?28:20,className:"cfd-trade-modal__maintenance-icon"}),a().createElement("div",{className:"cfd-trade-modal__maintenance-text"},a().createElement(c.Localize,{i18n_default_text:"Server maintenance starts at 06:00 GMT every Sunday and may last up to 2 hours. You may experience service disruption during this time."})))),a().createElement("div",{className:"cfd-trade-modal__download-center-app"},a().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},a().createElement(o.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,c.localize)("Run Deriv X on your browser")),a().createElement(g,{is_demo:f,dxtrade_tokens:_}))),a().createElement(o.Text,{align:"center",as:"div",className:"cfd-trade-modal__download-center-text",size:(0,l.isMobile)()?"xxxs":"xxs",weight:"bold"},(0,c.localize)("Download Deriv X on your phone to trade with the Deriv X account")),a().createElement("div",{className:"cfd-trade-modal__download-center-options"},a().createElement("div",{className:"cfd-trade-modal__download-center-options--mobile-links"},a().createElement("div",{className:"cfd-trade-modal__download-center-options--mobile-links--apple"},a().createElement("a",{href:(0,u.H9)("ios"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Icon,{icon:"IcInstallationApple",width:(0,l.isMobile)()?"160":"130",height:40}))),a().createElement("a",{href:(0,u.H9)("android"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),a().createElement("div",{className:"cfd-trade-modal__download-center-options--mobile-links--huawei"},a().createElement("a",{href:(0,u.H9)("huawei"),target:"_blank",rel:"noopener noreferrer"},a().createElement(o.Icon,{icon:"IcInstallationHuawei",width:135,height:40})))),!(0,l.isMobile)()&&a().createElement("div",{className:"cfd-trade-modal__download-center-options--qrcode"},a().createElement(p.s,{value:(t="dxtrade",n="android",t===l.CFD_PLATFORMS.MT5?(0,u.gG)(n):(0,u.H9)(n)),size:5,style:{height:"auto",maxWidth:"100%",width:"80%"}}),a().createElement(o.Text,{align:"center",size:"xxs"},(0,c.localize)("Scan the QR code to download {{ platform }}.",{platform:(0,l.getPlatformSettings)("dxtrade").name})))))};const b=(0,i.$j)((function(e){var t=e.modules.cfd,n=e.modules,r=e.common,a=e.traders_hub;return{dxtrade_tokens:t.dxtrade_tokens,platform:r.platform,mt5_trade_account:n.cfd.mt5_trade_account,show_eu_related_content:a.show_eu_related_content}}))((function(e){var t=e.mt5_trade_account,n=e.is_eu_user,r=e.is_open,i=e.onPasswordManager,l=e.toggleModal,s=e.dxtrade_tokens,u=e.platform,d=e.is_demo,_=e.show_eu_related_content,f=function(){return"mt5"===u?a().createElement(m,{mt5_trade_account:t,show_eu_related_content:_,onPasswordManager:i,toggleModal:l,dxtrade_tokens:s}):a().createElement(y,{mt5_trade_account:t,is_eu_user:n,onPasswordManager:i,toggleModal:l,dxtrade_tokens:s,is_demo:d})};return a().createElement(a().Suspense,{fallback:a().createElement(o.UILoader,null)},a().createElement(o.DesktopWrapper,null,a().createElement(o.Modal,{is_open:r,title:(0,c.localize)("Trade"),toggleModal:l,should_header_stick_body:!1,width:"600px",exit_classname:"cfd-modal--custom-exit"},a().createElement(f,null))),a().createElement(o.MobileWrapper,null,a().createElement(o.PageOverlay,{is_open:r,portal_id:"deriv_app",header:"Trade",onClickClose:l,header_classname:"cfd-trade-modal__mobile-title"},a().createElement(o.Div100vhContainer,{className:"cfd-trade-modal__mobile-view-wrapper",height_offset:"80px"},a().createElement(f,null)))))}))},"./src/Helpers/constants.ts":(e,t,n)=>{"use strict";n.d(t,{FJ:()=>l,H9:()=>o,Nu:()=>c,gG:()=>i,tY:()=>a});var r=n("@deriv/shared"),a=function(){return{minimum_amount:1e3,additional_amount:1e4}},o=function(e){switch(e){case"ios":return"https://apps.apple.com/us/app/deriv-x/id1563337503";case"huawei":return"https://appgallery.huawei.com/app/C104633219";default:return"https://play.google.com/store/apps/details?id=com.deriv.dx"}},i=function(){switch((arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)||(0,r.OSDetect)()){case"windows":return"https://download.mql5.com/cdn/web/deriv.limited/mt5/derivmt5setup.exe";case"linux":return"https://www.metatrader5.com/en/terminal/help/start_advanced/install_linux";case"ios":return"https://apps.apple.com/us/app/metatrader-5/id413251709";case"macos":return"https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/MetaTrader5.dmg";case"huawei":return"https://appgallery.huawei.com/#/app/C102015329";case"android":return"https://download.mql5.com/cdn/mobile/mt5/android?server=Deriv-Demo,Deriv-Server";default:return l({category:"real"})}},c=function(e,t){var n="real"===e?"https://dx.deriv.com":"https://dx-demo.deriv.com";return t&&(n+="?token=".concat(t)),n},l=function(e){var t=e.category,n=e.loginid,r=e.server_name,a="demo"===t?"Deriv-Demo":void 0===r?"Deriv-Server":r,o=null!=n?n:"";return"https://trade.mql5.com/trade?servers=".concat(a,"&trade_server=").concat(a).concat(o&&"&login=".concat(o))}},"./src/Stores/Modules/CFD/Helpers/cfd-config.ts":(e,t,n)=>{"use strict";n.d(t,{D_:()=>o,Df:()=>a,g6:()=>i});var r=n("@deriv/translations"),a=function(){var e={account_type:"",leverage:500,short_title:(0,r.localize)("Derived")},t={account_type:"financial",leverage:1e3,short_title:(0,r.localize)("Financial")};return{demo:{synthetic:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,r.localize)("Demo Derived"),short_title:e.short_title},financial:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,r.localize)("Demo Financial"),short_title:t.short_title}},real:{synthetic:{dxtrade_account_type:e.account_type,leverage:e.leverage,title:(0,r.localize)("Derived"),short_title:e.short_title},financial:{dxtrade_account_type:t.account_type,leverage:t.leverage,title:(0,r.localize)("Financial"),short_title:t.short_title}}}},o=function(e){var t={account_type:"",leverage:500,short_title:(0,r.localize)("CFDs")},n={account_type:"",leverage:500,short_title:(0,r.localize)("Derived")},a={account_type:"financial",leverage:1e3,short_title:e?(0,r.localize)("CFDs"):(0,r.localize)("Financial")},o={account_type:"financial_stp",leverage:100,short_title:(0,r.localize)("Financial STP")};return{demo:{all:{mt5_account_type:t.account_type,leverage:t.leverage,title:(0,r.localize)("Demo"),short_title:t.short_title},synthetic:{mt5_account_type:n.account_type,leverage:n.leverage,title:(0,r.localize)("Demo Derived"),short_title:n.short_title},financial:{mt5_account_type:a.account_type,leverage:a.leverage,title:e?(0,r.localize)("Demo CFDs"):(0,r.localize)("Demo Financial"),short_title:a.short_title},synthetic_svg:{mt5_account_type:n.account_type,leverage:n.leverage,title:(0,r.localize)("Demo Derived SVG"),short_title:n.short_title},financial_svg:{mt5_account_type:a.account_type,leverage:a.leverage,title:e?(0,r.localize)("Demo CFDs"):(0,r.localize)("Demo Financial SVG"),short_title:a.short_title},financial_stp:{mt5_account_type:o.account_type,leverage:o.leverage,title:(0,r.localize)("Demo Financial STP"),short_title:o.short_title}},real:{all:{mt5_account_type:t.account_type,leverage:t.leverage,title:(0,r.localize)("Real"),short_title:t.short_title},dxtrade:{mt5_account_type:t.account_type,leverage:t.leverage,title:(0,r.localize)("Real"),short_title:t.short_title},synthetic:{mt5_account_type:n.account_type,leverage:n.leverage,title:(0,r.localize)("Derived"),short_title:n.short_title},synthetic_svg:{mt5_account_type:n.account_type,leverage:n.leverage,title:(0,r.localize)("Derived SVG"),short_title:n.short_title},synthetic_bvi:{mt5_account_type:n.account_type,leverage:n.leverage,title:(0,r.localize)("Derived BVI"),short_title:n.short_title},financial:{mt5_account_type:a.account_type,leverage:a.leverage,title:e?(0,r.localize)("CFDs"):(0,r.localize)("Financial"),short_title:a.short_title},financial_svg:{mt5_account_type:a.account_type,leverage:a.leverage,title:e?(0,r.localize)("CFDs"):(0,r.localize)("Financial SVG"),short_title:a.short_title},financial_bvi:{mt5_account_type:a.account_type,leverage:a.leverage,title:e?(0,r.localize)("CFDs"):(0,r.localize)("Financial BVI"),short_title:a.short_title},financial_fx:{mt5_account_type:a.account_type,leverage:a.leverage,title:e?(0,r.localize)("CFDs"):(0,r.localize)("Financial Labuan"),short_title:a.short_title},financial_v:{mt5_account_type:a.account_type,leverage:a.leverage,title:e?(0,r.localize)("CFDs"):(0,r.localize)("Financial Vanuatu"),short_title:a.short_title},financial_stp:{mt5_account_type:o.account_type,leverage:o.leverage,title:(0,r.localize)("Financial STP"),short_title:o.short_title}}}},i=function(e){var t="";switch(e){case"svg":t=(0,r.localize)("SVG");break;case"bvi":t=(0,r.localize)("BVI");break;case"labuan":t=(0,r.localize)("Labuan");break;case"vanuatu":t=(0,r.localize)("Vanuatu");break;default:t=null==e?void 0:e.toUpperCase()}return t}},"./src/Stores/Modules/CFD/cfd-store.js":(e,t,n)=>{"use strict";n.d(t,{default:()=>R});var r=n("mobx"),a=n("@deriv/shared"),o=n("./src/_common/utility.js");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===i(o)?o:String(o)),r)}var a,o}const l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,n,r;return t=e,(n=[{key:"add",value:function(e,t){this.has(e)||(this.errors[e]=[]),-1===this.errors[e].indexOf(t)&&this.errors[e].push(t)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(e){return this.has(e)?this.errors[e][0]:null}},{key:"get",value:function(e){return this.has(e)?this.errors[e]:[]}},{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.errors,e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===s(o)?o:String(o)),r)}var a,o}const d=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=t,this.rules=n,this.store=r,this.errors=new l,this.error_count=0}var t,n,r;return t=e,r=[{key:"getRuleObject",value:function(e){var t="string"==typeof e,n={name:t?e:e[0],options:t?{}:e[1]||{}};return n.validator="custom"===n.name?e[1].func:(0,a.getPreBuildDVRs)()[n.name].func,n}}],(n=[{key:"addFailure",value:function(e,t,n){var r=n||t.options.message||(0,a.getPreBuildDVRs)()[t.name].message();"length"===t.name?r=(0,o.template)(r,[t.options.min===t.options.max?t.options.min:"".concat(t.options.min,"-").concat(t.options.max)]):"min"===t.name?r=(0,o.template)(r,[t.options.min]):"not_equal"===t.name&&(r=(0,o.template)(r,[t.options.name1,t.options.name2])),this.errors.add(e,r),this.error_count++}},{key:"check",value:function(){var t=this;return Object.keys(this.input).forEach((function(n){Object.prototype.hasOwnProperty.call(t.rules,n)&&t.rules[n].forEach((function(r){var a=e.getRuleObject(r);if((a.validator||"function"==typeof a.validator)&&(!a.options.condition||a.options.condition(t.store))&&(""!==t.input[n]||"req"===a.name)){var o,i;if("number"===a.name){var c=a.validator(t.input[n],a.options,t.store,t.input);o=c.is_ok,i=c.message}else o=a.validator(t.input[n],a.options,t.store,t.input);o||t.addFailure(n,a,i)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:E(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function p(){}function h(){}var v={};l(v,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==t&&n.call(y,o)&&(v=y);var b=h.prototype=m.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==_(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return D()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=S(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return p.prototype=h,r(b,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=l(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,i,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function m(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){m(o,r,a,i,c,"next",e)}function c(e){m(o,r,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var w=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.validation_errors={},this.validation_rules={},this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,this.partial_fetch_time=0,(0,r.makeObservable)(this,{validation_errors:r.observable,validation_rules:r.observable,partial_fetch_time:r.observable,retrieveFromStorage:r.action,setValidationErrorMessages:r.action,setValidationRules:r.action,addRule:r.action,validateProperty:r.action,validateAllProperties:r.action,onSwitchAccount:r.action.bound,onPreSwitchAccount:r.action.bound,onLogout:r.action.bound,onClientInit:r.action.bound,onNetworkStatusChange:r.action.bound,onThemeChange:r.action.bound,onRealAccountSignupEnd:r.action.bound,disposePreSwitchAccount:r.action.bound,disposeSwitchAccount:r.action.bound,disposeLogout:r.action.bound,disposeClientInit:r.action.bound,disposeNetworkStatusChange:r.action.bound,disposeThemeChange:r.action.bound,disposeRealAccountSignupEnd:r.action.bound,onUnmount:r.action.bound,assertHasValidCache:r.action.bound});var a=n.root_store,o=n.local_storage_properties,i=n.session_storage_properties,c=n.validation_rules,l=n.store_name;if(Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0}),o&&o.length||i&&i.length){if(!l)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:l,enumerable:!1,writable:!1})}this.root_store=a,this.local_storage_properties=o||[],this.session_storage_properties=i||[],setTimeout((function(){t.setValidationRules(c),t.setupReactionForLocalStorage(),t.setupReactionForSessionStorage(),t.retrieveFromStorage()}),0)}var t,n,o;return t=e,n=[{key:"getSnapshot",value:function(e){var t=(0,r.toJS)(this);return(0,a.isEmptyObject)(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce((function(e,n){return Object.assign(e,g({},n,t[n]))}),{})),t}},{key:"setupReactionForLocalStorage",value:function(){var t=this;this.local_storage_properties.length&&(0,r.reaction)((function(){return t.local_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.local_storage_properties,e.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var t=this;this.session_storage_properties.length&&(0,r.reaction)((function(){return t.session_storage_properties.map((function(e){return t[e]}))}),(function(){return t.saveToStorage(t.session_storage_properties,e.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,n){var r=JSON.stringify(this.getSnapshot(t),(function(e,t){if(null!==t)return t}));n===e.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,r):n===e.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,r)}},{key:"retrieveFromStorage",value:function(){var e=this,t=JSON.parse(localStorage.getItem(this.store_name,{})),n=JSON.parse(sessionStorage.getItem(this.store_name,{})),r=v(v({},t),n);Object.keys(r).forEach((function(t){return e[t]=r[t]}))}},{key:"setValidationErrorMessages",value:function(e,t){var n=this;this.validation_errors[e]&&!n.validation_errors[e].filter((function(e){return!t.includes(e)})).concat(t.filter((function(t){return!n.validation_errors[e].includes(t)}))).length||(this.validation_errors[e]=t)}},{key:"setValidationRules",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(t).forEach((function(n){e.addRule(n,t[n])}))}},{key:"addRule",value:function(e,t){var n=this;this.validation_rules[e]=t,(0,r.intercept)(this,e,(function(t){return n.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(e,t){var n=this,r=this.validation_rules[e].trigger,a=g({},e,void 0!==t?t:this[e]),o=g({},e,this.validation_rules[e].rules||[]);r&&Object.hasOwnProperty.call(this,r)&&(a[r]=this[r],o[r]=this.validation_rules[r].rules||[]);var i=new d(a,o,this);i.isPassed(),Object.keys(a).forEach((function(e){n.setValidationErrorMessages(e,i.errors.get(e))}))}},{key:"validateAllProperties",value:function(){var e=this,t=Object.keys(this.validation_rules),n=Object.keys(this.validation_errors);t.forEach((function(t){e.validateProperty(t,e[t])})),n.forEach((function(n){t.includes(n)||delete e.validation_errors[n]}))}},{key:"onSwitchAccount",value:function(e){var t=this;e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,r.when)((function(){return t.root_store.client.switch_broadcast}),(function(){try{var e=t.switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Switching account listeners are required to return a promise.");e.then((function(){t.root_store.client.switchEndSignal(),t.onSwitchAccount(t.switch_account_listener)}))}catch(e){(0,a.isProduction)()||console.error(e)}})))}},{key:"onPreSwitchAccount",value:function(e){var t=this;e&&(this.pre_switch_account_listener=e,this.preSwitchAccountDisposer=(0,r.when)((function(){return t.root_store.client.pre_switch_broadcast}),(function(){try{var e,n=null===(e=t.pre_switch_account_listener)||void 0===e?void 0:e.call(t);if(!n||!n.then||"function"!=typeof n.then)throw new Error("Pre-switch account listeners are required to return a promise.");n.then((function(){t.root_store.client.setPreSwitchAccount(!1),t.onPreSwitchAccount(t.pre_switch_account_listener)}))}catch(e){(0,a.isProduction)()||console.error(e)}})))}},{key:"onLogout",value:function(e){var t=this;this.logoutDisposer=(0,r.when)((function(){return t.root_store.client.has_logged_out}),p(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=t.logout_listener())||!n.then||"function"!=typeof n.then){e.next=6;break}n.then((function(){t.root_store.client.setLogout(!1),t.onLogout(t.logout_listener)})),e.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,a.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.logout_listener=e}},{key:"onClientInit",value:function(e){var t=this;this.clientInitDisposer=(0,r.when)((function(){return t.root_store.client.initialized_broadcast}),p(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=t.client_init_listener())||!n.then||"function"!=typeof n.then){e.next=6;break}n.then((function(){t.root_store.client.setInitialized(!1),t.onClientInit(t.client_init_listener)})),e.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,a.isProduction)()||console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),this.client_init_listener=e}},{key:"onNetworkStatusChange",value:function(e){var t=this;this.networkStatusChangeDisposer=(0,r.reaction)((function(){return t.root_store.common.is_network_online}),(function(e){try{t.network_status_change_listener(e)}catch(e){(0,a.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}},{key:"onThemeChange",value:function(e){var t=this;this.themeChangeDisposer=(0,r.reaction)((function(){return t.root_store.ui.is_dark_mode_on}),(function(e){try{t.theme_change_listener(e)}catch(e){(0,a.isProduction)()||console.error(e)}})),this.theme_change_listener=e}},{key:"onRealAccountSignupEnd",value:function(e){var t=this;this.realAccountSignupEndedDisposer=(0,r.when)((function(){return t.root_store.ui.has_real_account_signup_ended}),(function(){try{var e=t.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((function(){t.root_store.ui.setRealAccountSignupEnd(!1),t.onRealAccountSignupEnd(t.real_account_signup_ended_listener)}))}catch(e){(0,a.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(e){return e()})),this.partial_fetch_time=!1}}}],n&&y(t.prototype,n),o&&y(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();w.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var x=n("./src/Stores/Modules/CFD/Helpers/cfd-config.ts");function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function S(){S=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),c=new T(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function _(){}function f(){}function m(){}var p={};l(p,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(k([])));v&&v!==t&&n.call(v,o)&&(p=v);var g=m.prototype=_.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==E(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return D()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:D}}function D(){return{value:void 0,done:!0}}return f.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function z(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){z(o,r,a,i,c,"next",e)}function c(e){z(o,r,a,i,c,"throw",e)}i(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function P(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var a=N(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}(this,n)}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(m,e);var t,n,o,i,c,l,s,u,d,_,f=j(m);function m(e){var t,n=e.root_store;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=f.call(this,{root_store:n})).is_compare_accounts_visible=!1,t.is_cfd_personal_details_modal_visible=!1,t.is_jurisdiction_modal_visible=!1,t.is_mt5_trade_modal_visible=!1,t.jurisdiction_selected_shortcode="",t.account_type={category:void 0,type:void 0},t.mt5_trade_account={},t.new_account_response={},t.map_type={},t.has_cfd_error=!1,t.error_message="",t.is_cfd_success_dialog_enabled=!1,t.is_mt5_financial_stp_modal_open=!1,t.is_cfd_password_modal_enabled=!1,t.current_account=void 0,t.error_type=void 0,t.is_cfd_verification_modal_visible=!1,t.dxtrade_tokens={demo:"",real:""},t.real_synthetic_accounts_existing_data=[],t.real_financial_accounts_existing_data=[],(0,r.makeObservable)(L(t),{is_compare_accounts_visible:r.observable,is_cfd_personal_details_modal_visible:r.observable,is_jurisdiction_modal_visible:r.observable,is_mt5_trade_modal_visible:r.observable,jurisdiction_selected_shortcode:r.observable,account_type:r.observable,mt5_trade_account:r.observable,new_account_response:r.observable,map_type:r.observable,has_cfd_error:r.observable,error_message:r.observable,is_cfd_success_dialog_enabled:r.observable,is_mt5_financial_stp_modal_open:r.observable,is_cfd_password_modal_enabled:r.observable,current_account:r.observable,is_cfd_verification_modal_visible:r.observable,error_type:r.observable,dxtrade_tokens:r.observable,account_title:r.computed,current_list:r.computed,has_created_account_for_selected_jurisdiction:r.computed,has_submitted_cfd_personal_details:r.computed,is_high_risk_client_for_mt5:r.computed,onMount:r.action.bound,onUnmount:r.override,checkShouldOpenAccount:r.action.bound,realAccountSignupEndListener:r.action.bound,resetFormErrors:r.action.bound,clearCFDError:r.action.bound,createCFDAccount:r.action.bound,disableCFDPasswordModal:r.action.bound,enableCFDPasswordModal:r.action.bound,getName:r.action.bound,openMT5Account:r.action.bound,openCFDAccount:r.action.bound,beginRealSignupForMt5:r.action.bound,enableMt5FinancialStpModal:r.action.bound,setAccountType:r.action.bound,setCurrentAccount:r.action.bound,setMT5TradeAccount:r.action.bound,setError:r.action.bound,setCFDNewAccount:r.action.bound,setCFDSuccessDialog:r.action.bound,storeProofOfAddress:r.action.bound,getAccountStatus:r.action.bound,creatMT5Password:r.action.bound,submitMt5Password:r.action.bound,createCFDPassword:r.action.bound,submitCFDPassword:r.action.bound,toggleCompareAccountsModal:r.action.bound,getRealSyntheticAccountsExistingData:r.action.bound,getRealFinancialAccountsExistingData:r.action.bound,toggleJurisdictionModal:r.action.bound,toggleMT5TradeModal:r.action.bound,disableMt5FinancialStpModal:r.action.bound,topUpVirtual:r.action.bound,sendVerifyEmail:r.action.bound,setJurisdictionSelectedShortcode:r.action.bound,toggleCFDVerificationModal:r.action.bound,setDxtradeToken:r.action.bound,loadDxtradeTokens:r.action.bound}),(0,r.reaction)((function(){return[t.root_store.client.dxtrade_accounts_list]}),(function(){t.root_store.client.dxtrade_accounts_list.length>0&&t.loadDxtradeTokens()})),t}return t=m,n=[{key:"account_title",get:function(){return this.account_type.category?(0,x.D_)(this.root_store.traders_hub.show_eu_related_content)[this.account_type.category][this.account_type.type].title:""}},{key:"has_submitted_cfd_personal_details",get:function(){var e=this.root_store.client.account_settings,t=e.citizen,n=e.place_of_birth,r=e.tax_residence,a=e.tax_identification_number,o=e.account_opening_reason;return!!(t&&n&&r&&a&&o)}},{key:"current_list",get:function(){var e={},t=this.root_store.traders_hub.show_eu_related_content;return this.root_store.client.mt5_login_list.filter((function(e){return t?"maltainvest"===e.landing_company_short:"maltainvest"!==e.landing_company_short})).forEach((function(t){e[(0,a.getAccountListKey)(t,a.CFD_PLATFORMS.MT5,t.landing_company_short)]=A({},t)})),this.root_store.client.dxtrade_accounts_list.forEach((function(t){e[(0,a.getAccountListKey)(t,a.CFD_PLATFORMS.DXTRADE)]=A({},t)})),e}},{key:"mt5_companies",get:function(){return(0,x.D_)(this.root_store.client.is_eu)}},{key:"dxtrade_companies",get:function(){return(0,x.Df)()}},{key:"has_created_account_for_selected_jurisdiction",get:function(){var e,t,n=this;return"synthetic"===this.account_type.type?null===(e=this.real_synthetic_accounts_existing_data)||void 0===e?void 0:e.some((function(e){return e.landing_company_short===n.jurisdiction_selected_shortcode})):null===(t=this.real_financial_accounts_existing_data)||void 0===t?void 0:t.some((function(e){return e.landing_company_short===n.jurisdiction_selected_shortcode}))}},{key:"onMount",value:function(){this.checkShouldOpenAccount(),this.onRealAccountSignupEnd(this.realAccountSignupEndListener),this.root_store.ui.is_cfd_page=!0}},{key:"onUnmount",value:function(){this.disposeRealAccountSignupEnd(),this.root_store.ui.is_cfd_page=!1}},{key:"checkShouldOpenAccount",value:function(){var e=sessionStorage.getItem("open_cfd_account_type");if(e){var t=T(e.split("."),4),n=t[0],r=t[1],a=t[2],o=t[3];this.createCFDAccount({category:n,platform:r,type:a,set_password:o}),sessionStorage.removeItem("open_cfd_account_type")}}},{key:"realAccountSignupEndListener",value:function(){var e=JSON.parse(sessionStorage.getItem("post_real_account_signup"));return e&&e.category&&e.type&&(sessionStorage.removeItem("post_real_account_signup"),this.enableCFDPasswordModal()),Promise.resolve()}},{key:"resetFormErrors",value:function(){this.error_message="",this.error_type=void 0,this.has_cfd_error=!1}},{key:"clearCFDError",value:function(){this.resetFormErrors(),this.is_cfd_password_modal_enabled=!1}},{key:"createCFDAccount",value:function(e){var t=e.category,n=e.platform,r=e.type,o=e.set_password;this.clearCFDError(),this.setAccountType({category:t,type:r}),n===a.CFD_PLATFORMS.DXTRADE?"real"===t?this.realCFDSignup(o):this.demoCFDSignup():n===a.CFD_PLATFORMS.MT5&&("real"===t?this.toggleJurisdictionModal():(this.root_store.traders_hub.show_eu_related_content?this.setJurisdictionSelectedShortcode("maltainvest"):this.setJurisdictionSelectedShortcode("svg"),this.demoCFDSignup()))}},{key:"demoCFDSignup",value:function(){this.enableCFDPasswordModal()}},{key:"disableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!1}},{key:"enableCFDPasswordModal",value:function(){this.is_cfd_password_modal_enabled=!0}},{key:"getName",value:function(){var e=(this.root_store.client.account_settings&&this.root_store.client.account_settings).first_name,t=this.mt5_companies[this.account_type.category][this.account_type.type].title;return e?[e,t].join(" "):t}},{key:"openMT5Account",value:function(e){var t=this.getName(),n=this.mt5_companies[this.account_type.category][this.account_type.type].leverage,r=(0,a.getAccountTypeFields)(this.account_type),o=this.root_store.client.account_settings,i=o.address_line_1,c=o.address_line_2,l=o.address_postcode,s=o.address_city,u=o.address_state,d=o.country_code,_=o.phone;return a.WS.mt5NewAccount(A(A(A({mainPassword:e.password,email:this.root_store.client.email_address,leverage:n,name:t,address:i||c,city:s,country:d,phone:_,state:u,zipCode:l},e.server?{server:e.server}:{}),this.jurisdiction_selected_shortcode?{company:this.jurisdiction_selected_shortcode}:{}),"labuan"!==this.jurisdiction_selected_shortcode?r:{account_type:"financial",mt5_account_type:"financial_stp"}))}},{key:"openCFDAccount",value:function(e){return a.WS.tradingPlatformNewAccount({password:e.password,platform:e.platform,account_type:this.account_type.category,market_type:"dxtrade"===this.account_type.type?"all":this.account_type.type})}},{key:"beginRealSignupForMt5",value:function(){sessionStorage.setItem("post_real_account_signup",JSON.stringify(this.account_type)),this.root_store.ui.openRealAccountSignup()}},{key:"realCFDSignup",value:function(e){switch(this.account_type.type){case"financial":case"synthetic":case"dxtrade":case"all":this.enableCFDPasswordModal();break;case"financial_stp":this.root_store.client.fetchResidenceList(),this.root_store.client.fetchStatesList(),this.root_store.client.fetchAccountSettings(),e?this.enableCFDPasswordModal():this.enableMt5FinancialStpModal();break;default:throw new Error("Cannot determine mt5 account signup.")}}},{key:"enableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!0}},{key:"setAccountType",value:function(e){this.account_type=e}},{key:"setCurrentAccount",value:function(e,t){this.current_account=A(A({},t),e)}},{key:"setMT5TradeAccount",value:function(e){this.mt5_trade_account=e}},{key:"setError",value:function(e,t){var n;this.has_cfd_error=e,this.error_message=t?t.message:"",this.error_type=null!==(n=null==t?void 0:t.code)&&void 0!==n?n:void 0}},{key:"setCFDNewAccount",value:function(e){this.new_account_response=e}},{key:"setCFDSuccessDialog",value:function(e){this.is_cfd_success_dialog_enabled=!!e}},{key:"storeProofOfAddress",value:function(e,t,n){var r=this,o=n.setStatus;return new Promise((function(n,i){o({msg:""}),r.setState({is_btn_loading:!0}),a.WS.setSettings(t).then((function(t){t.error?(o({msg:t.error.message}),i(t)):(r.root_store.fetchAccountSettings(),e.current.upload().then((function(e){e.warning?(o({msg:e.message}),i(e)):a.WS.authorized.storage.getAccountStatus().then((function(e){var t=e.error,r=e.get_account_status;t&&i(t);var a=r.authentication.identity,o=!(a&&"none"===a.status);n({identity:a,has_poi:o})}))})))}))}))}},{key:"getAccountStatus",value:(_=O(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t===a.CFD_PLATFORMS.MT5&&this.root_store.client.is_mt5_password_not_set||t===a.CFD_PLATFORMS.DXTRADE&&this.root_store.client.is_dxtrade_password_not_set)){e.next=4;break}return e.next=4,a.WS.getAccountStatus();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"creatMT5Password",value:(d=O(S().mark((function e(t,n){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.WS.tradingPlatformPasswordChange({new_password:t.password,platform:a.CFD_PLATFORMS.MT5});case 2:if(!(r=e.sent).error){e.next=9;break}return this.setError(!0,r.error),n.resetForm({}),n.setSubmitting(!1),n.setStatus({success:!1}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"submitMt5Password",value:(u=O(S().mark((function e(t,n){var r,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.client.is_mt5_password_not_set){e.next=6;break}return e.next=3,this.creatMT5Password(t,n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:return this.resetFormErrors(),e.next=9,this.openMT5Account(t);case 9:if((r=e.sent).error){e.next=30;break}return n.setStatus({success:!0}),n.setSubmitting(!1),this.setError(!1),this.setCFDSuccessDialog(!0),e.next=17,this.getAccountStatus(a.CFD_PLATFORMS.MT5);case 17:return e.next=19,a.WS.authorized.mt5LoginList();case 19:return o=e.sent,this.root_store.client.responseMt5LoginList(o),a.WS.transferBetweenAccounts(),e.t0=this.root_store.client,e.next=25,a.WS.tradingServers(a.CFD_PLATFORMS.MT5);case 25:e.t1=e.sent,e.t0.responseMT5TradingServers.call(e.t0,e.t1),this.setCFDNewAccount(r.mt5_new_account),e.next=36;break;case 30:return e.next=32,this.getAccountStatus(a.CFD_PLATFORMS.MT5);case 32:this.setError(!0,r.error),n.resetForm({}),n.setSubmitting(!1),n.setStatus({success:!1});case 36:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"createCFDPassword",value:(s=O(S().mark((function e(t,n){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.WS.tradingPlatformPasswordChange({new_password:t.password,platform:a.CFD_PLATFORMS.DXTRADE});case 2:if(!(r=e.sent).error){e.next=9;break}return this.setError(!0,r.error),n.resetForm({}),n.setSubmitting(!1),n.setStatus({success:!1}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"submitCFDPassword",value:(l=O(S().mark((function e(t,n){var r,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.root_store.client.is_dxtrade_password_not_set){e.next=6;break}return e.next=3,this.createCFDPassword(t,n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.openCFDAccount(t);case 8:if((r=e.sent).error){e.next=24;break}return n.setStatus({success:!0}),n.setSubmitting(!1),this.setError(!1),this.setCFDSuccessDialog(!0),e.next=16,this.getAccountStatus(a.CFD_PLATFORMS.DXTRADE);case 16:return e.next=18,a.WS.tradingPlatformAccountsList(t.platform);case 18:o=e.sent,this.root_store.client.responseTradingPlatformAccountsList(o),a.WS.transferBetweenAccounts(),this.setCFDNewAccount(r.trading_platform_new_account),e.next=30;break;case 24:return e.next=26,this.getAccountStatus(a.CFD_PLATFORMS.DXTRADE);case 26:this.setError(!0,r.error),n.resetForm({}),n.setSubmitting(!1),n.setStatus({success:!1});case 30:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"toggleCompareAccountsModal",value:function(){this.is_compare_accounts_visible=!this.is_compare_accounts_visible}},{key:"getRealSyntheticAccountsExistingData",value:function(e){this.real_synthetic_accounts_existing_data=e}},{key:"getRealFinancialAccountsExistingData",value:function(e){this.real_financial_accounts_existing_data=e}},{key:"toggleJurisdictionModal",value:function(){this.is_jurisdiction_modal_visible=!this.is_jurisdiction_modal_visible}},{key:"toggleMT5TradeModal",value:function(){this.is_mt5_trade_modal_visible=!this.is_mt5_trade_modal_visible}},{key:"disableMt5FinancialStpModal",value:function(){this.is_mt5_financial_stp_modal_open=!1}},{key:"topUpVirtual",value:(c=O(S().mark((function e(t){var n,o,i,c,l=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.root_store.ui.setTopUpInProgress(!0),e.t0=t,e.next=e.t0===a.CFD_PLATFORMS.DXTRADE?4:e.t0===a.CFD_PLATFORMS.MT5?8:12;break;case 4:return e.next=6,a.WS.authorized.send({trading_platform_deposit:1,platform:a.CFD_PLATFORMS.DXTRADE,to_account:this.current_account.account_id});case 6:return n=e.sent,e.abrupt("break",14);case 8:return e.next=10,a.WS.authorized.mt5Deposit({to_mt5:this.current_account.login});case 10:return n=e.sent,e.abrupt("break",14);case 12:return n.error="Invalid platform",e.abrupt("break",14);case 14:if(n.error){e.next=31;break}e.t1=t,e.next=e.t1===a.CFD_PLATFORMS.DXTRADE?18:e.t1===a.CFD_PLATFORMS.MT5?22:26;break;case 18:return e.next=20,a.WS.authorized.tradingPlatformAccountsList(a.CFD_PLATFORMS.DXTRADE).then(this.root_store.client.responseTradingPlatformAccountsList);case 20:return o=null===(i=this.root_store.client.dxtrade_accounts_list.find((function(e){return e.account_id===l.current_account.account_id})))||void 0===i?void 0:i.balance,e.abrupt("break",27);case 22:return e.next=24,a.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);case 24:return o=null===(c=this.root_store.client.mt5_login_list.find((function(e){return e.login===l.current_account.login})))||void 0===c?void 0:c.balance,e.abrupt("break",27);case 26:return e.abrupt("break",27);case 27:(0,r.runInAction)((function(){l.root_store.ui.is_top_up_virtual_open=!1,l.current_account.balance=o})),setTimeout((function(){(0,r.runInAction)((function(){l.root_store.ui.is_top_up_virtual_success=!0}))}),250),e.next=32;break;case 31:console.error(n);case 32:this.root_store.ui.setTopUpInProgress(!1);case 33:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"sendVerifyEmail",value:function(){return a.WS.verifyEmail(this.root_store.client.email,"trading_platform_investor_password_reset")}},{key:"setDxtradeToken",value:function(e,t){if(!e.error){var n=e.service_token.dxtrade;this.dxtrade_tokens[t]=n.token}}},{key:"loadDxtradeTokens",value:function(){var e=this;["demo","real"].forEach((function(t){var n=e.root_store.client.dxtrade_accounts_list.some((function(e){return e.account_type===t}));!e.dxtrade_tokens[t]&&n&&a.WS.getServiceToken(a.CFD_PLATFORMS.DXTRADE,t).then((function(n){return e.setDxtradeToken(n,t)}))}))}},{key:"setJurisdictionSelectedShortcode",value:function(e){this.jurisdiction_selected_shortcode=e}},{key:"toggleCFDVerificationModal",value:function(){this.is_cfd_verification_modal_visible=!this.is_cfd_verification_modal_visible}},{key:"is_high_risk_client_for_mt5",get:function(){var e=this.root_store.client.trading_platform_available_accounts,t=e.filter((function(e){return"financial"===e.market_type})),n=e.filter((function(e){return"gaming"===e.market_type}));return 1===t.length&&t.every((function(e){return"svg"===e.shortcode}))&&1===n.length&&n.every((function(e){return"svg"===e.shortcode}))}}],o=[{key:"changePassword",value:(i=O(S().mark((function e(t){var n,r,o,i,c,l;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.login,i=t.old_password,c=t.new_password,"investor"!==t.password_type){e.next=7;break}return e.next=4,a.WS.authorized.tradingPlatformInvestorPasswordChange({account_id:o,old_password:i,new_password:c,platform:a.CFD_PLATFORMS.MT5});case 4:l=e.sent,e.next=10;break;case 7:return e.next=9,a.WS.authorized.tradingPlatformPasswordChange({account_id:o,old_password:i,new_password:c,platform:a.CFD_PLATFORMS.MT5});case 9:l=e.sent;case 10:return e.abrupt("return",null===(n=l)||void 0===n||null===(r=n.error)||void 0===r?void 0:r.message);case 11:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})}],n&&C(t.prototype,n),o&&C(t,o),Object.defineProperty(t,"prototype",{writable:!1}),m}(w)},"./src/Stores/connect.js":(e,t,n)=>{"use strict";n.d(t,{$j:()=>_,z1:()=>d});var r=n("mobx-react"),a=n("react"),o=n.n(a);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=o().createContext(null);var d=function(e){var t=e.store,n=e.children;return o().createElement(u.Provider,{value:l(l({},t),{},{mobxStores:t})},n)},_=function(e){return function(t){return function(e,t){var n=function(n){var a=o().useContext(u),i=t;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)})(t)&&(i=function(e){return o().createElement(t,e)});var c=n.context||a;return(0,r.useObserver)((function(){return i(l(l({},n),e(c,n)))}))};return n.displayName=t.name,n}(e,t)}}},"./src/_common/utility.js":e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(o=a.key,i=void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(o,"string"),"symbol"===t(i)?i:String(i)),a)}var o,i}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var a,o=r((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.promise=new Promise((function(e,n){t.reject=n,t.resolve=e}))}));e.exports={template:function(e,t){var n=t;return t&&!Array.isArray(t)&&(n=[t]),e.replace(/\[_(\d+)]/g,(function(e,t){return n[+t-1]}))},createElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement(e);return Object.keys(t).forEach((function(e){var r=t[e];"text"===e?n.textContent=r:"html"===e?n.html(r):n.setAttribute(e,r)})),n},getStaticHash:function(){return a=a||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1]},PromiseClass:o}},"./src/app.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$e});var r=n("../../node_modules/prop-types/index.js"),a=n.n(r),o=n("react"),i=n.n(o),c=n("../stores/src/index.ts"),l=n("mobx-react"),s=n("react-router"),u=n("react-router-dom"),d=n("@deriv/shared"),_=n("@deriv/components"),f=n("@deriv/translations"),m=n("@deriv/account/dist/account/js/reset-trading-password-modal"),p=n.n(m),h=(n("@deriv/account/dist/account/css/reset-trading-password-modal.css"),n("./src/Stores/connect.js"));const v=function(e){var t=e.onClickSignup,n=e.platform;return i().createElement("div",{className:"cfd-dashboard__missing-real"},i().createElement("div",{className:"cfd-dashboard__missing-real-wrapper"},i().createElement(_.Text,{className:"cfd-dashboard__missing-real--heading",as:"h1",weight:"bold",line_height:"l"},n===d.CFD_PLATFORMS.MT5?i().createElement(f.Localize,{i18n_default_text:"You need a real account (fiat currency or cryptocurrency) in Deriv to create a real Deriv MT5 account."}):i().createElement(f.Localize,{i18n_default_text:"To create a Deriv X real account, create a Deriv real account first."}))),i().createElement("div",null,i().createElement(_.Button,{className:"cfd-dashboard__missing-real--button",onClick:t,type:"button",primary:!0,large:!0},i().createElement("span",{className:"btn__text"},i().createElement(f.Localize,{i18n_default_text:"Create a Deriv account"})))))};var g=n("../../node_modules/classnames/index.js"),y=n.n(g);const b=function(e){var t=e.className,n=e.is_invisible,r=e.theme,a=e.id;return i().createElement("div",{id:a,"data-testid":"dt_barspinner",className:y()("barspinner","barspinner--".concat(r||"dark"),{invisible:n},t)},Array.from(new Array(5)).map((function(e,t){return i().createElement("div",{key:t,className:"barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})})))};const w=function(){return i().createElement("div",{className:"cfd-real-accounts-display"},i().createElement(b,null))};var x=n("./src/Containers/compare-accounts-modal.tsx"),E=n("./src/Containers/jurisdiction-modal/jurisdiction-modal.tsx"),S=n("./src/Containers/mt5-trade-modal.tsx"),z=n("./src/Containers/cfd-dbvi-onboarding.tsx"),O=n("../../node_modules/react-qrcode/lib/qrcode.js"),T=n("./src/Helpers/constants.ts"),k=function(e,t){return t===d.CFD_PLATFORMS.DXTRADE?e?(0,f.localize)("Welcome to your Deriv X dashboard"):(0,f.localize)("Welcome to Deriv X"):t===d.CFD_PLATFORMS.MT5?(0,f.localize)("Welcome to Deriv MT5 dashboard"):(0,f.localize)("")},D=function(e){return e===d.CFD_PLATFORMS.DXTRADE?(0,f.localize)("Run Deriv X on your browser or download the mobile app"):e===d.CFD_PLATFORMS.MT5?(0,f.localize)("Run MT5 from your browser or download the MT5 app for your devices"):""},A=function(e,t){return e===d.CFD_PLATFORMS.DXTRADE?(0,f.localize)("Trade forex, basket indices, commodities, and cryptocurrencies with high leverage."):e===d.CFD_PLATFORMS.MT5?t?(0,f.localize)("Trade CFDs on forex, stocks, stock indices, synthetic indices, cryptocurrencies, and commodities with leverage."):(0,f.localize)("Trade CFDs on forex, stocks & stock indices, commodities, and crypto."):""},M=function(e,t){return e===d.CFD_PLATFORMS.MT5?(0,T.gG)(t):(0,T.H9)(t)},C=function(e){var t=e.active_index,n=e.dxtrade_tokens;return i().createElement(i().Fragment,null,i().createElement("h1",{className:"cfd-dashboard__download-container-heading"},(0,f.localize)("Run Deriv X on your browser")),i().createElement("a",{className:"cfd-dashboard__download-container-dxtrade-button",href:(0,T.Nu)(0===t?"real":"demo",n&&n[0===t?"real":"demo"]),target:"_blank",rel:"noopener noreferrer"},i().createElement(_.Icon,{className:"cfd-dashboard__download-container-dxtrade-button-icon",icon:"IcBrandDxtrade",size:32}),i().createElement("div",{className:"cfd-dashboard__download-container-dxtrade-button-text"},i().createElement(_.Text,{color:"colored-background",size:"xxs",weight:"bold"},i().createElement(f.Localize,{i18n_default_text:"Web terminal"})))))},P=function(){return i().createElement(i().Fragment,null,i().createElement("div",{className:"cfd-dashboard__download-container-links-icons"},i().createElement(_.Icon,{icon:"IcMt5DeviceDesktop",width:118,height:85}),i().createElement(_.Icon,{icon:"IcMt5DeviceLaptop",width:75,height:51})),i().createElement("div",{className:"cfd-dashboard__download-container-links-download-buttons"},i().createElement("a",{href:(0,T.gG)("windows"),target:"_blank",rel:"noopener noreferrer"},i().createElement(_.Icon,{icon:"IcInstallationWindows",width:138,height:40})),i().createElement("a",{href:(0,T.gG)("macos"),target:"_blank",rel:"noopener noreferrer"},i().createElement(_.Icon,{icon:"IcInstallationMacos",width:138,height:40})),i().createElement("a",{href:(0,T.gG)("linux"),target:"_blank",rel:"noopener noreferrer"},i().createElement(_.Icon,{icon:"IcInstallationLinux",width:138,height:40}))),i().createElement(_.Text,{as:"p",align:"center",size:"xxxs",className:"cfd-dashboard__download-center--hint"},i().createElement(f.Localize,{i18n_default_text:"The MT5 desktop app is not supported by Windows XP, Windows 2003, and Windows Vista."})))},F=function(e){var t=e.is_dark_mode_on,n=e.platform;return i().createElement(i().Fragment,null,n===d.CFD_PLATFORMS.DXTRADE&&i().createElement("h1",{className:"cfd-dashboard__download-container-heading"},(0,f.localize)("Download the Deriv X mobile app")),i().createElement("div",{className:y()({"cfd-dashboard__download-container-links-icons":(0,d.isMobile)()||n===d.CFD_PLATFORMS.MT5})},(0,d.isMobile)()&&n===d.CFD_PLATFORMS.DXTRADE&&i().createElement(i().Fragment,null,i().createElement(_.Icon,{icon:t?"IcDxtradeDeviceTabletLight":"IcDxtradeDeviceTablet",width:133,height:106}),i().createElement(_.Icon,{icon:t?"IcDxtradeDevicePhoneLight":"IcDxtradeDevicePhone",width:48,height:74})),n===d.CFD_PLATFORMS.MT5&&i().createElement(i().Fragment,null,i().createElement(_.Icon,{icon:"IcMt5DeviceTablet",width:133,height:106}),i().createElement(_.Icon,{icon:"IcMt5DevicePhone",width:48,height:74}))),i().createElement("div",{className:y()("cfd-dashboard__download-container-links-download-buttons",{"cfd-dashboard__download-container-links-download-buttons--column":(0,d.isMobile)()&&n===d.CFD_PLATFORMS.MT5})},i().createElement("a",{className:"cfd-dashboard__download-center-options--mobile-link",href:M(n,"ios"),target:"_blank",rel:"noopener noreferrer"},i().createElement(_.Icon,{icon:"IcInstallationApple",width:135,height:40})),i().createElement("a",{className:"cfd-dashboard__download-center-options--mobile-link",href:M(n,"android"),target:"_blank",rel:"noopener noreferrer"},i().createElement(_.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),i().createElement("a",{className:"cfd-dashboard__download-center-options--mobile-link",href:M(n,"huawei"),target:"_blank",rel:"noopener noreferrer"},i().createElement(_.Icon,{icon:"IcInstallationHuawei",width:135,height:40}))))},j=function(e){var t=e.platform;return i().createElement(_.DesktopWrapper,null,i().createElement("div",{className:"cfd-dashboard__download-container-qrcode"},i().createElement(O.s,{value:M(t,"android"),size:160}),i().createElement("span",{className:"cfd-dashboard__download-container-qrcode__hint"},(0,f.localize)("Scan the QR code to download the Deriv X Mobile App"))))};const L=function(e){var t=e.platform,n=e.is_dark_mode_on,r=e.active_index,a=e.dxtrade_tokens;return i().createElement(i().Fragment,null,i().createElement(_.MobileWrapper,null,i().createElement(_.Text,{className:"cfd-dashboard__download-container-mobile-hint",color:"general",size:"xxs",weight:"400",align:"center"},i().createElement(f.Localize,{i18n_default_text:"If you have the app, launch it to start trading."}))),i().createElement("div",{className:y()("cfd-dashboard__download-container",{"cfd-dashboard__download-container--is-mt5":t===d.CFD_PLATFORMS.MT5}),"data-testid":"dt_cfd_dashboard_download_center_container"},t===d.CFD_PLATFORMS.MT5&&i().createElement("h1",{className:"cfd-dashboard__download-container-heading"},(0,d.isDesktop)()?D(t):(0,f.localize)("Download the MT5 app")),i().createElement("div",{className:y()("cfd-dashboard__download-container-links",{"cfd-dashboard__download-container-links--is-mt5":t===d.CFD_PLATFORMS.MT5})},i().createElement(_.DesktopWrapper,null,i().createElement("div",{className:"cfd-dashboard__download-container-links--desktop"},t===d.CFD_PLATFORMS.DXTRADE&&i().createElement(C,{active_index:r,dxtrade_tokens:a}),t===d.CFD_PLATFORMS.MT5&&i().createElement(P,null))),i().createElement("div",{className:"cfd-dashboard__download-container-links--mobile"},i().createElement(F,{is_dark_mode_on:n,platform:t}))),t===d.CFD_PLATFORMS.DXTRADE&&i().createElement(j,{platform:t})))};var N=n("./src/Containers/cfd-password-manager-modal.tsx"),R=n("./src/Containers/cfd-password-modal.tsx"),I=n("./src/Containers/cfd-server-error-dialog.tsx"),B=n("./src/Containers/cfd-top-up-demo-modal.tsx"),V=n("./src/Containers/cfd-reset-password-modal.tsx");const U=(0,h.$j)((function(e){var t=e.ui;return{is_open:t.is_switch_to_deriv_account_modal_visible,onClose:t.openSwitchToRealAccountModal,disableApp:t.disableApp,enableApp:t.enableApp}}))((function(e){var t=e.is_open,n=e.onClose,r=e.disableApp,a=e.enableApp;return i().createElement(_.Dialog,{className:"switch-to-real-account-modal",confirm_button_text:(0,f.localize)("Ok"),onConfirm:n,disableApp:r,enableApp:a,is_closed_on_confirm:!0,is_visible:t},i().createElement(_.Icon,{icon:"IcPoaLock",size:60}),i().createElement(_.Text,{className:"da-icon-with-message__text",as:"p",size:(0,d.isMobile)()?"xxs":"xs",color:"general",line_height:"m",align:"center"},(0,f.localize)("Switch to your real account to create a Deriv MT5 account")))}));var X=n("../../node_modules/react-transition-group/esm/CSSTransition.js"),W=n("./src/Components/cfd-account-copy.tsx"),G={mt5:{synthetic:"IcMt5SyntheticPlatform",financial:"IcMt5FinancialPlatform",financial_stp:"IcMt5FinancialStpPlatform",cfd:"IcMt5CfdPlatform"},dxtrade:{synthetic:"IcDxtradeSyntheticPlatform",financial:"IcDxtradeFinancialPlatform",cfd:"IcMt5CfdPlatform",all:"IcDxtradeDerivxPlatform"}},H=i().forwardRef((function(e,t){var n=e.onSelectAccount,r=e.is_disabled;return i().createElement("div",{onClick:r?function(){}:n,className:y()("cfd-account-card__add-server",{"cfd-account-card__add-server--disabled":r}),ref:t},i().createElement("span",{className:"cfd-account-card__add-server--icon"},"+"),i().createElement(f.Localize,{i18n_default_text:"Add account"}))}));H.displayName="AddAccountButton";var q=function(e){var t=e.value,n=e.is_bold;return i().createElement("div",{className:"cfd-account-card__spec-box"},i().createElement(_.Text,{size:"xs",weight:n?"bold":"",className:"cfd-account-card__spec-text"},t),i().createElement(W.O,{text:t,className:"cfd-account-card__spec-copy"}))},J=function(e){var t=e.platform,n=e.onClick;return i().createElement("div",{className:"cfd-account-card__password-box"},i().createElement("div",{className:"cfd-account-card__password-text"},i().createElement(_.Popover,{alignment:"right",message:(0,f.localize)("Use these credentials to log in to your {{platform}} account on the website and mobile apps.",{platform:(0,d.getCFDPlatformLabel)(t)}),classNameBubble:"cfd-account-card__password-tooltip"},i().createElement(_.Text,{size:"xs"},""))),i().createElement(_.Popover,{alignment:"bottom",message:(0,f.localize)("Change Password")},i().createElement(_.Button,{className:"cfd-account-card__password-action",transparent:!0,onClick:n,icon:i().createElement(_.Icon,{icon:"IcEdit",className:"da-article__learn-more-icon",custom_color:"var(--text-less-prominent)"})})))},$=function(e){var t=e.button_label,n=e.handleClickSwitchAccount,r=e.has_real_account,a=e.is_accounts_switcher_on,o=e.is_button_primary,c=e.is_disabled,l=e.is_virtual,s=e.onSelectAccount,u=e.type,m=e.platform,p=e.title,h=e.real_account_creation_unlock_date,v=e.setShouldShowCooldownModal;if(l&&"real"===u.category&&"function"==typeof n&&(m!==d.CFD_PLATFORMS.MT5||r&&"financial_stp"===u.type))return i().createElement("div",{className:"cfd-account-card__action-wrapper"},i().createElement(f.Localize,{i18n_default_text:"<0>Switch to your real account</0><1> to create a {{platform}} {{account_title}} account.</1>",values:{platform:(0,d.getCFDPlatformLabel)(m),account_title:"Deriv X"===p?"":p},components:[i().createElement("a",{className:y()("cfd-account-card__action-wrapper__link link link--orange",{"cfd-account-card__action-wrapper__link--disabled":a}),key:0,onClick:n}),i().createElement(_.Text,{key:1,line_height:"s",size:"xxs"})]}));var g="real"===u.category?i().createElement(f.Localize,{i18n_default_text:"Add real account"}):i().createElement(f.Localize,{i18n_default_text:"Add demo account"}),b=t||g;return i().createElement(_.Button,{className:"cfd-account-card__account-selection",onClick:function(){h?v(!0):s()},type:"button",is_disabled:c,primary:o,secondary:!o,large:!0},b)},Y=(0,h.$j)((function(e){var t=e.modules.cfd,n=e.client,r=e.ui,a=e.common,o=e.traders_hub;return{dxtrade_tokens:t.dxtrade_tokens,isEligibleForMoreDemoMt5Svg:n.isEligibleForMoreDemoMt5Svg,isEligibleForMoreRealMt5:n.isEligibleForMoreRealMt5,setAccountType:t.setAccountType,setJurisdictionSelectedShortcode:t.setJurisdictionSelectedShortcode,setIsAcuityModalOpen:r.setIsAcuityModalOpen,setMT5TradeAccount:t.setMT5TradeAccount,setAppstorePlatform:a.setAppstorePlatform,toggleCFDVerificationModal:t.toggleCFDVerificationModal,updateAccountStatus:n.updateAccountStatus,show_eu_related_content:o.show_eu_related_content}}))((function(e){var t=e.button_label,n=e.commission_message,r=e.descriptor,a=e.dxtrade_tokens,o=e.existing_accounts_data,c=e.has_banner,l=e.has_cfd_account_error,s=e.has_real_account,u=e.is_accounts_switcher_on,m=e.is_button_primary,p=e.is_disabled,h=(e.is_eu,e.is_logged_in),v=e.is_virtual,g=e.isEligibleForMoreDemoMt5Svg,b=e.isEligibleForMoreRealMt5,w=e.onClickFund,x=e.onPasswordManager,E=e.onSelectAccount,S=e.platform,z=e.setAccountType,O=e.setJurisdictionSelectedShortcode,k=e.setIsAcuityModalOpen,D=e.setMT5TradeAccount,A=e.specs,M=e.title,C=e.toggleAccountsDialog,P=e.toggleCFDVerificationModal,F=e.toggleMT5TradeModal,j=e.toggleShouldShowRealAccountsList,L=e.type,N=e.updateAccountStatus,R=e.real_account_creation_unlock_date,I=e.setShouldShowCooldownModal,B=e.setAppstorePlatform,V=e.show_eu_related_content,U=null!=o&&o.length?null==o?void 0:o[0]:o,W=h&&!V&&S===d.CFD_PLATFORMS.MT5&&("demo"===L.category?g(L.type)&&!!U:b(L.type)&&!!U),Y=V&&S===d.CFD_PLATFORMS.MT5?"cfd":L.type,K=L.type?i().createElement(_.Icon,{icon:G[L.platform][Y],size:64}):null,Z="synthetic"===L.type,Q="demo"===L.category,ee=h&&U&&"real"===L.category&&"synthetic"===L.type&&(null==U?void 0:U.server_info),te=i().useRef(null),ne=i().useRef(null),re=i().useRef(null),ae=i().useCallback((function(e){if(e){var t,n,r,a,o,i,c=null===(t=e.server_info)||void 0===t||null===(n=t.geolocation)||void 0===n?void 0:n.region;if(c)return"".concat(c," ").concat(1===(null==e||null===(r=e.server_info)||void 0===r||null===(a=r.geolocation)||void 0===a?void 0:a.sequence)?"":null==e||null===(o=e.server_info)||void 0===o||null===(i=o.geolocation)||void 0===i?void 0:i.sequence)}return""}),[]),oe=(0,d.isMobile)()&&S===d.CFD_PLATFORMS.DXTRADE,ie=S===d.CFD_PLATFORMS.DXTRADE&&i().createElement(i().Fragment,null,i().createElement("tr",{className:"cfd-account-card__login-specs-table-row"},i().createElement("td",{className:"cfd-account-card__login-specs-table-attribute"},i().createElement("div",{className:"cfd-account-card--paragraph"},(0,f.localize)("Username"))),i().createElement("td",{className:"cfd-account-card__login-specs-table-data"},i().createElement("div",{className:"cfd-account-card--paragraph"},i().createElement(q,{value:null==U?void 0:U.login,is_bold:!0})))));return i().createElement("div",{ref:ne,className:"cfd-account-card__wrapper"},i().createElement("div",{className:y()("cfd-account-card",{"cfd-account-card__logged-out":!h}),ref:te},Z&&i().createElement("div",{className:"cfd-account-card__banner"},i().createElement(f.Localize,{i18n_default_text:"Most popular"})),Q&&i().createElement("div",{className:"cfd-account-card__banner cfd-account-card__banner--demo"},i().createElement(f.Localize,{i18n_default_text:"DEMO"})),i().createElement("div",{className:y()("cfd-account-card__type",{"cfd-account-card__type--has-banner":c||Z||ee}),id:"".concat(S===d.CFD_PLATFORMS.DXTRADE?d.CFD_PLATFORMS.DXTRADE:d.CFD_PLATFORMS.MT5,"_").concat(L.category,"_").concat(L.type)},K,i().createElement("div",{className:"cfd-account-card__type--description"},i().createElement(_.Text,{size:"xxl",className:"cfd-account-card--heading"},M),S===d.CFD_PLATFORMS.DXTRADE?(!U||!h)&&i().createElement("p",{className:"cfd-account-card--paragraph"},r):i().createElement("p",{className:"cfd-account-card--paragraph"},r),(null==U?void 0:U.display_balance)&&h&&S===d.CFD_PLATFORMS.DXTRADE&&i().createElement(_.Text,{size:"xxl",className:"cfd-account-card__balance--value"},i().createElement(_.Money,{amount:U.display_balance,currency:U.currency,has_sign:!!U.balance&&U.balance<0,show_currency:!0})),(null==U?void 0:U.display_login)&&h&&S===d.CFD_PLATFORMS.DXTRADE&&i().createElement(_.Text,{color:"less-prominent",size:"xxxs",line_height:"s"},null==U?void 0:U.display_login))),S===d.CFD_PLATFORMS.MT5&&(0,d.isDesktop)()&&h&&i().createElement("div",{className:"cfd-account-card__acuity-container"},"financial"===L.type&&i().createElement(_.Button,{onClick:function(){return k(!0)},className:"cfd-account-card__acuity-banner",type:"button",transparent:!0},i().createElement("div",{className:"cfd-account-card__acuity-banner--wrapper"},i().createElement(_.Icon,{icon:"icMt5Acuity"}),i().createElement(_.Text,{as:"p",size:"xxs",weight:"bold",color:"prominent"},i().createElement(f.Localize,{i18n_default_text:"Get Acuity trading tools"})),i().createElement(_.Icon,{icon:"IcAddOutline",color:"secondary"})))),U&&i().createElement("div",{className:"cfd-account-card__divider"}),i().createElement("div",{className:"cfd-account-card__cta",style:null!=U&&U.login?{}:{marginTop:"auto"}},i().createElement("div",{className:"cfd-account-card__cta-wrapper"},S===d.CFD_PLATFORMS.DXTRADE&&(!(null!=U&&U.login)||!h)&&i().createElement("div",{className:"cfd-account-card__specs"},i().createElement("table",{className:"cfd-account-card__specs-table"},i().createElement("tbody",null,void 0!==A&&Object.keys(A).map((function(e,t){return i().createElement("tr",{key:t,className:"cfd-account-card__specs-table-row"},i().createElement("td",{className:"cfd-account-card__specs-table-attribute"},i().createElement("p",{className:"cfd-account-card--paragraph"},A[e].key())),i().createElement("td",{className:"cfd-account-card__specs-table-data"},i().createElement("p",{className:"cfd-account-card--paragraph"},A[e].value())))}))))),(null==U?void 0:U.login)&&h&&S===d.CFD_PLATFORMS.MT5&&"demo"===L.category&&(null==o?void 0:o.length)&&(null==o?void 0:o.map((function(e,t){return i().createElement("div",{className:"cfd-account-card__item",key:t},(null==e?void 0:e.display_balance)&&h&&"labuan"===e.landing_company_short&&i().createElement("div",{className:"cfd-account-card__item--banner"},i().createElement(f.Localize,{i18n_default_text:"Labuan"})),(null==e?void 0:e.display_login)&&i().createElement("div",{className:"cfd-account-card--login-id".concat("labuan"===e.landing_company_short?"":"-demo")},i().createElement(_.Text,{size:"xxxs",weight:"bold"},null==e?void 0:e.display_login)),(null==e?void 0:e.display_balance)&&h&&i().createElement("div",{className:"cfd-account-card__balance"},i().createElement(_.Text,{size:"xxl",className:"cfd-account-card__balance--value"},i().createElement(_.Money,{amount:e.display_balance,currency:e.currency,has_sign:!!e.balance&&e.balance<0,show_currency:!0}))),i().createElement("div",{className:"cfd-account-card__manage--mt5"},e&&h&&i().createElement(_.Button,{onClick:function(){return w(e)},type:"button",secondary:!0},i().createElement(f.Localize,{i18n_default_text:"Top up"})),e&&h&&!oe&&i().createElement(_.Button,{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",onClick:function(){B(S),F(),D(e)},primary:!0,large:!0},i().createElement(f.Localize,{i18n_default_text:"Trade"}))))}))),(null==U?void 0:U.login)&&h&&S===d.CFD_PLATFORMS.MT5&&!(null!=o&&o.length)&&"demo"===L.category&&i().createElement("div",{className:"cfd-account-card__item"},(null==U?void 0:U.display_login)&&i().createElement("div",{className:"cfd-account-card--login-id-demo"},i().createElement(_.Text,{size:"xxxs",weight:"bold"},null==U?void 0:U.display_login)),(null==U?void 0:U.display_balance)&&h&&i().createElement("div",{className:"cfd-account-card__balance"},i().createElement(_.Text,{size:"xxl",className:"cfd-account-card__balance--value"},i().createElement(_.Money,{amount:U.display_balance,currency:U.currency,has_sign:!!U.balance&&U.balance<0,show_currency:!0}))),i().createElement("div",{className:"cfd-account-card__manage--mt5"},U&&h&&i().createElement(_.Button,{onClick:function(){return w(U)},type:"button",secondary:!0},i().createElement(f.Localize,{i18n_default_text:"Top up"})),U&&h&&!oe&&i().createElement(_.Button,{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",onClick:function(){B(S),F(),D(U)},primary:!0,large:!0},i().createElement(f.Localize,{i18n_default_text:"Trade"})))),(null==U?void 0:U.login)&&h&&S===d.CFD_PLATFORMS.MT5&&"real"===L.category&&(null==o?void 0:o.map((function(e,t){var n,r,a,c,l;return i().createElement("div",{className:"cfd-account-card__item",key:t},(null==U?void 0:U.display_balance)&&h&&!V&&i().createElement("div",{className:"cfd-account-card__item--banner"},i().createElement(f.Localize,{i18n_default_text:e.landing_company_short&&!["svg","bvi"].includes(null==e?void 0:e.landing_company_short)?(null===(n=e.landing_company_short)||void 0===n?void 0:n.charAt(0).toUpperCase())+e.landing_company_short.slice(1):null===(r=e.landing_company_short)||void 0===r?void 0:r.toUpperCase()})),(null==e?void 0:e.display_login)&&i().createElement("div",{className:"cfd-account-card--login-id"},i().createElement(_.Text,{size:"xxxs",weight:"bold"},null==e?void 0:e.display_login)),(null==U?void 0:U.display_balance)&&h&&i().createElement("div",{className:"cfd-account-card__balance"},i().createElement(_.Text,{size:"xxl",className:"cfd-account-card__balance--value"},i().createElement(_.Money,{amount:e.display_balance,currency:e.currency,has_sign:!!e.balance&&e.balance<0,show_currency:!0})),(null===(l=[],null==o||o.map((function(e){"svg"===e.landing_company_short&&(l.length?l.forEach((function(t){return t.server!==e.server&&l.push(e),l})):l.push(e))})),a=l)||void 0===a?void 0:a.length)>1&&"svg"===e.landing_company_short&&i().createElement(_.Text,{className:"cfd-account-card__balance--region",color:"colored-background",size:"xxxs",weight:"bold"},ae(e))),i().createElement("div",{className:"cfd-account-card__manage--mt5"},null!==(c=function(e){var t=e.landing_company_short,n=e.status;if(t&&n&&["proof_failed","verification_pending"].includes(n)){var r="verification_pending"===n;return i().createElement(_.Button,{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",onClick:function(){z({category:L.category,type:L.type}),O(t),N(),P()},primary:!0,large:!0,disabled:r},r?i().createElement(f.Localize,{i18n_default_text:"Pending verification"}):i().createElement(f.Localize,{i18n_default_text:"Resubmit document"}))}return null}(e))&&void 0!==c?c:i().createElement(i().Fragment,null,U&&h&&i().createElement(_.Button,{onClick:function(){var t=null==o?void 0:o.find((function(t){return t.landing_company_short===e.landing_company_short&&t.login===e.login}));w(t)},type:"button",secondary:!0},i().createElement(f.Localize,{i18n_default_text:"Top up"})),U&&h&&!oe&&i().createElement(_.Button,{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",onClick:function(){var t=null==o?void 0:o.find((function(t){return t.landing_company_short===e.landing_company_short&&t.login===e.login}));B(S),F(),D(t)},primary:!0,large:!0},i().createElement(f.Localize,{i18n_default_text:"Trade"})))))}))),(null==U?void 0:U.login)&&h&&S===d.CFD_PLATFORMS.DXTRADE&&i().createElement(i().Fragment,null,i().createElement("div",{className:"cfd-account-card__login-specs"},i().createElement("table",{className:"cfd-account-card__login-specs-table"},i().createElement("tbody",null,ie,i().createElement("tr",{className:"cfd-account-card__login-specs-table-row cfd-account-card__login-specs-table-row--account-id"},i().createElement("td",{className:"cfd-account-card__login-specs-table-attribute"},i().createElement("div",{className:"cfd-account-card--paragraph"},(0,f.localize)("Password"))),i().createElement("td",{className:"cfd-account-card__login-specs-table-data"},i().createElement("div",{className:"cfd-account-card--paragraph"},i().createElement(J,{platform:S,onClick:function(){x(null==U?void 0:U.login,M,L.category,L.type,null==U?void 0:U.server)}})))))))),(!U&&n||!h)&&S===d.CFD_PLATFORMS.DXTRADE&&i().createElement("div",{className:"cfd-account-card__commission"},i().createElement(_.Text,{as:"p",color:"general",size:"xs",styles:{margin:"1.6rem auto"}},n)),U&&h&&S===d.CFD_PLATFORMS.DXTRADE&&i().createElement("div",{className:"cfd-account-card__manage"},i().createElement(_.Button,{onClick:function(){return w(U)},type:"button",secondary:!0},"real"===L.category&&i().createElement(f.Localize,{i18n_default_text:"Fund transfer"}),"demo"===L.category&&i().createElement(f.Localize,{i18n_default_text:"Top up"}))),U&&h&&!oe&&S===d.CFD_PLATFORMS.DXTRADE&&i().createElement("a",{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",href:(0,T.Nu)(L.category,a[L.category]),target:"_blank",rel:"noopener noreferrer"},i().createElement(f.Localize,{i18n_default_text:"Trade on web terminal"})),U&&h&&oe&&i().createElement("a",{className:"dc-btn cfd-account-card__account-selection cfd-account-card__account-selection--primary",type:"button",href:"iOS"===(0,d.mobileOSDetect)()?(0,T.H9)("ios"):(0,T.H9)("android"),target:"_blank",rel:"noopener noreferrer"},i().createElement(f.Localize,{i18n_default_text:"Download the app"})),!U&&h&&i().createElement($,{button_label:t,handleClickSwitchAccount:function(){null==j||j(!0),null==C||C(!0)},has_real_account:s,is_accounts_switcher_on:u,is_button_primary:m,is_disabled:p,is_virtual:v,onSelectAccount:E,type:L,platform:S,title:M,real_account_creation_unlock_date:R,setShouldShowCooldownModal:I}))),i().createElement(i().Fragment,null,W&&i().createElement(_.MobileWrapper,null,i().createElement(H,{ref:re,onSelectAccount:E,is_disabled:l})))),i().createElement(_.DesktopWrapper,null,i().createElement(X.Z,{in:W,timeout:0,classNames:"cfd-account-card__add-server",unmountOnExit:!0},i().createElement(H,{ref:re,onSelectAccount:E,is_disabled:l}))))}));const K={mt5:{real_synthetic_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("20+")}}},real_financial_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("150+")}}},eu_real_financial_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("50+")}}},real_financial_stp_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:100")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("70+")}}},au_real_financial_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("100+")}}},demo_financial_stp_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:100")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("70+")}}}},dxtrade:{demo_all_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("110+")}}},real_all_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("110+")}}},real_synthetic_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("20+")}}},real_financial_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:1000")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("90+")}}},eu_real_financial_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("90+")}}},au_real_financial_specs:{leverage:{key:function(){return(0,f.localize)("Leverage")},value:function(){return(0,f.localize)("Up to 1:30")}},"margin-call":{key:function(){return(0,f.localize)("Margin call")},value:function(){return(0,f.localize)("100%")}},"stop-out-level":{key:function(){return(0,f.localize)("Stop out level")},value:function(){return(0,f.localize)("50%")}},"number-of-assets":{key:function(){return(0,f.localize)("Number of assets")},value:function(){return(0,f.localize)("90+")}}}}};const Z=function(e){var t,n=e.has_cfd_account_error,r=e.standpoint,a=e.is_loading,o=e.is_logged_in,c=e.onSelectAccount,l=e.openAccountTransfer,s=e.platform,u=e.current_list,d=e.openPasswordManager,_=Object.keys(u).find((function(e){return e.startsWith("".concat(s,".demo.dxtrade"))}))||"";return i().createElement("div",{className:"cfd-demo-accounts-display","data-testid":"dt_cfd_demo_accounts_display"},a?i().createElement(b,null):i().createElement(Y,{key:"cfd",title:(0,f.localize)("Deriv X"),type:{category:"demo",platform:"dxtrade",type:"all"},is_disabled:n||r.malta,is_logged_in:o,existing_accounts_data:(t="dxtrade",Object.keys(u).some((function(e){return e.startsWith("".concat(s,".demo.").concat(t))&&1===u[e].enabled}))?Object.keys(u).filter((function(e){return e.startsWith("".concat(s,".demo.").concat(t))})).reduce((function(e,t){return e.push(u[t]),e}),[]):void 0),commission_message:(0,f.localize)("No commission"),onSelectAccount:function(){return c({category:"demo",platform:"dxtrade",type:"all"})},onPasswordManager:d,onClickFund:function(){return l(u[_],{category:"demo",type:"all"})},platform:s,descriptor:(0,f.localize)("Trade CFDs on forex, derived indices, cryptocurrencies, and commodities with high leverage."),specs:K.dxtrade.demo_all_specs,has_banner:!0}))};const Q=function(e){var t=e.is_eu,n=e.is_eu_country,r=e.has_maltainvest_account,a=e.has_cfd_account_error,o=e.openAccountNeededModal,c=e.standpoint,l=e.is_loading,s=e.is_logged_in,u=e.isSyntheticCardVisible,d=e.isFinancialCardVisible,_=e.onSelectAccount,m=e.openAccountTransfer,p=e.platform,h=e.current_list,v=e.openPasswordManager,g=e.residence,y=e.toggleMT5TradeModal,w=e.show_eu_related_content,x=s&&t||!s&&n,E=function(e){return Object.keys(h).find((function(t){return t.startsWith("".concat(p,".demo.").concat(e))}))||""},S=i().useMemo((function(){var e=s&&t||!s&&n;return"au"===g?K[p].au_real_financial_specs:e?K[p].eu_real_financial_specs:K[p].real_financial_specs}),[s,t,n,g,p]);return i().createElement(i().Fragment,null,l?i().createElement(b,null):i().createElement("div",{className:"cfd-demo-accounts-display","data-testid":"dt_cfd_demo_accounts_display"},u("demo")&&i().createElement(Y,{title:(0,f.localize)("Derived"),type:{category:"demo",type:"synthetic",platform:p},is_disabled:a||c.malta,is_logged_in:s,existing_accounts_data:h[E("synthetic")],commission_message:(0,f.localize)("No commission"),onSelectAccount:function(){return _({category:"demo",type:"synthetic",platform:p})},onPasswordManager:v,onClickFund:function(){return m(h[E("synthetic")],{category:"demo",type:"synthetic"})},platform:p,descriptor:(0,f.localize)("Trade CFDs on our synthetics, baskets, and derived FX."),specs:K[p].real_synthetic_specs,has_banner:!0,toggleMT5TradeModal:y}),d()&&i().createElement(Y,{title:w?(0,f.localize)("CFDs"):(0,f.localize)("Financial"),is_disabled:a,is_logged_in:s,is_eu:x,type:{category:"demo",type:"financial",platform:p},existing_accounts_data:Object.keys(h).some((function(e){return e.startsWith("".concat(p,".demo.financial"))}))?Object.keys(h).filter((function(e){return e.startsWith("".concat(p,".demo.financial"))})).reduce((function(e,t){return e.push(h[t]),e}),[]):void 0,commission_message:(0,f.localize)("No commission"),onSelectAccount:function(){t&&!r&&c.iom?o("maltainvest",(0,f.localize)("Deriv Multipliers"),(0,f.localize)("demo CFDs")):_({category:"demo",type:"financial",platform:p})},onPasswordManager:v,onClickFund:function(){return m(h[E("financial")],{category:"demo",type:"financial"})},platform:p,descriptor:A(p,w),specs:S,has_banner:!0,toggleMT5TradeModal:y})))};var ee=function(e){var t=e.has_real_account,n=e.is_accounts_switcher_on,r=e.is_eu,a=e.is_eu_country,o=e.has_cfd_account_error,c=e.is_virtual,l=e.isSyntheticCardVisible,s=e.isFinancialCardVisible,u=e.isDxtradeAllCardVisible,m=e.onSelectAccount,p=e.realSyntheticAccountsExistingData,h=e.realFinancialAccountsExistingData,v=e.openAccountTransfer,g=e.isAccountOfTypeDisabled,b=e.current_list,w=e.openPasswordManager,x=e.platform,E=e.standpoint,S=e.is_logged_in,z=e.toggleAccountsDialog,O=e.toggleMT5TradeModal,T=e.toggleShouldShowRealAccountsList,k=e.residence,D=e.openDerivRealAccountNeededModal,M=e.should_enable_add_button,C=e.setIsAcuityModalOpen,P=e.real_account_creation_unlock_date,F=e.setShouldShowCooldownModal,j=e.show_eu_related_content,L=S&&r||!S&&a,N=i().useMemo((function(){var e=S&&r||!S&&a;return"au"===k?K[x].au_real_financial_specs:e?K[x].eu_real_financial_specs:K[x].real_financial_specs}),[k,S,r,a,x]),R=function(e){M?D():m({type:e,category:"real",platform:x})},I=function(e){return"dxtrade"===x?v(b[(0,d.getAccountListKey)(e,x)],{category:e.account_type,type:(0,d.getCFDAccountKey)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:x})}):v(e,{category:e.account_type,type:(0,d.getCFDAccountKey)({market_type:e.market_type,sub_account_type:e.sub_account_type,platform:"mt5"})})},B=function(e){if(o)return!0;if("synthetic"===e&&E.malta)return!0;if(r){var n=(0,d.getAccountTypeFields)({category:"real",type:e});return g(null==n?void 0:n.account_type)}switch(e){case"synthetic":case"financial":return!M&&!t;default:return!1}},V=function(e){var t="all"===e?"".concat(x,".real.").concat(x,"@").concat(e):"".concat(x,".real.").concat(e);return Object.keys(b).some((function(e){return e.startsWith(t)&&(n=b[e],"dxtrade"!==x||1===n.enabled);var n}))?Object.keys(b).filter((function(e){return e.startsWith(t)})).reduce((function(e,t){return e.push(b[t]),e}),[]):void 0};p(V("synthetic")),h(V("financial"));var U=[l("real")&&i().createElement(Y,{key:"real.synthetic",has_cfd_account_error:o,title:"mt5"===x?(0,f.localize)("Derived"):(0,f.localize)("Synthetic"),has_real_account:t,is_accounts_switcher_on:n,is_disabled:B("synthetic"),is_logged_in:S,type:{category:"real",type:"synthetic",platform:x},existing_accounts_data:V("synthetic"),commission_message:(0,f.localize)("No commission"),onSelectAccount:function(){return R("synthetic")},onPasswordManager:w,onClickFund:I,platform:x,descriptor:"mt5"===x?(0,f.localize)("Trade CFDs on our synthetics, baskets, and derived FX."):(0,f.localize)("Trade CFDs on our synthetic indices that simulate real-world market movements."),specs:K[x].real_synthetic_specs,is_virtual:c,toggleShouldShowRealAccountsList:T,toggleAccountsDialog:z,toggleMT5TradeModal:O}),s()&&i().createElement(Y,{key:"real.financial",has_real_account:t,is_disabled:B("financial"),title:j?(0,f.localize)("CFDs"):(0,f.localize)("Financial"),type:{category:"real",type:"financial",platform:x},existing_accounts_data:V("financial"),commission_message:(0,f.localize)("No commission"),onSelectAccount:function(){return R("financial")},onPasswordManager:w,onClickFund:I,platform:x,descriptor:A(x,j),specs:N,is_accounts_switcher_on:n,is_eu:L,is_logged_in:S,is_virtual:c,toggleShouldShowRealAccountsList:T,toggleAccountsDialog:z,toggleMT5TradeModal:O,setIsAcuityModalOpen:C,real_account_creation_unlock_date:P,setShouldShowCooldownModal:F}),"dxtrade"===x&&u("real")&&i().createElement(Y,{commission_message:(0,f.localize)("No commission"),descriptor:(0,f.localize)("Trade CFDs on forex, derived indices, cryptocurrencies, and commodities with high leverage."),existing_accounts_data:V("all"),has_real_account:t,is_accounts_switcher_on:n,is_disabled:o||E.malta,is_eu:L,is_logged_in:S,is_virtual:c,key:"cfd",onClickFund:I,onPasswordManager:w,onSelectAccount:function(){return R("all")},platform:x,specs:K.dxtrade.real_all_specs,title:(0,f.localize)("Deriv X"),toggleAccountsDialog:z,toggleShouldShowRealAccountsList:T,type:{category:"real",type:"all",platform:x}})].filter(Boolean);return i().createElement("div",{"data-testid":"dt_cfd_real_accounts_display",className:y()("cfd-real-accounts-display")},i().createElement(_.DesktopWrapper,null,i().createElement(_.Carousel,{list:U,width:328,nav_position:"middle",show_bullet:!1,item_per_window:2,is_mt5:!0})),i().createElement(_.MobileWrapper,null,U))},te=["children","is_loading","loading_component"];function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var oe=function(e){var t=e.children,n=e.is_loading,r=e.loading_component,a=ae(e,te),o=r;return n?i().createElement(o,null):i().createElement(_.Tabs,a,t)};const ie=(0,s.withRouter)((0,h.$j)((function(e){var t=e.client,n=e.modules,r=e.notifications,a=e.ui,o=e.traders_hub;return{beginRealSignupForMt5:n.cfd.beginRealSignupForMt5,checkShouldOpenAccount:n.cfd.checkShouldOpenAccount,country:t.account_settings.residence,client_email:t.email_address,context:{ui:a,modules:n},createCFDAccount:n.cfd.createCFDAccount,current_list:n.cfd.current_list,dxtrade_tokens:n.cfd.dxtrade_tokens,landing_companies:t.landing_companies,isAccountOfTypeDisabled:t.isAccountOfTypeDisabled,is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,is_eu:t.is_eu,is_eu_country:t.is_eu_country,is_virtual:t.is_virtual,is_mt5_allowed:t.is_mt5_allowed,is_dxtrade_allowed:t.is_dxtrade_allowed,mt5_disabled_signup_types:t.mt5_disabled_signup_types,dxtrade_disabled_signup_types:t.dxtrade_disabled_signup_types,has_maltainvest_account:t.has_maltainvest_account,can_upgrade_to:t.can_upgrade_to,disableCFDPasswordModal:n.cfd.disableCFDPasswordModal,dxtrade_accounts_list_error:t.dxtrade_accounts_list_error,is_compare_accounts_visible:n.cfd.is_compare_accounts_visible,is_mt5_trade_modal_visible:n.cfd.is_mt5_trade_modal_visible,is_fully_authenticated:t.is_fully_authenticated,openPasswordModal:n.cfd.enableCFDPasswordModal,openAccountNeededModal:a.openAccountNeededModal,getRealSyntheticAccountsExistingData:n.cfd.getRealSyntheticAccountsExistingData,getRealFinancialAccountsExistingData:n.cfd.getRealFinancialAccountsExistingData,is_loading:t.is_populating_mt5_account_list,residence:t.residence,has_mt5_real_account_error:t.has_account_error_in_mt5_real_list,has_mt5_demo_account_error:t.has_account_error_in_mt5_demo_list,has_dxtrade_real_account_error:t.has_account_error_in_dxtrade_real_list,has_dxtrade_demo_account_error:t.has_account_error_in_dxtrade_demo_list,has_real_account:t.has_active_real_account,setAccountType:n.cfd.setAccountType,setCFDPasswordResetModal:a.setCFDPasswordResetModal,setCurrentAccount:n.cfd.setCurrentAccount,standpoint:t.standpoint,toggleCompareAccounts:n.cfd.toggleCompareAccountsModal,toggleMT5TradeModal:n.cfd.toggleMT5TradeModal,is_accounts_switcher_on:a.is_accounts_switcher_on,openTopUpModal:a.openTopUpModal,NotificationMessages:a.notification_messages_ui,onMount:n.cfd.onMount,onUnmount:n.cfd.onUnmount,refreshNotifications:r.refreshNotifications,toggleAccountsDialog:a.toggleAccountsDialog,toggleShouldShowRealAccountsList:a.toggleShouldShowRealAccountsList,upgradeable_landing_companies:t.upgradeable_landing_companies,is_dark_mode_on:a.is_dark_mode_on,disableApp:a.disableApp,enableApp:a.enableApp,is_reset_trading_password_modal_visible:a.is_reset_trading_password_modal_visible,toggleResetTradingPasswordModal:a.setResetTradingPasswordModalOpen,mt5_verification_code:t.verification_code.trading_platform_mt5_password_reset,dxtrade_verification_code:t.verification_code.trading_platform_dxtrade_password_reset,mt5_status_server:t.website_status.mt5_status,dxtrade_status_server:t.website_status.dxtrade_status,openDerivRealAccountNeededModal:a.openDerivRealAccountNeededModal,setIsAcuityModalOpen:a.setIsAcuityModalOpen,setShouldShowCooldownModal:a.setShouldShowCooldownModal,real_account_creation_unlock_date:t.real_account_creation_unlock_date,show_eu_related_content:o.show_eu_related_content,is_user_exception:t.account_settings.dxtrade_user_exception}}))((function(e){var t=ne(i().useState(!1),2),n=t[0],r=t[1],a=ne(i().useState(!1),2),o=a[0],c=a[1],l=ne(i().useState(0),2),s=l[0],m=l[1],h=ne(i().useState(!1),2),g=h[0],y=h[1],b=ne(i().useState(!1),2),O=b[0],T=b[1],D=ne(i().useState({is_visible:!1,selected_login:"",selected_account:"",selected_account_type:"",selected_account_group:"",selected_server:""}),2),A=D[0],M=D[1],C=(0,u.useHistory)();i().useEffect((function(){(window.location.href.includes(d.routes.mt5)||window.location.href.includes(d.routes.dxtrade))&&C.push(d.routes.traders_hub)}),[C]),i().useEffect((function(){return j(F()),P(),e.refreshNotifications(),e.onMount(),function(){e.onUnmount()}}),[]),i().useEffect((function(){e.checkShouldOpenAccount(),e.is_logged_in&&["demo","real"].forEach((function(e){var t=q(e)||J(e)||$();"real"===e&&o!==t&&c(t),"demo"===e&&n!==t&&r(t)})),e.is_logged_in||o&&n||(c(!0),r(!0)),"#demo"===window.location.hash&&(r(!0),m(1))}));var P=function(){/reset-password/.test(e.location.hash)&&e.setCFDPasswordResetModal(!0)},F=function(){return o?0:n?1:e.location.hash?/demo/.test(e.location.hash)?1:0:void 0},j=function(e){if(void 0!==e){var t={};1===e?t.is_demo_tab=!0:0===e&&(t.is_demo_tab=!1),s!==e&&(t.active_index=e),(0,d.isEmptyObject)(t)||(m(t.active_index),y(t.is_demo_tab))}},X=function(t,n){"real"===n.category?(t.platform===d.CFD_PLATFORMS.DXTRADE?sessionStorage.setItem("cfd_transfer_to_login_id",t.account_id):sessionStorage.setItem("cfd_transfer_to_login_id",t.login),e.disableCFDPasswordModal(),e.history.push(d.routes.cashier_acc_transfer)):(e.setCurrentAccount(t,n),e.openTopUpModal())},W=function(e,t,n,r,a){M((function(o){return{is_visible:!o.is_visible,selected_login:"string"==typeof e?e:"",selected_account:"string"==typeof t?t:"",selected_account_group:n,selected_account_type:r,selected_server:a}}))},G=function(t){e.setAccountType(t),e.openPasswordModal()},H=function(e,t){return Object.keys(ae).some((function(n){return n.startsWith("".concat(Ae,".").concat(e,".").concat(t))}))},q=function(t){var n=e.platform,r=e.landing_companies,a=H(t,"synthetic"),o=H(t,"financial");return!a&&!o&&(!(!e.is_dxtrade_allowed||e.is_logged_in)||(0,d.isLandingCompanyEnabled)({landing_companies:r,platform:n,type:"all"}))},J=function(t){var n=e.platform,r=e.is_eu,a=e.is_eu_country,o=e.landing_companies,i=e.is_logged_in,c=H(t,"synthetic"),l=H(t,"financial");return!(!i&&a)&&(!(r&&!c&&n===d.CFD_PLATFORMS.DXTRADE)&&(!(!c&&!l&&n===d.CFD_PLATFORMS.DXTRADE)&&((0,d.isLandingCompanyEnabled)({landing_companies:o,platform:n,type:"gaming"})||!i)))},$=function(){var t=e.platform,n=e.landing_companies,r=e.is_logged_in,a=H("real","synthetic"),o=H("real","financial");return!(!a&&!o&&t===d.CFD_PLATFORMS.DXTRADE)&&(!r||(0,d.isLandingCompanyEnabled)({landing_companies:n,platform:t,type:"financial"}))},Y=e.account_status,K=e.beginRealSignupForMt5,te=e.country,re=e.createCFDAccount,ae=e.current_list,ie=e.dxtrade_tokens,ce=e.dxtrade_accounts_list_error,le=e.isAccountOfTypeDisabled,se=e.is_accounts_switcher_on,ue=e.is_dark_mode_on,de=e.is_eu,_e=e.is_eu_country,fe=e.is_loading,me=e.is_logged_in,pe=e.is_logging_in,he=e.is_mt5_allowed,ve=e.is_mt5_trade_modal_visible,ge=e.is_dxtrade_allowed,ye=e.is_virtual,be=e.landing_companies,we=e.has_maltainvest_account,xe=e.has_mt5_real_account_error,Ee=e.has_mt5_demo_account_error,Se=e.has_dxtrade_real_account_error,ze=e.has_dxtrade_demo_account_error,Oe=e.mt5_disabled_signup_types,Te=e.dxtrade_disabled_signup_types,ke=e.has_real_account,De=e.NotificationMessages,Ae=e.platform,Me=e.openAccountNeededModal,Ce=e.residence,Pe=e.standpoint,Fe=e.toggleAccountsDialog,je=e.toggleMT5TradeModal,Le=e.toggleShouldShowRealAccountsList,Ne=e.upgradeable_landing_companies,Re=e.is_reset_trading_password_modal_visible,Ie=e.toggleResetTradingPasswordModal,Be=e.enableApp,Ve=e.disableApp,Ue=e.mt5_verification_code,Xe=e.dxtrade_verification_code,We=e.mt5_status_server,Ge=e.dxtrade_status_server,He=e.getRealSyntheticAccountsExistingData,qe=e.getRealFinancialAccountsExistingData,Je=e.openDerivRealAccountNeededModal,$e=e.setIsAcuityModalOpen,Ye=e.real_account_creation_unlock_date,Ke=e.setShouldShowCooldownModal,Ze=e.show_eu_related_content,Qe=e.is_user_exception,et=me&&!ke&&(null==Ne?void 0:Ne.length)>0,tt=et&&d.CFD_PLATFORMS.MT5&&o;if(!te&&me||pe)return i().createElement(_.Loading,null);var nt=function(e){return null==e?void 0:e.map((function(e){return e.all})).some((function(e){return 1===e}))},rt=nt(null==We?void 0:We.demo),at=nt(null==We?void 0:We.real),ot=!(null==Ge||!Ge.demo),it=!(null==Ge||!Ge.real),ct=g?rt||Ee||Oe.demo:at||xe||Oe.real,lt=g?ot||ze||Te.demo:it||Se||Te.real,st=Qe?!Qe:Ae===d.CFD_PLATFORMS.MT5?ct:lt||!!ce,ut=it||Te.real||!!ce,dt=ot||Te.demo||!!ce,_t=at||Oe.real,ft=rt||Oe.demo,mt=Ae===d.CFD_PLATFORMS.MT5?Ue:Xe;return Ae===d.CFD_PLATFORMS.MT5||Ae===d.CFD_PLATFORMS.DXTRADE?i().createElement(u.Redirect,{to:d.routes.traders_hub}):Ae!==d.CFD_PLATFORMS.DXTRADE||ge?me&&!be||fe?i().createElement(_.Loading,null):i().createElement(i().Fragment,null,he||Ae===d.CFD_PLATFORMS.DXTRADE||!me?i().createElement("div",{className:"cfd-dashboard__container"},i().createElement(De,{is_mt5:!0,is_notification_loaded:O,stopNotificationLoading:function(){T(!0)}}),i().createElement("div",{className:"cfd-dashboard"},i().createElement("div",{className:"cfd-dashboard__welcome-message"},i().createElement("h1",{className:"cfd-dashboard__welcome-message--heading"},k(me,Ae))),me&&st&&i().createElement("div",{className:"cfd-dashboard__accounts-error"},i().createElement(_.Text,{as:"p",className:"cfd-dashboard__accounts-error-message",line_height:"l",size:"xxs",color:"prominent",weight:"normal",align:"center"},i().createElement(f.Localize,{i18n_default_text:"Due to an issue on our server, some of your {{platform}} accounts are unavailable at the moment. Please bear with us and thank you for your patience.",values:{platform:(0,d.getCFDPlatformLabel)(Ae)}}))),i().createElement("div",{className:"cfd-dashboard__accounts-display"},i().createElement(N.default,{is_visible:A.is_visible,platform:Ae,selected_login:A.selected_login,selected_account:A.selected_account,selected_account_group:A.selected_account_group,selected_account_type:A.selected_account_type,selected_server:A.selected_server,toggleModal:W}),i().createElement(oe,{active_index:s,top:!0,center:!0,is_loading:fe,is_logged_in:me,loading_component:w,onTabItemClick:j,should_update_hash:!0},o&&i().createElement("div",{label:(0,f.localize)("Real account"),"data-hash":"real"},i().createElement(i().Fragment,null,et&&i().createElement(v,{onClickSignup:function(){Ye?Ke(!0):K()},platform:Ae}),i().createElement(ee,{is_accounts_switcher_on:se,is_eu:de,is_eu_country:_e,is_logged_in:me,has_cfd_account_error:Ae===d.CFD_PLATFORMS.MT5?_t:Qe?!Qe:ut,current_list:ae,account_status:Y,onSelectAccount:re,realSyntheticAccountsExistingData:He,realFinancialAccountsExistingData:qe,is_virtual:ye,isSyntheticCardVisible:J,isFinancialCardVisible:$,isDxtradeAllCardVisible:q,openAccountTransfer:X,openPasswordManager:W,platform:Ae,isAccountOfTypeDisabled:le,has_real_account:ke,standpoint:Pe,toggleAccountsDialog:Fe,toggleMT5TradeModal:je,toggleShouldShowRealAccountsList:Le,residence:Ce,openDerivRealAccountNeededModal:Je,should_enable_add_button:tt,setIsAcuityModalOpen:$e,real_account_creation_unlock_date:Ye,setShouldShowCooldownModal:Ke,show_eu_related_content:Ze}))),n&&i().createElement("div",{label:(0,f.localize)("Demo account"),"data-hash":"demo"},Ae===d.CFD_PLATFORMS.DXTRADE&&i().createElement(Z,{is_logged_in:me,has_cfd_account_error:Qe?!Qe:dt,standpoint:Pe,is_loading:fe,current_list:ae,onSelectAccount:re,landing_companies:be,openAccountTransfer:X,openPasswordManager:W,platform:Ae}),Ae===d.CFD_PLATFORMS.MT5&&i().createElement(Q,{is_eu:de,is_eu_country:_e,is_logged_in:me,has_maltainvest_account:we,has_cfd_account_error:ft,openAccountNeededModal:Me,standpoint:Pe,is_loading:fe,isSyntheticCardVisible:J,isFinancialCardVisible:$,current_list:ae,onSelectAccount:re,landing_companies:be,openAccountTransfer:X,openPasswordManager:W,toggleMT5TradeModal:je,platform:Ae,residence:Ce,show_eu_related_content:Ze}))),i().createElement(x.default,{platform:Ae,is_demo_tab:g,openPasswordModal:G,is_real_enabled:o,real_account_creation_unlock_date:Ye,setShouldShowCooldownModal:Ke,has_unmerged_account:H("real","synthetic")||H("real","financial")}),i().createElement(U,null),i().createElement(E.default,{openPasswordModal:G}),i().createElement(S.default,{current_list:ae,is_open:ve,onPasswordManager:W,toggleModal:je,is_eu_user:me&&de||!me&&_e,platform:Ae}),i().createElement("div",{className:"cfd-dashboard__maintenance"},i().createElement(_.Icon,{icon:"IcAlertWarning",size:(0,d.isMobile)()?28:16,className:"cfd-dashboard__maintenance-icon"}),i().createElement("div",{className:"cfd-dashboard__maintenance-text"},Ae===d.CFD_PLATFORMS.DXTRADE&&i().createElement(f.Localize,{i18n_default_text:"Server maintenance starts at 06:00 GMT every Sunday and may last up to 2 hours. You may experience service disruption during this time."}),Ae===d.CFD_PLATFORMS.MT5&&i().createElement(f.Localize,{i18n_default_text:"Server maintenance starts at 01:00 GMT every Sunday, and this process may take up to 2 hours to complete. Service may be disrupted during this time."})))),i().createElement(L,{platform:Ae,active_index:s,is_dark_mode_on:ue,dxtrade_tokens:ie}),i().createElement(B.default,{platform:Ae}),i().createElement(R.default,{platform:Ae,has_suspended_account:st}),i().createElement(I.default,null),Ae===d.CFD_PLATFORMS.MT5&&me&&i().createElement(z.default,{openPasswordModal:G}),i().createElement(V.default,{platform:Ae}),i().createElement(p(),{platform:Ae,enableApp:Be,disableApp:Ve,toggleResetTradingPasswordModal:Ie,is_visible:Re,is_loading:fe,verification_code:mt}))):i().createElement(_.PageError,{buttonSize:"medium",header:i().createElement(f.Localize,{i18n_default_text:"{{platform_name_mt5}} is not available in {{country}}",values:{country:te,platform_name_mt5:(0,d.getPlatformSettings)("mt5").name},components:[i().createElement("br",{key:0})]}),messages:[i().createElement(f.Localize,{key:0,i18n_default_text:"Please explore our other platforms."})],redirect_urls:[d.routes.trade,d.routes.bot],redirect_labels:[i().createElement(f.Localize,{key:0,i18n_default_text:"Explore {{platform_name_trader}}",values:{platform_name_trader:(0,d.getPlatformSettings)("trader").name}}),i().createElement(f.Localize,{key:1,i18n_default_text:"Explore {{platform_name_dbot}}",values:{platform_name_dbot:(0,d.getPlatformSettings)("dbot").name}})]})):i().createElement(u.Redirect,{to:d.routes.mt5})})));function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}var le,se=i().lazy((function(){return n.e("404").then(n.bind(n,"./src/Modules/Page404/index.js"))})),ue={path:d.routes.error404,component:se,getTitle:function(){return(0,f.localize)("Error 404")}};const de=function(){return le||(le=[{path:d.routes.dxtrade,component:function(e){return i().createElement(ie,ce({},e,{platform:"dxtrade"}))},getTitle:function(){return(0,f.localize)("Deriv X")},is_authenticated:!1},{path:d.routes.mt5,component:function(e){return i().createElement(ie,ce({},e,{platform:"mt5"}))},getTitle:function(){return(0,f.localize)("MT5")},is_authenticated:!1}]).push(ue),le};var _e=function e(t,n){var r;return n.some((function(n){var a;try{a=(0,s.matchPath)(t,n)}catch(e){if(/undefined/.test(e.message))return}return a?(r=n,!0):!!n.routes&&(r=e(t,n.routes))})),r},fe=["active_class","to","children"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var he=function(e){var t=e.active_class,n=e.to,r=e.children,a=pe(e,fe),o=i().useContext(d.PlatformContext).is_dashboard,c=function(e){return/^\//.test(e)?e:"/".concat(e||"")}(n),l=_e(c,de({is_dashboard:o}));if(!l)throw new Error("Route not found: ".concat(n));return n?i().createElement(u.NavLink,me({to:c,activeClassName:t||"active",exact:l.exact},a),r):i().createElement("a",a,r)};he.propTypes={active_class:a().string,children:a().oneOfType([a().object,a().array,a().string]),to:a().string};function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ve(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xe=function(e){return i().createElement(u.Route,{exact:e.exact,path:e.path,render:function(t){var n,r=null;if(e.component===u.Redirect){var a=e.to;if(e.path===d.routes.index)a=t.location.pathname.toLowerCase().replace(e.path,"");r=i().createElement(u.Redirect,{to:a})}else if(!e.is_authenticated||e.is_logged_in||e.is_logging_in){var o,c=(null!==(o=e.routes)&&void 0!==o?o:[]).reduce((function(e,t){return be(be({},e),t.subroutes.find((function(e){return e.default})))}),{}),l=!(0,d.isEmptyObject)(c),s=(0,d.removeBranchName)(location.pathname);r=i().createElement(i().Fragment,null,l&&s===e.path&&i().createElement(u.Redirect,{to:c.path}),i().createElement(e.component,ge({},t,{routes:e.routes})))}else(0,d.redirectToLogin)(e.is_logged_in,(0,f.getLanguage)());var _=(null===(n=e.getTitle)||void 0===n?void 0:n.call(e))||"";return document.title="".concat(_," | ").concat(d.default_title),r}})};function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}const Se=function(e){var t=i().useContext(d.PlatformContext).is_dashboard;return i().createElement(i().Suspense,{fallback:function(){return i().createElement("div",null,i().createElement(f.Localize,{i18n_default_text:"Loading..."}))}},i().createElement(u.Switch,null,de({is_dashboard:t}).map((function(t){return i().createElement(xe,Ee({key:t.path},t,e))}))))};var ze=function(e){var t=e.header,n=e.message,r=e.is_dialog,a=e.redirect_label,o=e.redirectOnClick,c=e.should_show_refresh,l=void 0===c||c?(0,f.localize)("Please refresh this page to continue."):"";return r?i().createElement(_.Dialog,{title:t||(0,f.localize)("There was an error"),is_visible:!0,confirm_button_text:a||(0,f.localize)("Ok"),onConfirm:o||function(){return location.reload()}},n||(0,f.localize)("Sorry, an error occured while processing your request.")):i().createElement(_.PageError,{header:t||(0,f.localize)("Somethings not right"),messages:n?[n,l]:[(0,f.localize)("Sorry, an error occured while processing your request."),l],redirect_urls:[d.routes.trade],redirect_labels:[a||(0,f.localize)("Refresh")],buttonOnClick:o||function(){return location.reload()}})};ze.propTypes={header:a().string,is_dialog:a().bool,message:a().oneOfType([a().node,a().string,a().object]),redirect_label:a().string,redirectOnClick:a().func,should_show_refresh:a().bool,type:a().string};const Oe=ze;var Te=function(e){return e.has_error?i().createElement(Oe,e.error):i().createElement(Se,{is_logged_in:e.is_logged_in,is_logging_in:e.is_logging_in,passthrough:e.passthrough})};Te.propTypes={error:l.PropTypes.objectOrObservableObject,has_error:a().bool,is_logged_in:a().bool,is_logging_in:a().bool,is_virtual:a().bool,passthrough:a().object};const ke=(0,s.withRouter)((0,h.$j)((function(e){var t=e.client,n=e.common;return{is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,error:n.error,has_error:n.has_error}}))(Te));var De=n("mobx"),Ae=n("./src/Stores/Modules/CFD/cfd-store.js");function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==Me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===Me(o)?o:String(o)),r)}var a,o}function Pe(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Fe=Pe((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cfd=new Ae.default({root_store:t})}));function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===je(o)?o:String(o)),r)}var a,o}function Ne(e,t,n){return t&&Le(e.prototype,t),n&&Le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Re,Ie,Be,Ve=Ne((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t.client,this.common=t.common,this.modules=new Fe(this,t),this.ui=t.ui,this.gtm=t.gtm,this.rudderstack=t.rudderstack,this.pushwoosh=t.pushwoosh,this.notifications=t.notifications,this.traders_hub=t.traders_hub})),Ue=n("./src/_common/utility.js");const Xe=(Ie=!1,Be=new Ue.PromiseClass,{init:function(e){Ie||(Re=e,Be.resolve(Re.server_time),Ie=!0)},get:function(){return Ie&&Re.server_time?Re.server_time.clone():void 0},timePromise:function(){return Ie?Promise.resolve(Re.server_time):Be.promise}});var We;(0,De.configure)({enforceActions:"observed"});const Ge=function(e,t){return We||(Xe.init(e.common),(0,d.setWebsocket)(t),We=new Ve(e))};function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Je=function(e){var t=e.passthrough,n=He(i().useState(Ge(t.root_store,t.WS)),1)[0];return i().createElement(h.z1,{store:n},i().createElement(c.g3,{store:n},i().createElement(i().Fragment,null,i().createElement(ke,null))))};Je.propTypes={passthrough:a().shape({root_store:a().object,WS:a().object})};const $e=Je},"../stores/src/index.ts":(e,t,n)=>{"use strict";n.d(t,{g3:()=>C,Pi:()=>r.Pi,oR:()=>S});var r=n("../../node_modules/mobx-react-lite/es/index.js"),a=n("react"),o=n.n(a);const i=(0,a.createContext)(null);var c=n("mobx"),l=n("../../node_modules/mobx-persist-store/lib/esm5/index.js");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===s(o)?o:String(o)),r)}var a,o}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(a=r.key,o=void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===d(o)?o:String(o)),r)}var a,o}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(o,e);var t,n,r,a=m(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,"ExchangeRatesStore")}return t=o,n&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=void 0,(0,c.makeObservable)(this,{data:c.observable,update:c.action.bound,unmount:c.action.bound}),(0,l.Ko)(this,{name:t,properties:["data"],storage:window.localStorage})}var t,n,r;return t=e,(n=[{key:"update",value:function(e){this.data=e instanceof Function?e(this.data):e}},{key:"unmount",value:function(){(0,l.Rf)(this)}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());new(n("../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs").S);var v=n("@deriv/shared");function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const E=function(e){var t=w((0,a.useState)(!1),2),n=t[0],r=t[1],o=w((0,a.useState)(!1),2),i=o[0],c=o[1],l=w((0,a.useState)(),2),s=l[0],u=l[1],d=w((0,a.useState)(),2),_=d[0],f=d[1],m=(0,a.useRef)(),p=(0,v.useWS)(),h=(0,a.useCallback)((function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var o=null==n?void 0:n[0],i=o&&"payload"in o?o.payload:void 0;r(!0),c(!0);try{var l;m.current=p.subscribe(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}((l={},b(l,e,1),b(l,"subscribe",1),l),i||{})).subscribe((function(t){f(t["ticks"===e?"tick":e]),r(!1)}),(function(e){u(e.error),r(!1)}))}catch(e){u(e)}}),[p,e]),g=(0,a.useCallback)((function(){var e,t;null===(e=m.current)||void 0===e||null===(t=e.unsubscribe)||void 0===t||t.call(e),c(!1)}),[]);return(0,a.useEffect)((function(){return function(){g()}}),[g]),{subscribe:h,unsubscribe:g,is_loading:n,is_subscribed:i,error:s,data:_}};const S=function(){var e=o().useContext(i);if(!e)throw new Error("useStore must be used within StoreProvider");return e};var z=n("../../node_modules/lodash.merge/index.js"),O=n.n(z);const T=function(e){var t=e.children,n=E("exchange_rates"),r=n.data,i=n.subscribe,c=S().exchange_rates.update;return(0,a.useEffect)((function(){i({payload:{base_currency:"USD"}})}),[i]),(0,a.useEffect)((function(){r&&c((function(e){return O()(e,r)}))}),[c,r]),o().createElement(o().Fragment,null,t)};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=function(e){var t=e.children,n=e.store,r=(0,a.useMemo)((function(){return A(A({},n),{},{exchange_rates:new h})}),[n]);return(0,a.useEffect)((function(){return function(){Object.values(r).forEach((function(e){"unmount"in e&&e.unmount()}))}}),[r]),o().createElement(i.Provider,{value:r},o().createElement(T,null,t))}}}]);