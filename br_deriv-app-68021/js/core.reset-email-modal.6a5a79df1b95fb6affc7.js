(self.webpackChunk=self.webpackChunk||[]).push([[9418],{60946:(e,t,a)=>{var n,l,i,r;self,e.exports=(n=a(34302),l=a(42413),i=a(20374),r=a(32735),(()=>{var e={"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,a)=>{"use strict";var n=a("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function l(){}function i(){}i.resetWarningCache=l,e.exports=function(){function e(e,t,a,l,i,r){if(r!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:l};return a.PropTypes=a,a}},"../../../node_modules/prop-types/index.js":(e,t,a)=>{e.exports=a("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"@deriv/components":e=>{"use strict";e.exports=n},"@deriv/shared":e=>{"use strict";e.exports=l},"@deriv/translations":e=>{"use strict";e.exports=i},react:e=>{"use strict";e.exports=r}},t={};function a(n){var l=t[n];if(void 0!==l)return l.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{"use strict";a.d(o,{default:()=>m});var e=a("react"),t=a.n(e),n=a("../../../node_modules/prop-types/index.js"),l=a.n(n),i=a("@deriv/translations"),r=a("@deriv/components"),s=a("@deriv/shared"),c=function(e){var a=e.identifier_title,n=e.is_open,l=e.onClose,o=e.onClickSendEmail,c=e.has_live_chat,m=void 0!==c&&c,u=e.is_modal_when_mobile,d=void 0!==u&&u,p=m?t().createElement(i.Localize,{i18n_default_text:"Still didn't get the email? Please contact us via <0>live chat.</0>",components:[t().createElement("span",{className:"send-email-template__footer-live-chat",key:0,onClick:function(){var e;l(),null===(e=window.LiveChatWidget)||void 0===e||e.call("maximize")}},t().createElement(r.Popover,{className:"send-email-template__footer-live-chat__link",classNameBubble:"help-centre__tooltip",alignment:"top",message:(0,i.localize)("Live chat"),zIndex:9999}))]}):null,_=t().createElement(r.SendEmailTemplate,{className:"sent-email",subtitle:function(){var e="";switch(a){case s.CFD_PLATFORMS.DXTRADE:e=t().createElement(i.Localize,{i18n_default_text:"Please click on the link in the email to change your <0>{{platform_name_dxtrade}}</0> password.",components:[t().createElement("span",{className:"send-email-template__subtitle-platform",key:0})],values:{platform_name_dxtrade:(0,s.getPlatformSettings)("dxtrade").name}});break;case s.CFD_PLATFORMS.MT5:e=(0,i.localize)("Please click on the link in the email to change your DMT5 password.");break;case"Google":case"Facebook":e=(0,i.localize)("Check your {{ identifier_title }} account email and click the link in the email to proceed.",{identifier_title:a});break;case"Change_Email":e=(0,i.localize)("Check your email and click the link in the email to proceed.");break;default:e=(0,i.localize)("Please click on the link in the email to reset your password.")}return e}(),title:(0,i.localize)("We’ve sent you an email"),lbl_no_receive:(0,i.localize)("Didn't receive the email?"),txt_resend:(0,i.localize)("Resend email"),txt_resend_in:(0,i.localize)("Resend email in"),onClickSendEmail:o,closeEmailModal:l,live_chat:p},[{key:"email_spam",icon:"IcEmailSpam",content:(0,i.localize)("The email is in your spam folder (Sometimes things get lost there).")},{key:"wrong_email",icon:"IcEmail",content:(0,i.localize)("You accidentally gave us another email address (Usually a work or a personal one instead of the one you meant).")},{key:"wrong_typo",icon:"IcEmailTypo",content:(0,i.localize)("The email address you entered had a mistake or typo (happens to the best of us).")},{key:"email_firewall",icon:"IcEmailFirewall",content:(0,i.localize)("We can’t deliver the email to this address (Usually because of firewalls or filtering).")}].map((function(e){return t().createElement("div",{className:"sent-email__content",key:e.key},t().createElement(r.Icon,{icon:e.icon,size:32}),t().createElement(r.Text,{size:"xxs",as:"p"},e.content))})));return(0,s.isMobile)()&&!d?t().createElement(r.MobileDialog,{portal_element_id:"modal_root",title:(0,i.localize)("We’ve sent you an email"),wrapper_classname:"mt5-email-sent",visible:n,onClose:l,has_content_scroll:!0},_):t().createElement(r.Modal,{className:"sent-email__modal",is_open:n,has_close_icon:!0,should_header_stick_body:!0,title:"",toggleModal:l,width:"440px"},t().createElement(r.Div100vhContainer,{className:"account__scrollbars_container-wrapper",is_disabled:(0,s.isDesktop)(),height_offset:"80px"},t().createElement(r.Modal.Body,null,t().createElement("div",{onClick:l,className:"send-email-template__close"},t().createElement(r.Icon,{icon:"IcCross"})),_)))};c.propTypes={identifier_title:l().string,is_open:l().bool,is_unlink_modal:l().bool,onClose:l().func,onClickSendEmail:l().func,has_live_chat:l().bool,is_modal_when_mobile:l().bool};const m=c})(),o.default})())},36221:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var n=a(32735),l=a(60216),i=a.n(l),r=a(40841),o=a.n(r),s=a(71838),c=a(34302),m=a(42413),u=a(20374),d=a(75672),p=a(60946),_=a.n(p),f=a(58468);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,l,i=[],r=!0,o=!1;try{for(a=a.call(e);!(r=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var E=function(e){var t=e.changed_email,a=e.is_open,l=e.onClose,i=e.prev_email,r=e.setErrorMessage,o=e.verification_code,s=b(n.useState(null),2),m=s[0],d=s[1],p=b(n.useState(!1),2),h=p[0],g=p[1],v=b(n.useState(a),2),E=v[0],k=v[1];return h?n.createElement(_(),{is_open:h,onClose:function(){return g(!1)},identifier_title:"Change_Email",onClickSendEmail:function(){f.WS.changeEmail(m)},has_live_chat:!0,is_modal_when_mobile:!0}):n.createElement(c.Modal,{is_open:E,should_header_stick_body:!0,title:n.createElement(u.Localize,{i18n_default_text:"Are you sure?"}),toggleModal:l,width:"440px",is_closed_on_cancel:!1,has_close_icon:!1},n.createElement(n.Fragment,null,n.createElement("div",{className:"email-confirmation"},n.createElement(c.Text,{as:"p",color:"prominent",size:"xs",align:"left"},n.createElement(u.Localize,{i18n_default_text:"Are you sure you want to update email <0>{{prev_email}}</0> to <1>{{changed_email}}</1>?",values:{prev_email:i,changed_email:t},components:[n.createElement("strong",{key:0}),n.createElement("strong",{key:1,className:"email-confirmation__currentEmail"})]}))),n.createElement(c.Modal.Footer,null,n.createElement(c.Button,{onClick:l,has_effect:!0,text:(0,u.localize)("Cancel"),secondary:!0,large:!0}),n.createElement(c.Button,{className:"email-change_button",has_effect:!0,onClick:function(){var e;e={change_email:"verify",new_email:t,verification_code:o},d((function(t){return y(y({},t),e)})),f.WS.changeEmail(e).then((function(e){e.error?(l(),r(e.error.message)):g(!0),k(!1)}))},primary:!0,large:!0},n.createElement(u.Localize,{i18n_default_text:"Confirm"})))))};function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var n,l,i=[],r=!0,o=!1;try{for(a=a.call(e);!(r=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(e){o=!0,l=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw l}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}E.propTypes={changed_email:i().string,is_open:i().bool,onClose:i().func,prev_email:i().string,setErrorMessage:i().func,verification_code:i().string};var w=function(e){var t=e.disableApp,a=e.email,l=e.enableApp,i=e.is_loading,r=e.is_visible,d=e.toggleResetEmailModal,p=e.verification_code,_=k(n.useState(!1),2),f=_[0],h=_[1],y=k(n.useState(null),2),g=y[0],b=y[1],v=k(n.useState(null),2),x=v[0],w=v[1];return f?n.createElement(E,{changed_email:x,is_open:f,onClose:function(){return h(!1)},prev_email:a,setErrorMessage:b,verification_code:p}):n.createElement(s.Formik,{initialValues:{email:""},initialStatus:{reset_complete:!1,error_msg:""},validate:function(e){var t={};return e.email?(0,m.validEmail)(e.email)||(t.email=(0,m.getErrorMessages)().email()):t.email=(0,u.localize)("The email input should not be empty."),t},onSubmit:function(e){w(e.email),h(!0)}},(function(e){var a=e.errors,m=e.values,p=e.touched,_=e.isSubmitting,f=e.handleChange,h=e.setFieldTouched,y=e.status;return n.createElement(c.Dialog,{is_visible:r,disableApp:t,enableApp:l,is_loading:i,dismissable:y.error_msg,onConfirm:function(){return d(!1)},is_closed_on_cancel:!1},n.createElement("div",{className:"reset-email"},n.createElement(s.Form,null,n.createElement(n.Fragment,null,y.reset_complete?n.createElement("div",{className:"reset-email__email-selection"},n.createElement(c.Text,{as:"p",weight:"bold",className:"reset-email__heading"},n.createElement(u.Localize,{i18n_default_text:"Your password has been changed"})),n.createElement(c.Text,{align:"center",as:"p",size:"xxs",className:"reset-email__subtext"},n.createElement(u.Localize,{i18n_default_text:"We will now redirect you to the login page."}))):n.createElement("div",{className:"reset-email__email-selection"},n.createElement(c.Text,{as:"p",align:"left",weight:"bold",className:"reset-email__heading"},n.createElement(u.Localize,{i18n_default_text:"Enter a new email address"})),n.createElement(c.Text,{as:"p",color:"prominent",size:"xs",align:"left",className:"reset-email__descripton"},n.createElement(u.Localize,{i18n_default_text:"You'll log in to your Deriv account with this email address."})),n.createElement("fieldset",{className:"reset-email__fieldset"},n.createElement(c.Input,{"data-lpignore":"true",type:"text",name:"email",id:"email",placeholder:(0,u.localize)("Email address"),value:m.email,required:!0,disabled:!1,error:p.email&&a.email||g,onChange:function(e){b(""),h("email",!0),f(e)}})),n.createElement(c.Button,{className:o()("reset-email__btn",{"reset-email__btn--disabled":!m.email||a.email||_}),type:"submit",is_disabled:!m.email||!!a.email||_,primary:!0,large:!0},n.createElement(u.Localize,{i18n_default_text:"Confirm"})))))))}))};w.propTypes={disableApp:i().func,email:i().string,enableApp:i().func,is_loading:i().bool,is_visible:i().bool,verification_code:i().string,toggleResetEmailModal:i().func};const S=(0,d.$j)((function(e){var t=e.ui,a=e.client;return{disableApp:t.disableApp,email:a.email,enableApp:t.enableApp,is_loading:t.is_loading,is_visible:t.is_reset_email_modal_visible,toggleResetEmailModal:t.toggleResetEmailModal,verification_code:a.verification_code.request_email}}))(w)}}]);