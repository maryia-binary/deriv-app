/*! For license information please see core.main~e659f2cf.6ccc9f8d4ccfbd1d06ff.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4318],{13631:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(32735),a=n(40841),o=n.n(a),i=n(61055),l=n(68461),c=n(11490),s=n(68722),u=n(59472),d=n(44850),m=n(93493),f=n(44166),_=n(14746),p=n(19262),y=["getCurrentStep","onSave","onCancel","goToNextStep","goToPreviousStep","validate","onSubmit","selected_step_ref","disabled_items","has_real_account"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const x=(0,u.observer)((function(e){var t=e.getCurrentStep,n=e.onSave,a=e.onCancel,b=e.goToNextStep,x=e.goToPreviousStep,E=e.validate,w=e.onSubmit,S=(e.selected_step_ref,e.disabled_items),z=e.has_real_account,O=g(e,y),N=h(r.useState(""),2),I=N[0],j=N[1],P=(0,u.useStore)(),C=P.ui,T=P.client.residence,k=P.traders_hub.is_eu_user,A=C.is_desktop,L=C.is_mobile,D=(0,c.useStatesList)(T),F=D.data,M=D.isFetched,q=function(e){var r=((null==t?void 0:t())||1)-1;n(r,e),a(r,x)};return r.createElement(i.Formik,{initialValues:O.value,validate:function(e){return(0,p.r)(E(e)).errors},validateOnMount:!0,onSubmit:function(e,n){e.address_state&&F.length&&(e.address_state=I?(0,s.getLocation)(F,I,"value"):(0,s.getLocation)(F,e.address_state,"value")),w(((null==t?void 0:t())||1)-1,e,n.setSubmitting,b)}},(function(e){var t=e.handleSubmit,n=e.isSubmitting,a=e.values,c=e.setFieldValue,s=e.handleChange,u=e.setFieldTouched;return r.createElement(l.AutoHeightWrapper,{default_height:350,height_offset:A?80:null},(function(e){var p,y,h,b,g,x=e.setRef,E=e.height;return r.createElement("form",{ref:x,onSubmit:t,noValidate:!0},r.createElement(l.Div100vhContainer,{className:"details-form",height_offset:"90px",is_disabled:A},r.createElement(_.Z,null),k?r.createElement("div",{className:"details-form__banner-container"},r.createElement(m.Z,{icon:"IcAlertWarning",message:r.createElement(d.Localize,{i18n_default_text:"For verification purposes as required by regulation. Itâ€™s your responsibility to provide accurate and complete answers. You can update personal details at any time in your account settings."}),title:(0,d.localize)("Why do we collect this?")})):r.createElement(l.Text,{as:"p",align:"left",size:"xxs",line_height:"l",className:"details-form__description"},r.createElement("strong",null,r.createElement(d.Localize,{i18n_default_text:"Only use an address for which you have proof of residence - "})),r.createElement(d.Localize,{i18n_default_text:"a recent utility bill (e.g. electricity, water, gas, landline, or internet), bank statement, or government-issued letter with your name and this address."})),r.createElement(l.ThemedScrollbars,{height:E,className:"details-form__scrollbar"},r.createElement("div",{className:o()("details-form__elements","address-details-form",{"address-details-form__eu":k})},r.createElement(f.C,{name:"address_line_1",required:!0,label:(0,d.localize)("First line of address*"),maxLength:255,placeholder:(0,d.localize)("First line of address"),disabled:S.includes("address_line_1")||!(null===(p=O.value)||void 0===p||!p.address_line_1)&&z}),r.createElement(f.C,{name:"address_line_2",label:(0,d.localize)("Second line of address"),maxLength:255,placeholder:(0,d.localize)("Second line of address"),disabled:S.includes("address_line_2")||!(null===(y=O.value)||void 0===y||!y.address_line_2)&&z}),r.createElement(f.C,{name:"address_city",required:!0,label:(0,d.localize)("Town/City*"),placeholder:(0,d.localize)("Town/City"),disabled:S.includes("address_city")||!(null===(h=O.value)||void 0===h||!h.address_city)&&z}),!M&&r.createElement("div",{className:"details-form__loader"},r.createElement(l.Loading,{is_fullscreen:!1})),(null==F?void 0:F.length)>0?r.createElement(i.Field,{name:"address_state"},(function(e){var t,n,o=e.field;return r.createElement(r.Fragment,null,r.createElement(l.DesktopWrapper,null,r.createElement(l.Autocomplete,v({},o,I&&{value:I},{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:(0,d.localize)("State/Province"),list_items:F,onItemSelection:function(e){var t=e.value,n=e.text;c("address_state",t?n:"",!0),j("")},list_portal_id:"modal_root",disabled:S.includes("address_state")||(null===(t=O.value)||void 0===t?void 0:t.address_state)&&z}))),r.createElement(l.MobileWrapper,null,r.createElement(l.SelectNative,{placeholder:(0,d.localize)("Please select"),label:(0,d.localize)("State/Province"),value:I||a.address_state,list_items:F,use_text:!0,onChange:function(e){c("address_state",e.target.value,!0),j("")},disabled:S.includes("address_state")||!(null===(n=O.value)||void 0===n||!n.address_state)&&z})))})):r.createElement(f.C,{name:"address_state",label:(0,d.localize)("State/Province"),placeholder:(0,d.localize)("State/Province"),disabled:S.includes("address_state")||!(null===(b=O.value)||void 0===b||!b.address_state)&&z}),r.createElement(f.C,{name:"address_postcode",label:(0,d.localize)("Postal/ZIP Code"),placeholder:(0,d.localize)("Postal/ZIP Code"),onChange:function(e){u("address_postcode",!0),s(e)},disabled:S.includes("address_postcode")||!(null===(g=O.value)||void 0===g||!g.address_postcode)&&z})))),r.createElement(l.Modal.Footer,{has_separator:!0,is_bypassed:L},r.createElement(l.FormSubmitButton,{is_disabled:n,label:(0,d.localize)("Next"),is_absolute:L,has_cancel:!0,cancel_label:(0,d.localize)("Previous"),onCancel:function(){return q(a)}})))}))}))}))},50898:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(32735),a=n(40841),o=n.n(a),i=n(61055),l=n(68461),c=n(68722),s=n(59472),u=n(44850);const d=function(e){var t,n=e.id;return t=/^UST$/i.test(n)?r.createElement(u.Localize,{i18n_default_text:"Tether as an Omni token (USDT) is a version of Tether that is hosted on the Omni layer on the Bitcoin blockchain.",components:[r.createElement("br",{key:0})]}):/^tUSDT$/i.test(n)?r.createElement(u.Localize,{i18n_default_text:"Tether as a TRC20 token (tUSDT) is a version of Tether that is hosted on Tron."}):r.createElement(u.Localize,{i18n_default_text:"Tether as an ERC20 token (eUSDT) is a version of Tether that is hosted on Ethereum."}),r.createElement(l.Popover,{alignment:"top",className:"currency-list__popover",disable_message_icon:!0,icon:"info",is_bubble_hover_enabled:!0,message:t,zIndex:"9999"})};var m=["field","icon","id","label","second_line_label","onClick","className"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const p=function(e){var t=e.field,n=t.name,a=t.value,i=t.onChange,s=t.onBlur,u=e.icon,p=e.id,y=e.label,v=e.second_line_label,h=e.onClick,b=e.className,g=_(e,m);return r.createElement(r.Fragment,null,r.createElement("input",f({name:n,id:p,type:"radio",value:p,checked:p===a,onChange:i,onBlur:s,disabled:g.selected,className:o()(b,"currency-list__radio-button")},g)),r.createElement("label",{htmlFor:p,className:o()("currency-list__item",{"currency-list__item--selected":p===a,"currency-list__item--current":g.selected}),onClick:h},u?r.createElement(r.Fragment,null,r.createElement(l.Icon,{className:"currency-list__icon",icon:u}),r.createElement("div",{className:"label currency-list__item-text"},r.createElement("div",{className:"currency-list__item-label"},y),r.createElement("div",{className:"currency-list__item-code"},v))):r.createElement(r.Fragment,null,r.createElement(l.Icon,{className:"currency-list__icon",icon:"IcCurrency-".concat(null==p?void 0:p.toLowerCase())}),p&&/^(UST|eUSDT|tUSDT)$/i.test(p)&&r.createElement(d,{id:p}),r.createElement("div",{className:"label currency-list__item-text"},r.createElement("div",{className:"currency-list__item-label"},y),r.createElement("div",{className:"currency-list__item-code"},"(",(0,c.getCurrencyDisplayCode)(p),")")))))};function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const h=function(e){var t=e.children,n=e.label,a=e.className,i=e.is_title_enabled,c=void 0===i||i,s=e.is_fiat,d=e.item_count,m=e.description,f=e.has_fiat,_=y((0,r.useState)(!1),2),p=_[0],v=_[1];return r.createElement("div",{className:a},c&&r.createElement("h2",{className:o()("".concat(a,"--is-header"),{"currency-selector__is-crypto":!s})},n),s&&f&&r.createElement(l.Text,{size:"xxs",className:"currency-selector__subheading"},(0,u.localize)("You are limited to one fiat currency only")),r.createElement("div",{className:o()("currency-list__items",{"currency-list__items__center":d<4,"currency-list__items__is-fiat":s,"currency-list__items__is-crypto":!s}),onClick:function(){v(!0)}},t),s&&p&&r.createElement("p",{className:"currency-selector__description"},m))};var b=n(19262);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(){return r.createElement("div",{className:"currency-hr"})};const S=(0,s.observer)((function(e){var t=e.getCurrentStep,n=e.goToNextStep,a=e.goToStep,d=e.onSubmit,m=e.onSave,f=e.onCancel,_=e.goToPreviousStep,y=e.set_currency,v=e.validate,E=e.has_cancel,S=void 0!==E&&E,z=e.has_wallet_account,O=e.value,N=(0,s.useStore)(),I=N.client,j=N.ui,P=N.traders_hub,C=I.currency,T=I.has_active_real_account,k=I.upgradeable_currencies,A=I.available_crypto_currencies,L=I.is_dxtrade_allowed,D=I.is_mt5_allowed,F=I.has_fiat,M=I.accounts,q=P.is_eu_user,Z=Boolean(C),R=j.real_account_signup,Y=j.real_account_signup_target,U=j.resetRealAccountSignupParams,B=j.is_desktop,V=j.is_mobile,W=k.filter((function(e){return String(e.type)===c.CURRENCY_TYPE.CRYPTO})),G=k.filter((function(e){return String(e.type)===c.CURRENCY_TYPE.FIAT})),$=x(r.useState(!1),2),H=$[0],J=$[1],K=!!Object.values(M).filter((function(e){return e.landing_company_shortcode===Y})).length,Q=function(e){var n=t()-1;m(n,e),f(n,_)};r.useEffect((function(){null!=R&&R.error_code&&J(!0)}),[null==R?void 0:R.error_code]),r.useEffect((function(){if(H&&null!=R&&R.error_details){var e=Object.keys(null==R?void 0:R.error_details),t=Object.keys((0,c.getAddressDetailsFields)()).filter((function(t){return e.includes(t)}));(null==t?void 0:t.length)>0?a(3):n(),U(),J(!1)}}),[H]);var X=r.useMemo((function(){var e=q?(0,u.localize)("CFDs"):(0,u.localize)("Deriv MT5"),t=(0,c.getPlatformSettings)("dxtrade").name;return q&&D?r.createElement(u.Localize,{i18n_default_text:"Enjoy a seamless trading experience with the selected fiat account. Please note that once you've made your first deposit or created a real {{dmt5_label}} account, your account currency cannot be changed.",values:{dmt5_label:e}}):L&&D?r.createElement(u.Localize,{i18n_default_text:"You are limited to one fiat account. You wonâ€™t be able to change your account currency if you have already made your first deposit or created a real {{dmt5_label}} or {{platform_name_dxtrade}} account.",values:{dmt5_label:e,platform_name_dxtrade:t}}):!L&&D?r.createElement(u.Localize,{i18n_default_text:"You are limited to one fiat account. You wonâ€™t be able to change your account currency if you have already made your first deposit or created a real {{dmt5_label}} account.",values:{dmt5_label:e}}):r.createElement(u.Localize,{i18n_default_text:"You are limited to one fiat account. You wonâ€™t be able to change your account currency if you have already made your first deposit."})}),[q,L,D]);return r.createElement(i.Formik,{initialValues:O,onSubmit:function(e,r){d(t?t()-1:null,e,r.setSubmitting,n)},validate:function(e){return(0,b.r)(v(e)).errors}},(function(e){var t=e.handleSubmit,n=e.values;return r.createElement(l.AutoHeightWrapper,{default_height:450},(function(e){var a,s,d=e.setRef,m=e.height;return r.createElement("form",{ref:d,onSubmit:t,className:"currency-selector","data-testid":"currency_selector_form"},r.createElement(l.Div100vhContainer,{className:o()("currency-selector__container",{"currency-selector__container--no-top-margin":!Z&&T&&V}),height_offset:!Z&&T?"89px":"159px",is_disabled:B},r.createElement(l.ThemedScrollbars,{height:m},!(null==G||!G.length)&&r.createElement(r.Fragment,null,r.createElement(h,{className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,u.localize)("Fiat currencies"),is_fiat:!0,item_count:G.length,description:X,has_fiat:K&&F},(0,c.reorderCurrencies)(G).map((function(e){return r.createElement(i.Field,{key:e.value,component:p,name:"currency",id:e.value,label:e.name,selected:K&&F})}))),!(null===(a=(0,c.reorderCurrencies)(W,"crypto"))||void 0===a||!a.length)&&r.createElement(w,null)),!(null===(s=(0,c.reorderCurrencies)(W,"crypto"))||void 0===s||!s.length)&&r.createElement(r.Fragment,null,r.createElement(h,{className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,u.localize)("Cryptocurrencies"),item_count:(0,c.reorderCurrencies)(W,"crypto").length,description:X},(0,c.reorderCurrencies)(W,"crypto").map((function(e){var t;return r.createElement(i.Field,{key:e.value,component:p,selected:0===(null==A||null===(t=A.filter((function(t){return t.value===e.value})))||void 0===t?void 0:t.length),name:"currency",id:e.value,label:e.name})})))))),r.createElement(l.Modal.Footer,{has_separator:!0,is_bypassed:V},r.createElement(l.FormSubmitButton,g({className:y?"currency-selector--set-currency":"currency-selector--deriv-account",is_disabled:!n.currency,is_center:!1,is_absolute:y,label:y?(0,u.localize)("Set currency"):z?(0,u.localize)("Finish"):(0,u.localize)("Next")},S?{cancel_label:(0,u.localize)("Previous"),has_cancel:!0,onCancel:function(){return Q(n)}}:{}))))}))}))}))},38375:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(32735),a=n(44850),o=n(68461),i=n(68722),l=n(59472);const c=(0,l.observer)((function(e){var t=e.has_button,n=e.icon,c=e.message,s=(0,l.useStore)(),u=s.client,d=s.ui,m=u.has_any_real_account,f=d.toggleAccountsDialog,_=d.toggleShouldShowRealAccountsList;return r.createElement("div",{className:"da-icon-with-message"},r.createElement(o.Icon,{icon:n,size:128}),r.createElement(o.Text,{className:"da-icon-with-message__text",as:"p",color:"general",size:(0,i.isMobile)()?"xs":"s",line_height:"m",weight:"bold"},c),t&&r.createElement(o.Button,{primary:!0,onClick:function(){_(!0),f()},className:"account__demo-message-button","data-testid":"icon-with-message-button"},m?(0,a.localize)("Switch to real account"):(0,a.localize)("Add a real account")))}));const s=function(e){var t=e.has_demo_icon,n=e.has_button;return r.createElement(c,{icon:t?"IcPoaLockDemo":"IcPoaLock",message:(0,a.localize)("This feature is not available for demo accounts."),has_button:n})}},20568:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(32735),a=n(68461),o=n(44850),i=n(68722);const l=function(e){var t=e.header,n=e.message,l=e.redirect_label,c=e.redirectOnClick,s=e.should_show_refresh,u=void 0===s||s?r.createElement(o.Localize,{i18n_default_text:"Please refresh this page to continue."}):"";return r.createElement(a.PageError,{header:t||r.createElement(o.Localize,{i18n_default_text:"Oops, something went wrong."}),messages:n?[n,u]:[r.createElement(o.Localize,{i18n_default_text:"Sorry, an error occurred while processing your request.",key:0}),u],redirect_urls:[i.routes.trade],redirect_labels:[null!=l?l:r.createElement(o.Localize,{i18n_default_text:"Refresh"})],buttonOnClick:null!=c?c:function(){return location.reload()}})}},34537:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(68461),a=n(32735),o=n(59472);const i=(0,o.observer)((function(e){var t=e.descriptions,n=e.title,i=(0,o.useStore)().ui.is_mobile;return a.createElement("div",{className:"files-description"},a.createElement(r.Text,{size:i?"xxs":"xs",as:"div",className:"files-description__title",weight:"bold"},n),a.createElement("ul",null,t.map((function(e){return a.createElement("li",{key:e.id},a.createElement(r.Text,{size:i?"xxs":"xs",line_height:i?"l":"xl"},e.value))}))))}))},14936:(e,t,n)=>{n.d(t,{Z:()=>_});var r=n(32735),a=n(68461),o=n(44850),i=n(40841),l=n.n(i),c=n(68722),s=n(59472);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=(0,s.observer)((function(){var e=(0,s.useStore)().ui.is_mobile;return r.createElement(r.Fragment,null,r.createElement(a.Icon,{icon:"IcUpload",className:"dc-file-dropzone__message-icon",size:30}),r.createElement("div",{className:"dc-file-dropzone__message-subtitle"},r.createElement(a.Text,{size:"xxs",align:"center",weight:"bold",color:"less-prominent"},e?r.createElement(o.Localize,{i18n_default_text:"Click here to browse your files."}):r.createElement(o.Localize,{i18n_default_text:"Drag and drop a file or click to browse your files."})),r.createElement(a.Text,{size:e?"xxxxs":"xxxs",align:"center",color:"less-prominent"},r.createElement(o.Localize,{i18n_default_text:"Remember, selfies, pictures of houses, or non-related images will be rejected."}))))}));const f=function(e){var t=e.onFileDrop,n=e.onError,i=u(r.useState([]),2),s=i[0],d=i[1],f=u(r.useState(null),2),_=f[0],p=f[1];r.useEffect((function(){s&&(t(s),null==n||n(""))}),[s,t,n]);return r.createElement(r.Fragment,null,r.createElement(a.FileDropzone,{accept:c.supported_filetypes,error_message:(0,o.localize)("Please upload supported file type."),filename_limit:26,hover_message:(0,o.localize)("Drop files here.."),max_size:c.max_document_size,message:r.createElement(m,null),multiple:!1,onDropAccepted:function(e){e.length>0&&(d(e),p(null),null==n||n(""))},onDropRejected:function(e){var t=e.length>0&&e[0].file.size>c.max_document_size,r=e.filter((function(e){return(0,c.getSupportedFiles)(e.file.name)})),a=t&&r.length>0?(0,o.localize)("File size should be 8MB or less"):(0,o.localize)("File uploaded is not supported");d([]),null==n||n(a),p(a)},validation_error_message:_,value:s}),(s&&(null==s?void 0:s.length)>0||_)&&r.createElement("div",{className:"file-uploader__remove-btn-container"},r.createElement(a.Icon,{icon:"IcCloseCircle",className:l()("file-uploader__remove-btn",{"file-uploader__remove-btn--error":_}),onClick:function(){d([]),p(null),null==n||n("")},color:"secondary",data_testid:"dt_remove_file_icon"})))};const _=(0,s.observer)((function(e){var t=e.examples,n=e.files_description,i=e.onFileDrop,l=e.onError,c=(0,s.useStore)().ui.is_mobile;return r.createElement("div",{className:"file-uploader__container","data-testid":"dt_file_uploader_container"},n,r.createElement(a.Text,{size:c?"xxs":"xs",as:"div",className:"file-uploader__file-title",weight:"bold"},r.createElement(o.Localize,{i18n_default_text:"Upload file"})),r.createElement("div",{className:"file-uploader__file-dropzone-wrapper"},r.createElement(f,{onError:l,onFileDrop:i})),r.createElement("div",{className:"file-uploader__file-supported-formats"},r.createElement(a.Text,{size:c?"xxxs":"xxs"},r.createElement(o.Localize,{i18n_default_text:"Supported formats: JPEG, JPG, PNG, PDF, and GIF only"})),r.createElement(a.Text,{size:c?"xxxs":"xxs"},r.createElement(o.Localize,{i18n_default_text:"Maximum size: 8MB"}))),t)}))},94709:(e,t,n)=>{n.d(t,{Z:()=>j});var r=n(40841),a=n.n(r),o=n(61055),i=n(32735),l=n(68461),c=n(68722),s=n(44850),u=n(59472),d="Employed",m="Unemployed";function f(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){return[{text:(0,s.localize)("Less than $25,000"),value:"Less than $25,000"},{text:(0,s.localize)("$25,000 - $50,000"),value:"$25,000 - $50,000"},{text:(0,s.localize)("$50,001 - $100,000"),value:"$50,001 - $100,000"},{text:(0,s.localize)("$100,001 - $500,000"),value:"$100,001 - $500,000"},{text:(0,s.localize)("Over $500,000"),value:"Over $500,000"}]},y=function(){return[{text:(0,s.localize)("Chief Executives, Senior Officials and Legislators"),value:"Chief Executives, Senior Officials and Legislators"},{text:(0,s.localize)("Managers"),value:"Managers"},{text:(0,s.localize)("Professionals"),value:"Professionals"},{text:(0,s.localize)("Clerks"),value:"Clerks"},{text:(0,s.localize)("Personal Care, Sales and Service Workers"),value:"Personal Care, Sales and Service Workers"},{text:(0,s.localize)("Agricultural, Forestry and Fishery Workers"),value:"Agricultural, Forestry and Fishery Workers"},{text:(0,s.localize)("Craft, Metal, Electrical and Electronics Workers"),value:"Craft, Metal, Electrical and Electronics Workers"},{text:(0,s.localize)("Plant and Machine Operators and Assemblers"),value:"Plant and Machine Operators and Assemblers"},{text:(0,s.localize)("Cleaners and Helpers"),value:"Cleaners and Helpers"},{text:(0,s.localize)("Mining, Construction, Manufacturing and Transport Workers"),value:"Mining, Construction, Manufacturing and Transport Workers"},{text:(0,s.localize)("Armed Forces"),value:"Armed Forces"},{text:(0,s.localize)("Government Officers"),value:"Government Officers"},{text:(0,s.localize)("Students"),value:"Students"},{text:(0,s.localize)("Unemployed"),value:"Unemployed"}]},v=function(e){return e&&e===d?y().filter((function(e){return e.value!==m})):y()};function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var b=function(e){var t=e.dropdown_list,n=e.field_key,r=e.placeholder,a=void 0===r?(0,s.localize)("Please select"):r,c=e.label,u=(0,o.useFormikContext)(),d=u.values,m=u.handleChange,f=u.handleBlur,_=u.touched,p=u.errors,y=u.setFieldValue;return i.createElement(o.Field,{name:n},(function(e){var r=e.field;return i.createElement(i.Fragment,null,i.createElement(l.DesktopWrapper,null,i.createElement(l.Dropdown,h({placeholder:c,is_align_text_left:!0,name:r.name,list:t,value:null==d?void 0:d[n],onChange:m,handleBlur:f,error:(null==_?void 0:_[n])&&(null==p?void 0:p[n]),list_portal_id:"modal_root",required:!0},r))),i.createElement(l.MobileWrapper,null,i.createElement(l.SelectNative,h({placeholder:a,name:r.name,label:c,list_items:t,value:null==d?void 0:d[n],error:(null==_?void 0:_[n])&&(null==p?void 0:p[n]),onChange:function(e){m(e),y("field_key",e.target.value,!0)},required:!0},r))))}))},g=function(e){var t=e.dropdown_list,n=e.field_key,r=e.placeholder,a=void 0===r?(0,s.localize)("Please select"):r,c=e.label,u=e.employment_status,f=(0,o.useFormikContext)(),_=f.values,p=f.handleChange,y=f.handleBlur,v=f.touched,b=f.errors,g=f.setFieldValue,x=function(){return u===d&&(null==_?void 0:_.occupation)===m?"":null==_?void 0:_.occupation};return i.createElement(o.Field,{name:n},(function(e){var r=e.field;return i.createElement(i.Fragment,null,i.createElement(l.DesktopWrapper,null,i.createElement(l.Dropdown,h({},r,{placeholder:c,is_align_text_left:!0,name:r.name,list:t,value:x(),onChange:function(e){g(n,x(),!0),p(e)},handleBlur:y,error:(null==v?void 0:v[n])&&(null==b?void 0:b[n]),list_portal_id:"modal_root",required:!0}))),i.createElement(l.MobileWrapper,null,i.createElement(l.SelectNative,h({},r,{placeholder:a,name:r.name,label:c,list_items:t,value:x(),error:(null==v?void 0:v[n])&&(null==b?void 0:b[n]),onChange:function(e){g(n,x(),!0),p(e)},required:!0}))))}))};const x=function(e){var t=e.employment_status;return i.createElement(i.Fragment,null,i.createElement(b,{dropdown_list:[{text:(0,s.localize)("Salaried Employee"),value:"Salaried Employee"},{text:(0,s.localize)("Self-Employed"),value:"Self-Employed"},{text:(0,s.localize)("Investments & Dividends"),value:"Investments & Dividends"},{text:(0,s.localize)("Pension"),value:"Pension"},{text:(0,s.localize)("State Benefits"),value:"State Benefits"},{text:(0,s.localize)("Savings & Inheritance"),value:"Savings & Inheritance"}],field_key:"income_source",label:(0,s.localize)("Source of income")}),i.createElement(b,{dropdown_list:[{text:(0,s.localize)("Construction"),value:"Construction"},{text:(0,s.localize)("Education"),value:"Education"},{text:(0,s.localize)("Finance"),value:"Finance"},{text:(0,s.localize)("Health"),value:"Health"},{text:(0,s.localize)("Tourism"),value:"Tourism"},{text:(0,s.localize)("Information & Communications Technology"),value:"Information & Communications Technology"},{text:(0,s.localize)("Science & Engineering"),value:"Science & Engineering"},{text:(0,s.localize)("Legal"),value:"Legal"},{text:(0,s.localize)("Social & Cultural"),value:"Social & Cultural"},{text:(0,s.localize)("Agriculture"),value:"Agriculture"},{text:(0,s.localize)("Real Estate"),value:"Real Estate"},{text:(0,s.localize)("Food Services"),value:"Food Services"},{text:(0,s.localize)("Manufacturing"),value:"Manufacturing"},{text:(0,s.localize)("Unemployed"),value:"Unemployed"}],field_key:"employment_industry",label:(0,s.localize)("Industry of employment")}),i.createElement(g,{dropdown_list:v(t),field_key:"occupation",label:(0,s.localize)("Occupation"),employment_status:t}),i.createElement(b,{dropdown_list:[{text:(0,s.localize)("Accumulation of Income/Savings"),value:"Accumulation of Income/Savings"},{text:(0,s.localize)("Cash Business"),value:"Cash Business"},{text:(0,s.localize)("Company Ownership"),value:"Company Ownership"},{text:(0,s.localize)("Divorce Settlement"),value:"Divorce Settlement"},{text:(0,s.localize)("Inheritance"),value:"Inheritance"},{text:(0,s.localize)("Investment Income"),value:"Investment Income"},{text:(0,s.localize)("Sale of Property"),value:"Sale of Property"}],field_key:"source_of_wealth",label:(0,s.localize)("Source of wealth")}),i.createElement(b,{dropdown_list:[{text:(0,s.localize)("Primary"),value:"Primary"},{text:(0,s.localize)("Secondary"),value:"Secondary"},{text:(0,s.localize)("Tertiary"),value:"Tertiary"}],field_key:"education_level",label:(0,s.localize)("Level of education")}),i.createElement(b,{dropdown_list:f(p()),field_key:"net_income",label:(0,s.localize)("Net annual income")}),i.createElement(b,{dropdown_list:[{text:(0,s.localize)("Less than $100,000"),value:"Less than $100,000"},{text:(0,s.localize)("$100,000 - $250,000"),value:"$100,000 - $250,000"},{text:(0,s.localize)("$250,001 - $500,000"),value:"$250,001 - $500,000"},{text:(0,s.localize)("$500,001 - $1,000,000"),value:"$500,001 - $1,000,000"},{text:(0,s.localize)("Over $1,000,000"),value:"Over $1,000,000"}],field_key:"estimated_worth",label:(0,s.localize)("Estimated net worth")}),i.createElement(b,{dropdown_list:p(),field_key:"account_turnover",label:(0,s.localize)("Anticipated annual turnover")}))};var E=n(19262),w=n(14746),S=n(93493);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=(0,u.observer)((function(e){var t=(0,u.useStore)().traders_hub.is_eu_user,n=(0,c.isMobile)()?["income_source","account_turnover","estimated_worth"]:["income_source"],r=(0,c.isMobile)()?[]:["account_turnover","estimated_worth"];return i.createElement(o.Formik,{initialValues:N({},e.value),validate:function(t){return(0,E.r)(e.validate(t)).errors},onSubmit:function(t,n){e.onSubmit(e.getCurrentStep()-1,t,n.setSubmitting,e.goToNextStep)},validateOnMount:!0},(function(o){var u=o.handleSubmit,f=o.isSubmitting,_=o.values;return i.createElement(l.AutoHeightWrapper,{default_height:200},(function(o){var p=o.setRef,y=o.height;return i.createElement("form",{ref:p,onSubmit:u,noValidate:!0},i.createElement(w.Z,{fields_to_scroll_top:n,fields_to_scroll_bottom:r}),i.createElement(l.Div100vhContainer,{className:a()("details-form","financial-assessment"),height_offset:"110px",is_disabled:(0,c.isDesktop)()},t?i.createElement("div",{className:"details-form__banner-container"},i.createElement(S.Z,{icon:"IcAlertWarning",message:i.createElement(s.Localize,{i18n_default_text:"We collect information about your employment as part of our due diligence obligations, as required by anti-money laundering legislation."}),title:(0,s.localize)("Why do we collect this?")})):i.createElement(l.Text,{as:"p",color:"prominent",size:"xxs",className:"trading-assessment__side-note"},i.createElement(s.Localize,{i18n_default_text:"We collect information about your employment as part of our due diligence obligations, as required by anti-money laundering legislation."})),i.createElement(l.ThemedScrollbars,{autohide:window.innerHeight>=890,height:Number(y)-77},i.createElement("div",{className:a()("details-form__elements","financial-assessment__form")},i.createElement(x,{employment_status:e.employment_status})))),i.createElement(l.Modal.Footer,{has_separator:!0,is_bypassed:(0,c.isMobile)()},i.createElement(l.FormSubmitButton,{is_disabled:f||!(e.employment_status!==d||(null==_?void 0:_.occupation)!==m),is_absolute:(0,c.isMobile)(),label:(0,s.localize)("Next"),has_cancel:!0,cancel_label:(0,s.localize)("Previous"),onCancel:function(){return function(t){var n=e.getCurrentStep()-1;e.onSave(n,t),e.onCancel(n,e.goToPreviousStep)}(_)}})))}))}))}))},43268:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(32735),a=n(40841),o=n.n(a),i=n(68461),l=n(68722),c=n(44850);const s=function(e){var t=e.children,n=e.has_side_note,a=e.side_note,s=e.side_note_position,u=void 0===s?"left":s,d=e.type,m=void 0===d?"text":d;return n?r.createElement("div",{"data-testid":"dt_side_note_container",className:o()("account-form__section",{"account-form__section--reversed":"right"===u})},r.createElement("div",{className:o()("account-form__section-side-note",{"account-form__section-side-note__example":"text"!==m})},"text"===m?r.createElement(i.Text,{color:"less-prominent",size:(0,l.isMobile)()?"xxs":"xs","data-testid":"dt_side_note_text"},a):r.createElement(r.Fragment,null,r.createElement(i.Text,{as:"p",size:(0,l.isMobile)()?"xxs":"xs",weight:"bold"},r.createElement(c.Localize,{i18n_default_text:"Example :"})),r.createElement("div",{className:"account-form__section-side-note__example-image"},a))),r.createElement("div",{className:"account-form__section-content"},t)):t}},17522:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(32735),a=n(40841),o=n.n(a),i=n(68461),l=n(68722),c=function(e){var t=e.children,n=e.className,a=e.scroll_offset;return r.createElement(i.ThemedScrollbars,{is_bypassed:(0,l.isMobile)(),height:a?"calc(100% - ".concat(a,")"):"100%"},r.createElement("div",{className:o()("account__scrollbars_container",n),"data-testid":"dt_scrollbar_container_div"},t))};const s=function(e){var t=e.children,n=e.scroll_offset,a=e.className;return r.createElement(r.Fragment,null,r.createElement(i.DesktopWrapper,null,r.createElement(c,{className:o()("account__scrollbars_container--grid-layout",a),scroll_offset:n},t)),r.createElement(i.MobileWrapper,null,r.createElement(i.Div100vhContainer,{className:o()("account__scrollbars_container--grid-layout",a),height_offset:n||"200px"},t)))}},95562:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(32735),a=n(40841),o=n.n(a);const i=function(e){var t=e.children,n=e.className;return r.createElement("div",{className:o()("account-form__footer",n),"data-testid":"form-footer-container"},t)}},57164:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(40841),a=n.n(r),o=n(32735),i=n(68461);const l=function(e){var t=e.description,n=e.subtitle,r=e.title,l=e.title_text_size,c=void 0===l?"xs":l,s=r.replace(/\s+/g,"-").toLowerCase();return o.createElement(o.Fragment,null,o.createElement("div",{className:a()("account-form__header",s,{"account-form__header--has-description":!!t}),"data-testid":"form-sub-header"},o.createElement("div",{className:"account-form__header-section"},o.createElement(i.Text,{as:"h1",color:"prominent",weight:"bold",size:c,className:"account-form__title"},r),n&&o.createElement(i.Text,{as:"h2",size:"xxxs",color:"prominent",className:"account-form__subtitle"},n))),t&&o.createElement(i.Text,{as:"p",className:"account-form__description"},t))}},44166:(e,t,n)=>{n.d(t,{R:()=>_,C:()=>s});var r=n(32735),a=n(61055),o=n(68461),i=["name","warn"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const s=function(e){var t=e.name,n=e.warn,s=c(e,i);return r.createElement(a.Field,{name:t},(function(e){var t=e.field,a=e.form,i=a.errors,c=a.touched;return r.createElement(o.Input,l({},t,s,{type:"text",autoComplete:"off",error:c[t.name]&&i[t.name]?i[t.name]:void 0,warn:n}))}))};var u=n(68722),d=["name","portal_id"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const _=function(e){var t=e.name,n=e.portal_id,i=f(e,d);return r.createElement(a.Field,{name:t},(function(e){var a=e.field,l=e.form.setFieldValue,c=e.meta,s=c.error,d=c.touched;return r.createElement(o.DateOfBirthPicker,m({},i,a,{error:d?s:void 0,name:t,onChange:function(e){var n=e.target;return l(t,null!=n&&n.value?(0,u.toMoment)(n.value).format("YYYY-MM-DD"):"",!0)},portal_id:n}))}))}},22688:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(32735),a=n(40841),o=n.n(a),i=n(61055),l=n(68461),c=n(68722),s=n(44850),u=n(46417);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const y=function(e){var t,n,a,_,p,y=e.class_name,v=e.selected_country,h=e.hide_hint,b=e.can_skip_document_verification,g=void 0!==b&&b,x=f(r.useState([]),2),E=x[0],w=x[1],S=f(r.useState(""),2),z=S[0],O=S[1],N=(null!==(t=null==v||null===(n=v.identity)||void 0===n||null===(a=n.services)||void 0===a?void 0:a.idv)&&void 0!==t?t:{}).documents_supported,I=(0,i.useFormikContext)(),j=I.errors,P=I.touched,C=I.values,T=I.handleBlur,k=I.handleChange,A=I.setFieldValue,L={id:"",text:"",value:"",example_format:""},D=r.useMemo((function(){return(0,c.getIDVNotApplicableOption)()}),[]);r.useEffect((function(){if(N&&v&&v.value){var e=Object.keys(N);if(0===e.length)return;var t=(["gh","ng"].includes(v.value)?e.filter((function(e){return"voter_id"!==e})):e).map((function(e){var t,n,r,a=N[e],o=a.display_name,i=a.format,l=(0,u.wA)(null!==(t=v.value)&&void 0!==t?t:"",e),c=l.new_display_name,s=l.example_format,d=l.additional_document_example_format;return N[e].additional?{id:e,text:null!=o?o:c,additional:{display_name:null===(n=N[e].additional)||void 0===n?void 0:n.display_name,format:null===(r=N[e].additional)||void 0===r?void 0:r.format,example_format:d},value:i,example_format:s}:{id:e,text:null!=o?o:c,value:i,example_format:s}}));w(g?[].concat(m(t),[D]):m(t))}}),[N,v,g,D]);var F=function(){A("document_type",L,!0)},M=function(e){var t;return null!==(t=E.find((function(t){return t.text===e})))&&void 0!==t?t:L},q=function(e,t){var n,r,a,o,i="document_number"===t?null==C||null===(n=C.document_type)||void 0===n?void 0:n.example_format:null==C||null===(r=C.document_type)||void 0===r||null===(a=r.additional)||void 0===a?void 0:a.example_format,l=null;l=null!=i&&i.includes("-")?(0,c.formatInput)(i,null!==(o=l)&&void 0!==o?o:e.target.value,"-"):e.target.value,A(t,l,!0)},Z=function(e){A("document_type",e,!0),O(null==e?void 0:e.id),(null==e?void 0:e.id)===D.id&&(A("document_number","",!0),A("document_additional","",!0))};return r.createElement("section",{className:o()("idv-form",y)},r.createElement("div",{className:"details-form"},r.createElement("div",{className:"poi-form-on-signup__fields"},r.createElement("div",{className:o()("proof-of-identity__container",{"proof-of-identity__container--idv":h})},r.createElement("div",{className:o()("proof-of-identity__inner-container")},r.createElement("div",{className:"proof-of-identity__fieldset-container"},r.createElement("fieldset",{className:o()({"proof-of-identity__fieldset":!h})},r.createElement(i.Field,{name:"document_type"},(function(e){var t=e.field;return r.createElement(r.Fragment,null,r.createElement(l.DesktopWrapper,null,r.createElement(l.Autocomplete,d({},t,{"data-lpignore":"true",error:P.document_type&&j.document_type,autoComplete:"off",type:"text",label:(0,s.localize)("Choose the document type"),list_items:E,value:C.document_type.text,onBlur:function(e){T(e),M(e.target.value)||F()},onChange:k,onItemSelection:function(e){"No results found"!==e.text&&e.text?Z(e):(O(""),F())},required:!0}))),r.createElement(l.MobileWrapper,null,r.createElement(l.SelectNative,d({},t,{name:"document_type",error:P.document_type&&j.document_type,label:(0,s.localize)("Choose the document type"),placeholder:(0,s.localize)("Please select"),list_items:E,value:C.document_type.text,onChange:function(e){k(e);var t=M(e.target.value);Z(t)},use_text:!0,required:!0}))))}))),(null==C||null===(_=C.document_type)||void 0===_?void 0:_.id)!==D.id&&r.createElement(r.Fragment,null,r.createElement("fieldset",{className:o()("additional-field",{"proof-of-identity__fieldset-input":!h})},r.createElement(i.Field,{name:"document_number"},(function(e){var t,n=e.field;return r.createElement(l.Input,d({},n,{name:"document_number",bottom_label:C.document_type&&(0,u.Qf)(null!==(t=C.document_type.example_format)&&void 0!==t?t:""),disabled:!C.document_type.id,error:C.document_type.id&&P.document_number&&j.document_number||j.error_message,autoComplete:"off",placeholder:(0,u.Oy)(z),value:C.document_number,onPaste:u.i3,onBlur:T,onChange:k,onKeyUp:function(e){return q(e,"document_number")},required:!0,label:C.document_type.id&&(0,u.Oy)(z)}))}))),(null===(p=C.document_type.additional)||void 0===p?void 0:p.display_name)&&r.createElement("fieldset",{className:"additional-field"},r.createElement(i.Field,{name:"document_additional"},(function(e){var t,n,a,o,i,c=e.field,m=(0,s.localize)("Enter your {{document_name}}",{document_name:null!==(t=null===(n=C.document_type)||void 0===n||null===(a=n.additional)||void 0===a||null===(o=a.display_name)||void 0===o?void 0:o.toLowerCase())&&void 0!==t?t:(0,s.localize)("additional document number")});return r.createElement(l.Input,d({},c,{name:"document_additional",bottom_label:C.document_type.additional&&(0,u.Qf)(null===(i=C.document_type.additional)||void 0===i?void 0:i.example_format),disabled:!C.document_type.id,error:P.document_additional&&j.document_additional||j.error_message,autoComplete:"off",placeholder:m,value:C.document_additional,onPaste:u.i3,onBlur:T,onChange:k,onKeyUp:function(e){return q(e,"document_additional")},required:!0}))}))))))))))}},65980:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(32735),a=n(56149),o=n(40841),i=n.n(o),l=n(61055),c=n(68461),s=n(68722),u=n(44850),d=n(46417),m=n(15854),f=n(43268),_=n(44166),p=n(57164),y=n(93493);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const g=function(e){var t=e.inline_note_text,n=e.is_virtual,o=e.is_eu_user,b=e.is_svg,g=e.is_rendered_for_idv,O=e.editable_fields,N=void 0===O?[]:O,I=e.has_real_account,j=e.residence_list,P=e.is_fully_authenticated,C=e.account_opening_reason_list,T=e.closeRealAccountSignup,k=e.salutation_list,A=e.is_rendered_for_onfido,L=e.is_qualified_for_poa,D=e.should_close_tooltip,F=e.setShouldCloseTooltip,M=e.class_name,q=e.states_list,Z=e.side_note,R=e.no_confirmation_needed,Y=e.mismatch_status,U=b&&!o,B=h(r.useState(!1),2),V=B[0],W=B[1],G=h(r.useState(!1),2),$=G[0],H=G[1],J=(0,l.useFormikContext)(),K=J.errors,Q=J.touched,X=J.values,ee=J.setFieldValue,te=J.handleChange,ne=J.handleBlur,re=J.setFieldTouched;r.useEffect((function(){D&&(le(),F(!1))}),[D,le,F]);var ae=function(){var e=b||o||A||g;return{first_name_label:e?(0,u.localize)("First name*"):(0,u.localize)("First name"),last_name_label:e?(0,u.localize)("Last name*"):(0,u.localize)("Last name"),dob_label:e?(0,u.localize)("Date of birth*"):(0,u.localize)("Date of birth")}},oe=g||A,ie=function(e){return U||oe?r.createElement(u.Localize,{i18n_default_text:"Your {{ field_name }} as in your identity document",values:{field_name:e}}):r.createElement(u.Localize,{i18n_default_text:"Please enter your {{ field_name }} as in your official identity documents.",values:{field_name:e}})},le=r.useCallback((function(){V&&W(!1),$&&H(!1)}),[V,$]),ce=r.createElement(u.Localize,{i18n_default_text:"For faster verification, input the same address here as in your proof of address document (see section below)"}),se=(0,d.F_)(Y).some((function(e){return!X[e]||K[e]}));return r.createElement(r.Fragment,null,r.createElement("div",{className:i()(M,{"account-form__poi-confirm-example":g})},(U||oe)&&r.createElement("div",{className:"account-form__poi-inline-message"},r.createElement(c.InlineMessage,{message:t,size:"md"})),L&&r.createElement(y.Z,{icon:"IcAlertWarning",message:ce,font_size:(0,s.isMobile)()?"xxxs":"xs"}),r.createElement(f.Z,{has_side_note:oe||U,side_note:Z,side_note_position:"right",type:"image"},r.createElement("fieldset",{className:"account-form__fieldset"},"salutation"in X&&!o&&r.createElement("div",null,r.createElement(c.Text,{size:(0,s.isMobile)()?"xs":"xxs",align:(0,s.isMobile)()&&"center"},n?(0,u.localize)("Please remember that it is your responsibility to keep your answers accurate and up to date. You can update your personal details at any time in your account settings."):r.createElement(u.Localize,{i18n_default_text:"Please remember that it is your responsibility to keep your answers accurate and up to date. You can update your personal details at any time in your <0>account settings</0>.",components:[r.createElement(a.Link,{to:s.routes.personal_details,key:0,className:"link",onClick:T})]}))),o&&!A&&!L&&r.createElement(p.Z,{title:"salutation"in X?(0,u.localize)("Title and name"):(0,u.localize)("Name")}),"salutation"in X&&r.createElement("span",{onClick:function(e){var t,n;"radio"===(null===(t=e.target)||void 0===t?void 0:t.type)&&ee("salutation",null===(n=e.target)||void 0===n?void 0:n.value)}},r.createElement(c.RadioGroup,{className:"dc-radio__input",name:"salutation",selected:X.salutation,onToggle:function(e){e.persist(),ee("salutation",e.target.value)},required:!0},k.map((function(e){return r.createElement(c.RadioGroup.Item,{key:e.value,label:e.label,value:e.value,disabled:!!X.salutation&&(0,d.YT)("salutation",N),has_error:!(!Q.salutation||!K.salutation)})})))),"first_name"in X&&r.createElement(_.C,{name:"first_name",required:b,label:ae().first_name_label,hint:ie((0,u.localize)("first name")),disabled:(0,d.YT)("first_name",N)||(null==X?void 0:X.first_name)&&I,placeholder:(0,u.localize)("John"),"data-testid":"first_name"}),"last_name"in X&&r.createElement(_.C,{name:"last_name",required:b,label:ae().last_name_label,hint:ie((0,u.localize)("last name")),disabled:(0,d.YT)("last_name",N)||(null==X?void 0:X.last_name)&&I,placeholder:(0,u.localize)("Doe"),"data-testid":"last_name"}),o&&!L&&r.createElement(p.Z,{title:(0,u.localize)("Other details")}),"date_of_birth"in X&&r.createElement(_.R,{name:"date_of_birth",required:b,label:ae().dob_label,hint:ie((0,u.localize)("date of birth")),disabled:(0,d.YT)("date_of_birth",N)||(null==X?void 0:X.date_of_birth)&&I,placeholder:(0,u.localize)("01-07-1999"),portal_id:"modal_root",data_testid:"date_of_birth"}),"address_line_1"in X&&r.createElement(_.C,{name:"address_line_1",label:(0,u.localize)("First line of address*"),disabled:(0,d.YT)("address_line_1",N),"data-testid":"address_line_1",autoComplete:"off","data-lpignore":"true",type:"text",maxLength:70,required:!0,onChange:te,onBlur:ne,error:Q.address_line_1&&K.address_line_1,value:X.address_line_1}),"address_line_2"in X&&r.createElement(_.C,{name:"address_line_2",label:(0,u.localize)("Second line of address (optional)"),disabled:(0,d.YT)("address_line_2",N),"data-testid":"address_line_2",autoComplete:"off","data-lpignore":"true",type:"text",maxLength:70,onChange:te,onBlur:ne,error:Q.address_line_2&&K.address_line_2,value:X.address_line_2}),"address_city"in X&&r.createElement(_.C,{name:"address_city",label:(0,u.localize)("Town/City*"),disabled:(0,d.YT)("address_city",N),"data-testid":"address_city",autoComplete:"off","data-lpignore":"true",type:"text",maxLength:70,required:!0,onChange:te,onBlur:ne,error:Q.address_city&&K.address_city,value:X.address_city}),"address_state"in X&&(null!=q&&q.length?r.createElement(r.Fragment,null,r.createElement(c.DesktopWrapper,null,r.createElement(l.Field,{name:"address_state"},(function(e){var t=e.field;return r.createElement(c.Autocomplete,v({},t,{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:(0,u.localize)("State/Province"),error:Q.address_state&&K.address_state,list_items:q,onItemSelection:function(e){var t=e.value,n=e.text;return ee("address_state",t?n:"",!0)}}))}))),r.createElement(c.MobileWrapper,null,r.createElement(c.SelectNative,{placeholder:(0,u.localize)("Please select"),label:(0,u.localize)("State/Province"),value:X.address_state,list_items:q,error:Q.address_state&&K.address_state,use_text:!0,onChange:function(e){return ee("address_state",e.target.value,!0)}}))):r.createElement(_.C,{"data-lpignore":"true",autoComplete:"off",type:"text",name:"address_state",label:(0,u.localize)("State/Province"),value:X.address_state,error:Q.address_state&&K.address_state,onChange:te,onBlur:ne})),"address_postcode"in X&&r.createElement(_.C,{name:"address_postcode",label:(0,u.localize)("Postal/ZIP code"),disabled:(0,d.YT)("address_postcode",N),"data-testid":"address_postcode",autoComplete:"off","data-lpignore":"true",type:"text",maxLength:70,onChange:te,onBlur:ne,error:Q.address_postcode&&K.address_postcode,value:X.address_postcode}),!U&&"place_of_birth"in X&&r.createElement(E,{handleChange:te,setFieldValue:ee,disabled:(0,d.YT)("place_of_birth",N),residence_list:j,required:!0}),"citizen"in X&&r.createElement(l.Field,{name:"citizen"},(function(e){var t=e.field;return r.createElement(r.Fragment,null,r.createElement(c.DesktopWrapper,null,r.createElement(c.Autocomplete,v({},t,{"data-lpignore":"true",autoComplete:"none",type:"text",label:o?(0,u.localize)("Citizenship*"):(0,u.localize)("Citizenship"),error:Q.citizen&&K.citizen,disabled:(null==X?void 0:X.citizen)&&P||(0,d.YT)("citizen",N)||(null==X?void 0:X.citizen)&&I,list_items:j,onItemSelection:function(e){var t=e.value,n=e.text;return ee("citizen",t?n:"",!0)},list_portal_id:"modal_root",required:!0,"data-testid":"citizenship"}))),r.createElement(c.MobileWrapper,null,r.createElement(c.SelectNative,v({placeholder:(0,u.localize)("Citizenship"),name:t.name,disabled:(null==X?void 0:X.citizen)&&P||(0,d.YT)("citizen",N)||(null==X?void 0:X.citizen)&&I,label:o?(0,u.localize)("Citizenship*"):(0,u.localize)("Citizenship"),list_items:j,value:X.citizen,use_text:!0,error:Q.citizen&&K.citizen,onChange:function(e){te(e),ee("citizen",e.target.value,!0)}},t,{required:!0,should_hide_disabled_options:!1,data_testid:"citizenship_mobile"}))))})),!U&&"phone"in X&&r.createElement(x,{value:X.phone,editable_fields:N,has_real_account:I,required:!0}),!U&&("tax_residence"in X||"tax_identification_number"in X)&&r.createElement(r.Fragment,null,r.createElement(p.Z,{title:(0,u.localize)("Tax information")}),"tax_residence"in X&&r.createElement(w,{setFieldValue:ee,disabled:(0,d.YT)("tax_residence",N),residence_list:j,required:!0,setIsTaxResidencePopoverOpen:W,setIsTinPopoverOpen:H,is_tax_residence_popover_open:V}),"tax_identification_number"in X&&r.createElement(S,{is_tin_popover_open:$,setIsTinPopoverOpen:H,setIsTaxResidencePopoverOpen:W,disabled:(0,d.YT)("tax_identification_number",N),required:!0}),"employment_status"in X&&r.createElement("fieldset",{className:i()("account-form__fieldset","emp-status")},r.createElement(c.DesktopWrapper,null,r.createElement(c.Dropdown,{placeholder:o?(0,u.localize)("Employment status*"):(0,u.localize)("Employment status"),is_align_text_left:!0,name:"employment_status",list:(0,m.M5)(),value:X.employment_status,onChange:te,handleBlur:ne,error:Q.employment_status&&K.employment_status,disabled:(0,d.YT)("employment_status",N)})),r.createElement(c.MobileWrapper,null,r.createElement(c.SelectNative,{placeholder:(0,u.localize)("Please select"),name:"employment_status",label:o?(0,u.localize)("Employment status*"):(0,u.localize)("Employment status"),list_items:(0,m.M5)(),value:X.employment_status,error:Q.employment_status&&K.employment_status,onChange:function(e){re("employment_status",!0),te(e)},disabled:(0,d.YT)("employment_status",N)}))),"tax_identification_confirm"in X&&r.createElement(c.Checkbox,{name:"tax_identification_confirm",className:"details-form__tin-confirm","data-lpignore":!0,onChange:function(){return ee("tax_identification_confirm",!X.tax_identification_confirm,!0)},value:X.tax_identification_confirm,label:(0,u.localize)("I hereby confirm that the tax information I provided is true and complete. I will also inform {{legal_entity_name}} about any changes to this information.",{legal_entity_name:(0,s.getLegalEntityName)("maltainvest")}),withTabIndex:0,"data-testid":"tax_identification_confirm",has_error:!(!Q.tax_identification_confirm||!K.tax_identification_confirm)})),!U&&"account_opening_reason"in X&&r.createElement(z,{required:!0,account_opening_reason_list:C,setFieldValue:ee,disabled:(0,d.YT)("account_opening_reason",N)||(null==X?void 0:X.account_opening_reason)&&I}))),!R&&g&&r.createElement(c.Checkbox,{name:"confirmation_checkbox",className:"formik__confirmation-checkbox",value:X.confirmation_checkbox,label:r.createElement(u.Localize,{i18n_default_text:"I confirm that the name and date of birth above match my chosen identity document"}),label_font_size:(0,s.isMobile)()?"xxs":"xs",disabled:se,onChange:te,has_error:!(!Q.confirmation_checkbox||!K.confirmation_checkbox)})),U&&r.createElement("div",{className:"account-form__poi-additional-information"},r.createElement(p.Z,{title:(0,u.localize)("Additional information")}),"phone"in X&&r.createElement(x,{value:X.phone,editable_fields:N,has_real_account:I,required:!0}),r.createElement(r.Fragment,null,"place_of_birth"in X&&r.createElement(E,{handleChange:te,setFieldValue:ee,disabled:(0,d.YT)("place_of_birth",N),residence_list:j,required:!0}),"tax_residence"in X&&r.createElement(w,{setFieldValue:ee,disabled:(0,d.YT)("tax_residence",N),residence_list:j,setIsTaxResidencePopoverOpen:W,setIsTinPopoverOpen:H,is_tax_residence_popover_open:V}),"tax_identification_number"in X&&r.createElement(S,{is_tin_popover_open:$,setIsTinPopoverOpen:H,setIsTaxResidencePopoverOpen:W,disabled:(0,d.YT)("tax_identification_number",N)}),"account_opening_reason"in X&&r.createElement(z,{no_header:!0,account_opening_reason_list:C,setFieldValue:ee,disabled:(0,d.YT)("account_opening_reason",N)||(null==X?void 0:X.account_opening_reason)&&I,required:!0}))))};var x=function(e){var t=e.value,n=e.editable_fields,a=e.has_real_account,o=e.required;return r.createElement(_.C,{name:"phone",label:o?(0,u.localize)("Phone number*"):(0,u.localize)("Phone number"),placeholder:o?(0,u.localize)("Phone number*"):(0,u.localize)("Phone number"),disabled:(0,d.YT)("phone",n)||t&&a&&(0,s.validPhone)(t)&&(null==t?void 0:t.length)>=9&&(null==t?void 0:t.length)<=35,maxLength:50,"data-testid":"phone"})},E=function(e){var t=e.handleChange,n=e.setFieldValue,a=e.disabled,o=e.residence_list,i=e.required;return r.createElement(l.Field,{name:"place_of_birth"},(function(e){var l=e.field,s=e.meta;return r.createElement(r.Fragment,null,r.createElement(c.DesktopWrapper,null,r.createElement(c.Autocomplete,v({},l,{disabled:a,"data-lpignore":"true",autoComplete:"none",type:"text",label:i?(0,u.localize)("Place of birth*"):(0,u.localize)("Place of birth"),error:s.touched&&s.error,list_items:o,onItemSelection:function(e){var t=e.value,r=e.text;return n("place_of_birth",t?r:"",!0)},required:!0,"data-testid":"place_of_birth"}))),r.createElement(c.MobileWrapper,null,r.createElement(c.SelectNative,v({placeholder:(0,u.localize)("Place of birth"),name:l.name,disabled:a,label:i?(0,u.localize)("Place of birth*"):(0,u.localize)("Place of birth"),list_items:o,value:l.value,use_text:!0,error:s.touched&&s.error,onChange:function(e){t(e),n("place_of_birth",e.target.value,!0)}},l,{list_portal_id:"modal_root",required:!0,should_hide_disabled_options:!1,data_testid:"place_of_birth_mobile"}))))}))},w=function(e){var t=e.setFieldValue,n=e.residence_list,a=e.required,o=void 0!==a&&a,i=e.setIsTaxResidencePopoverOpen,d=e.setIsTinPopoverOpen,m=e.is_tax_residence_popover_open,f=e.disabled;return r.createElement(l.Field,{name:"tax_residence"},(function(e){var a=e.field,l=e.meta;return r.createElement("div",{className:"details-form__tax"},r.createElement(c.DesktopWrapper,null,r.createElement(c.Autocomplete,v({},a,{"data-lpignore":"true",autoComplete:"none",type:"text",label:o?(0,u.localize)("Tax residence*"):(0,u.localize)("Tax residence"),error:l.touched&&l.error,list_items:n,onItemSelection:function(e){var n=e.value,r=e.text;return t("tax_residence",n?r:"",!0)},list_portal_id:"modal_root","data-testid":"tax_residence",disabled:f,required:o}))),r.createElement(c.MobileWrapper,null,r.createElement(c.SelectNative,v({placeholder:o?(0,u.localize)("Tax residence*"):(0,u.localize)("Tax residence"),name:a.name,label:o?(0,u.localize)("Tax residence*"):(0,u.localize)("Tax residence"),list_items:n,value:a.value,use_text:!0,error:l.touched&&l.error,onChange:function(e){a.onChange(e),t("tax_residence",e.target.value,!0)}},a,{required:o,data_testid:"tax_residence_mobile",disabled:f}))),r.createElement("div",{"data-testid":"tax_residence_pop_over",onClick:function(e){i(!0),d(!1),e.stopPropagation()}},r.createElement(c.Popover,{alignment:(0,s.isDesktop)()?"right":"left",icon:"info",message:(0,u.localize)("The country in which you meet the criteria for paying taxes. Usually the country in which you physically reside."),zIndex:9998,disable_message_icon:!0,is_open:m})))}))},S=function(e){var t=e.is_tin_popover_open,n=e.setIsTinPopoverOpen,a=e.setIsTaxResidencePopoverOpen,o=e.disabled,i=e.required,l=void 0!==i&&i;return r.createElement("div",{className:"details-form__tax"},r.createElement(_.C,{name:"tax_identification_number",label:l?(0,u.localize)("Tax Identification Number*"):(0,u.localize)("Tax Identification Number"),placeholder:(0,u.localize)("Tax Identification Number"),"data-testid":"tax_identification_number",disabled:o,required:l}),r.createElement("div",{"data-testid":"tax_identification_number_pop_over",onClick:function(e){a(!1),n(!0),"A"!==e.target.tagName&&e.stopPropagation()}},r.createElement(c.Popover,{alignment:(0,s.isDesktop)()?"right":"left",icon:"info",is_open:t,message:r.createElement(u.Localize,{i18n_default_text:"Don't know your tax identification number? Click <0>here</0> to learn more.",components:[r.createElement("a",{key:0,className:"link link--red",rel:"noopener noreferrer",target:"_blank",href:"https://www.oecd.org/tax/automatic-exchange/crs-implementation-and-assistance/tax-identification-numbers/"})]}),zIndex:9998,disable_message_icon:!0})))},z=function(e){var t=e.no_header,n=e.required,a=e.account_opening_reason_list,o=e.setFieldValue,i=e.disabled;return r.createElement(r.Fragment,null,!t&&r.createElement(p.Z,{title:(0,u.localize)("Account opening reason")}),r.createElement(l.Field,{name:"account_opening_reason"},(function(e){var t=e.field,l=e.meta;return r.createElement(r.Fragment,null,r.createElement(c.DesktopWrapper,null,r.createElement(c.Dropdown,v({placeholder:n?(0,u.localize)("Account opening reason*"):(0,u.localize)("Account opening reason"),name:t.name,disabled:i,is_align_text_left:!0,list:a},t,{error:l.touched&&l.error,list_portal_id:"modal_root",required:!0}))),r.createElement(c.MobileWrapper,null,r.createElement(c.SelectNative,v({placeholder:(0,u.localize)("Please select"),name:t.name,label:n?(0,u.localize)("Account opening reason*"):(0,u.localize)("Account opening reason"),list_items:a,error:l.touched&&l.error,onChange:function(e){t.onChange(e),o("account_opening_reason",e.target.value,!0)}},t,{required:!0,data_testid:"account_opening_reason_mobile",disabled:i}))))})))}},14746:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(32735),a=n(61055);function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const s=function(e){var t=e.fields_to_scroll_top,n=e.fields_to_scroll_bottom,l=e.should_recollect_inputs_names,c=void 0!==l&&l,s=i(r.useState([]),2),u=s[0],d=s[1],m=(0,a.useFormikContext)(),f=m.errors,_=m.isSubmitting,p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";if(e){var r=document.querySelector('[name="'.concat(e,'"]')),a=null!==(t=null==r?void 0:r.parentElement)&&void 0!==t?t:r;"function"==typeof(null==a?void 0:a.scrollIntoView)&&(null==a||a.scrollIntoView({behavior:"smooth",block:n})),"radio"!==(null==r?void 0:r.type)&&(null==r||r.focus())}};return r.useEffect((function(){var e=o(document.querySelectorAll("input, select"));d(e.map((function(e){return e.name})))}),[c]),r.useEffect((function(){var e=u.find((function(e){return Object.prototype.hasOwnProperty.call(f,e)}))||"";null!=t&&t.includes(e)?p(e,"start"):null!=n&&n.includes(e)?p(e,"end"):p(e)}),[_]),null}},96612:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(32735),a=n(40841),o=n.n(a),i=n(68461),l=n(68722);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=function(e){var t=e.children,n=e.className,a=e.full_width,c=e.icon,u=e.is_disabled_for_mobile,d=void 0!==u&&u,m=e.message,f=e.text;return r.createElement(i.Div100vhContainer,{className:o()("account-management__message-wrapper",{"account-management__message-wrapper-full-width":a}),is_disabled:(0,l.isDesktop)()||d,height_offset:"110px"},r.createElement("div",{className:o()("account-management__message-content",s({},"".concat(n,"__message-content"),n))},c&&r.createElement("div",{className:o()("account-management__message-icon",s({},"".concat(n,"__message-icon"),n))},c),r.createElement(i.Text,{as:"div",color:"general",weight:"bold",size:"s",align:"center",className:o()("account-management__message",s({},"".concat(n,"__message"),n))},m),f&&r.createElement("div",{className:"account-management__text-container"},r.createElement(i.Text,{className:o()(s({},"".concat(n,"__text"),n)),as:"p",size:"xs",align:"center"},f)),t))}},46370:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(96612).Z},93493:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(32735),a=n(68461);const o=function(e){var t=e.icon,n=e.message,o=e.font_size,i=void 0===o?"xxxs":o,l=e.title;return r.createElement("div",{className:"da-inline-note-with-icon"},t&&r.createElement("div",null,r.createElement(a.Icon,{icon:t,size:16})),r.createElement(a.Text,{as:"p",size:i,line_height:"s"},l&&r.createElement("strong",null," ",l," "),n))}},5164:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(32735),a=n(39796),o=n(61055),i=n(68461),l=n(68722),c=n(44850),s=n(46370);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}var f=function(e){var t=e.back,n=e.leave;return r.createElement(s.Z,{className:"leave-confirm",message:(0,c.localize)("Unsaved changes"),text:(0,c.localize)("You have unsaved changes. Are you sure you want to discard changes and leave this page?"),icon:r.createElement(i.Icon,{icon:"IcUnsavedChanges",size:(0,l.isMobile)()?93:128,data_testid:"dt_unsaved_changes_icon"})},r.createElement("div",{className:"account-management-flex-wrapper account-management-leave-confirm"},r.createElement(i.Button,m({type:"button",has_effect:!0,onClick:t,text:(0,c.localize)("Cancel"),secondary:!0},(0,l.isMobile)()?{large:!0}:{})),r.createElement(i.Button,m({type:"button",has_effect:!0,onClick:n,text:(0,c.localize)("Leave Settings"),primary:!0},(0,l.isMobile)()?{large:!0}:{}))))},_=(0,a.withRouter)((function(e){var t=e.dirty,n=e.onDirty,o=u(r.useState(!1),2),c=o[0],s=o[1],d=u(r.useState(null),2),m=d[0],_=d[1],p=(0,a.useHistory)();r.useEffect((function(){return function(){return y()}}),[]);var y=p.block((function(e){return t&&(n&&n(!1),c&&v(),s(!0),_(e)),!t})),v=function(){if(null!=m&&m.pathname){var e=m.pathname;y(),p.push(e)}else p.push(null)},h=function(){_(null),s(!1),n&&n(!0)};return r.createElement(r.Fragment,null,c&&(0,l.isMobile)()?r.createElement(f,{back:h,leave:v}):r.createElement(i.Modal,{is_open:c,small:!0,toggleModal:h},r.createElement(i.Modal.Body,null,r.createElement(f,{back:h,leave:v}))))}));const p=function(e){var t=e.onDirty;return r.createElement(o.FormikConsumer,null,(function(e){return r.createElement(_,{onDirty:t,dirty:e.dirty&&0===e.submitCount})}))}},52190:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(32735),a=n(68461),o=n(46370);const i=function(e){var t=e.error_message;return r.createElement(o.Z,{message:t,icon:r.createElement(a.Icon,{icon:"IcPoaLock",size:128})})}},74721:(e,t,n)=>{n.d(t,{Z:()=>I});var r=n(32735),a=n(93493),o=n(40841),i=n.n(o),l=n(61055),c=n(68461),s=n(68722),u=n(44850),d=n(46417),m=n(70749),f=n(57164),_=n(22688),p=n(65980),y=n(19262),v=n(14746),h=n(59472),b=n(77178);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}var x=["getCurrentStep","onSave","onCancel","onSubmit","goToPreviousStep","goToNextStep","validate","salutation_list","disabled_items","is_svg","residence_list","is_virtual","is_fully_authenticated","account_opening_reason_list","closeRealAccountSignup","has_real_account"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const I=(0,h.observer)((function(e){var t=e.getCurrentStep,n=e.onSave,o=e.onCancel,g=e.onSubmit,E=e.goToPreviousStep,S=e.goToNextStep,O=e.validate,I=e.salutation_list,j=e.disabled_items,P=e.is_svg,C=e.residence_list,T=e.is_virtual,k=e.is_fully_authenticated,A=e.account_opening_reason_list,L=e.closeRealAccountSignup,D=e.has_real_account,F=N(e,x),M=(0,h.useStore)().traders_hub.is_eu_user,q=F.account_status,Z=F.account_settings,R=F.residence,Y=F.real_account_signup_target,U=z(r.useState(!1),2),B=U[0],V=U[1],W=z(r.useState(!1),2),G=W[0],$=W[1],H=m.Z,J=function(e){var r=t()-1;n(r,e),o(r,E)},K=R||(null==Z?void 0:Z.citizen),Q=r.useCallback((function(e){M||b.Analytics.trackEvent("ce_real_account_signup_identity_form",w(w({},e),{},{step_codename:"identity",landing_company:Y}))}),[M,Y]);r.useEffect((function(){return Q({action:"open"}),function(){return Q({action:"close"})}}),[Q]);var X=(0,d.ht)({account_status:q,citizen:K,residence_list:C,real_account_signup_target:Y}),ee=r.useMemo((function(){return(0,s.getIDVNotApplicableOption)()}),[]),te=function(){return V(!0)},ne=C.find((function(e){return e.value===K}))||{};return r.createElement(l.Formik,{initialValues:w({},F.value),validate:function(e){var t;$((null==e||null===(t=e.document_type)||void 0===t?void 0:t.id)===ee.id);var n={};X&&(n=function(e){var t={},n=e.document_type,r=e.document_number,a=e.document_additional;return n.id===ee.id?t:(t.document_type=(0,d.P0)(n),!!n.additional&&(t.document_additional=(0,d.Ef)(n,a)),t.document_number=(0,d.Sf)(r,n),n.id===ee.id||e.confirmation_checkbox||(t.confirmation_checkbox="error"),(0,s.removeEmptyPropertiesFromObject)(t))}(e));var r=(0,y.r)(O(e)).errors;return w(w({},n),r)},validateOnMount:!0,enableReinitialize:!0,onSubmit:function(e,n){Q({action:"save",user_choice:JSON.stringify(e)}),g(t()-1,e,n.setSubmitting,S)}},(function(e){var t=e.handleSubmit,n=e.isSubmitting,o=e.values;return r.createElement(c.AutoHeightWrapper,{default_height:380,height_offset:(0,s.isDesktop)()?81:null},(function(e){var d,m,y,h,b,g=e.setRef,x=e.height;return r.createElement(l.Form,{noValidate:!0,ref:g,onSubmit:t,autoComplete:"off",onClick:te,"data-testid":"personal_details_form"},r.createElement(v.Z,{fields_to_scroll_bottom:(0,s.isMobile)()?"":["account_opening_reason"],fields_to_scroll_top:(0,s.isMobile)()?["account_opening_reason"]:"",should_recollect_inputs_names:(null==o||null===(d=o.document_type)||void 0===d?void 0:d.id)===ee.id}),r.createElement(c.Div100vhContainer,{className:"details-form",height_offset:"100px",is_disabled:(0,s.isDesktop)()},M&&r.createElement("div",{className:"details-form__banner-container"},r.createElement(a.Z,{icon:"IcAlertWarning",message:r.createElement(u.Localize,{i18n_default_text:"For verification purposes as required by regulation. Itâ€™s your responsibility to provide accurate and complete answers. You can update personal details at any time in your account settings."}),title:(0,u.localize)("Why do we collect this?")})),!M&&!X&&r.createElement(c.Text,{as:"p",size:"xxxs",align:"center",className:"details-form__description"},r.createElement(u.Localize,{i18n_default_text:"Any information you provide is confidential and will be used for verification purposes only."})),r.createElement(c.ThemedScrollbars,{height:x,onScroll:te,testId:"dt_personal_details_container"},r.createElement("div",{className:i()("details-form__elements","personal-details-form"),style:{paddingBottom:(0,s.isDesktop)()?"unset":null}},X&&r.createElement(r.Fragment,null,r.createElement(f.Z,{title:(0,u.localize)("Identity verification")}),r.createElement(_.Z,{selected_country:ne,hide_hint:!0,can_skip_document_verification:!0})),P&&!M&&r.createElement(f.Z,{title:(0,u.localize)("Details")}),r.createElement(p.Z,{class_name:i()({"account-form__poi-confirm-example_container":P&&!M}),is_virtual:T,is_svg:P,is_eu_user:M,side_note:r.createElement(H,null),is_rendered_for_idv:X,editable_fields:(y=o.confirmation_checkbox,h=null==o||null===(m=o.document_type)||void 0===m?void 0:m.id,b=Object.keys(F.value).filter((function(e){return!j.includes(e)}))||[],ee.id===h?b:y&&X?b.filter((function(e){return!["first_name","last_name","date_of_birth"].includes(e)})):b),residence_list:C,has_real_account:D,is_fully_authenticated:k,closeRealAccountSignup:L,salutation_list:I,account_opening_reason_list:A,should_close_tooltip:B,setShouldCloseTooltip:V,inline_note_text:r.createElement(u.Localize,{i18n_default_text:"To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your identity document.",components:[r.createElement("strong",{key:0})]}),no_confirmation_needed:G})))),r.createElement(c.Modal.Footer,{has_separator:!0,is_bypassed:(0,s.isMobile)()},r.createElement(c.FormSubmitButton,{cancel_label:(0,u.localize)("Previous"),has_cancel:!0,is_disabled:n,is_absolute:(0,s.isMobile)(),label:(0,u.localize)("Next"),onCancel:function(){return J(o)}})))}))}))}))},6364:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(32735),a=n(68461),o=n(68722),i=n(44850),l=n(88998),c=n(85453),s=n(7893),u=n(11074),d=n(73851),m=n(9587),f=n(86375),_=function(e){var t=e.description,n=e.image;return r.createElement("div",{className:"common-mistake-examples__content-layout"},n,r.createElement("div",{className:"common-mistake-examples__content-description"},r.createElement(f.Z,null),r.createElement(a.Text,{size:"xxxs",line_height:"s",role:"document"},t)))};const p=function(){var e=[{image:l.Z,description:r.createElement(i.Localize,{i18n_default_text:"Name in document doesnâ€™t match your Deriv profile."}),ref:"name_mismatch"},{image:c.Z,description:r.createElement(i.Localize,{i18n_default_text:"Address in document doesnâ€™t match address you entered above."}),ref:"address_mismatch"},{image:s.Z,description:r.createElement(i.Localize,{i18n_default_text:"Document issued more than 6-months ago."}),ref:"old_issued_document"},{image:u.Z,description:r.createElement(i.Localize,{i18n_default_text:"Blurry document. All information must be clear and visible."}),ref:"blurry_document"},{image:d.Z,description:r.createElement(i.Localize,{i18n_default_text:"Cropped document. All information must be clear and visible."}),ref:"cropped_document"},{image:m.Z,description:r.createElement(i.Localize,{i18n_default_text:"An envelope with your name and address."}),ref:"envelope"}];return r.createElement(r.Fragment,null,r.createElement(a.Text,{as:"div",weight:"bold",size:(0,o.isMobile)()?"xxs":"xs",className:"common-mistake-examples__title"},r.createElement(i.Localize,{i18n_default_text:"Common mistakes"})),r.createElement("div",{className:"common-mistake-examples__content"},e.map((function(e){return r.createElement(_,{key:e.ref,description:e.description,image:r.createElement(e.image,null)})}))))}},42953:(e,t,n)=>{n.d(t,{M:()=>c});var r=n(32735),a=n(40841),o=n.n(a),i=n(68461),l=n(44850),c=function(e){var t=e.className;return r.createElement(i.ButtonLink,{className:o()("account-management__button",t),to:"/"},r.createElement(i.Text,{className:"dc-btn__text",as:"p",weight:"bold","data-testid":"continue_btn_text"},r.createElement(l.Localize,{i18n_default_text:"Continue trading"})))}},86573:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(42953).M},29644:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(62200).Z},62200:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(32735),a=n(68461),o=n(68722),i=n(44850),l=n(40841),c=n.n(l),s=r.createElement(i.Localize,{i18n_default_text:"Submit proof of address"});const u=function(e){var t=e.custom_text,n=void 0===t?s:t,i=e.class_name;return r.createElement(a.ButtonLink,{className:c()("account-management__button",i),to:o.routes.proof_of_address},r.createElement(a.Text,{className:"dc-btn__text",as:"p",weight:"bold","data-testid":"poa_button_text"},n))}},10257:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(68461),a=n(44850),o=n(32735),i=n(46370);const l=function(e){var t=e.onClick;return o.createElement(i.Z,{message:(0,a.localize)("New proof of address is needed"),text:(0,a.localize)("Your documents for proof of address is expired. Please submit again."),icon:o.createElement(r.Icon,{icon:"IcPoaUpload",size:128})},o.createElement(r.Button,{onClick:t,has_effect:!0,primary:!0},o.createElement(r.Text,{className:"dc-btn__text",size:"xs",weight:"bold",as:"p"},(0,a.localize)("Resubmit"))))}},6383:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(32735),a=n(68461),o=n(68722),i=n(44850),l=n(86573),c=n(46370),s=n(99108);const u=function(e){var t=e.needs_poi,n=e.redirect_button,u=(0,i.localize)("Your proof of address was submitted successfully"),d=(0,o.isNavigationFromP2P)()||(0,o.isNavigationFromDerivGO)();return t?r.createElement(c.Z,{message:u,icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128})},r.createElement("div",{className:"account-management__text-container"},r.createElement(a.Text,{align:"center",size:"xs",as:"p"},(0,i.localize)("Your document is being reviewed, please check back in 1-3 days.")),r.createElement(a.Text,{align:"center",size:"xs",as:"p"},(0,i.localize)("You must also submit a proof of identity."))),r.createElement(s.Z,null)):r.createElement(c.Z,{message:u,text:(0,i.localize)("Your document is being reviewed, please check back in 1-3 days."),icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128})},n||!d&&r.createElement(l.Z,null))}},55903:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(32735),a=n(68461),o=n(44850),i=n(46370);const l=function(){return r.createElement(i.Z,{message:(0,o.localize)("Proof of address verification not required"),text:(0,o.localize)("Your account does not need address verification at this time. We will inform you if address verification is required in the future."),icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128})})}},17344:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(32735),a=n(68461),o=n(44850),i=n(68722),l=n(86573),c=n(46370),s=n(99108);const u=function(e){var t=e.needs_poi,n=e.redirect_button,u=(0,o.localize)("Your documents were submitted successfully"),d=(0,i.isNavigationFromP2P)()||(0,i.isNavigationFromDerivGO)();return t?r.createElement("div",{className:"account-management__container"},r.createElement(c.Z,{message:u,icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128})},r.createElement("div",{className:"account-management__text-container"},r.createElement(a.Text,{align:"center",size:"xs",as:"p"},(0,o.localize)("Weâ€™ll review your documents and notify you of its status within 1 to 3 days.")),r.createElement(a.Text,{align:"center",size:"xs",as:"p"},(0,o.localize)("You must also submit a proof of identity."))),r.createElement(s.Z,null))):r.createElement("div",{className:"account-management__container"},r.createElement(c.Z,{message:u,text:(0,o.localize)("Weâ€™ll review your documents and notify you of its status within 1 to 3 days."),icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128})},n||!d&&r.createElement(l.Z,null)))}},97873:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(32735),a=n(68461),o=n(44850),i=n(46370);const l=function(e){var t=e.onClick;return r.createElement(i.Z,{message:(0,o.localize)("We could not verify your proof of address"),text:(0,o.localize)("Please check your email for details."),icon:r.createElement(a.Icon,{icon:"IcPoaError",size:128})},r.createElement(a.Button,{onClick:t,has_effect:!0,primary:!0},r.createElement(a.Text,{className:"dc-btn__text",size:"xs",weight:"bold",as:"p"},(0,o.localize)("Resubmit"))))}},21143:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(32735),a=n(68461),o=n(68722),i=n(44850),l=n(42953),c=n(46370),s=n(34970),u=function(e){var t=e.needs_poi,n=e.redirect_button,u=(0,i.localize)("Your proof of address is verified"),d=(0,o.isNavigationFromP2P)()||(0,o.isNavigationFromDerivGO)();return t?r.createElement("div",{className:"account-management__container"},r.createElement(c.Z,{message:u,text:(0,i.localize)("To continue trading, you must also submit a proof of identity."),icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128})},r.createElement(s.x,null))):r.createElement("div",{className:"account-management__container"},r.createElement(c.Z,{message:u,icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128})},n||!d&&r.createElement(l.M,null)))};const d=u},28890:(e,t,n)=>{n.d(t,{Z:()=>z});var r=n(32735),a=n(61055),o=n(68461),i=n(44850),l=n(68722),c=n(46417),s=n(39563),u=n(70749),d=n(22688),m=n(65980),f=n(17522),_=n(95562),p=n(57164),y=n(59472),v=n(21250),h=n(1241);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new N(a||[]);return r(i,"_invoke",{value:w(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function _(){}var p={};c(p,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==t&&n.call(v,o)&&(p=v);var h=_.prototype=m.prototype=Object.create(p);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==b(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=_,r(h,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:f,configurable:!0}),f.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,l,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},x(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(h),c(h,l,"Generator"),c(h,o,(function(){return this})),c(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function x(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z=(0,y.observer)((function(e){var t=e.handleBack,n=e.handleViewComplete,b=e.selected_country,E=(0,y.useStore)().client,S=E.account_settings,z=E.getChangeableFields,O=r.createElement(u.Z,null),N=(0,l.filterObjProperties)(S,["first_name","last_name","date_of_birth"]);N.date_of_birth&&(N.date_of_birth=(0,l.toMoment)(N.date_of_birth).format("YYYY-MM-DD"));var I=z(),j=w({document_type:{id:"",text:"",value:"",example_format:""},document_number:"",confirmation_checkbox:!1},N),P=function(){var e,t=(e=g().mark((function e(t,r){var a,o,i,s,u,d,m,f,_,p,y,x,E,S,z,O;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.setSubmitting,o=r.setStatus,i=r.status,a(!0),s=(0,c.cf)(t,I),e.next=5,l.WS.setSettings(s);case 5:if(null==(u=e.sent)||!u.error){e.next=11;break}return m=(null===(d=u.error)||void 0===d?void 0:d.code)===h.H.DUPLICATE_ACCOUNT?v.$J:v.FI,o(w(w({},i),{},{error_message:m})),a(!1),e.abrupt("return");case 11:return e.next=13,l.WS.authorized.storage.getSettings();case 13:if(null==(f=e.sent)||!f.error){e.next=18;break}return o(w(w({},i),{},{error_message:null!==(_=null==f||null===(p=f.error)||void 0===p?void 0:p.message)&&void 0!==_?_:v.FI})),a(!1),e.abrupt("return");case 18:return y=w({identity_verification_document_add:1},(0,l.formatIDVFormValues)(t,b.value)),e.next=21,l.WS.send(y);case 21:if(null==(x=e.sent)||!x.error){e.next=27;break}return O=(null===(E=x.error)||void 0===E?void 0:E.code)===h.H.CLAIMED_DOCUMENT?v.O:null!==(S=null===(z=x.error)||void 0===z?void 0:z.message)&&void 0!==S?S:v.FI,o({error_msg:O}),a(!1),e.abrupt("return");case 27:a(!1),n();case 29:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,l,"next",e)}function l(e){x(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return r.createElement(a.Formik,{initialValues:w({},j),validate:function(e){var t={},n=e.document_type,r=e.document_number,a=e.document_additional,o=!!n.additional;t.document_type=(0,c.P0)(n),(0,c.SJ)(null==n?void 0:n.id)||(o&&(t.document_additional=(0,c.Ef)(n,a)),t.document_number=(0,c.Sf)(r,n));return(0,c.Gu)(t,e)((function(e){return e}),["first_name","last_name","date_of_birth"],(0,i.localize)("This field is required")),e.first_name&&(t.first_name=(0,c.Ol)(e.first_name)),e.last_name&&(t.last_name=(0,c.Ol)(e.last_name)),e.confirmation_checkbox||(t.confirmation_checkbox="error"),(0,l.removeEmptyPropertiesFromObject)(t)},onSubmit:P},(function(e){var n=e.dirty,c=e.isSubmitting,u=e.isValid,y=e.values,v=e.status;return r.createElement(a.Form,{className:"proof-of-identity__container proof-of-identity__container--reset"},(null==v?void 0:v.error_message)&&r.createElement("div",{className:"account-form__poi-confirm-example--generic-error-msg"},r.createElement(o.HintBox,{icon:"IcAlertDanger",message:r.createElement(o.Text,{as:"p",size:"xxxs"},v.error_message),is_danger:!0,className:"hint-box-layout"})),r.createElement(f.Z,{className:"form-body",scroll_offset:(0,l.isMobile)()?"180px":"80px"},r.createElement(p.Z,{title:(0,i.localize)("Identity verification")}),r.createElement(d.Z,{selected_country:b,class_name:"idv-layout"}),r.createElement(p.Z,{title:(0,i.localize)("Details")}),r.createElement(m.Z,{class_name:"account-form__poi-confirm-example_container",is_rendered_for_idv:!0,editable_fields:y.confirmation_checkbox?[]:I,side_note:O,inline_note_text:r.createElement(i.Localize,{i18n_default_text:"To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your identity document.",components:[r.createElement("strong",{key:0})]})})),r.createElement(_.Z,{className:"proof-of-identity__footer account-form__footer--reset"},(0,l.isDesktop)()&&r.createElement(o.Button,{className:"back-btn",onClick:t,type:"button",has_effect:!0,large:!0,secondary:!0},r.createElement(s.Z,{className:"back-btn-icon"})," ",(0,i.localize)("Go Back")),r.createElement(o.Button,{className:"proof-of-identity__submit-button",type:"submit",has_effect:!0,is_disabled:!n||c||!u,text:(0,i.localize)("Verify"),large:!0,primary:!0})))}))}))},22844:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(32735),a=n(40841),o=n.n(a),i=n(61055),l=n(68461),c=n(68722),s=n(59472),u=n(44850),d=n(70749),m=n(17522),f=n(22688),_=n(95562),p=n(57164),y=n(65980),v=n(46417),h=n(21250),b=n(1241),g=n(52190);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new N(a||[]);return r(i,"_invoke",{value:w(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function _(){}var p={};c(p,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(I([])));v&&v!==t&&n.call(v,o)&&(p=v);var h=_.prototype=m.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==x(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=_,r(h,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:f,configurable:!0}),f.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,l,"GeneratorFunction")),e.prototype=Object.create(h),e},e.awrap=function(e){return{__await:e}},b(g.prototype),c(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new g(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(h),c(h,l,"Generator"),c(h,o,(function(){return this})),c(h,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function w(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,l,"next",e)}function l(e){N(o,r,a,i,l,"throw",e)}i(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const T=function(e){var t,n,a=e.getChangeableFields,x=e.is_from_external,S=e.residence_list,O=e.account_settings,N=e.handleSubmit,P=e.mismatch_status,C=void 0===P?c.IDV_ERROR_STATUS.Failed.code:P,T=e.latest_status,k=e.selected_country,A=(0,s.useStore)().client.setIsAlreadyAttempted,L=j(r.useState({required_fields:[],side_note_image:r.createElement(d.Z,null),failure_message:null,inline_note_text:null}),2),D=L[0],F=L[1],M=j(r.useState(!0),2),q=M[0],Z=M[1],R=j(r.useState({api_error:"",errors:!1,form_initial_values:{},changeable_fields:[]}),2),Y=R[0],U=R[1],B=r.useMemo((function(){return![c.IDV_ERROR_STATUS.DobMismatch.code,c.IDV_ERROR_STATUS.NameMismatch.code,c.IDV_ERROR_STATUS.NameDobMismatch.code].includes(C)}),[C]),V=r.useMemo((function(){var e;return B&&!x?null!=k?k:{}:null!==(e=S.find((function(e){return e.value===(null==T?void 0:T.country_code)})))&&void 0!==e?e:{}}),[k,B,null==T?void 0:T.country_code,S,x]),W=r.useMemo((function(){return(0,c.getIDVNotApplicableOption)()}),[]);r.useEffect((function(){var e,t=function(){var e=I(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.WS.wait("get_settings");case 2:(n=(0,c.filterObjProperties)(O,t)).date_of_birth&&(n.date_of_birth=(0,c.toMoment)(n.date_of_birth).format("YYYY-MM-DD")),n.confirmation_checkbox=!1,r=n,B&&(r=z({document_type:{id:"",text:"",value:"",example_format:"",sample_image:""},document_number:""},r)),U({form_initial_values:z({},r),changeable_fields:w(a()),api_error:""}),Z(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();A(!0);var n=(0,h.N7)(B,T,V,C);F(n),t(null!==(e=null==n?void 0:n.required_fields)&&void 0!==e?e:[]).catch((function(e){var t;U({form_initial_values:{},changeable_fields:[],api_error:null==e||null===(t=e.error)||void 0===t?void 0:t.message})}))}),[C,O,B,a,h.N7,A]);var G=function(){var e=I(E().mark((function e(t,n){var r,a,o,i,l,s,u,d,m,f,_,p,y,g,x,S;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setStatus,a=n.setSubmitting,o=n.status,delete t.confirmation_checkbox,a(!0),r(z(z({},o),{},{error_msg:null})),i=t.document_number,l=t.document_type,s=(0,v.cf)(t,null!=Y&&Y.changeable_fields?w(Y.changeable_fields):[]),e.next=8,c.WS.setSettings(s);case 8:if(!(u=e.sent).error){e.next=15;break}m=(null===(d=u.error)||void 0===d?void 0:d.code)===b.H.DUPLICATE_ACCOUNT?h.$J:h.FI,r(z(z({},o),{},{error_msg:m})),a(!1),e.next=37;break;case 15:return e.next=17,c.WS.authorized.storage.getSettings();case 17:if(!(f=e.sent).error){e.next=22;break}return U((function(e){return z(z({},e),{},{api_error:f.error.message})})),a(!1),e.abrupt("return");case 22:if((_={identity_verification_document_add:1,document_number:i,document_type:null==l?void 0:l.id,issuing_country:V.value}).document_type&&_.document_type!==W.id){e.next=27;break}return a(!1),N(),e.abrupt("return");case 27:return e.next=29,c.WS.send(_);case 29:if(null==(p=e.sent)||!p.error){e.next=35;break}return S=(null===(y=p.error)||void 0===y?void 0:y.code)===b.H.CLAIMED_DOCUMENT?h.O:null!==(g=null==p||null===(x=p.error)||void 0===x?void 0:x.message)&&void 0!==g?g:h.FI,r(z(z({},o),{},{error_msg:S})),a(!1),e.abrupt("return");case 35:a(!1),N();case 37:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(null!=Y&&Y.api_error)return r.createElement(g.Z,{error_message:Y.api_error});if(q&&0===Object.keys(null!==(t=null==Y?void 0:Y.form_initial_values)&&void 0!==t?t:{}).length)return r.createElement(l.Loading,{is_fullscreen:!1,className:"account__initial-loader"});return r.createElement(i.Formik,{initialValues:null!==(n=null==Y?void 0:Y.form_initial_values)&&void 0!==n?n:{},onSubmit:G,validate:function(e){var t,n={};if(B){var r=e.document_type,a=e.document_number,o=e.document_additional,i=!(null==r||!r.additional);n.document_type=(0,v.P0)(r),(0,v.SJ)(null==r?void 0:r.id)||(i&&(n.document_additional=(0,v.Ef)(r,o)),n.document_number=(0,v.Sf)(null!=a?a:"",r))}return(0,v.Gu)(n,e)((function(e){return e}),null!==(t=null==D?void 0:D.required_fields)&&void 0!==t?t:[],(0,u.localize)("This field is required")),e.first_name&&(n.first_name=(0,v.Ol)(e.first_name)),e.last_name&&(n.last_name=(0,v.Ol)(e.last_name)),e.confirmation_checkbox||(n.confirmation_checkbox="error"),U((function(e){return z(z({},e),{},{errors:!(0,c.isEmptyObject)((0,c.removeEmptyPropertiesFromObject)(n))})})),(0,c.removeEmptyPropertiesFromObject)(n)},className:"proof-of-identity__container"},(function(e){var t,n=e.isSubmitting,a=e.isValid,s=e.dirty,d=e.status,v=e.values;e.errors;return r.createElement(i.Form,{className:o()("proof-of-identity__mismatch-container",{"upload-layout":B})},r.createElement(m.Z,{className:"form-body",scroll_offset:(0,c.isMobile)()?x?"140px":"180px":"80px"},r.createElement(l.Text,{size:(0,c.isMobile)()?"xs":"s",weight:"bold",align:"center"},r.createElement(u.Localize,{i18n_default_text:"Your identity verification failed because:"})),((null==d?void 0:d.error_msg)||(null==D?void 0:D.failure_message))&&r.createElement(l.HintBox,{className:o()("proof-of-identity__failed-message","hint-box-layout"),icon:"IcAlertDanger",message:r.createElement(l.Text,{as:"p",size:(0,c.isMobile)()?"xxs":"xs","data-testid":C},null!==(t=null==d?void 0:d.error_msg)&&void 0!==t?t:null==D?void 0:D.failure_message),is_danger:!0}),B&&r.createElement(r.Fragment,null,r.createElement(l.Text,{size:"xs",align:(0,c.isMobile)()?"left":"center"},r.createElement(u.Localize,{i18n_default_text:"Letâ€™s try again. Choose another document and enter the corresponding details."})),r.createElement(p.Z,{title:(0,u.localize)("Identity verification")}),r.createElement(f.Z,{selected_country:V,class_name:"idv-layout idv-resubmit"}),r.createElement(p.Z,{title:(0,u.localize)("Details")})),r.createElement(y.Z,{class_name:"account-form__poi-confirm-example_container",editable_fields:v.confirmation_checkbox?[]:null==Y?void 0:Y.changeable_fields,is_rendered_for_idv:!0,side_note:null==D?void 0:D.side_note_image,inline_note_text:null==D?void 0:D.inline_note_text,mismatch_status:C}),r.createElement(l.DesktopWrapper,null,!x&&r.createElement("div",{className:"proof-of-identity__actions"},r.createElement(l.Button,{className:"proof-of-identity__submit-button",type:"submit",has_effect:!0,is_disabled:!s||n||!a,text:B?(0,u.localize)("Verify"):(0,u.localize)("Update profile"),large:!0,primary:!0})))),(x||(0,c.isMobile)())&&r.createElement(_.Z,null,r.createElement(l.Button,{type:"submit",has_effect:!0,is_disabled:!s||n||!a,text:B?(0,u.localize)("Verify"):(0,u.localize)("Update profile"),large:!0,primary:!0})))}))}},84195:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(32735),a=n(68461),o=n(44850),i=n(64175);const l=function(e){var t=e.handleRequireSubmission;return r.createElement("div",{className:"proof-of-identity__container"},r.createElement(i.Z,{className:"icon"}),r.createElement(a.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},(0,o.localize)("ID verification failed")),r.createElement(a.Text,{className:"proof-of-identity__text btm-spacer",align:"center",size:"xs"},(0,o.localize)("We were unable to verify your ID with the details you provided. "),(0,o.localize)("Please upload your identity document.")),r.createElement(a.Button,{type:"button",className:"account-management__continue",onClick:t,large:!0,text:(0,o.localize)("Upload identity document"),primary:!0}))}},47063:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(32735),a=n(40841),o=n.n(a),i=n(68461),l=n(68722),c=n(59472),s=n(44850),u=n(2718),d=n(29644),m=(0,c.observer)((function(e){var t=e.is_from_external,n=e.mismatch_status,a=e.needs_poa,m=e.redirect_button,f=(0,c.useStore)().client.is_already_attempted,_=n===l.IDV_ERROR_STATUS.NameDobMismatch.code||n===l.IDV_ERROR_STATUS.DobMismatch.code||n===l.IDV_ERROR_STATUS.NameMismatch.code,p=n===l.IDV_ERROR_STATUS.Expired.code||n===l.IDV_ERROR_STATUS.Failed.code,y=!t&&r.createElement(d.Z,{custom_text:r.createElement(s.Localize,{i18n_default_text:"Submit proof of address"})});return r.createElement("div",{className:o()("proof-of-identity__container","proof-of-identity__container--status")},r.createElement(u.Z,{className:"icon"}),r.createElement(i.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},function(){if(f){if(_)return r.createElement(s.Localize,{i18n_default_text:"Your profile is updated"});if(p)return r.createElement(s.Localize,{i18n_default_text:"Your document has been submitted"})}return r.createElement(s.Localize,{i18n_default_text:"Your documents were submitted successfully"})}()),r.createElement(i.Text,{className:"proof-of-identity__text text",size:"xs",align:"center"},f&&(_||p)?r.createElement(s.Localize,{i18n_default_text:"We'll review your proof of identity again and will give you an update as soon as possible."}):r.createElement(s.Localize,{i18n_default_text:"Weâ€™ll review your documents and notify you of its status within 5 minutes."})),a?r.createElement(r.Fragment,null,r.createElement(i.Text,{className:"text",size:"xs",align:"center"},r.createElement(s.Localize,{i18n_default_text:"Next, we'll need your proof of address."})),y):r.createElement("div",{className:"proof-of-identity__redirection"},m))}));const f=r.memo(m)},60938:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(32735),a=n(40841),o=n.n(a),i=n(68461),l=n(68722),c=n(44850),s=n(42953),u=n(44295),d=n(62200);const m=function(e){var t=e.needs_poa,n=e.is_from_external,a=e.redirect_button,m=t?r.createElement(c.Localize,{i18n_default_text:"Your ID is verified. You will also need to submit proof of your address."}):r.createElement(c.Localize,{i18n_default_text:"ID verification passed"});return r.createElement("div",{className:o()("proof-of-identity__container","proof-of-identity__container--status"),"data-testid":"poi_idv_verified_container"},r.createElement(u.Z,{className:"icon"}),r.createElement(i.Text,{className:"proof-of-identity__text btm-spacer",align:"center",weight:"bold"},m),t?r.createElement(r.Fragment,null,!(0,l.isMobile)()&&r.createElement(i.Text,{className:"text",size:"xs",align:"center"},r.createElement(c.Localize,{i18n_default_text:"Next, we'll need your proof of address."})),!n&&r.createElement(d.Z,{custom_text:r.createElement(c.Localize,{i18n_default_text:"Submit proof of address"})})):a||r.createElement(s.M,{className:"continue-trade"}))}},58727:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(32735),a=n(68722),o=n(68461),i=n(44850),l=n(46370),c=function(e){var t=e.anchor,n=e.from,a=e.text,l=n?"?from=".concat(n):"",c=t?"#".concat(t):"";return r.createElement(o.ButtonLink,{to:"/account/personal-details".concat(l).concat(c)},r.createElement(o.Text,{className:"dc-btn__text",weight:"bold",as:"p"},null!=a?a:(0,i.localize)("Go to personal details")))};const s=function(e){var t=e.has_invalid_postal_code,n=e.from,s=r.useContext(a.PlatformContext).is_appstore;return t?r.createElement(l.Z,{message:(0,i.localize)("Your postal code is invalid"),text:(0,i.localize)("Please check and update your postal code before submitting proof of identity."),icon:r.createElement(o.Icon,{icon:"IcAccountMissingDetails",size:128})},r.createElement(c,{anchor:"address_postcode",from:n,text:(0,i.localize)("Update postal code")})):r.createElement(l.Z,{message:(0,i.localize)("Your personal details are missing"),text:(0,i.localize)("Please complete your personal details before you verify your identity."),icon:r.createElement(o.Icon,{icon:s?"IcAccountMissingDetailsDashboard":"IcAccountMissingDetails",size:128})},r.createElement(c,{from:n}))}},99108:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(34970).x},34970:(e,t,n)=>{n.d(t,{x:()=>i});var r=n(68461),a=n(44850),o=n(32735),i=function(){return o.createElement(r.ButtonLink,{className:"account-management__button",to:"/account/proof-of-identity"},o.createElement(r.Text,{className:"dc-btn__text",weight:"bold",as:"p"},(0,a.localize)("Proof of identity")))}},93345:(e,t,n)=>{n.d(t,{Z:()=>I});var r=n(32735),a=n(40841),o=n.n(a),i=n(61055),l=n(68461),c=n(44850),s=n(68722),u=n(70749),d=n(17522),m=n(52190),f=n(65980),_=n(21250),p=n(1241),y=n(46417);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),l=new N(a||[]);return r(i,"_invoke",{value:w(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function m(){}function f(){}function _(){}var p={};c(p,o,(function(){return this}));var y=Object.getPrototypeOf,h=y&&y(y(I([])));h&&h!==t&&n.call(h,o)&&(p=h);var g=_.prototype=m.prototype=Object.create(p);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,l){var c=u(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==v(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,i,l)}),(function(e){a("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=_,r(g,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:f,configurable:!0}),f.displayName=c(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},x(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(g),c(g,l,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function g(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const I=function(e){var t=e.account_settings,n=e.getChangeableFields,a=e.onFormConfirm,v=z(r.useState(!0),2),E=v[0],S=v[1],O=z(r.useState(!1),2),N=O[0],I=O[1],j=z(r.useState({show_form:!0,form_initial_values:{first_name:"",last_name:"",date_of_birth:""},changeable_fields:[],api_error:""}),2),P=j[0],C=j[1],T=r.createElement(u.Z,null);r.useEffect((function(){s.WS.wait("get_settings").then((function(){var e=(0,s.filterObjProperties)(t,["first_name","last_name","date_of_birth"]);e.date_of_birth&&(e.date_of_birth=(0,s.toMoment)(e.date_of_birth).format("YYYY-MM-DD")),C(w(w({},P),{},{changeable_fields:n(),form_initial_values:e})),S(!1)}))}),[t]);var k=function(){var e,t=(e=b().mark((function e(t,n){var r,o,i,l,c,u,d,m,f,v,h,x;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setStatus,o=n.setSubmitting,!N){e.next=3;break}return e.abrupt("return");case 3:return r({error_msg:""}),i=(0,y.cf)(t,null!=P&&P.changeable_fields?g(P.changeable_fields):[]),e.next=7,s.WS.setSettings(i);case 7:if(null==(l=e.sent)||!l.error){e.next=14;break}u=(null===(c=l.error)||void 0===c?void 0:c.code)===p.H.DUPLICATE_ACCOUNT?_.$J:_.FI,r({error_msg:u}),o(!1),e.next=25;break;case 14:return e.next=16,s.WS.authorized.storage.getSettings();case 16:if(null==(m=e.sent)||!m.error){e.next=20;break}return C(w(w({},P),{},{api_error:m.error.message})),e.abrupt("return");case 20:f=null!==(d=null==m?void 0:m.get_settings)&&void 0!==d?d:w({},P.form_initial_values),v=f.first_name,h=f.last_name,x=f.date_of_birth,C(w(w({},P),{},{form_initial_values:{first_name:v,last_name:h,date_of_birth:x}})),I(!0),S(!1),a&&setTimeout((function(){a()}),500);case 25:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,l,"next",e)}function l(e){x(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),A=h({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(P.form_initial_values),P.form_initial_values)),L=P.api_error;return L?r.createElement(m.Z,{error_message:L}):E?r.createElement(l.Loading,{is_fullscreen:!1,className:"account__initial-loader"}):r.createElement(i.Formik,{initialValues:A,enableReinitialize:!0,onSubmit:k,validate:function(e){var t={};return(0,y.Gu)(t,e)((function(e){return e}),["first_name","last_name","date_of_birth"],(0,c.localize)("This field is required")),e.first_name&&(t.first_name=(0,y.Ol)(e.first_name)),e.last_name&&(t.last_name=(0,y.Ol)(e.last_name)),C(w(w({},P),{},{errors:!(0,s.isEmptyObject)((0,s.removeEmptyPropertiesFromObject)(t))})),(0,s.removeEmptyPropertiesFromObject)(t)}},(function(e){var t=e.errors,n=e.handleSubmit,a=e.isSubmitting,u=e.status;return r.createElement(i.Form,{className:"account-form__poi-confirm-example",onSubmit:n},r.createElement(d.Z,null,r.createElement(f.Z,{editable_fields:P.changeable_fields,is_rendered_for_onfido:!0,side_note:T,inline_note_text:r.createElement(c.Localize,{i18n_default_text:"To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your identity document.",components:[r.createElement("strong",{key:0})]})}),r.createElement("button",{type:"submit",className:o()("account-form__poi-confirm-example--button",{"account-form__poi-confirm-example--button__disabled":N||!(0,s.isEmptyObject)(t)})},r.createElement(l.Checkbox,{value:N,label:r.createElement(l.Text,{size:(0,s.isMobile)()?"xxs":"xs"},(0,c.localize)("I confirm that the name and date of birth above match my chosen identity document (see below)")),disabled:a})),(null==u?void 0:u.error_msg)&&r.createElement("div",{className:"account-form__poi-confirm-example--status-message"},r.createElement(l.HintBox,{icon:"IcAlertDanger",message:r.createElement(l.Text,{as:"p",size:"xxxs"},null==u?void 0:u.error_msg),is_danger:!0,className:"hint-box-layout"}))))}))}},83735:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(32735),a=n(40841),o=n.n(a),i=n(61055),l=n(68461),c=n(68722),s=n(44850),u=n(95562),d=n(22568);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}const f=function(e){var t,n,a=e.handleSelectionNext,f=e.is_from_external,_=e.mismatch_status,p=r.useContext(c.POIContext).setSelectedCountry,y=(0,d.useResidenceList)(),v=y.data,h=y.isLoading,b=function(e){var t=null==v?void 0:v.find((function(t){return t.text===e}));t&&(null==p||p(t))},g=_&&null!==(t=null===(n=c.IDV_ERROR_STATUS[_])||void 0===n?void 0:n.message)&&void 0!==t?t:null;return r.createElement(i.Formik,{initialValues:{country_input:""},validate:function(e){var t={},n=e.country_input;return n?v.find((function(e){return e.text===n}))||(t.country_input=(0,s.localize)("Please select a valid country of document issuance.")):t.country_input=(0,s.localize)("Please select the country of document issuance."),t},onSubmit:function(e,t){var n=t.setSubmitting;b(e.country_input),n(!1),null==a||a()}},(function(e){var t=e.dirty,n=e.errors,a=e.handleBlur,d=e.handleChange,_=e.handleSubmit,p=e.isSubmitting,y=e.isValid,x=e.setFieldValue,E=e.touched,w=e.values;return r.createElement(r.Fragment,null,r.createElement("div",{className:o()("proof-of-identity__container",{"min-height":!f})},g?r.createElement(r.Fragment,null,r.createElement(l.Text,{align:"center",weight:"bold",size:(0,c.isMobile)()?"xs":"s"},r.createElement(s.Localize,{i18n_default_text:"Your identity verification failed because:"})),r.createElement(l.HintBox,{className:o()("proof-of-identity__failed-message","hint-box-layout"),icon:"IcAlertDanger",message:r.createElement(l.Text,{as:"p",size:(0,c.isMobile)()?"xxs":"xs"},g),is_danger:!0})):r.createElement(l.Text,{className:"proof-of-identity__header",align:"center",weight:"bold"},r.createElement(s.Localize,{i18n_default_text:"Proof of identity"})),r.createElement(l.Text,{className:"proof-of-identity__country-text ",size:"xs"},r.createElement(s.Localize,{i18n_default_text:"In which country was your document issued?"})),r.createElement("fieldset",{className:"proof-of-identity__fieldset"},r.createElement(i.Field,{name:"country_input"},(function(e){var t=e.field;return r.createElement(r.Fragment,null,r.createElement(l.DesktopWrapper,null,r.createElement(l.Autocomplete,m({className:o()({"external-dropdown":f})},t,{data_testid:"dt_external_dropdown",name:"country_input","data-lpignore":"true",error:E.country_input&&n.country_input,autoComplete:"off",type:"text",label:(0,s.localize)("Country"),list_items:v,value:w.country_input,onBlur:function(e){a(e);var t=e.target.value;v.find((function(e){return e.text===t}))||(x("country_input","",!0),b(""))},onChange:d,onItemSelection:function(e){var t=e.text;x("country_input","No results found"!==t&&t?t:"",!0),b(t)},required:!0}))),r.createElement(l.MobileWrapper,null,r.createElement("div",{className:"proof-of-identity__dropdown-container"},r.createElement(l.SelectNative,m({},t,{name:"country_input",error:E.country_input&&n.country_input,label:(0,s.localize)("Country"),placeholder:(0,s.localize)("Please select"),list_items:v,value:w.country_input,onChange:function(e){d(e),b(e.target.value)},use_text:!0,required:!0})))))})))),r.createElement(u.Z,{className:o()("proof-of-identity__footer",{"external-footer":f})},r.createElement(l.Button,{className:"proof-of-identity__submit-button",type:"submit",onClick:function(){return _()},has_effect:!0,is_disabled:!t||p||!y||h,is_loading:!1,text:(0,s.localize)("Next"),large:!0,primary:!0})))}))}},7575:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(32735),a=n(68461),o=n(44850),i=n(46370);const l=function(e){var t=e.handleRequireSubmission,n=e.is_from_external,l=e.redirect_button;return r.createElement(i.Z,{message:(0,o.localize)("New proof of identity document needed"),icon:r.createElement(a.Icon,{icon:"IcPoiUpload",size:128})},r.createElement(a.Button,{type:"button",className:"account-management__continue",onClick:t,large:!0,text:(0,o.localize)("Upload Document"),primary:!0}),!n&&l)}},69559:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(32735),a=n(68461),o=n(44850),i=n(46370);const l=function(){return r.createElement(i.Z,{message:(0,o.localize)("You've reached the limit for uploading your documents."),text:r.createElement(o.Localize,{i18n_default_text:"Please contact us via <0>live chat</0>.",components:[r.createElement("span",{key:0,className:"link link--orange",onClick:function(){return window.LC_API.open_chat_window()}})]}),icon:r.createElement(a.Icon,{icon:"IcPoiFailed",size:128})})}},52184:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(32735),a=n(68461),o=n(44850),i=n(46370);const l=function(){return r.createElement(i.Z,{message:(0,o.localize)("Proof of identity verification not required"),text:(0,o.localize)("Your account does not need identity verification at this time. We will inform you if identity verification is required in the future."),icon:r.createElement(a.Icon,{icon:"IcPoiVerified",size:128})})}},84179:(e,t,n)=>{n.d(t,{Z:()=>_});var r=n(32735),a=n(68461),o=n(44850),i=n(40841),l=n.n(i),c=n(68722),s=n(59472);const u=(0,s.observer)((function(e){var t=e.text,n=e.index,i=(0,s.useStore)().ui.is_desktop?"xs":"xxs";return r.createElement("div",{className:"account-management__list-text-container"},n&&r.createElement(a.Text,{size:i,className:"account-management__list-text"},r.createElement(o.Localize,{i18n_default_text:"{{index}}.",values:{index:n}})," "),r.createElement(a.Text,{size:i,className:"account-management__list-text"},t))}));function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=(0,s.observer)((function(e){var t=e.className,n=e.icon,i=e.message,d=e.message_list,f=void 0===d?[]:d,_=e.onContinue,p=(0,s.useStore)().ui,y=p.is_mobile,v=p.is_desktop;return r.createElement(a.ThemedScrollbars,{is_bypassed:y},r.createElement(a.Div100vhContainer,{className:"account-management__message-wrapper",is_disabled:v,height_offset:"110px"},r.createElement("div",{className:l()("account-management__message-content",m({},"".concat(t,"__message-content"),t)),"data-testid":"dt_icon_message_list"},n&&r.createElement("div",{className:l()("account-management__message-icon",m({},"".concat(t,"__message-icon"),t))},n),r.createElement(a.Text,{as:"div",weight:"bold",className:l()("account-management__message",m({},"".concat(t,"__message"),t)),size:v?"s":"xs"},i),f&&r.createElement("div",{className:"account-management__list-container"},r.createElement("div",{className:"account-management__list-message"},r.createElement("div",{className:"account-management__list-icon"},r.createElement(a.Icon,{icon:"IcAlertDanger",color:"red"})),r.createElement("section",null,f.length<2?r.createElement(u,{text:(0,c.getOnfidoError)(f[0])}):f.map((function(e,t){return r.createElement(u,{key:e,text:(0,c.getOnfidoError)(f[t]),index:t+1})}))))),_&&r.createElement(a.Button,{type:"button",className:"account-management__continue",onClick:_,large:!0,primary:!0},r.createElement(o.Localize,{i18n_default_text:"Verify again"})))))}));const _=function(e){var t=e.handleRequireSubmission,n=e.rejected_reasons;return r.createElement(f,{message:(0,o.localize)("Your proof of identity submission failed because:"),icon:r.createElement(a.Icon,{icon:"IcPoiFailed",size:128}),message_list:n,onContinue:t})}},1690:(e,t,n)=>{n.d(t,{Z:()=>Ae});var r=n(32735),a=n(40841),o=n.n(a),i=n(44850),l=n(68461),c=n(68722),s=n(60758),u=n(57336),d=n(46370);const m=function(e){var t=e.error;return r.createElement(d.Z,{message:(0,i.localize)("Proof of identity documents upload failed"),text:t,icon:r.createElement(l.Icon,{icon:"IcPoiFailed",size:128}),className:"account-management-dashboard"})};var f=n(56098),_=n.n(f),p=function(e){return(0,i.localize)("Unable to read file {{name}}",{name:e})};const y=function(e,t,n){return new Promise((function(r,a){e||a();var o=new(_())({connection:t()}),i=!1;(0,c.compressImageFiles)([e]).then((function(e){(0,c.readFiles)(e,p,n).then((function(e){e.forEach((function(e){e.message&&(i=!0,a(e))}));var t=e.length;!i&&t&&o.upload(e[0]).then(r).catch(a)})).catch((function(e){return console.error("error: ",e)}))})).catch((function(e){return console.error("error: ",e)}))}))};var v=n(93905),h=n(61055),b=n(60216),g=n.n(b);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N="manual-poi-details",I={NATIONAL_IDENTITY_CARD:"national_identity_card",NIMC_SLIP:"nimc_slip",PASSPORT:"passport",DRIVING_LICENCE:"driving_licence",BIRTH_CERTIFICATE:"birth_certificate",SELFIE_WITH_ID:"selfie_with_id",OTHER:"other"},j={FRONT:"front",BACK:"back",PHOTO:"photo"},P={document_type:I.SELFIE_WITH_ID,pageType:j.PHOTO,name:"selfie_with_id",icon:"IcSelfie",info:(0,i.localize)("Upload your selfie.")},C={name:"expiry_date",label:(0,i.localize)("Expiry date"),type:"date",required:!0};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}var k=function(e){var t=e.data,n=(0,c.toMoment)().add(6,"months").format("YYYY-MM-DD");switch(t.type){case"text":return r.createElement(h.Field,{name:t.name},(function(e){var n=e.field,a=e.form,o=a.errors,i=a.touched;return r.createElement(l.Input,T({},n,{className:"".concat(N,"__field"),type:"text",label:"".concat(t.label).concat(t.required?"*":""),error:i[n.name]&&o[n.name]}))}));case"date":return r.createElement(h.Field,{name:t.name},(function(e){var a=e.field,o=e.form,i=o.errors,c=o.touched;return r.createElement(l.DatePicker,T({},a,{className:"".concat(N,"__field"),date_format:"YYYY-MM-DD",display_format:"DD-MM-YYYY",start_date:n,min_date:n,should_show_today:!1,name:t.name,label:"".concat(t.label).concat(t.required?"*":""),error:c[a.name]&&i[a.name],readOnly:!0}))}));default:return null}};k.propTypes={data:g().object};const A=k;function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R={"file-too-large":(0,i.localize)("File size should be 8MB or less"),"file-invalid-type":(0,i.localize)("File uploaded is not supported"),"too-many-files":(0,i.localize)("Please select one file only"),GENERAL:(0,i.localize)("Sorry, an error occured. Please select another file.")},Y=function(e){var t=e.data,n=e.open;return r.createElement("div",{className:"".concat(N,"__uploader-details")},r.createElement(l.Icon,{className:"".concat(N,"__uploader-icon"),icon:null==t?void 0:t.icon,size:236}),r.createElement(l.Text,{as:"p",size:"xs",color:"general",align:"center"},null==t?void 0:t.info),r.createElement(l.Button,{medium:!0,secondary:!0,text:(0,c.isMobile)()?(0,i.localize)("Tap here to upload"):(0,i.localize)("Drop file or click here to upload"),onClick:n}))},U=function(e){var t=e.data,n=e.setFieldValue,a=e.value,i=e.has_frame,c=e.handleChange,s=q(r.useState(""),2),u=s[0],d=s[1];return r.useEffect((function(){d(null!=a&&a.file?URL.createObjectURL(null==a?void 0:a.file):"")}),[a]),r.createElement("div",{className:"".concat(N,"__uploader-details ").concat(N,"__uploader-details--preview")},r.createElement("div",{className:o()("".concat(N,"__uploader-image"),M({},"".concat(N,"__uploader-image--has-frame"),i)),style:{backgroundImage:"url(".concat(u,")")}},i&&r.createElement(l.Icon,{icon:"IcPoiFrame",className:"".concat(N,"__uploader-frame")}),(!u||-1!==(null==a?void 0:a.file.type.indexOf("pdf")))&&r.createElement(r.Fragment,null,r.createElement(l.Icon,{icon:"IcCloudUpload",size:50}),r.createElement(l.Text,{as:"p",size:"xs",color:"general",align:"center"},null==a?void 0:a.file.name)),r.createElement(l.Icon,{icon:"IcCloseCircle",className:"".concat(N,"__uploader-remove"),onClick:function(){null==c||c(null,n)},size:16})),r.createElement(l.Text,{as:"p",size:"xs",color:"general",align:"center"},null==t?void 0:t.info))};const B=function(e){var t=e.data,n=e.value,a=e.is_full,s=e.onChange,u=e.has_frame,d=q(r.useState(),2),m=d[0],f=d[1];r.useEffect((function(){f(n)}),[n]);var _=function(e,n){null==s||s(e),null==n||n(null==t?void 0:t.name,e)},p=function(e){var t;return r.createElement("div",{className:"".concat(N,"__uploader-details")},null==m||null===(t=m.errors)||void 0===t?void 0:t.map((function(e,t){return r.createElement(l.Text,{key:t,as:"p",size:"xs",color:"secondary",align:"center"},e)})),r.createElement(l.Button,{medium:!0,secondary:!0,text:(0,c.isMobile)()?(0,i.localize)("Tap here to upload"):(0,i.localize)("Drop file or click here to upload"),onClick:e}))};return r.createElement(h.Field,{name:null==t?void 0:t.name},(function(e){var s,d=e.form.setFieldValue;return r.createElement("div",{className:o()("".concat(N,"__uploader"),M({},"".concat(N,"__uploader--full"),a))},r.createElement(l.FileDropzone,{accept:c.supported_filetypes,error_message:(0,i.localize)("Please upload supported file type."),filename_limit:32,hover_message:(0,i.localize)("Drop files here.."),max_size:c.max_document_size,message:function(e){return r.createElement(Y,{open:e,data:t})},preview_single:m&&r.createElement(U,{data:t,value:m,has_frame:u,setFieldValue:d,handleChange:_}),multiple:!1,onDropAccepted:function(e){return function(e,n){var r=F({file:e[0],errors:[]},t);_(r,n)}(e,d)},onDropRejected:function(e){return function(e,n){var r,a=null===(r=e[0].errors)||void 0===r?void 0:r.map((function(e){return R[e.code]?R[e.code]:R.GENERAL})),o=F(F({},e[0]),{},{errors:a},t);_(o,n)}(e,d)},validation_error_message:null!=n&&null!==(s=n.errors)&&void 0!==s&&s.length?p:void 0,noClick:!0,value:m?[m]:[]}))}))};var V=function(e){var t={};return e.forEach((function(e){t[e.name]=""})),t},W=function(e){return"string"==typeof e?!e.trim():!e},G=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){var r=t.name,a=t.label,o=t.type,l=e[r];t.required&&W(l)?n[r]=(0,i.localize)("{{label}} is required.",{label:a}):"text"===o&&l.length>30?n[r]=(0,i.localize)("{{label}} must be less than 30 characters.",{label:a}):"text"!==o||/^[\w\s-]{0,30}$/g.test(l)||(n[r]=(0,i.localize)("Only letters, numbers, space, underscore, and hyphen are allowed for {{label}}.",{label:a}))})),t.forEach((function(t){var r,a=t.name,o=e[a];W(o)?n[a]=(0,i.localize)("{{name}} is required.",{name:a}):null!==(r=o.errors)&&void 0!==r&&r.length&&(n[a]=o.errors[0])})),n};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function H(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=[{icon:"IcPoiClearPhoto",text:(0,i.localize)("A clear colour photo or scanned image")},{icon:"IcPoiFileFormat",text:(0,i.localize)("JPEG, JPG, PNG, PDF, or GIF")},{icon:"IcPoiFileSize",text:(0,i.localize)("Less than 8MB")},{icon:"IcPoiDocExpiry",text:(0,i.localize)("Must be valid for at least 6 months")}],X=function(e){var t=e.data;return r.createElement("div",{className:"".concat(N,"__icons-item")},r.createElement(l.Icon,{icon:t.icon,size:24}),r.createElement(l.Text,{as:"p",size:"xxxs",align:"center"},t.text))};const ee=function(e){var t=e.initial_values,n=e.is_from_external,a=e.data,s=e.goToCards,u=e.onSubmit,d=a.fields,m=a.documents_title,f=a.documents,_=d.some((function(e){return e.name===C.name})),p=_?r.createElement(i.Localize,{i18n_default_text:"First, enter your {{label}} and the expiry date.",values:{label:null==d?void 0:d[0].label}}):r.createElement(i.Localize,{i18n_default_text:"First, enter your {{label}}.",values:{label:null==d?void 0:d[0].label}});return r.createElement("div",{className:o()(N,K({},"".concat(N,"--mobile"),(0,c.isMobile)()))},r.createElement(h.Formik,{initialValues:t||V([].concat(H(d||[]),H(f||[]))),validate:function(e){return G(e,d,f)},onSubmit:u},(function(e){var t=e.values,a=e.isValid,o=e.touched,c=Object.keys(o).length>0,u=Object.values(t).some((function(e,t){var n;return(null===e||""===e)&&(null==d||null===(n=d[t])||void 0===n?void 0:n.required)}));return r.createElement(h.Form,{className:"".concat(N,"__form")},r.createElement("div",{className:"".concat(N,"__fields-content")},r.createElement(l.Text,{as:"h3",size:"s",color:"prominent"},p),r.createElement("div",{className:"".concat(N,"__fields-wrap")},null==d?void 0:d.map((function(e){return r.createElement(A,{key:e.name,data:e})}))),r.createElement("div",{className:"".concat(N,"__divider")}),r.createElement(l.Text,{as:"h3",size:"s",color:"prominent"},m),r.createElement("div",{className:"".concat(N,"__uploaders-wrap")},null==f?void 0:f.map((function(e){return r.createElement(B,{key:e.name,data:e,value:t[e.name],is_full:1===f.length||n})}))),r.createElement("div",{className:"".concat(N,"__icons")},Q.map((function(e){return"IcPoiDocExpiry"!==e.icon||_?r.createElement(X,{key:e.icon,data:e}):null})))),r.createElement("div",{className:"".concat(N,"__btns")},r.createElement(l.Button,{onClick:s,secondary:!0,large:!0,text:(0,i.localize)("Go back"),icon:r.createElement(l.Icon,{icon:"IcButtonBack",size:16})}),r.createElement(l.Button,{type:"submit",primary:!0,large:!0,is_disabled:!a||!c&&u,text:(0,i.localize)("Next")})))})))};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const re=function(e){var t=e.initial_values,n=e.goBack,a=e.onConfirm,s=e.onFileDrop;return r.createElement("div",{className:o()(N,ne({},"".concat(N,"--mobile"),(0,c.isMobile)()))},r.createElement(h.Formik,{initialValues:t||V([P]),validate:function(e){return G(e,void 0,[P])},onSubmit:a},(function(e){var t,a,o=e.values,c=e.isValid,u=e.isSubmitting,d=e.touched;return d&&(t=Object.keys(d).length>0),o&&(a=Object.values(o).some((function(e){return null===e||""===e}))),r.createElement(h.Form,{className:"".concat(N,"__form")},r.createElement("div",{className:"".concat(N,"__fields-content")},r.createElement(l.Text,{as:"h3",size:"s",weight:"bold",color:"prominent"},(0,i.localize)("Upload your selfie")),r.createElement("div",{className:"".concat(N,"__uploaders-wrap")},r.createElement(B,{data:P,value:o?o[P.name]:"",is_full:!0,onChange:s,has_frame:!0})),r.createElement("div",{className:"".concat(N,"__notice")},r.createElement(l.Text,{as:"p",size:"xs",color:"general"},(0,i.localize)("Before uploading, please ensure that youâ€™re facing forward in the selfie, your face is within the frame, and your eyes are clearly visible even if youâ€™re wearing glasses.")))),r.createElement("div",{className:"".concat(N,"__btns")},r.createElement(l.Button,{onClick:n,secondary:!0,large:!0,text:(0,i.localize)("Go back"),icon:r.createElement(l.Icon,{icon:"IcButtonBack",size:16})}),r.createElement(l.Button,{type:"submit",primary:!0,large:!0,is_disabled:!c||u||!t&&a,text:(0,i.localize)("Confirm and upload")})))})))};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ue=function(e){var t=e.data,n=e.goToCards,a=e.onComplete,o=e.is_from_external,i=e.setIsCfdPoiCompleted,l=ce(r.useState(),2),c=l[0],s=l[1],u=ce(r.useState(),2),d=u[0],m=u[1],f=ce(r.useState(!1),2),_=f[0],p=f[1];return r.createElement(r.Fragment,null,_?r.createElement(re,{initial_values:d,goBack:function(){return p(!1)},onConfirm:function(e){a(ie(ie({},c),e)),null==i||i(!0)},onFileDrop:function(e){return m(le({},P.name,e))}}):r.createElement(ee,{initial_values:c,is_from_external:o,data:t,goToCards:n,onSubmit:function(e){s(e),p(!0)}}))};var de=["document","onClickBack","root_class","country_code_key","height","handleComplete","is_onfido_supported","is_from_external","setIsCfdPoiCompleted","is_mt5","handlePOIforMT5Complete"];function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function fe(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var he="IS_UPLOADING",be="IS_COMPLETED",ge="IS_FAILED";const xe=function(e){var t=e.document,n=e.onClickBack,a=e.root_class,o=e.country_code_key,s=e.height,d=e.handleComplete,f=e.is_onfido_supported,_=e.is_from_external,p=e.setIsCfdPoiCompleted,h=e.is_mt5,b=e.handlePOIforMT5Complete,g=ve(e,de),x=_e(r.useState(""),2),E=x[0],w=x[1],S=_e(r.useState(""),2),z=S[0],O=S[1],N=!1;switch(E){case he:return r.createElement(l.Loading,{is_fullscreen:!1,is_slow_loading:!0,status:[(0,i.localize)("Uploading documents")]});case be:return r.createElement(u.k,{is_from_external:!0,needs_poa:!1,is_manual_upload:!0});case ge:return r.createElement(m,{error:z});default:return r.createElement(r.Fragment,null,f?r.createElement(r.Fragment,null,r.createElement("div",{className:"".concat(a,"__detail-header"),onClick:n},r.createElement(l.Icon,{icon:"IcArrowLeftBold"}),r.createElement(l.Text,{as:"p",size:"xs",weight:"bold",color:"prominent",className:"".concat(a,"__back-title")},(0,i.localize)("Back"))),r.createElement(v.Z,me({country_code:o,documents_supported:[t.onfido_name],height:null!=s?s:null,handleComplete:h?b:d,is_default_enabled:!0,handleViewComplete:h?b:d},g))):r.createElement(ue,{data:t.details,onComplete:function(e){var n;w(he),(n=e,new Promise((function(e,r){var a=t.details.documents.map((function(e){return e.name})),l=Object.values(n).filter((function(e){return[].concat(fe(a),[P.name]).includes(e.name)})),s=l.length,u=0,d=[];!function t(){var a,m=l[u],f=m.file,_=m.document_type,p=m.pageType,v=m.lifetime_valid,h="function"==typeof(null===(a=n.expiry_date)||void 0===a?void 0:a.format)?n.expiry_date.format("YYYY-MM-DD"):void 0;y(f,c.WS.getSocket,{document_type:_,page_type:p,expiration_date:h,document_id:n.document_id||"",lifetime_valid:+(v&&!h),document_issuing_country:o}).then((function(n){u+=1,n.warning||n.error?(N=!0,w(ge),O(n.message||(n.error?n.error.message:(0,i.localize)("Failed"))),u<s&&t()):u<s?(d.push(n),t()):e(d)})).catch((function(e){r(e)}))}()}))).then((function(){N||(h?null==b||b():w(be))})).catch((function(e){w(ge),O(e.message)}))},goToCards:n,is_from_external:_,setIsCfdPoiCompleted:p}))}};var Ee=function(e){var t=e.onClick,n=e.title,a=e.description,o=e.icon;return r.createElement("div",{className:"manual-poi__card",onClick:t},r.createElement(l.Icon,{className:"manual-poi__card-icon",icon:o,size:64}),r.createElement("div",{className:"manual-poi__card-content"},r.createElement(l.Text,{as:"p",size:"xs",weight:"bold",color:"prominent"},n),r.createElement(l.Text,{as:"p",size:(0,c.isMobile)()?"xxxs":"xxs"},a)),r.createElement(l.Icon,{icon:"IcChevronRight",size:(0,c.isMobile)()?23:31}))};function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}var Se=function(e){var t=e.toggleDetail,n=e.documents;return r.createElement(r.Fragment,null,n.map((function(e,n){var a;return r.createElement(l.Card,{style:{margin:"1.6rem 0",height:"11.2rem"},key:null===(a=e.card)||void 0===a?void 0:a.icon,renderContent:function(){return r.createElement(Ee,we({onClick:function(){return t(n)}},e.card))}})})))},ze=n(4592),Oe=n(45587),Ne=n(69559),Ie=n(7575),je=["country_code","handlePOIforMT5Complete","manual","redirect_button","needs_poa","handleRequireSubmission","allow_poi_resubmission","handleViewComplete","onfido"];function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Ae=function(e){var t=e.country_code,n=e.handlePOIforMT5Complete,a=e.manual,u=e.redirect_button,d=e.needs_poa,m=e.handleRequireSubmission,f=e.allow_poi_resubmission,_=e.handleViewComplete,p=e.onfido,y=ke(e,je),v=Ce(r.useState(null),2),h=v[0],b=v[1],g=function(e){var t=e.country_code;return[{onfido_name:"Passport",card:{title:(0,i.localize)("Passport"),description:(0,i.localize)("Upload the page that contains your photo."),icon:"IcPoiPassport"},details:{fields:[{name:"document_id",label:(0,i.localize)("Passport number"),type:"text",required:!0},w({},C)],documents_title:(0,i.localize)("Next, upload the page of your passport that contains your photo."),documents:[{document_type:I.PASSPORT,pageType:j.FRONT,name:"passport",icon:"IcPassport",info:(0,i.localize)("Upload the page of your passport that contains your photo.")}]}},{onfido_name:"Driving Licence",card:{title:(0,i.localize)("Driving licence"),description:(0,i.localize)("Upload the front and back of your driving licence."),icon:"IcPoiDrivingLicence"},details:{fields_title:(0,i.localize)("First, enter your driving licence number and the expiry date."),fields:[{name:"document_id",label:(0,i.localize)("Driving licence number"),type:"text",required:!0},w({},C)],documents_title:(0,i.localize)("Next, upload the front and back of your driving licence."),documents:[{document_type:I.DRIVING_LICENCE,pageType:j.FRONT,name:"driving_licence_front",icon:"IcDrivingLicenceFront",info:(0,i.localize)("Upload the front of your driving licence.")},{document_type:I.DRIVING_LICENCE,pageType:j.BACK,name:"driving_licence_back",icon:"IcIdCardBack",info:(0,i.localize)("Upload the back of your driving licence.")}]}},{onfido_name:"National Identity Card",card:{title:(0,i.localize)("Identity card"),description:(0,i.localize)("Upload the front and back of your identity card."),icon:"IcPoiIdentityCard"},details:{fields_title:(0,i.localize)("First, enter your identity card number and the expiry date."),fields:[{name:"document_id",label:(0,i.localize)("Identity card number"),type:"text",required:!0},w({},C)],documents_title:(0,i.localize)("Next, upload the front and back of your identity card."),documents:[{document_type:I.NATIONAL_IDENTITY_CARD,pageType:j.FRONT,name:"identity_card_front",icon:"IcIdCardFront",info:(0,i.localize)("Upload the front of your identity card.")},{document_type:I.NATIONAL_IDENTITY_CARD,pageType:j.BACK,name:"identity_card_back",icon:"IcIdCardBack",info:(0,i.localize)("Upload the back of your identity card.")}]}}].concat(z("ng"===t?[{card:{title:(0,i.localize)("NIMC slip and proof of age"),description:(0,i.localize)("Upload both of these documents to prove your identity."),icon:"IcPoiNimcSlip"},details:{fields:[{name:"document_id",label:(0,i.localize)("NIMC slip number"),type:"text",required:!0}],documents_title:(0,i.localize)("Next, upload both of the following documents."),documents:[{document_type:I.NIMC_SLIP,lifetime_valid:!0,pageType:j.FRONT,name:"nimc_slip",icon:"IcPoiNimcSlipHorizontal",info:(0,i.localize)("Upload your NIMC slip.")},{document_type:I.BIRTH_CERTIFICATE,pageType:j.PHOTO,name:"birth_certificate_front",icon:"IcDop",info:(0,i.localize)("Upload your proof of age: birth certificate or age declaration document.")}]}}]:[]))}({country_code:t});if(a){if(a.status===s.Yy.pending)return r.createElement(ze.Z,{is_manual_upload:!0,needs_poa:d,redirect_button:u});if([s.Yy.rejected,s.Yy.suspected].includes(a.status)){if(!f)return r.createElement(Ne.Z,null)}else{if(a.status===s.Yy.verified)return r.createElement(Oe.Z,{needs_poa:d,redirect_button:u});if(a.status===s.Yy.expired)return r.createElement(Ie.Z,{redirect_button:u,handleRequireSubmission:m})}}if(null!==h){var x="ng"===t&&!function(e){var t=!1;return e.forEach((function(e){e.document_type===I.NIMC_SLIP&&(t=!0)})),t}(g[null!=h?h:0].details.documents)&&p&&p.submissions_left>0;return r.createElement(xe,Pe({is_onfido_supported:x,country_code_key:t,document:g[h],root_class:"manual-poi",onClickBack:function(){return b(null)},handlePOIforMT5Complete:n,handleComplete:_},y))}return r.createElement(l.Timeline,{className:o()("manual-poi",{"manual-poi--mobile":(0,c.isMobile)()}),disabled_items:[2]},r.createElement(l.Timeline.Item,{item_title:(0,i.localize)("Please upload one of the following documents:")},r.createElement(Se,{documents:g,toggleDetail:function(e){return b(e)}})),r.createElement(l.Timeline.Item,{item_title:(0,i.localize)("Upload your selfie")},r.createElement("div",null)))}},4592:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(57336).k},57336:(e,t,n)=>{n.d(t,{k:()=>m});var r=n(32735),a=n(68461),o=n(68722),i=n(44850),l=n(29644),c=n(42953),s=n(96612),u=n(40841),d=n.n(u),m=function(e){var t=e.needs_poa,n=e.redirect_button,u=e.is_from_external,m=e.is_manual_upload,f=void 0!==m&&m,_=r.useContext(o.PlatformContext).is_appstore,p=(0,i.localize)("Your documents were submitted successfully"),y=f?(0,i.localize)("Weâ€™ll review your documents and notify you of its status within 1 - 3 working days."):(0,i.localize)("Weâ€™ll review your documents and notify you of its status within 5 minutes."),v=(0,o.isNavigationFromP2P)()||(0,o.isNavigationFromDerivGO)();return t?r.createElement(s.Z,{message:p,icon:_?r.createElement(a.Icon,{icon:"IcPoiVerifiedDashboard",width:273,height:128}):r.createElement(a.Icon,{icon:"IcPoiVerified",size:128}),className:d()({"account-management-dashboard":_})},r.createElement(r.Fragment,null,r.createElement("div",{className:"account-management__text-container"},r.createElement(a.Text,{align:"center",size:"xs",as:_?"span":"p"},y),r.createElement(a.Text,{align:"center",size:"xs",as:_?"span":"p"},(0,i.localize)("You must also submit a proof of address."))),r.createElement(l.Z,null)),!u&&n):r.createElement(s.Z,{message:p,text:y,icon:_?r.createElement(a.Icon,{icon:"IcPoiVerifiedDashboard",width:273,height:128}):r.createElement(a.Icon,{icon:"IcPoiVerified",size:128}),className:d()({"account-management-dashboard":_})},!u&&(n||!v&&r.createElement(c.M,null)))}},45587:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(32735),a=n(68461),o=n(44850),i=n(46370),l=n(29644),c=function(e){var t=e.needs_poa,n=e.redirect_button,c=e.is_from_external,s=(0,o.localize)("Your proof of identity is verified");return t?r.createElement(i.Z,{message:s,icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128}),className:"account-management-dashboard",text:(0,o.localize)("To continue trading, you must also submit a proof of address.")},!c&&r.createElement(r.Fragment,null,r.createElement(l.Z,null))):r.createElement(i.Z,{message:s,icon:r.createElement(a.Icon,{icon:"IcPoaVerified",size:128,data_testid:"dt_IcPoaVerified"}),className:"account-management-dashboard"},!c&&n)};const s=c},19262:(e,t,n)=>{function r(e){var t={},n={};return Object.keys(e).forEach((function(r){var a=e[r];Array.isArray(a)&&("warn"===a[0]?t[r]=a[1]:"error"===a[0]&&(n[r]=a[1]))})),{warnings:t,errors:n}}n.d(t,{r:()=>r})},30830:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(32735),a=n(68461),o=n(44850);const i=function(e){var t=e.show_risk_modal,n=e.handleAcceptRisk,i=e.title,l=e.button_text,c=e.body_content,s=e.has_sub_header,u=void 0!==s&&s;return r.createElement(r.Fragment,null,r.createElement(a.DesktopWrapper,null,r.createElement(a.Modal,{width:"44rem",title:i,height:"41rem",is_open:t,className:"center-risk-modal",toggleModal:n,has_close_icon:!1},r.createElement(a.Modal.Body,null,r.createElement(a.Icon,{icon:"IcRedWarning",size:"63"}),r.createElement(a.Text,{as:"p",size:"xs",align:"center",line_height:"s",className:"risk-acceptance__text"},c)),r.createElement(a.Modal.Footer,null,r.createElement(a.Button,{type:"button",large:!0,text:null!=l?l:(0,o.localize)("OK"),primary:!0,onClick:n})))),r.createElement(a.MobileWrapper,null,r.createElement(a.MobileDialog,{visible:t,title:u?(0,o.localize)("Trading Experience Assessment"):i,portal_element_id:"modal_root",has_close_icon:!1},r.createElement(a.Modal.Body,{className:"risk-tolerance-modal"},u?r.createElement(a.Text,{size:"xs",line_height:"s",weight:"bold",as:"p",className:"risk-tolerance-modal__title"},i,r.createElement("div",{className:"risk-tolerance-modal__title--separator"})):null,r.createElement("div",{className:"risk-tolerance-modal__wrapper"},r.createElement(a.Icon,{icon:"IcRedWarning",size:"65"}),r.createElement(a.Text,{as:"p",size:"xs",align:"center",line_height:"l",className:"risk-acceptance__text"},c))),r.createElement(a.Modal.Footer,{className:"risk-tolerance-modal__footer"},r.createElement(a.Button,{type:"button",large:!0,text:null!=l?l:(0,o.localize)("OK"),primary:!0,onClick:n})))))}},42176:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(40841),a=n.n(r),o=n(32735),i=n(59472),l=n(61055),c=n(68461),s=n(44850);const u=function(e){var t=e.disabled_items,n=e.text,r=e.list,a=e.onChange,i=e.values,s=e.form_control,u=e.setEnableNextSection;return o.useEffect((function(){u(!!i[s])}),[s,u,i]),o.createElement("div",{className:"trading-assessment__wrapper__question"},o.createElement(c.Text,{as:"h1",color:"prominent",weight:"bold",size:"xs"},n),o.createElement(l.Field,{name:s},(function(){return o.createElement(c.RadioGroup,{className:"trading-assessment__wrapper__question--radio-group",name:s,should_wrap_items:!0,required:!0,selected:i[s],onToggle:function(e){a(e),u(!0)}},r.map((function(e){return o.createElement(c.RadioGroup.Item,{className:"trading-assessment__wrapper__question--radio-group--item",key:e.value,label:null==e?void 0:e.text,value:null==e?void 0:e.value,disabled:t.includes(s)})})))})))};function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const m=function(e){var t=e.disabled_items,n=e.item_list,r=e.onChange,i=e.values,u=e.setFieldValue,m=e.setEnableNextSection;o.useEffect((function(){f()}),[i]);var f=function(){i&&m(Boolean(i.cfd_experience&&i.cfd_frequency&&i.trading_experience_financial_instruments&&i.trading_frequency_financial_instruments))};return o.createElement("div",{className:"trading-assessment__wrapper__dropdown"},n.map((function(e){return o.createElement(l.Field,{name:e.form_control,key:e.form_control},(function(n){var l=n.field,m=n.meta,f="trading_frequency_financial_instruments"===e.form_control&&(null==e?void 0:e.question_text.length)>90;return o.createElement(o.Fragment,null,o.createElement(c.DesktopWrapper,null,o.createElement(c.Dropdown,d({},l,{classNameDisplay:a()({"trading-frequency--field":f}),is_align_text_left:!0,name:null==e?void 0:e.form_control,placeholder:null==e?void 0:e.question_text,list:null==e?void 0:e.answer_options,onChange:function(t){return r(t,e.form_control,u)},value:i[e.form_control],disabled:t.includes(e.form_control),error:m.touched&&m.error}))),o.createElement(c.MobileWrapper,null,o.createElement(c.Text,{as:"h1",color:"prominent",weight:"bold",size:"xs"},null==e?void 0:e.question_text),o.createElement(c.SelectNative,d({},l,{placeholder:(0,s.localize)("Please select"),label:(0,s.localize)("Please select"),name:null==e?void 0:e.form_control,list_items:null==e?void 0:e.answer_options,onChange:function(t){r(t,e.form_control,u)},value:i[e.form_control],hide_top_placeholder:!0,disabled:t.includes(e.form_control),error:m.touched&&m.error}))))}))})))};var f=n(44012),_=n(14746),p=n(93493);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const E=(0,i.observer)((function(e){var t,n=e.class_name,r=e.disabled_items,d=e.form_value,y=e.onSubmit,v=e.onCancel,x=e.should_move_to_next,E=e.setSubSectionIndex,w=e.is_independent_section,S=e.is_mobile,z=(0,i.useStore)().traders_hub.is_eu_user,O=(0,f.h)(),N=parseInt(null!==(t=localStorage.getItem("current_question_index"))&&void 0!==t?t:"0"),I=g(o.useState(!1),2),j=I[0],P=I[1],C=g(o.useState({current_question_index:0,current_question:O[N]}),2),T=C[0],k=C[1],A=g(o.useState(h({},d)),2),L=A[0],D=A[1],F=O.length-1,M=!w||0!==T.current_question_index;o.useEffect((function(){k((function(e){return h(h({},e),{},{current_question_index:N||0,current_question:N?O[N]:O[e.current_question_index]})})),w||E(N),D(d)}),[]),o.useEffect((function(){x&&q()}),[x]);var q=function(){"No"===L.risk_tolerance?y(L,null,!0):T.current_question_index+1<O.length&&k((function(e){var t=e.current_question_index+1;return localStorage.setItem("current_question_index",String(t)),w||E(t),{current_question_index:t,current_question:O[t]}}))},Z=function(e,t,n){"function"==typeof e.persist&&e.persist(),n(t,e.target.value),D((function(n){return h(h({},n),{},b({},t,e.target.value))}))};return o.createElement("div",{className:a()("trading-assessment",n)},z?o.createElement("div",{className:"details-form__banner-container"},o.createElement(p.Z,{icon:"IcAlertWarning",message:(0,s.localize)("To assess your trading experience and if our products are suitable for you. Please provide accurate and complete answers, as they may affect the outcome of this assessment."),title:(0,s.localize)("Why do we collect this?")})):o.createElement(c.Text,{as:"p",color:"prominent",size:"xxs",className:"trading-assessment__side-note"},o.createElement(s.Localize,{i18n_default_text:"In providing our services to you, we are required to obtain information from you in order to assess whether a given product or service is appropriate for you."})),o.createElement(l.Formik,{initialValues:h({},d),validate:function(e){var t={};if(e.risk_tolerance||"risk_tolerance"!==T.current_question.section||(t.risk_tolerance="error"),e.source_of_experience||"source_of_experience"!==T.current_question.section||(t.source_of_experience="error"),"trading_experience"===T.current_question.section){["cfd_experience","cfd_frequency","trading_experience_financial_instruments","trading_frequency_financial_instruments"].forEach((function(n){e[n]||(t[n]=(0,s.localize)("Please select an option"))}))}if("trading_knowledge"===T.current_question.section){["cfd_trading_definition","leverage_impact_trading","leverage_trading_high_risk_stop_loss","required_initial_margin"].forEach((function(n){e[n]||T.current_question.form_control!==n||(t[n]="error")}))}return t},onSubmit:function(e,t){var n,r=t.setTouched;j&&(n=e,Object.values(n).every((function(e){return Boolean(e)}))&&N===F?y(e):(r({}),q()))}},(function(e){var t=e.errors,n=e.setFieldValue,i=e.values,d=e.setErrors,f=e.touched,p=T.current_question,y=p.question_text,h=p.form_control,b=p.answer_options,g=p.questions,x=null==g?void 0:g.some((function(e){return e.question_text.length>90})),z=Object.keys(i).some((function(e){return!!t[e]&&!!f[e]}));return o.createElement(o.Fragment,null,o.createElement(c.Text,{weight:"bold",size:"xs",className:"trading-assessment__question-counter"},o.createElement(s.Localize,{i18n_default_text:"Question {{ current }} of {{ total }}",values:{current:T.current_question_index+1,total:F+1}}),o.createElement(c.Text,{color:"loss-danger",size:"xxs"},z&&o.createElement(s.Localize,{i18n_default_text:"* This is required"}))),o.createElement("section",{className:"trading-assessment__form"},o.createElement(l.Form,{noValidate:!0,className:"trading-assessment__form--layout"},o.createElement(_.Z,{should_recollect_inputs_names:j}),o.createElement("div",{className:a()("trading-assessment__form--fields",{"field-layout":x})},null!=g&&g.length?o.createElement(m,{item_list:g,onChange:Z,values:i,setFieldValue:n,setEnableNextSection:P,disabled_items:null!=r?r:[]}):o.createElement(u,{text:y,list:null!=b?b:[],onChange:function(e){Z(e,h,n)},values:i,form_control:h,setEnableNextSection:P,disabled_items:null!=r?r:[]})),o.createElement(c.Modal.Footer,{has_separator:!0,is_bypassed:S,className:"trading-assessment__existing_btn "},o.createElement(c.Button.Group,{className:"trading-assessment__btn-group"},M&&o.createElement(c.Button,{has_effect:!0,onClick:function(){d({}),T.current_question_index-1>=0?k((function(e){var t=e.current_question_index-1;return localStorage.setItem("current_question_index",String(t)),w||E(t),{current_question_index:t,current_question:O[t]}})):v(L)},text:(0,s.localize)("Previous"),type:"button",secondary:!0,large:!0,className:"trading-assessment__btn-group--btn"}),o.createElement(c.Button,{has_effect:!0,text:(0,s.localize)("Next"),large:!0,primary:!0,className:"trading-assessment__btn-group--btn",name:"Next"}))))))})))}))},86504:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(59472),a=n(32735),o=n(42176);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(0,r.observer)((function(e){var t=e.disabled_items,n=e.goToNextStep,i=e.goToPreviousStep,c=e.onSave,s=e.onCancel,m=e.onSubmit,f=e.getCurrentStep,_=e.value,p=e.setSubSectionIndex,y=(0,r.useStore)().ui.is_mobile;return a.createElement(o.Z,{form_value:_,onSubmit:function(e,t,r){var a=u({},e);r&&(a=Object.entries(a).reduce((function(e,t){var n=l(t,2),r=n[0],a=n[1];return a?u(u({},e),{},d({},r,a)):u({},e)}),{})),m(f()-1,a,null,n,r)},onCancel:function(e){var t=f()-1;c(t,e),s(t,i)},setSubSectionIndex:p,disabled_items:t,should_move_to_next:!1,is_independent_section:!1,is_mobile:y})}))},47172:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(32735),a=n(68461),o=n(68722),i=n(44850),l=n(56149);const c=function(e,t,n,c,s){var u=r.createElement(a.Text,{key:0,weight:"bold",size:"xxxs",color:"warning"});switch(e){case o.MT5_ACCOUNT_STATUS.PENDING:return{text:r.createElement(i.Localize,{i18n_default_text:"<0>Pending verification</0>",components:[r.createElement(a.Text,{key:0,weight:"bold",size:"xxxs",color:"var(--status-warning)"})]}),icon:"IcAlertWarning"};case o.MT5_ACCOUNT_STATUS.FAILED:return{text:r.createElement(i.Localize,{i18n_default_text:"<0>Verification failed.</0> <1>Why?</1>",components:[r.createElement(a.Text,{key:0,weight:"bold",size:"xxxs",color:"var(--status-danger)"}),r.createElement(a.Text,{key:1,className:"link-verification-failed",onClick:function(){null==t||t(null!=n?n:"")}})]}),icon:"IcRedWarning"};case o.MT5_ACCOUNT_STATUS.NEEDS_VERIFICATION:var d=(null==s?void 0:s.poi_status)===o.AUTH_STATUS_CODES.NONE?o.routes.proof_of_identity:o.routes.proof_of_address;return{text:r.createElement(i.Localize,{i18n_default_text:"<0>Needs verification.</0><1>Verify now</1>",components:[r.createElement(a.Text,{key:0,weight:"bold",size:"xxxs",color:"var(--status-info)"}),c?r.createElement(a.Text,{key:1,className:"link-need-verification",onClick:function(){return null==c?void 0:c(!0)}}):r.createElement(l.Link,{key:1,className:"link-need-verification",to:d})]}),icon:"IcAlertInfo"};case o.MT5_ACCOUNT_STATUS.MIGRATED_WITH_POSITION:return{text:r.createElement(i.Localize,{i18n_default_text:"<0>No new positions</0>",components:[u]}),icon:"IcAlertWarning"};case o.MT5_ACCOUNT_STATUS.MIGRATED_WITHOUT_POSITION:return{text:r.createElement(i.Localize,{i18n_default_text:"<0>Account closed</0>",components:[u]}),icon:"IcAlertWarning"};default:return{text:"",icon:""}}}},21250:(e,t,n)=>{n.d(t,{$J:()=>m,FI:()=>d,N7:()=>_,O:()=>f});var r=n(32735),a=n(68722),o=n(44850),i=n(70749),l=n(45365),c=n(6771),s=n(46417),u=function(){return window.LC_API.open_chat_window()},d=r.createElement(o.Localize,{i18n_default_text:"Sorry, an internal error occurred. Hit the above checkbox to try again."}),m=r.createElement(o.Localize,{i18n_default_text:"An account with these details already exists. Please make sure the details you entered are correct as only one real account is allowed per client. If this is a mistake, contact us via <0>live chat</0>.",components:[r.createElement("span",{key:0,className:"link link--orange",onClick:u,onKeyDown:u})]}),f=r.createElement(o.Localize,{i18n_default_text:"This document number was already submitted for a different account. It seems you have an account with us that doesn't need further verification. Please contact us via <0>live chat</0> if you need help.",components:[r.createElement("span",{key:0,className:"link link--orange",onClick:u,onKeyDown:u})]}),_=function(e,t,n,u){var d=e?"identity document":(0,s.Ah)(t,n);switch(u){case a.IDV_ERROR_STATUS.NameMismatch.code:return{required_fields:["first_name","last_name"],side_note_image:r.createElement(l.Z,null),inline_note_text:r.createElement(o.Localize,{i18n_default_text:"To avoid delays, enter your <0>name</0> exactly as it appears on your {{document_name}}.",components:[r.createElement("strong",{key:0})],values:{document_name:d}}),failure_message:a.IDV_ERROR_STATUS.NameMismatch.message};case a.IDV_ERROR_STATUS.DobMismatch.code:return{required_fields:["date_of_birth"],side_note_image:r.createElement(c.Z,null),inline_note_text:r.createElement(o.Localize,{i18n_default_text:"To avoid delays, enter your <0>date of birth</0> exactly as it appears on your {{document_name}}.",components:[r.createElement("strong",{key:0})],values:{document_name:d}}),failure_message:a.IDV_ERROR_STATUS.DobMismatch.message};default:return{required_fields:["first_name","last_name","date_of_birth"],side_note_image:r.createElement(i.Z,null),inline_note_text:r.createElement(o.Localize,{i18n_default_text:"To avoid delays, enter your <0>name</0> and <0>date of birth</0> exactly as they appear on your {{document_name}}.",components:[r.createElement("strong",{key:0})],values:{document_name:d}}),failure_message:(0,a.getIDVError)(u)}}}},23115:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(68722),a=n(44850),o=n(44012);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={supported_in:["maltainvest"]};const d=function(e,t){var n=e.real_account_signup_target,i=e.financial_assessment,l=e.account_settings,s=e.setSubSectionIndex,d=function(e){var t,n,r,a,o,i,l,s,d,m;return{risk_tolerance:c(c({},u),{},{default_value:null!==(t=null==e?void 0:e.risk_tolerance)&&void 0!==t?t:""}),source_of_experience:c(c({},u),{},{default_value:null!==(n=null==e?void 0:e.source_of_experience)&&void 0!==n?n:""}),cfd_experience:c(c({},u),{},{default_value:null!==(r=null==e?void 0:e.cfd_experience)&&void 0!==r?r:""}),cfd_frequency:c(c({},u),{},{default_value:null!==(a=null==e?void 0:e.cfd_frequency)&&void 0!==a?a:""}),trading_experience_financial_instruments:c(c({},u),{},{default_value:null!==(o=null==e?void 0:e.trading_experience_financial_instruments)&&void 0!==o?o:""}),trading_frequency_financial_instruments:c(c({},u),{},{default_value:null!==(i=null==e?void 0:e.trading_frequency_financial_instruments)&&void 0!==i?i:""}),cfd_trading_definition:c(c({},u),{},{default_value:null!==(l=null==e?void 0:e.cfd_trading_definition)&&void 0!==l?l:""}),leverage_impact_trading:c(c({},u),{},{default_value:null!==(s=null==e?void 0:e.leverage_impact_trading)&&void 0!==s?s:""}),leverage_trading_high_risk_stop_loss:c(c({},u),{},{default_value:null!==(d=null==e?void 0:e.leverage_trading_high_risk_stop_loss)&&void 0!==d?d:""}),required_initial_margin:c(c({},u),{},{default_value:null!==(m=null==e?void 0:e.required_initial_margin)&&void 0!==m?m:""})}}(i);return{header:{active_title:(0,a.localize)("Complete your trading assessment"),title:(0,a.localize)("Trading assessment")},body:t,form_value:(0,r.getDefaultFields)(n,d),props:{validate:(0,r.generateValidationFunction)(n,d),disabled_items:null==l?void 0:l.immutable_fields,setSubSectionIndex:s},sub_step_count:(0,o.h)().length}}},1241:(e,t,n)=>{n.d(t,{H:()=>r});var r=Object.freeze({DUPLICATE_ACCOUNT:"DuplicateAccount",CLAIMED_DOCUMENT:"ClaimedDocument"})},18410:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(44850),a=n(32735),o=function(e){var t={title:a.createElement(r.Localize,{i18n_default_text:"The document must be recent and include your name and address:"}),descriptions:[{id:"signed_document",value:a.createElement(r.Localize,{i18n_default_text:"The document must be up-to-date and signed by the issuance authority."})},{id:"contains_letterhead",value:a.createElement(r.Localize,{i18n_default_text:"The document must contain a letterhead."})},{id:"invalid_rejected",value:a.createElement(r.Localize,{i18n_default_text:"Invalid or incomplete documents shall be rejected."})}]},n={title:a.createElement(r.Localize,{i18n_default_text:"We accept only these types of documents as proof of your address. The document must be recent (issued within last 6 months) and include your name and address:"}),descriptions:[{id:"utility_bill",value:a.createElement(r.Localize,{i18n_default_text:"Utility bill: electricity, water, gas, or landline phone bill."})},{id:"financial_legal_government_document",value:a.createElement(r.Localize,{i18n_default_text:"Financial, legal, or government document: recent bank statement, affidavit, or government-issued letter."})},{id:"home_rental_agreement",value:a.createElement(r.Localize,{i18n_default_text:"Home rental agreement: valid and current agreement."})}]};return"poinc"===e?t:"poa"===e?n:{title:"",descriptions:[]}}},47446:(e,t,n)=>{n.d(t,{n:()=>a});var r=n(44850),a=function(e){return{ke:{alien_card:{new_display_name:"",example_format:"123456"},national_id:{new_display_name:"",example_format:"12345678"},passport:{new_display_name:"",example_format:"A12345678"}},za:{national_id:{new_display_name:(0,r.localize)("National ID"),example_format:"1234567890123"},national_id_no_photo:{new_display_name:(0,r.localize)("National ID (No Photo)"),example_format:"1234567890123"}},ng:{bvn:{new_display_name:(0,r.localize)("Bank Verification Number"),example_format:"12345678901"},cac:{new_display_name:(0,r.localize)("Corporate Affairs Commission"),example_format:"12345678"},drivers_license:{new_display_name:"",example_format:"ABC123456789"},nin:{new_display_name:(0,r.localize)("National Identity Number"),example_format:"12345678901"},nin_slip:{new_display_name:(0,r.localize)("National Identity Number Slip"),example_format:"12345678901"},tin:{new_display_name:(0,r.localize)("Taxpayer identification number"),example_format:"12345678-1234"},voter_id:{new_display_name:(0,r.localize)("Voter ID"),example_format:"1234567890123456789"}},gh:{drivers_license:{new_display_name:"",example_format:"B1234567"},national_id:{new_display_name:(0,r.localize)("National ID"),example_format:"GHA-123456789-1"},passport:{new_display_name:(0,r.localize)("Passport"),example_format:"G1234567"},ssnit:{new_display_name:(0,r.localize)("Social Security and National Insurance Trust"),example_format:"C123456789012"},voter_id:{new_display_name:(0,r.localize)("Voter ID"),example_format:"01234567890"}},br:{cpf:{new_display_name:(0,r.localize)("CPF"),example_format:"123.456.789-12"}},ug:{national_id:{new_display_name:(0,r.localize)("National ID"),example_format:"CM12345678PE1D"},national_id_no_photo:{new_display_name:(0,r.localize)("National ID (No Photo)"),example_format:"CM12345678PE1D",additional_document_example_format:"0123456789"}},zw:{national_id:{new_display_name:(0,r.localize)("National ID"),example_format:"081234567F53"}},cl:{national_id:{example_format:"123456789"}},ar:{dni:{example_format:"12345678"}},mx:{curp:{example_format:"ABCD123456HEFGIJ00"}},id:{nik:{example_format:"1234567890123456"}},in:{aadhaar:{example_format:"123456789012",additional_document_example_format:"ABCDE1234F"},drivers_license:{example_format:"AB1234567890123"},epic:{example_format:"ABC1234567"},pan:{example_format:"ABCDE1234F"},passport:{example_format:"A1234567",additional_document_example_format:"AB1234567890123"}},pe:{national_id:{example_format:"12345678"}},vn:{national_id:{example_format:"12345678901"}}}[e]}},53100:(e,t,n)=>{n.d(t,{P:()=>r});n(32735),n(44850);var r={ID:"id_ID",EN:"en_US"}},44012:(e,t,n)=>{n.d(t,{h:()=>a});var r=n(44850),a=function(){return[{question_text:(0,r.localize)("Do you understand that you could potentially lose 100% of the money you use to trade?"),section:"risk_tolerance",answer_options:[{text:(0,r.localize)("Yes"),value:"Yes"},{text:(0,r.localize)("No"),value:"No"}],form_control:"risk_tolerance",field_type:"radio"},{question_text:(0,r.localize)("How much knowledge and experience do you have in relation to online trading?"),section:"source_of_experience",form_control:"source_of_experience",answer_options:[{text:(0,r.localize)("I have an academic degree, professional certification, and/or work experience related to financial services."),value:"I have an academic degree, professional certification, and/or work experience."},{text:(0,r.localize)("I trade forex CFDs and other complex financial instruments regularly on other platforms."),value:"I trade forex CFDs and other complex financial instruments."},{text:(0,r.localize)("I have attended seminars, training, and/or workshops related to trading."),value:"I have attended seminars, training, and/or workshops."},{text:(0,r.localize)("I am interested in trading but have very little experience."),value:"I have little experience."},{text:(0,r.localize)("I have no knowledge and experience in trading at all."),value:"I have no knowledge."}],field_type:"radio"},{section:"trading_experience",questions:[{question_text:(0,r.localize)("How much experience do you have in CFD trading?"),field_type:"dropdown",form_control:"cfd_experience",answer_options:[{text:(0,r.localize)("No experience"),value:"No experience"},{text:(0,r.localize)("Less than a year"),value:"Less than a year"},{text:(0,r.localize)("1 - 2 years"),value:"1 - 2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},{question_text:(0,r.localize)("How many CFD trades have you placed in the past 12 months?"),field_type:"dropdown",form_control:"cfd_frequency",answer_options:[{text:(0,r.localize)("None"),value:"No transactions in the past 12 months"},{text:"1 - 5",value:"1 - 5 transactions in the past 12 months"},{text:"6 - 10",value:"6 - 10 transactions in the past 12 months"},{text:"11 - 39",value:"11 - 39 transactions in the past 12 months"},{text:(0,r.localize)("40 or more"),value:"40 transactions or more in the past 12 months"}]},{question_text:(0,r.localize)("How much experience do you have with other financial instruments?"),field_type:"dropdown",form_control:"trading_experience_financial_instruments",answer_options:[{text:(0,r.localize)("No experience"),value:"No experience"},{text:(0,r.localize)("Less than a year"),value:"Less than a year"},{text:(0,r.localize)("1 - 2 years"),value:"1 - 2 years"},{text:(0,r.localize)("Over 3 years"),value:"Over 3 years"}]},{question_text:(0,r.localize)("How many trades have you placed with other financial instruments in the past 12 months?"),form_control:"trading_frequency_financial_instruments",field_type:"dropdown",answer_options:[{text:(0,r.localize)("None"),value:"No transactions in the past 12 months"},{text:"1 - 5",value:"1 - 5 transactions in the past 12 months"},{text:"6 - 10",value:"6 - 10 transactions in the past 12 months"},{text:"11 - 39",value:"11 - 39 transactions in the past 12 months"},{text:(0,r.localize)("40 or more"),value:"40 transactions or more in the past 12 months"}]}]},{question_text:(0,r.localize)("In your understanding, CFD trading allows you to"),section:"trading_knowledge",form_control:"cfd_trading_definition",field_type:"radio",answer_options:[{text:(0,r.localize)("Purchase commodities or shares of a company."),value:"Purchase shares of a company or physical commodities."},{text:(0,r.localize)("Place a position on the price movement of an asset where the outcome is a fixed return or nothing at all."),value:"Place a bet on the price movement."},{text:(0,r.localize)("Speculate on the price movement of an asset without actually owning it."),value:"Speculate on the price movement."},{text:(0,r.localize)("Make a long-term investment for a guaranteed profit."),value:"Make a long-term investment."}]},{question_text:(0,r.localize)("How does leverage affect CFD trading?"),section:"trading_knowledge",form_control:"leverage_impact_trading",field_type:"radio",answer_options:[{text:(0,r.localize)("Leverage helps to mitigate risk."),value:"Leverage is a risk mitigation technique."},{text:(0,r.localize)("Leverage prevents you from opening large positions."),value:"Leverage prevents you from opening large positions."},{text:(0,r.localize)("Leverage guarantees profits."),value:"Leverage guarantees profits."},{text:(0,r.localize)("Leverage lets you open large positions for a fraction of trade value, which may result in increased profit or loss."),value:"Leverage lets you open larger positions for a fraction of the trade's value."}]},{question_text:(0,r.localize)("Leverage trading is high-risk, so it's a good idea to use risk management features such as stop loss. Stop loss allows you to"),section:"trading_knowledge",form_control:"leverage_trading_high_risk_stop_loss",field_type:"radio",answer_options:[{text:(0,r.localize)("Cancel your trade at any time within a specified timeframe."),value:"Cancel your trade at any time within a chosen timeframe."},{text:(0,r.localize)("Close your trade automatically when the loss is equal to or more than a specified amount, as long as there is adequate market liquidity."),value:"Close your trade automatically when the loss is more than or equal to a specific amount."},{text:(0,r.localize)("Close your trade automatically when the profit is equal to or more than a specified amount, as long as there is adequate market liquidity."),value:"Close your trade automatically when the profit is more than or equal to a specific amount."},{text:(0,r.localize)("Make a guaranteed profit on your trade."),value:"Make a guaranteed profit on your trade."}]},{question_text:(0,r.localize)("When are you required to pay an initial margin?"),section:"trading_knowledge",form_control:"required_initial_margin",field_type:"radio",answer_options:[{text:(0,r.localize)("When opening a leveraged CFD trade."),value:"When opening a Leveraged CFD trade."},{text:(0,r.localize)("When trading multipliers."),value:"When trading Multipliers."},{text:(0,r.localize)("When buying shares of a company."),value:"When buying shares of a company."},{text:(0,r.localize)("All of the above."),value:"All of the above."}]}]}}}]);
//# sourceMappingURL=core.main~e659f2cf.6ccc9f8d4ccfbd1d06ff.js.map