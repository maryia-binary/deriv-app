{"version":3,"file":"bot/js/bot.bot-web-ui-app.b7210316affa9b062b32.js","mappings":"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B,2BACA,OACA,gCACA,qBACA,IACA,QACA,iCACA,qBACA,IACA,SACA,gCACA,qBACA,IACA,IAEA,6CACA,gCACA,qBACA,IAEA,2BACA,MACA,qBACA,IACA,OACA,qBACA,qBACA,IACA,QACA,qBACA,KAEA,iDACA,mBACA,8BACA,IAEA,iCACA,sCACA,IAEA,gBACA,iBACA,oBACA,sBACA,kBACA,IAGA,4BACA,sBACA,eACA,gBACA,IAEA,sBACA,iBACA,sBACA,kBACA,IAEA,kBACA,+BACA,sBACA,oBACA,sBACA,IAEA,0BACA,qBACA,0BACA,6BACA,yBACA,IAEA,qCACA,oBACA,qBACA,0BACA,yBACA,6BACA,8BACA,iCACA,IAEA,wDACA,qBACA,IAEA,8BACA,sBACA,IAEA,2BACA,sBACA,eACA,gBACA,cACA,aACA,sBACA,mBACA,IAEA,0BACA,qBACA,0BACA,6BACA,yBACA,IAEA,0BACA,iBACA,sBACA,UACA,WACA,IAIA,iDACA,qBACA,IAEA,6BACA,iBACA,sBACA,UACA,WACA,YACA,aACA,gCACA,eACA,IAEA,uBACA,oBACA,6BACA,sBACA,kBACA,gBACA,mBACA,gCACA,oBACA,0BACA,sBACA,mBACA,IAEA,wBACA,mBACA,WACA,UACA,iBACA,iBACA,qBACA,sBAAqB,sCACU3kD,QAAQkC,QAAQ0iD,eAAc,KAC7D,gBACA,6BACA,mBACA,IAEA,4BACA,qBACA,kBACA,IAEA,0BACA,sBACA,WACA,UACA,eACA,gBACA,eACA,6BACA,yBACA,IAEA,2BACA,yBACA,eACA,cACA,eACA,sBACA,iBACA,qBACA,8BACA,mBACA,IAEA,gCAA+B,sCACA5kD,QAAQkC,QAAQ2iD,YAAW,KAC1D,IAEA,kCAAiC,sCACF7kD,QAAQkC,QAAQ2iD,YAAW,KAC1D,IAEA,iCACA,cACA,eACA,iBACA,IAEA,gCACA,yBACA,eACA,cACA,eACA,IAEA,yBACA,yBACA,eACA,cACA,eACA,gBACA,eACA,sBACA,wCACA,kBACA,iBACA,0CACA,mBACA,oBACA,mBACA,8CACA,IAEA,+BACA,mBACA,cACA,eACA,qBACA,IAEA,gCACA,8CACA,8CACA,IAEA,cACA,yBACA,0BACA,+BACA,yBACA,IAEA,iBACA,4BACA,2BACA,mCACA,yBACA,IAEA,oBACA,mBACA,oBACA,qBACA,kBACA,yBACA,sBACA,mBACA,IAEA,qBACA,qBACA,cACA,IAEA,qBACA,qBACA,cACA,IAEA,uBACA,gBACA,mBACA,IAEA,sCACA,cACA,gBACA,qBACA,IAEA,iBACA,uBAEA,IAEA,kCACA,mBACA,qBACA,IAEA,uCACA,iBACA,IAEA,sBAEA,gDACA,gBACA,wBACA,qBACA,IAEA,qBAEA,kDACA,oBACA,4BACA,yBACA,IAGA,6BAEA,kDACA,oBACA,4BACA,yBACA,IAIA,+CAEA,kDACA,oBACA,4BACA,yBACA,IAEA,2CACA,kDACA,IAEA,iDACA,wBACA,IAEA,0BACA,kDACA,IAEA,wBACA,kDACA,oBACA,4BACA,IAEA,iCACA,uCACA,qBACA,uBACA,IAEA,kCACA,IAEA,kCACA,oBACA,sBACA,IAEA,yCACA,gBACA,IAEA,iBACA,iBACA,wBACA,iCACA,uBACA,wBACA,sBACA,oBACA,0BACA,IAEA,0BACA,mBACA,IAEA,iCACA,wBACA,IAEA,gCACA,8BACA,+BAEA,IAEA,+CACA,+BACA,IAEA,yBACA,yCACA,IAEA,uBACA,sBACA,IACA,mBACA,sBACA,eACA,IACA,yBACA,cACA,uBACA,IAEA,mCACA,mBACA,IAEA,sCACA,sBACA,IAEA,+BACA,qBACA,IAEA,+BACA,eACA,mBACA,IAEA,wBACA,mBACA,IAEA,kCACA,cACA,IAEA,4BACA,mBACA,iBACA,qBACA,IAMA,kGACA,qBACA,0BACA,6BACA,mBACA,IAEA,mBACA,iBACA,IAEA,8CACA,kBACA,IAEA,sBACA,mBACA,IAEA,iCACA,8BACA,eACA,IAEA,sBACA,cACA,gBACA,qBACA,IAEA,uBACA,cACA,IAEA,wBACA,aACA,cACA,IAEA,iCACA,sBACA,cACA,IAEA,wBACA,iBACA,mBACA,oBACA,IAEA,0BACA,qBACA,mBACA,IAEA,iCACA,cACA,IAEA,gCACA,cACA,IAEA,uCACA,qBACA,IAEA,wCACA,iBACA,mBACA,IAEA,2CACA,gBACA,qBACA,IAEA,4BACA,6BACA,aACA,cACA,aACA,gBACA,gBACA,kBACA,oBACA,IAEA,8BACA,mBACA,cACA,gBACA,IAEA,iDACA,iBACA,IAEA,4BACA,cACA,gBACA,qBACA,IAEA,yDACA,gBACA,IAIA,iCACA,sBACA,IAEA,wBACA,6BACA,sBACA,IAEA,wBACA,iBACA,IAEA,0BACA,qBACA,IAEA,mCACA,mBACA,qBACA,IAEA,iCACA,cACA,IAEA,0BACA,iBACA,oBACA,IAEA,wBAEA,mBACA,oBACA,IAEA,4BACA,6BACA,aACA,cACA,cACA,gBACA,oBACA,IAEA,4BACA,qBACA,qBACA,IAEA,4BACA,qBACA,qBACA,IAEA,sBACA,gBAEA,mBACA,gBACA,aACA,iBACA,0BACA,eACA,sBACA,uBACA,oBACA,IAEA,2BACA,mBAEA,IAEA,8BACA,cACA,gBACA,mBACA,IAEA,6BACA,wBACA,oBACA,IAEA,mCACA,eACA,IAEA,4BACA,eACA,IAEA,2DACA,sBACA,iBACA,IAEA,gCACA,cACA,IAEA,4BACA,2BACA,IAEA,6DACA,kCACA,gCACA,IAEA,uBACA,cACA,IAIA,2CACA,cACA,IAEA,4EACA,iDACA,cACA,IAEA,yBACA,oBACA,IAEA,wBAAuB,kBACZ7kD,QAAQkC,QAAQ4iD,OAAOC,SAAQ,KAC1C,mBAAkB,gBACT/kD,QAAQkC,QAAQ4iD,OAAOE,UAAS,KACzC,IAEA,6BACA,gBACA,mBACA,cACA,IAEA,4BACA,gBACA,mBACA,wBACA,cACA,mBACA,IAEA,2BACA,uBACA,IAEA,uBACA,gBACA,mBACA,uBACA,IAEA,uBACA,cACA,sBACA,IAEA,sBACA,gBACA,mBACA,yBACA,wBACA,IAEA,wBACA,sBACA,oBACA,IAEA,yBACA,yBACA,IAEA,2BACA,8CACA,IAGA,mEACA,gEACA,4EACA,IAGA,uBACA,qCACA,8BACA,uBACA,oBACA,sBAEA,eACA,4CACA,IAEA,qBACA,kBACA,IAEA,2BACA,iBACA,IAEA,oBACA,gBACA,qBACA,sBACA,sBACA,uBACA,IAEA,2BACA,eACA,yBACA,IAEA,8BACA,gBACA,yBACA,IAEA,kDACA,oBACA,IAEA,oDACA,6BACA,IAEA,0BACA,oCACA,aACA,iBACA,IAEA,oCACA,mCACA,YACA,kBACA,iBACA,IAEA,qBACA,iDACA,gBACA,0BACA,eACA,IAEA,8BACA,mCACA,IAEA,8BACA,iCACA,IAEA,yBACA,mCACA,IAEA,mDACA,oCACA,IAEA,mDACA,kCACA,IAEA,8CACA,oCACA,IAEA,wBACA,8CACA,mCACA,IAEA,sBACA,mBAEA,mBACA,kBACA,0BACA,IAEA,4CACA,kDACA,IAEA,2CACA,eACA,IAEA,gDACA,eACA,gBACA,gBACA,sBACA,iBACA,uBACA,uBACA,IAEA,mEACA,eACA,gBACA,aACA,sBACA,2BACA,uBACA,qDACA,kDACA,6CACA,IAEA,uBACA,oBACA,iBACA,gBACA,eACA,sBACA,8BACA,oBACA,mBACA,IAEA,8BAEA,sBACA,8BACA,eACA,IAEA,kCACA,qBACA,IAEA,gCACA,qBACA,IAEA,4BACA,cACA,sBACA,eACA,IAEA,+BAEA,sBACA,sBACA,wBACA,IAgBA,iCACA,oBACA,qCACA,uBACA,qBACA,mBACA,6DACA,aACA,iBACA,kBACA,sBACA,oBACA,sBACA,kBACA,IAEA,mCACA,mBACA,6DACA,iBACA,kBACA,IA+BA,qCACA,eACA,6DACA,oBACA,aAEA,6BACA,uBACA,IAEA,uCACA,kBACA,6DACA,qBACA,oBACA,aACA,oBAEA,6BACA,uBACA,IAIA,uDACA,yDAEA,qBACA,uBACA,IAGA,0DACA,uDACA,4DACA,0DACA,sBACA,IAMA,wDACA,0DACA,uBACA,IAEA,4CACA,+CACA,eACA,6DACA,IAGA,kEACA,qEACA,oEACA,uEACA,0BACA,IAEA,kEACA,oEACA,gBACA,qBACA,6BACA,IAGA,8CACA,2CACA,6BAGA,yBACA,wBACA,uBACA,uBACA,oBACA,IAEA,gDACA,6CACA,wCACA,IAGA,6CACA,0CACA,+CACA,4CACA,gCACA,gBACA,aACA,sBACA,eACA,0BACA,eACA,IAEA,mEACA,+DACA,qEACA,kEAEA,4EACA,oBACA,eACA,sBACA,IAIA,gEACA,4DACA,kEACA,+DAEA,gBACA,uBACA,IAGA,2CACA,6CACA,eAGA,kBACA,cACA,kBACA,sBACA,YACA,qBACA,IAIA,8DACA,gEAEA,WACA,eACA,oBACA,IAGA,mDACA,qDACA,8BACA,IAEA,wDACA,0DACA,eACA,mBACA,qBACA,IAgBA,0CACA,4CACA,8BACA,iBACA,cACA,IAEA,2BACA,eACA,mBACA,IAEA,mCAAkC,gBACzBhlD,QAAQkC,QAAQ4iD,OAAOG,QAAO,uBAC5BjlD,QAAQkC,QAAQ4iD,OAAOC,SAAQ,KAC1C,IAEA,+BACA,iBACA,mBACA,yBACA,0BACA,IAEA,yBACA,eACA,+BACA,8BACA,oBACA,qBACA,6BACA,0BACA,yBACA,IAEA,mCACA,eACA,gBACA,+BACA,8BACA,mBACA,qBACA,6BACA,0BACA,yBACA,IAEA,2DACA,eACA,eACA,IAEA,4BACA,IAEA,6BACA,yBACA,mBACA,sBACA,IAEA,4DACA,oBACA,IAEA,8CACA,uCACA,IAEA,+BACA,kBACA,mBACA,qBACA,uBACA,2BACA,IAEA,6BACA,kBACA,mBACA,2BACA,yBACA,IAEA,mCACA,0CACA,IACA,gBC3tCJ/kD,QAAQqB,WAAa,SAAUyY,EAAKC,EAAOC,EAAQkrC,EAAQC,EAAYC,GACnEhwD,KAAK8pD,aAAe,KAGpB9pD,KAAKiwD,QAAUn3C,OAAO8L,GACtB5kB,KAAKkwD,OAASp3C,OAAO6L,GACrB3kB,KAAKmwD,MAAQ,IAAIxlD,KAAKylD,KAAKC,KAAKrwD,KAAKkwD,OAAQlwD,KAAKiwD,SAClDjwD,KAAKswD,SAAWN,EAChBhwD,KAAKuwD,SAAW,GAChBvwD,KAAK6X,SAAS6M,GACd1kB,KAAKoP,QAAQ0gD,GAEa,mBAAfC,IAC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","sources":["webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/server_time.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/network_monitor.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/config.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/messages.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/constants/save-type.ts","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blockly.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/images.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_defnoreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_defreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_callnoreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_callreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Functions/procedures_ifreturn.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_create_with.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_repeat.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_length.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_isEmpty.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_indexOf.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_getIndex.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_setIndex.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_getSublist.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_split.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_sort.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/List/lists_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_repeat_ext.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_repeat.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_whileUntil.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_for.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_forEach.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Loops/controls_flow_statements.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Variable/variables_get.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Advanced/Variable/variables_set.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/after_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/check_result.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/read_details.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/After Purchase/trade_again.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/before_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/ask_price.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Before Purchase/payout.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/during_purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/sell_at_market.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/check_sell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/During Purchase/sell_price.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/bb_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/bba_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/ema_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/emaa_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/rsi_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/rsia_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/sma_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/smaa_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/macda_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/input_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_up.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/std_dev_multiplier_down.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/fast_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/slow_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Indicators/Parts/signal_ema_period.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/tick.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ticks.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ohlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/ohlc_values.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/readOhlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/get_ohlc.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/check_direction.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/tick_analysis.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/last_digit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tick Analysis/lastDigitList.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/is_candle_black.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/ohlc_values_in_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Candle/read_ohlc_obj.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/balance.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/barrier_offset.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/block_holder.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/loader.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/notify.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/notify_telegram.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/total_profit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/total_runs.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/useless_block.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Misc/console.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/epoch.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/timeout.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/todatetime.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Tools/Time/totimestamp.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_market.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_tradetype.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_contracttype.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_candleinterval.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_restartbuysell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_restartonerror.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_tradeoptions.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/trade_definition_multiplier.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/multiplier_stop_loss.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Binary/Trade Definition/multiplier_take_profit.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_compare.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/controls_if.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_boolean.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_operation.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_null.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_ternary.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Logic/logic_negate.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_change.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_constant.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_constrain.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_modulo.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number_positive.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_number_property.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_on_list.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_random_float.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_random_int.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_round.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_arithmetic.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_single.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Math/math_trig.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_join.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_statement.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_append.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_length.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_isEmpty.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_indexOf.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_charAt.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_getSubstring.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_changeCase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_trim.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_print.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/blocks/Text/text_prompt_ext.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/dbot-store.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/ticks_service.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/cliTools.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/sanitize.js","webpack://@deriv/bot-web-ui/../indicators/src/utils/math.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/simple-moving-average.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/bollinger-bands.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/exponential-moving-average.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/macd.js","webpack://@deriv/bot-web-ui/../indicators/src/indicators/relative-strength-index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/IndicatorsInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/ToolsInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/CandleInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/MiscInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/TicksInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/BotInterface.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Balance.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/constants.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/actions/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Purchase.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/state/reducers/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Ticks.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Total.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Sell.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/OpenContract.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/trade/Proposal.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/Interface/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/interpreter.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/xml/main.xml","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/dbot.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block_render_svg_vertical.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/connection.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/constant.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/css.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_image.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_textinput.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/gesture.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/icon.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/block_svg.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/contextmenu.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/data_category.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field_dropdown.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/field.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/flyout_base.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/procedures.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace_svg.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/tooltip.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/inject.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/scratch_block_comment.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/utils.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/variable_map.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/variables.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/workspace_audio.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/xml.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/shared.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/backward-compatibility.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/utils/index.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/active-symbols.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-middleware.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/appId.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-base.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/account-limits.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/api-helpers.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/contracts-for.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/api/trading-times.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/broadcast.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/services/tradeEngine/utils/helpers.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/error-config.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/error.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/contract.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/html-helper.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/date-time-helper.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/colours.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/strategy-helper.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/error-handling.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/local-storage.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/observer.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/pending-promise.js","webpack://@deriv/bot-web-ui/../bot-skeleton/src/utils/workspace.js","webpack://@deriv/bot-web-ui/../stores/src/storeContext.ts","webpack://@deriv/bot-web-ui/../api/src/APIProvider.tsx","webpack://@deriv/bot-web-ui/../stores/src/stores/FeatureFlagsStore.ts","webpack://@deriv/bot-web-ui/../stores/src/stores/BaseStore.ts","webpack://@deriv/bot-web-ui/../stores/src/storeProvider.tsx","webpack://@deriv/bot-web-ui/../stores/src/useStore.ts","webpack://@deriv/bot-web-ui/./src/components/bot-snackbar/bot-snackbar.tsx","webpack://@deriv/bot-web-ui/./src/components/bot-snackbar/index.tsx","webpack://@deriv/bot-web-ui/./src/constants/bot-contents.ts","webpack://@deriv/bot-web-ui/./src/stores/app-store.js","webpack://@deriv/bot-web-ui/./src/utils/settings.js","webpack://@deriv/bot-web-ui/./src/stores/blockly-store.ts","webpack://@deriv/bot-web-ui/./src/stores/chart-store.js","webpack://@deriv/bot-web-ui/./src/public-path.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/config/index.ts","webpack://@deriv/bot-web-ui/./src/constants/load-modal.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/utils/index.ts","webpack://@deriv/bot-web-ui/./src/stores/dashboard-store.ts","webpack://@deriv/bot-web-ui/./src/stores/data-collection-store.js","webpack://@deriv/bot-web-ui/./src/stores/download-store.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-content.config.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/after_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/balance.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/before_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/check_direction.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/console.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/contract_check_result.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_flow_statements.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_for.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_forEach.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_if.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/controls_whileUntil.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/during_purchase.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/epoch.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/get_ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/is_candle_black.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/last_digit.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/logic_operation.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_arithmetic.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_constrain.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/math_single.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/notify_telegram.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc_values.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/ohlc_values_in_list.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/procedures_ifreturn.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_details.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_ohlc.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/read_ohlc_obj.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sell_at_market.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sell_price.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/sma_statement.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/text_print.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/text_prompt_ext.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/tick_analysis.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/todatetime.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/totimestamp.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_again.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition_multiplier.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/trade_definition_tradeoptions.js","webpack://@deriv/bot-web-ui/./src/utils/help-content/help-strings/variables_set.js","webpack://@deriv/bot-web-ui/./src/stores/flyout-help-store.js","webpack://@deriv/bot-web-ui/./src/utils/gtm.js","webpack://@deriv/bot-web-ui/./src/stores/flyout-store.js","webpack://@deriv/bot-web-ui/./src/constants/button-status.js","webpack://@deriv/bot-web-ui/./src/stores/google-drive-store.js","webpack://@deriv/bot-web-ui/./src/components/notify-item/notify-item.jsx","webpack://@deriv/bot-web-ui/./src/utils/journal-notifications.js","webpack://@deriv/bot-web-ui/./src/utils/session-storage.js","webpack://@deriv/bot-web-ui/./src/stores/journal-store.js","webpack://@deriv/bot-web-ui/./src/stores/load-modal-store.ts","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/descriptions/d_alembert.ts","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/descriptions/martingale.ts","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/descriptions/oscars_grind.ts","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/descriptions/reverse_martingale.ts","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/config.ts","webpack://@deriv/bot-web-ui/./src/utils/xml-dom-quick-strategy.ts","webpack://@deriv/bot-web-ui/./src/stores/quick-strategy-store.ts","webpack://@deriv/bot-web-ui/./src/stores/route-prompt-dialog-store.js","webpack://@deriv/bot-web-ui/./src/constants/contract-stage.js","webpack://@deriv/bot-web-ui/./src/constants/run-panel.js","webpack://@deriv/bot-web-ui/./src/utils/bot-notifications.js","webpack://@deriv/bot-web-ui/./src/stores/run-panel-store.js","webpack://@deriv/bot-web-ui/./src/stores/save-modal-store.ts","webpack://@deriv/bot-web-ui/./src/stores/self-exclusion-store.js","webpack://@deriv/bot-web-ui/./src/utils/multiplier.js","webpack://@deriv/bot-web-ui/./src/constants/contract.js","webpack://@deriv/bot-web-ui/./src/stores/summary-card-store.js","webpack://@deriv/bot-web-ui/./src/stores/summary-store.js","webpack://@deriv/bot-web-ui/./src/stores/toolbar-store.ts","webpack://@deriv/bot-web-ui/./src/stores/toolbox-store.js","webpack://@deriv/bot-web-ui/./src/constants/transactions.js","webpack://@deriv/bot-web-ui/./src/stores/transactions-store.js","webpack://@deriv/bot-web-ui/./src/stores/root-store.ts","webpack://@deriv/bot-web-ui/./src/stores/useDBotStore.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/google-drive.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/local-footer.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/workspace-control.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/local.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent-workspace.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/recent-footer.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/load-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/load-modal/index.ts","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/form-wrappers/form-tabs.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/descriptions/strategy-description.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/form-wrappers/strategy-tab-content.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/form-wrappers/useQsSubmitHandler.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/form-wrappers/desktop-form-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/form-wrappers/mobile-form-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/parts/loss-threshold-warning-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/selects/symbol.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/selects/trade-type.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/selects/contract-type.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/selects/duration-type.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/inputs/qs-input.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/inputs/qs-checkbox.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/inputs/qs-input-label.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/form.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/quick-strategy.tsx","webpack://@deriv/bot-web-ui/./src/components/quick-strategy/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/icon-radio.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/save-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/common/react-joyride-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/common/tour-end-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/common/tour-steps.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/tour-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/common/tour-start-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/hooks/useTourHandler.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/bot-builder-tour/bot-builder-tour-desktop.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/common/accordion.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/common/tour-button.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/bot-builder-tour/bot-builder-tour-mobile.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/bot-builder-tour/index.tsx","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout-block.tsx","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout-block-group.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-img.tsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-text.tsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-video.tsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/flyout-help-base.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/help-contents/index.js","webpack://@deriv/bot-web-ui/./src/components/flyout/flyout.jsx","webpack://@deriv/bot-web-ui/./src/components/flyout/index.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/stop-bot-modal-content.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/stop-bot-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar-button.tsx","webpack://@deriv/bot-web-ui/./src/constants/z-indexes.js","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar-icon.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/workspace-group.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/toolbar.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbar/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/search-icon.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/search-box.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/search-box/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/toolbox-items.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/toolbox.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/toolbox/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/workspace-wrapper.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/bot-builder.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-builder/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-stopped.tsx","webpack://@deriv/bot-web-ui/./src/components/draggable/draggable.tsx","webpack://@deriv/bot-web-ui/./src/components/draggable/index.ts","webpack://@deriv/bot-web-ui/./src/components/transaction-details/desktop-transaction-table.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/transaction-details-desktop.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/filters.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/filter-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/format-message.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-item.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/date-item.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-loader.tsx","webpack://@deriv/bot-web-ui/./src/components/download/download.tsx","webpack://@deriv/bot-web-ui/./src/components/download/index.ts","webpack://@deriv/bot-web-ui/./src/components/journal/journal-components/journal-tools.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/journal.tsx","webpack://@deriv/bot-web-ui/./src/components/journal/index.ts","webpack://@deriv/bot-web-ui/./src/components/self-exclusion/self-exclusion.jsx","webpack://@deriv/bot-web-ui/./src/components/self-exclusion/index.js","webpack://@deriv/bot-web-ui/./src/components/contract-card-loading/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-card-loading/contract-card-loading.tsx","webpack://@deriv/bot-web-ui/./src/components/summary/summary-card.tsx","webpack://@deriv/bot-web-ui/./src/components/summary/summary.tsx","webpack://@deriv/bot-web-ui/./src/components/summary/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-result-overlay/index.ts","webpack://@deriv/bot-web-ui/./src/components/contract-result-overlay/contract-result-overlay.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/bot-stop-notification.tsx","webpack://@deriv/bot-web-ui/./src/components/trade-animation/trade-animation.jsx","webpack://@deriv/bot-web-ui/./src/components/trade-animation/index.js","webpack://@deriv/bot-web-ui/./src/components/transactions/transaction.jsx","webpack://@deriv/bot-web-ui/./src/components/transactions/transactions.jsx","webpack://@deriv/bot-web-ui/./src/components/transactions/index.js","webpack://@deriv/bot-web-ui/./src/components/run-panel/run-panel.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/mobile-transaction-card.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/transaction-details-mobile.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/index.tsx","webpack://@deriv/bot-web-ui/./src/components/transaction-details/transaction-details.tsx","webpack://@deriv/bot-web-ui/./src/components/audio/index.ts","webpack://@deriv/bot-web-ui/./src/components/audio/audio.tsx","webpack://@deriv/bot-web-ui/./src/components/bot-notification-messages/bot-notification-messages.tsx","webpack://@deriv/bot-web-ui/./src/components/bot-notification-messages/index.ts","webpack://@deriv/bot-web-ui/./src/components/chart/v1.ts","webpack://@deriv/bot-web-ui/./src/components/chart/toolbar-widgets.tsx","webpack://@deriv/bot-web-ui/./src/components/chart/chart.tsx","webpack://@deriv/bot-web-ui/./src/components/chart/index.ts","webpack://@deriv/bot-web-ui/../bot-skeleton/src/scratch/hooks/trashcan.js","webpack://@deriv/bot-web-ui/./src/components/run-panel/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/run-strategy.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/chart-modal/chart-modal-desktop.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/chart-modal/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/chart-modal/chart-modal.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/onboarding-tour/onboarding-tour-desktop.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/onboarding-tour/onboarding-tour-mobile.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dbot-tours/onboarding-tour/index.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/bot-preview.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/local.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/delete-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/hooks/useComponentVisibility.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/recent-workspace.tsx","webpack://@deriv/bot-web-ui/./src/utils/dom-observer.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/load-bot-preview/recent.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/cards.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/constants.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/info-panel.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/user-guide.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard-component/dashboard-component.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/strategy-notification.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/common/no-search-result-found/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/common/no-search-result-found/no-search-result.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/quick-strategy-content/quick-strategy-guides-details.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/quick-strategy-content/quick-strategy-guides.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/faq-content/index.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/guide-content/index.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/common/search-input/index.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/tutorials-tab-desktop.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/tutorials-tab-mobile.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/tutorial-tab.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/tutorial-tab/index.ts","webpack://@deriv/bot-web-ui/./src/components/dashboard/dashboard.tsx","webpack://@deriv/bot-web-ui/./src/components/dashboard/index.ts","webpack://@deriv/bot-web-ui/./src/components/network-toast-popup/network-toast-popup.tsx","webpack://@deriv/bot-web-ui/./src/components/network-toast-popup/index.ts","webpack://@deriv/bot-web-ui/./src/components/route-prompt-dialog/route-prompt-dialog.tsx","webpack://@deriv/bot-web-ui/./src/components/route-prompt-dialog/index.ts","webpack://@deriv/bot-web-ui/./src/components/blockly-loading/index.ts","webpack://@deriv/bot-web-ui/./src/components/blockly-loading/blockly-loading.tsx","webpack://@deriv/bot-web-ui/./src/app/app-content.jsx","webpack://@deriv/bot-web-ui/./src/app/dbot-providers.tsx","webpack://@deriv/bot-web-ui/./src/app/app-main.tsx","webpack://@deriv/bot-web-ui/./src/utils/window-size.js","webpack://@deriv/bot-web-ui/../../node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://@deriv/bot-web-ui/./src/xml/ lazy ^\\.\\/.*\\.xml$ chunkName: [request] namespace object"],"sourcesContent":["import PendingPromise from '../../utils/pending-promise';\n\nconst ServerTime = (() => {\n    let clock_started = false;\n    const pending = new PendingPromise();\n    let common_store;\n\n    const init = store => {\n        if (!clock_started) {\n            common_store = store;\n            pending.resolve(common_store.server_time);\n            clock_started = true;\n        }\n    };\n\n    const get = () => (clock_started && common_store.server_time ? common_store.server_time.clone() : undefined);\n\n    return {\n        init,\n        get,\n        timePromise: () => (clock_started ? Promise.resolve(common_store.server_time) : pending.promise),\n    };\n})();\n\nexport default ServerTime;\n","export default class NetworkMonitor {\n    constructor(apiInstance, parentElement) {\n        this.api = apiInstance;\n        this.parentElement = parentElement;\n        this.addEvents();\n    }\n\n    addEvents() {\n        if ('onLine' in navigator) {\n            window.addEventListener('online', () => this.setStatus());\n            window.addEventListener('offline', () => this.setStatus());\n        } else {\n            navigator.onLine = true;\n            setInterval(() => this.setStatus(), 10000);\n        }\n        this.setStatus();\n    }\n\n    setStatus() {\n        if (navigator.onLine) {\n            this.parentElement.html(\"<span class='connecting'></span>\");\n            this.api.send({ ping: '1' }).then(() => {\n                this.parentElement.html(\"<span class='online'></span>\");\n            });\n        } else {\n            this.parentElement.html(\"<span class='offline'></span>\");\n        }\n    }\n}\n","import { localize } from '@deriv/translations';\n\nconst CRYPTO_CURRENCIES = ['BTC', 'ETH', 'LTC', 'BCH', 'UST'];\n\nexport const config = {\n    lists: {\n        PAYOUTTYPE: [\n            // [localize('Payout'), 'payout'],\n            [localize('Stake'), 'stake'],\n        ],\n        CRYPTO_CURRENCIES,\n        DETAILS: [\n            [localize('deal reference id'), '1'],\n            [localize('purchase price'), '2'],\n            [localize('payout'), '3'],\n            [localize('profit'), '4'],\n            [localize('contract type'), '5'],\n            [localize('entry spot time'), '6'],\n            [localize('entry spot price'), '7'],\n            [localize('exit spot time'), '8'],\n            [localize('exit spot price'), '9'],\n            [localize('barrier'), '10'],\n            [localize('result'), '11'],\n        ],\n        CHECK_RESULT: [\n            [localize('Win'), 'win'],\n            [localize('Loss'), 'loss'],\n        ],\n        CHECK_DIRECTION: [\n            [localize('Rise'), 'rise'],\n            [localize('Fall'), 'fall'],\n            [localize('No Change'), ''],\n        ],\n        BALANCE_TYPE: [\n            [localize('string'), 'STR'],\n            [localize('number'), 'NUM'],\n        ],\n        NOTIFICATION_TYPE: [\n            [localize('green'), 'success'],\n            [localize('blue'), 'info'],\n            [localize('yellow'), 'warn'],\n            [localize('red'), 'error'],\n        ],\n        NOTIFICATION_SOUND: [\n            [localize('Silent'), 'silent'],\n            [localize('Announcement'), 'announcement'],\n            [localize('Earned money'), 'earned-money'],\n            [localize('Job done'), 'job-done'],\n            [localize('Error'), 'error'],\n            [localize('Severe error'), 'severe-error'],\n        ],\n        CURRENCY: ['USD', 'EUR', 'GBP', 'AUD', ...CRYPTO_CURRENCIES],\n    },\n    opposites: {\n        MULTIPLIER: [\n            {\n                MULTUP: localize('Up'),\n            },\n            {\n                MULTDOWN: localize('Down'),\n            },\n        ],\n        CALLPUT: [\n            {\n                CALL: localize('Rise'),\n            },\n            {\n                PUT: localize('Fall'),\n            },\n        ],\n        CALLPUTEQUAL: [\n            {\n                CALLE: localize('Rise Equals'),\n            },\n            {\n                PUTE: localize('Fall Equals'),\n            },\n        ],\n        HIGHERLOWER: [\n            {\n                CALL: localize('Higher'),\n            },\n            {\n                PUT: localize('Lower'),\n            },\n        ],\n        TOUCHNOTOUCH: [\n            {\n                ONETOUCH: localize('Touch'),\n            },\n            {\n                NOTOUCH: localize('No Touch'),\n            },\n        ],\n        ENDSINOUT: [\n            {\n                EXPIRYRANGE: localize('Ends Between'),\n            },\n            {\n                EXPIRYMISS: localize('Ends Outside'),\n            },\n        ],\n        STAYSINOUT: [\n            {\n                RANGE: localize('Stays Between'),\n            },\n            {\n                UPORDOWN: localize('Goes Outside'),\n            },\n        ],\n        ASIANS: [\n            {\n                ASIANU: localize('Asian Up'),\n            },\n            {\n                ASIAND: localize('Asian Down'),\n            },\n        ],\n        MATCHESDIFFERS: [\n            {\n                DIGITMATCH: localize('Matches'),\n            },\n            {\n                DIGITDIFF: localize('Differs'),\n            },\n        ],\n        EVENODD: [\n            {\n                DIGITEVEN: localize('Even'),\n            },\n            {\n                DIGITODD: localize('Odd'),\n            },\n        ],\n        OVERUNDER: [\n            {\n                DIGITOVER: localize('Over'),\n            },\n            {\n                DIGITUNDER: localize('Under'),\n            },\n        ],\n        HIGHLOWTICKS: [\n            {\n                TICKHIGH: localize('High Tick'),\n            },\n            {\n                TICKLOW: localize('Low Tick'),\n            },\n        ],\n        RESET: [\n            {\n                RESETCALL: localize('Reset Call'),\n            },\n            {\n                RESETPUT: localize('Reset Put'),\n            },\n        ],\n        RUNS: [\n            {\n                RUNHIGH: localize('Only Ups'),\n            },\n            {\n                RUNLOW: localize('Only Downs'),\n            },\n        ],\n        CALLPUTSPREAD: [\n            {\n                CALLSPREAD: localize('Call Spread'),\n            },\n            {\n                PUTSPREAD: localize('Put Spread'),\n            },\n        ],\n    },\n    BARRIER_TYPES: [\n        ['Offset +', '+'],\n        ['Offset -', '-'],\n    ],\n    ohlcFields: [\n        [localize('Open'), 'open'],\n        [localize('High'), 'high'],\n        [localize('Low'), 'low'],\n        [localize('Close'), 'close'],\n        [localize('Open Time'), 'epoch'],\n    ],\n    candleIntervals: [\n        [localize('Default'), 'default'],\n        [localize('1 minute'), '60'],\n        [localize('2 minutes'), '120'],\n        [localize('3 minutes'), '180'],\n        [localize('5 minutes'), '300'],\n        [localize('10 minutes'), '600'],\n        [localize('15 minutes'), '900'],\n        [localize('30 minutes'), '1800'],\n        [localize('1 hour'), '3600'],\n        [localize('2 hours'), '7200'],\n        [localize('4 hours'), '14400'],\n        [localize('8 hours'), '28800'],\n        [localize('1 day'), '86400'],\n    ],\n    mainBlocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    mandatoryMainBlocks: ['trade_definition', 'purchase', 'before_purchase'],\n    procedureDefinitionBlocks: ['procedures_defnoreturn', 'procedures_defreturn'],\n    single_instance_blocks: ['trade_definition', 'before_purchase', 'during_purchase', 'after_purchase'],\n    TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING: {\n        callput: ['callput', 'higherlower'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n    },\n    TRADE_TYPE_CATEGORIES: {\n        multiplier: ['multiplier'],\n        callput: ['callput', 'callputequal', 'higherlower'],\n        touchnotouch: ['touchnotouch'],\n        inout: ['endsinout', 'staysinout'],\n        asian: ['asians'],\n        digits: ['matchesdiffers', 'evenodd', 'overunder'],\n        reset: ['reset'],\n        callputspread: ['callputspread'],\n        highlowticks: ['highlowticks'],\n        runs: ['runs'],\n    },\n    TRADE_TYPE_CATEGORY_NAMES: {\n        callput: localize('Up/Down'),\n        touchnotouch: localize('Touch/No Touch'),\n        inout: localize('In/Out'),\n        asian: localize('Asians'),\n        digits: localize('Digits'),\n        reset: localize('Reset Call/Reset Put'),\n        callputspread: localize('Call Spread/Put Spread'),\n        highlowticks: localize('High/Low Ticks'),\n        runs: localize('Only Ups/Only Downs'),\n        multiplier: localize('Multipliers'),\n    },\n    BARRIER_CATEGORIES: {\n        euro_atm: ['callput', 'callputequal'],\n        euro_non_atm: ['endsinout', 'higherlower', 'callputspread'],\n        american: ['staysinout', 'touchnotouch', 'highlowticks', 'runs', 'multiplier'],\n        non_financial: ['digits', 'overunder', 'evenodd', 'matchesdiffers'],\n        asian: ['asians'],\n        reset: ['reset'],\n        lookback: ['lookback'],\n    },\n    DEFAULT_DURATION_DROPDOWN_OPTIONS: [\n        [localize('Ticks'), 't'],\n        [localize('Seconds'), 's'],\n        [localize('Minutes'), 'm'],\n        [localize('Hours'), 'h'],\n        [localize('Days'), 'd'],\n    ],\n    BARRIER_LABELS: [localize('High barrier'), localize('Low barrier')],\n    ABSOLUTE_BARRIER_DROPDOWN_OPTION: [[localize('Absolute'), 'absolute']],\n    NOT_AVAILABLE_DROPDOWN_OPTIONS: [[localize('Not available'), 'na']],\n    NOT_AVAILABLE_DURATIONS: [{ display: localize('Not available'), unit: 'na', min: 0 }],\n    BARRIER_TRADE_TYPES: ['higherlower', 'touchnotouch', 'endsinout', 'staysinout', 'callputspread'],\n    PREDICTION_TRADE_TYPES: ['matchesdiffers', 'overunder', 'highlowticks'],\n    DIGIT_CATEGORIES: ['digits', 'highlowticks'],\n    INDEPEDENT_BLOCKS: ['block_holder', 'tick_analysis', 'loader', 'procedures_defreturn', 'procedures_defnoreturn'],\n    bbResult: [\n        [localize('upper'), '1'],\n        [localize('middle'), '0'],\n        [localize('lower'), '2'],\n    ],\n    macdFields: [\n        [localize('Histogram'), '0'],\n        [localize('MACD'), '1'],\n        [localize('Signal'), '2'],\n    ],\n    gd: {\n        scope: 'https://www.googleapis.com/auth/drive.file',\n        discovery_docs: 'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n    },\n    workspaces: {\n        flyoutWorkspacesStartScale: 0.7,\n        mainWorkspaceStartScale: 0.9,\n        previewWorkspaceStartScale: 0.6,\n    },\n    strategies: {\n        martingale: {\n            index: 0,\n            label: localize('Martingale'),\n            description: localize(\n                'The Martingale Strategy is a classic trading technique that has been used for more than a hundred years, popularised by the French mathematician Paul Pierre Levy in the 18th century.'\n            ),\n        },\n        dalembert: {\n            index: 1,\n            label: localize(\"D'Alembert\"),\n            description: localize(\n                'The concept of the D’Alembert Strategy is said to be similar to the Martingale Strategy where you will increase your contract size after a loss. With the D’Alembert Strategy, you will also decrease your contract size after a successful trade.'\n            ),\n        },\n        oscars_grind: {\n            index: 2,\n            label: localize(\"Oscar's Grind\"),\n            description: localize(\n                \"The Oscar's Grind Strategy is a low-risk positive progression strategy that first appeared in 1965. By using this strategy, the size of your contract will increase after successful trades, but remains unchanged after unsuccessful trades.\"\n            ),\n        },\n    },\n    default_file_name: localize('Untitled Bot'),\n    DISABLED_SYMBOLS: ['frxGBPNOK', 'frxUSDNOK', 'frxUSDNEK', 'frxUSDSEK'],\n    DISABLED_SUBMARKETS: ['energy'],\n    QUICK_STRATEGY: {\n        DISABLED: {\n            SYMBOLS: ['1HZ150V', '1HZ250V'],\n            SUBMARKETS: ['crash_index', 'non_stable_coin', 'step_index'],\n            BARRIER_TRADE_TYPES: ['higherlower', 'touchnotouch', 'endsinout', 'staysinout', 'callputspread'],\n            PREDICTION_TRADE_TYPES: ['highlowticks'],\n        },\n        DEFAULT: {\n            symbol: '1HZ100V',\n            tradetype: 'callput',\n            durationtype: 't',\n            size: 1,\n            unit: 1,\n            prediction: 0,\n        },\n    },\n};\n","export const unrecoverable_errors = [\n    'InsufficientBalance',\n    'CustomLimitsReached',\n    'OfferingsValidationError',\n    'InvalidCurrency',\n    'ContractBuyValidationError',\n    'NotDefaultCurrency',\n    'PleaseAuthenticate',\n    'FinancialAssessmentRequired',\n    'PositiveIntegerExpected',\n    'OptionError',\n    'IncorrectPayoutDecimals',\n    'IncorrectStakeDecimals',\n    'NoMFProfessionalClient',\n    'AuthorizationRequired',\n    'InvalidToken',\n    'DailyLossLimitExceeded',\n    'InputValidationFailed',\n    'ClientUnwelcome',\n    'PriceMoved',\n];\n\nexport const message_types = Object.freeze({\n    ERROR: 'error',\n    NOTIFY: 'notify',\n    SUCCESS: 'success',\n});\n\nexport const error_types = Object.freeze({\n    RECOVERABLE_ERRORS: 'recoverable_errors',\n    UNRECOVERABLE_ERRORS: 'unrecoverable_errors',\n});\n\nexport const log_types = Object.freeze({\n    LOAD_BLOCK: 'load_block',\n    PURCHASE: 'purchase',\n    SELL: 'sell',\n    NOT_OFFERED: 'not_offered',\n    PROFIT: 'profit',\n    LOST: 'lost',\n    WELCOME_BACK: 'welcome_back',\n    WELCOME: 'welcome',\n});\n","export const save_types = Object.freeze({\n    UNSAVED: 'unsaved',\n    LOCAL: 'local',\n    GOOGLE_DRIVE: 'google drive',\n});\n","/* eslint import/no-webpack-loader-syntax: 0 */\nconst {\n    goog,\n    Blockly,\n} = require('imports-loader?this=>window!exports-loader?goog&Blockly!scratch-blocks/blockly_compressed_vertical');\n\nBlockly.JavaScript = require('blockly/javascript');\n\nwindow.goog = goog;\nwindow.Blockly = Blockly;\n\nrequire('imports-loader!scratch-blocks/msg/messages');\nrequire('./blocks');\nrequire('./hooks');\n","export const defineContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAMzMzMzMzaARWNQAAAAN0Uk5TAID/7PezGAAAACFJREFUeJxjYEAFUqtWLQFSCgwMHDipplXUF0ShoI5ABgDTPwulgF1l+wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAAAAXNSR0IArs4c6QAAAK9JREFUSA3tVUkOgCAMROP/f4PfU4iOaWQKLYmBg71AOksXTAyhGkeKKuECjTSDUwcFxVdNawNgQ10omJNKROqiJbMJsKJZgKgEouuESRYVFVxO35JTnxGDvk9aWQ5GCXfSPbRbsLHysr0lBeMESaKE3hkmbKk230SY9Ulky5rG/SVJU8udPrMU5s7w9bEugUlN886MWiJN86/o2dywFQ17g10b+dlJefH9X0t9X+YETM6gfmoeI+MAAAAASUVORK5CYII=';\n\nexport const blueInfo =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABOUlEQVQ4EaVTu07DQBDcOVuUpEaEUEETiY9IYYnHLyAaGlq+IF9AF9HQIEV8AQjJBR+BlAYqQhA1lCj2smPrEMFrIsQVPt3uzO6sbw7yY/WOXvs6L45FNFNFj2lAp/bNkSYX08u1yXcK4qE/1JX3x9mZCk5ENcT4wg6UED1f3eqeTob4YK4qQPLbw8utdR0sEFoPuOtsr++ySNWJnT1yksh+EnDQrKODmmMKOHM5L+492SwgChSlXjeK2DghTXbS6oe1zFwUcmPKGtwqYBxybQTNPAS7z6424I8QGZqFeFUxFPe6u8jTuGsq/EWuf10+3o2G2iRubmmQXFOAfCmyFYA80J7m1bIV05agK40b6G3a08NtHj7vMe7dBDk11wD/tjI9TW8DMvp1HMo2THwHVPf1Gnng+utz/gS/LY1YxBZd7wAAAABJRU5ErkJggg==';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAWBJREFUOI2dk81KQmEQhp/5zgHRjhtz0apMXBUSdAcVLWrnxhswsHARSLcRhYm00CvIRbugrCtIaJHtIqlFQUsPBeY50yINM7WfZzV8M+/MOzCfMED8wE2q0Q0VVgSJASjaNEJNoHy7Fb7ur5dekChooGO7ewJZwAw27uIBh6Gok2+kpf3ZIFHQgG+7JwpLI4RfULiYiDprjbS0DYBvu/u/FXenLr88u7sAEj9wk2rp1TDb1VQQXyF9/Dp0HctnwajRjWFiAF9BRxuxOpZmJF5qNRTmfmt/gGujMD0qW00FOUoFxzWYsRnjcnHK+smBGoGHn6rGcG8Qzv6v11MjUObjwr5Rf/K4fByaAvA8IxUBmC21ikDub8Mp3OXC2wYgFHXyCOd/kNcitrMD3QNqpKUdmnTWUYqMWKdnG6UQsZz1elbeoO839kgUW/MdSzOisgrEus9N0FPPSOV+M3zTX/8O8E9xAaZDaSsAAAAASUVORK5CYII=';\n\nexport const purchase =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAIRQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzxeXsBQAAACx0Uk5TAAG7tbYCR//Y2a15rhj7+hmse95G391Iehd4tNIy0bJSsZJykXFRMRLxEbk1pp94AAAA7UlEQVR4nO2R2RaCMAxEi1VHQXBfAUXcQP7//xSOgC2J1Vd1Htq0J7dJOkL89auyWrIM263OG0AXvTLso/sGYMMpQwcDc77reW4VD72REXBg14cxJqZ8a/rc9wxz09j3FOsJX2BpAMZYqQ0axl5rY+rnhjb6i/zYEi8lPwV8okaAkC4eYkve7xDRQIQ9eR/jQAMHHJn7mAZinJjKu2KXUlnyXs8kECIodkBZ8t+4kECClAZSXOleUyQUUD7U1MMIHeBsqIyQvrKwNrBGcDawRnA21EY0OqVtqI3QxNmQ/x8jxgYhMjo/4/L/+mbdAKHBEAKASOAzAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAvlJREFUaAXtmU1u00AUxxPEGoluKMcgJ8gCARsW9CZ0ReEU5BwFiYpWqtgYiQuQFSygJ2CRLV2E39+ZZ42dGc84XxIwT3p9X//34VfbsZPRaGNaQkpGPNu4yGESGfHUOtnYte0b6G8NdABJu7NoG4KXmi1GwUTACwtYomzp5r9ripP3/KB8zj7q4P4t0z9o9PfJowM0NhD6D9NN+sFm1xb05Rjybe171nKkDBLqfw6yt1Oqjjo3F4XArbli1dfmT7YpgOQGWPanLgjfFXyn6x9sU+QMfhdKxL/1OfSAGreh4vIR643H8pQ4hydRQCAAPv9owJ7AF1YH/bKr+z7FsPMbdBP8ZNNNOuwE+6v0bPILpJLAXsAvUrgSLxsoG4hsgAtoDDe3CoPhW7uFW8yXOffzcxK++ElOfxzwDXcxafAmhvscfjO8opdBgSfwjedqVPxaXbB5A0op5P+GH8ZwqXgwj6RtaO1kiDYJBiJOJop+HuScRZGyLfcUq2p5nJHVgAnrQzepXF/HnMIVnEckt84Os02qSkdfYN/Pq75KnpPQPFVYMZOBBq2B/EaxFVWApga0x2WT8vu64UIyq0EoMdfXeuC3JFZxhP7L7ByZe0Q5tQqmbKBsoGygbOCv2wAfHU/1SQp9Sw0P5nuNJCeFPUicYY7hW8fHqaYOr4dR5UQfSFN1dhJnAD1a/4RF2RsFq8d10Q0ce+LYyYy9RWiulw/R615gIEiOvuASpb/IDeRv7aLxq7r9FgOQbwvY7g2s72ho0vurgjuIfYmPfbMNijGhvsoSnQxKHABW7brDcvkhN23IBVS5otPc4hvgrHa1QW5/CpvR26loHkKuQuuvc/L7+BDO4sT0tiZ6ZL6dSgrr/VGkd54WrdzpYUM4FVJNF1u0CieM7g90CfjoM4Dn8BTu3v6u8LW2jZ3rA1rXlKz0Zy/Ehk7dlma7bkDdmav9cte1m3o0mLgmweugAW6gUHfuau/n/LeZaHLtGu1DXFufIssGygb+kw38ARimnBqQbBHiAAAAAElFTkSuQmCC';\n\nexport const sellContract =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAMZQTFRFAAAAMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzsMQO9wAAAEJ0Uk5TAEnj/xnzWcgSZVrxvQFt9AlD34If9dBpcPij0X7mSLyziAyl7H1k3dYbAu2qn6eA1LGN6G66uPucBP23ERPXJIPGaDxgqAAAAQdJREFUeJztlFlvwjAQhBeP4yQlKVfvg7acvQ+g90H5/3+qViWSjQ2RLfGYebC0q/k2sTw2UaVKG1RNwEGilgFOfk1kAKAXiWDdHwSQSxcDFMJ1QAhlA5FAzDxbdVbEEJEBSCWQpMyz3WjmRZpAKFkAtBKZO1ptoNHJB8jk38KAIIzZ/J1d1PeAffaNOAzMTTMd4DCiIxwXuyXACU5T6p6dOwNd4KJHpkoA6gODoYmUATQaA5dXHgBdqxvcOgN39zqYDxg4A494IppgWgIUD24GPL+84i3vWAdXjMb75EM3Pr+yhh0NM3zf/Z85m2+Hz4r374IVK+JN/hfI64p6PwLez0ylShvQHzxCDnS9VqsZAAAAAElFTkSuQmCC';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAA45JREFUaAXtWDFrFUEQzoU0QhpjFVRs/Cc2Sf6AxD4BQSF/QBFtbPwDYici2ImFIqaVlBEEK7FICBaxCFEQRM/v29vZzO7O3dv3uGCEXdg3M998M7O7d7e37+bmZmpt2y4xEPLITABHazpOC0wLwt5wtVKHDGBeFJEg7og+okTaVY5hUgslSQwGFJhb2tZ6mARI3XQ77x/YbzQR9mlMTpc4u3rDoWEFomXtGe5+0zSXg28oCL69IT8r/kwJYocLF0p1yi2ITwl2YiL6+MTq5iQZiUNvtO24GaAywLc+5FfUqp7tFdCXUeulo0bMMfoy+WY8QdUcMU0O/xfPuZ/6fOJtyZH56chABcC94oMXFWyqOlffs2YFXge4hi3gu05gEU3Mj24ZklvDtkUCfgHdfMiBu+cXMnos3QbGZHDsQVyyEs+CYaYh9yzxNaauQF2BWVaATzL6WG01GwMzE4TgfhSdGzKyAUi8z5HvzEKA5Ez08TOkA34jGInCeDT5H2EX6Di9O+k17+d2nW1kwDjz0JL6Pa85xfKRS5BP0T8oV6aSWwYqFoPQHiqoVyUxc5pgwgLnM3loFxNXZJIQATRMULHgf+5596AfKlemmrkIou2gZxfQJ6b/Lfov9CdZVgDAN9B5fLFnANy9TyH7ijyD72pPch5ZeIu7uynjwOGqQrDI1H+zJJ6Jtb6gK2mH1jVnSFcx+0O86qsrUFegrkBdgboC/9MKZK91vPBG/ac88mLEnxmt5Hxjs2kfTDnHTH3M0HlKdNTioYxtXfM7KB6X9gddiJA8OHHgPESx8UCVXbEQaCjg30bnMf+c4TYh1kCX702szTFwLK6ZQRoUIiSPllwNHjOLBw7uFfQf6GxH6LtO635u6lpDOuicCGtzDO6YCxndGWY8SWymswBE6F2XoG0PIN3EIVfQ36G/KkhhUhDrmunUYDFRByU6cvBsL+0Qyh30iV8QkzSRKcki0DKKiVZwgiHXPDrv4W8+74uEUmz6+Ml3RjGxpzTiP/ocL4UC+5HHvgo2rfTx5ROQAC+5K5hfsNOBgLeAzgH/RtftNYzzKd+yweOuIzuRzlE+AUmMaH6QkK3U/Owi3FQi7gH6+xQfssHnzsPGmu5zDfkOwc9QrPNZRGCyD0/9YWpiwYSAWrJlRlfcGhdDo//dPtca5GMGeFuLxR5cc8bSuQ3rXPwvv6mBqtcVqCtQV+Dfr8BfZ6VurZP8obgAAAAASUVORK5CYII=';\n\nexport const finishSign =\n    // 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABJQTFRFAAAAMzMzMzMzMzMzMzMzMzMzbxxq5QAAAAZ0Uk5TALX/40m0LpdrJAAAADpJREFUeJxjYBi0QBCXhBJOCTRggktCGVkCQiE4g0ACWRTZwwMrMTjDCl/UYk8MDDjAyJUQxSUx6AAAWjIi1ZSdqFYAAAAASUVORK5CYII=';\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAa5JREFUaAXtV1tywzAIdDq5Rg/Ui/SGzYl8j1brzqYYidHDYWw60g/iIWABKc6yGOsG+XdaSr/uFLe0dkZkNC25Wt6U7zq7C05zJMH9FofBd0IymZIKR4qYWAyh95LfbCgAxYLwd/e3h+yJm0YQWiurk2V4cXkzaALO5owKAJV7E7gsr9zzQBaBiirVXaV3KYeTbtDVyNOgUIFU9q+CeFj0bBs9sL/k5fhJnSXHOakbnzxmUKH3kl5m0JK1ZQ/fxQBHncqk3Uskg217mX2mHBC4I3APMAB6HglfgXQPXvqaZgXBRTu4PqTT+M+1+00uPtfW+94rRy/cEbgHKJYIY8pRGykLz/7jEkmIslwt8mSzSrtsbznMDBsF7lM0A1Q74V6iagbTYFZgVsC7Ani7sbzjjPrPPhu1o4skv6YPj3edG/jDAOQXjQxgAe+1p0/rXPhfgvAAih+9bJukVgtfNSq9/plb+A6EB9A8QmePCkdG0/AdCA+geYR068hbo0W9pr326Tz+p35qP+SbAVjPHB2dRcOP0ARw1ugwbvgOtFziR0J72T807MSkswKDFfgBlTxsE+QpCHoAAAAASUVORK5CYII=';\n\nexport const caution = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABsklEQV\nRoQ+1YS07DMBB9VlG2tJuWZVDYU04CN6BHKCfAnACOADcoJyHsiZRtu0m7rYiMItIFldqZ2ONaEc7Wo5d5n7ETK/T8UT3vH5FAaA\ndZDlQ6TbcYPBtgqqBSn00bmFIBeYL6YaTLknoXSaBt/gNQQwpMdt2sE9Q3FAmSwPIxW0CpW9nmmGjGvE+eirtj1TQBnVWnV/+35S\nZOF7q4dCRwZZh6eSmb6K+jIjMc+KcE9pVbajshgjkQCbQTFR2Qyq4Uzv5W520XijMQZ6BVQCq7UjhxBrgfPHGIQw8x1ymqLthJTD\nXGXY8EbLc/rsJUXTAH4i4UeheKDoR2gBpO7rr7EPf9Yqu9WswBdc5VTabObBLUU+erxaaZlU6nBmevAK5lmiNRPhW+Z2Nd5lQl+U\nu5A6h0Otxi8AKoewrUbd28JajnI12uOThsAjuwlc5mBmiICEfKbBQwH+uicZr9dCbgKVLsyHT+IzskhVykukVGjIB7pOwiI07AMl\nLWkfFCoAHlR8otMt4I0JGSiYx3AgciJRaZkxD4Gymgy8HEPgDaQqtzoOtLfNZHAj7V5WD33oEfb0MpQATTN7IAAAAASUVORK5CYI\nI=`;\n\nexport const plusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const plusIconLight =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC+0lEQVR4Ae2bA4xeURCFp7bdoGvjv3OC2m1Q24xW0cZJ3caqzdhJ3Vi1bdu2po1T3v95Nvu+E/N+z5hDMf4RExMTE4N0HmkqsZS34RAu4iG+8kd+hEs4xNuw1FTySKSTRvIbYyLW4xbEHr7JG8z47CakBVOMlXgHcRZ+w6tRSNGCOmY874e4D+83E1CHoqCwBWbzI4gPuY85hS0oVGrwDDyD+JgnZibVoHDgXByCBJBDnBvG8kfiPSSgvOfBFCg1sRASbHhRYIdSSn3eDgk+vD2lPvlPfks+AgknfCS/pd8XzTRchYSYq4Vp5B/ogNuQkHPbdPTv4LkMiSCXclr5curiOCSinMivS17hZZAIs5S8YfpDIs5Ack9OKzyJWoAfozW5BVsgCrKF3GG6QHQk0ZVcUBsXIe5Dv+FJ4aKLlx6UQtQICEodb3++qUmAb1BtcgJPh2gSgGAaOQEX1QlcouQxPSHqBMT0dH791yDg/H5Q1Ig/qhT4UNSIksGMgqgUEDPK+fOnKgFeRsmAM1oFcCap9y+IWgFJ4mXf9NMsYPqRDZRpFkCZXWCJaoElZIP3aBbgPWQDp50v0D2OBU+TDb6pWYBv2gWeqxZ4bhf4rlrgm13gk2qBT2QDTzUL4CnZ4BuaBfhGNbiM6r6R7SYbWFrVHyUqNAtwOdnAQM0CiQFkI7uJZoH8xmSHT2kV4FOUDFiqVQBLq8dnlaJG+KBRgD8WNaLkwGaVApsoWbiHSoEe1eDzuuIfHDzd6S+me6oE7lNtcgZXaBLgchczoZp+s1Jtck6iK0RHTJdqOWrwE7Tmx5CI8wStyT0YGLWA6V+lB554mR8jZ8ciEzjmywRpTitcUj30Z8d0VD52aSeREvbgayIlHj3+83TmbaEsf1tK/eCaG4uUj9/bSQzDO9UFCDucy/sC2fb7ODe8EtB0/0tA4dew5uivYdlfeibyAW9FOJ6EOpFXEXk1v1VeRbR/0zYTHJdBNZLI/KOO+4kf4RIfDqKOGxMTExMT8wNOZdb6YlKT2wAAAABJRU5ErkJggg==';\n\nexport const minusIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC6ElEQVR4Ae2bA6weURCFp7bd4NnaOyeo3Qa1zaiKXpzUbazajJ3UjVXbtm1rGqO6u/sv5uXf74t91nfvHEpISEhISAgO5PAwU4nlvANHcBmP8Z0/8xNcwRHegeWmkochhzRS0hDjsBF3IHb5Nm8yYwoakRZMBVbjA8Sb/I7XooziBbXMGD4I8S8fNGNRi+KgrBnm8hNIAD7EvLJmFCnVeCpeQAL0mZlG1SgauAhHICF4hIsofHgYPkJC8iMPoFCpjsWQcOUloV1KmXV5JyR8eWdmXQqekuZ8DBKNfKykOQVLWTauQyL0elk2BQfa4S4kYu+a9sFdPFchMXilsEUgty5OQmLyVEltShVeAYnR5ZQapg8kZvuRfwpb4FncAfgpWpJfsA2iwG3kD9MRokOnE/mgJi5DlHjZx6IHMyCKnOH5+PNtTQH4FtUkL/AUiDInkxdwWV2AK+Qe0w2iT9NN//M/mPdBeQP+rDLAp/IG5AYzHKJTM1z796dFXkFuwDmIUs+5Wn9B9OpisW96aw5gepMNzIQodqY9wDLVAZaRDd6nOQDvIxs4C3EjBYzLCGfJBt/WHIBv2wO8VB3gpT3AT9UBftgDfFEd4AvZwHPNAfCcbPAtzQH4Vho8RnW/yPaSDSyv6p8SszUH4FlkA/00B3D6ko2CRqoXNA3JDp+B6JTPkAXtt/Hy9PitUt4AnyD65M/lDcgd2KoywBZyC3dVGaBrGvxeV7zBwVO8bjE9UBXgIdUkb/Bs7d9AFlBL0zYr1STvOJ20BDAd03PUgAgt+SkkZp9Zhj20rw5Mnyo98MQrghg5OxFbgBOBTJAWtsAV7UN/Fkx7/WOXFpzMqAdfncxk9Pgvw987IOHLOzLrhtfcWKJ//N6CMxgftBcgLHARHwjl2B/gouhKQFOCLwFFX8Oap7+GZV/0jONDqRXheDxqxV5F5LX8XnkV0f5P24xVXAZ1j5P3Rx33Cz/BFT4aRh03ISEhISHhF9FSCRjypNzcAAAAAElFTkSuQmCC';\n\nexport const lockIconDark =\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAACxklEQVR4Ae2aA4wdURSGT223Udf7Gizn/ieo2zg1Yqe23aC2jag2Yie7QW3bto2pMfehO53duTPJ+f54+A0vDgmCUPzkJamuWMM32P6Z61iruuYlUfBRqbyQz7EdJ+d4gUqloJJWEVPwlu3EwVuelFaRgge34etsFzHXrdZBu/Zr2HYXrAnMfcithQNsuw8O5NYi82SXxx62/y/YHalApon38OAT9mAjz/6a9diDT3EkVpNZVLeYJ3+V+3Bdxytel/vgVKx1VTcyh1WTn7Ot5QOmxHswrA58l20tzw2+CVjMtpaHVuOEL3wGburbYDGZgevinXYyd6y0f26Vwnc0gXeqHpkAU7TTf428Im2Xx6+192AqGaA0P9Su5EgqIjxIU39ApclvVCP96XfxZy2DC86tVSPyGx6jXf/xrrYeqOmPIb/BNucp5OWQC6wGmsBW8hs+6TiBG+QSre16gvxGe4ULyCUodL5B5Df47DiBDa633+hsOZHfaK/wCtcCK517CLaACIiACIiACOQkYwQK+SnbJZynKMSInGQqTrKr8k58Ztu/4DPvzK5KxUOkAo6x7X9wzMOokf60mglWkncQwSdjAp8QIa/wNLYNZhp5BUdNCuAYeYXfmBTgV94FbLMJpYAIiIAIiIAIiIAIiMB1zFItrJpf0xKz+HqoBPACnamUYzel0BkvQiKAtyqfYmBZeBsKAdWb4oBeYRC4lmDKtDSuBl4AYykBGBt4AQYlIF8FXiBSnRIQqV7SAiKQrygBlhV4gcRFAzwmDJ/RshSPsnwt1D8y1TskTQlGzD0Bb0PTmOOOemOOO+JFyJrTPFs157pc11xzWnpkIiACIiACIiACIiACz40KPJdSA8wwKjCDvKJSTZbbcAp5BytCWPCklZwdDV/JmVb0hx1+F/1hh9eiPw1O4eH+lF1yAQ8v2rMvCIIgCF8Av9j925HZ5hYAAAAASUVORK5CYII=';\n","import { localize } from '@deriv/translations';\nimport { plusIconLight } from '../../images';\n\nBlockly.Blocks.procedures_defnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        this.jsonInit(this.definition());\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(Blockly.Procedures.rename);\n\n        // Render a ➕-icon for adding parameters\n        const fieldImage = new Blockly.FieldImage(plusIconLight, 24, 24, '+', () => this.onAddClick());\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }}', {\n                function_name: '%1',\n                function_params: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function with no return value'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function'),\n            description: localize(\n                'This block creates a function, which is a group of instructions that can be executed at any time. Place other blocks in here to perform any kind of action that you need in your strategy. When all the instructions in a function have been carried out, your bot will continue with the remaining blocks in your strategy. Click the “do something” field to give it a name of your choice. Click the plus icon to send a value (as a named variable) to your function.'\n            ),\n        };\n    },\n    /**\n     * Sets the block colour and updates this procedure's caller blocks\n     * to reflect the same name on a change.\n     * @param {!Blockly.Events.Abstract} event Change event.\n     * @this Blockly.Block\n     */\n    onchange(event) {\n        const allowedEvents = [Blockly.Events.BLOCK_DELETE, Blockly.Events.BLOCK_CREATE, Blockly.Events.BLOCK_CHANGE];\n        if (!this.workspace || this.workspace.isFlyout || !allowedEvents.includes(event.type)) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            // Sync names between definition- and execution-block\n            if (event.blockId === this.id && event.name === 'NAME') {\n                this.getProcedureCallers().forEach(block => {\n                    block.setFieldValue(event.newValue, 'NAME');\n                });\n            }\n        }\n    },\n    /**\n     * Prompt the user for parameter name\n     * @this Blockly.Block\n     */\n    onAddClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        // Wrap in setTimeout so block doesn't stick to mouse (Blockly.Events.END_DRAG event isn't blocked).\n        setTimeout(() => {\n            const promptMessage = localize('Specify a parameter name:');\n            Blockly.prompt(promptMessage, '', paramName => {\n                if (paramName) {\n                    const variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, paramName, '');\n                    if (variable) {\n                        this.arguments.push(paramName);\n                        this.argument_var_models.push(variable);\n\n                        const paramField = this.getField('PARAMS');\n                        paramField.setText(`${localize('with: ')} ${this.arguments.join(', ')}`);\n\n                        this.getProcedureCallers().forEach(block => {\n                            block.setProcedureParameters(this.arguments);\n                            block.initSvg();\n                            block.render(false);\n                        });\n                    }\n                }\n            });\n        }, 200);\n    },\n    /**\n     * Add or remove the statement block from this function definition.\n     * @param {boolean} hasStatements True if a statement block is needed.\n     * @this Blockly.Block\n     */\n    setStatements(hasStatements) {\n        if (this.hasStatements === hasStatements) {\n            return;\n        }\n\n        if (hasStatements) {\n            this.appendStatementInput('STACK').appendField('');\n            if (this.getInput('RETURN')) {\n                this.moveInputBefore('STACK', 'RETURN');\n            }\n        } else {\n            this.removeInput('STACK', true);\n        }\n\n        this.hasStatements = hasStatements;\n    },\n    /**\n     * Update the display of parameters for this procedure definition block.\n     * @private\n     * @this Blockly.Block\n     */\n    updateParams() {\n        let paramString = '';\n\n        if (this.arguments.length) {\n            paramString = `${localize('with:')} ${this.arguments.join(', ')}`;\n        }\n\n        // The params field is deterministic based on the mutation,\n        // no need to fire a change event.\n        Blockly.Events.disable();\n        try {\n            this.setFieldValue(paramString, 'PARAMS');\n        } finally {\n            Blockly.Events.enable();\n        }\n    },\n    /**\n     * Create XML to represent the argument inputs.\n     * @param {boolean=} optParamIds If true include the IDs of the parameter\n     *     quarks.  Used by Blockly.Procedures.mutateCallers for reconnection.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom(optParamIds) {\n        const container = document.createElement('mutation');\n\n        if (optParamIds) {\n            container.setAttribute('name', this.getFieldValue('NAME'));\n        }\n\n        this.argument_var_models.forEach((arg, i) => {\n            const parameter = document.createElement('arg');\n\n            parameter.setAttribute('name', arg.name);\n            parameter.setAttribute('varid', arg.getId());\n\n            if (optParamIds && this.paramIds) {\n                parameter.setAttribute('paramId', this.paramIds[i]);\n            }\n            container.appendChild(parameter);\n        });\n\n        // Save whether the statement input is visible.\n        if (!this.hasStatements) {\n            container.setAttribute('statements', 'false');\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the argument inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                const var_name = childNode.getAttribute('name');\n                const var_id = childNode.getAttribute('varid') || childNode.getAttribute('varId');\n                const variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, var_id, var_name, '');\n\n                this.arguments.push(var_name);\n\n                if (variable !== null) {\n                    this.argument_var_models.push(variable);\n                } else {\n                    // eslint-disable-next-line no-console\n                    console.log(`Failed to create a variable with name ${var_name}, ignoring.`);\n                }\n            }\n        });\n\n        this.updateParams();\n\n        // Show or hide the statement input.\n        this.setStatements(xmlElement.getAttribute('statements') !== 'false');\n    },\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES NOT have a return value.\n     * @this Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, false];\n    },\n    /**\n     * Return all procedure callers related to this block.\n     * @return {!Array.<Blockly.Block>} List of procedure caller blocks\n     * @this Blockly.Block\n     */\n    getProcedureCallers() {\n        return this.workspace\n            .getAllBlocks(false)\n            .filter(block => block.type === this.callType && block.data === this.id);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<string>} List of variable names.\n     * @this Blockly.Block\n     */\n    getVars() {\n        return this.arguments;\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!Blockly.VariableModel>} List of variable models.\n     * @this Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add custom menu options to this block's context menu.\n     * @param {!Array} options List of menu options to add to.\n     * @this Blockly.Block\n     */\n    customContextMenu(options) {\n        if (this.isInFlyout) {\n            return;\n        }\n        // Add option to create caller.\n        const option = { enabled: true };\n        const name = this.getFieldValue('NAME');\n        option.text = localize('Create \"%1\"').replace('%1', name);\n\n        const xmlMutation = document.createElement('mutation');\n        xmlMutation.setAttribute('name', name);\n\n        this.arguments.forEach(argumentName => {\n            const xmlArg = document.createElement('arg');\n            xmlArg.setAttribute('name', argumentName);\n            xmlMutation.appendChild(xmlArg);\n        });\n\n        const xmlBlock = document.createElement('block');\n        xmlBlock.setAttribute('type', this.callType);\n        xmlBlock.appendChild(xmlMutation);\n        option.callback = Blockly.ContextMenu.callbackFactory(this, xmlBlock);\n        options.push(option);\n\n        // Add options to create getters for each parameter.\n        if (!this.isCollapsed()) {\n            this.argument_var_models.forEach(argumentVarModel => {\n                const getOption = { enabled: true };\n\n                getOption.text = localize('Create \"get %1\"').replace('%1', argumentVarModel.name);\n\n                const xmlField = Blockly.Variables.generateVariableFieldDom(argumentVarModel);\n                const xmlOptionBlock = document.createElement('block');\n\n                xmlOptionBlock.setAttribute('type', 'variables_get');\n                xmlOptionBlock.appendChild(xmlField);\n\n                getOption.callback = Blockly.ContextMenu.callbackFactory(this, xmlOptionBlock);\n                options.push(getOption);\n            });\n        }\n    },\n    callType: 'procedures_callnoreturn',\n};\n\nBlockly.JavaScript.procedures_defnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'STACK');\n\n    if (Blockly.JavaScript.STATEMENT_PREFIX) {\n        const id = block.id.replace(/\\$/g, '$$$$'); // Issue 251.\n\n        branch =\n            Blockly.JavaScript.prefixLines(\n                Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g, `'${id}'`),\n                Blockly.JavaScript.INDENT\n            ) + branch;\n    }\n\n    if (Blockly.JavaScript.INFINITE_LOOP_TRAP) {\n        branch = Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g, `'${block.id}'`) + branch;\n    }\n\n    let returnValue = Blockly.JavaScript.valueToCode(block, 'RETURN', Blockly.JavaScript.ORDER_NONE) || '';\n    if (returnValue) {\n        returnValue = `${Blockly.JavaScript.INDENT}return ${returnValue};\\n`;\n    }\n\n    const args = block.arguments.map(\n        argumentName => Blockly.JavaScript.variableDB_.getName(argumentName, Blockly.Variables.NAME_TYPE) // eslint-disable-line no-underscore-dangle\n    );\n\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.scrub_(\n        block,\n        `\n    function ${functionName}(${args.join(', ')}) {\n        ${branch}\n        ${returnValue}\n    }\\n`\n    );\n\n    // Add % so as not to collide with helper functions in definitions list.\n    // eslint-disable-next-line no-underscore-dangle\n    Blockly.JavaScript.definitions_[`%${functionName}`] = code;\n    return null;\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../../images';\n\nBlockly.Blocks.procedures_defreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n\n        this.jsonInit(this.definition());\n\n        // Enforce unique procedure names\n        const nameField = this.getField('NAME');\n        nameField.setValidator(Blockly.Procedures.rename);\n\n        // Render a ➕-icon for adding parameters\n        const fieldImage = new Blockly.FieldImage(plusIconDark, 24, 24, '+', () => this.onAddClick());\n        this.appendDummyInput('ADD_ICON').appendField(fieldImage);\n        this.moveInputBefore('ADD_ICON', 'RETURN');\n\n        this.setStatements(true);\n    },\n    definition() {\n        return {\n            message0: localize('function {{ function_name }} {{ function_params }} {{ dummy }}', {\n                function_name: '%1',\n                function_params: '%2',\n                dummy: '%3',\n            }),\n            message1: 'return %1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'NAME',\n                    text: '',\n                },\n                {\n                    type: 'field_label',\n                    name: 'PARAMS',\n                    text: '',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'RETURN',\n                    check: null,\n                    align: Blockly.ALIGN_RIGHT,\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Function that returns a value'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Function that returns a value'),\n            description: localize(\n                'This block is similar to the one above, except that this returns a value. The returned value can be assigned to a variable of your choice.'\n            ),\n        };\n    },\n    onAddClick: Blockly.Blocks.procedures_defnoreturn.onAddClick,\n    onchange: Blockly.Blocks.procedures_defnoreturn.onchange,\n    setStatements: Blockly.Blocks.procedures_defnoreturn.setStatements,\n    updateParams: Blockly.Blocks.procedures_defnoreturn.updateParams,\n    mutationToDom: Blockly.Blocks.procedures_defnoreturn.mutationToDom,\n    domToMutation: Blockly.Blocks.procedures_defnoreturn.domToMutation,\n    /**\n     * Return the signature of this procedure definition.\n     * @return {!Array} Tuple containing three elements:\n     *     - the name of the defined procedure,\n     *     - a list of all its arguments,\n     *     - that it DOES have a return value.\n     * @this Blockly.Block\n     */\n    getProcedureDef() {\n        return [this.getFieldValue('NAME'), this.arguments, true];\n    },\n    getProcedureCallers: Blockly.Blocks.procedures_defnoreturn.getProcedureCallers,\n    getVars: Blockly.Blocks.procedures_defnoreturn.getVars,\n    getVarModels: Blockly.Blocks.procedures_defnoreturn.getVarModels,\n    renameVarById: Blockly.Blocks.procedures_defnoreturn.renameVarById,\n    displayRenamedVar: Blockly.Blocks.procedures_defnoreturn.displayRenamedVar,\n    customContextMenu: Blockly.Blocks.procedures_defnoreturn.customContextMenu,\n    callType: 'procedures_callreturn',\n    registerWorkspaceListener: Blockly.Blocks.procedures_defnoreturn.registerWorkspaceListener,\n};\n\nBlockly.JavaScript.procedures_defreturn = Blockly.JavaScript.procedures_defnoreturn;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.procedures_callnoreturn = {\n    init() {\n        this.arguments = [];\n        this.argument_var_models = [];\n        this.previousDisabledState = false;\n\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Custom function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    /**\n     * Procedure calls cannot exist without the corresponding procedure\n     * definition.  Enforce this link whenever an event is fired.\n     * @param {!Blockly.Events.Abstract} event Change event.\n     * @this Blockly.Block\n     */\n    onchange(event) {\n        if (!this.workspace || this.workspace.isFlyout) {\n            // Block is deleted or is in a flyout.\n            return;\n        }\n\n        if (!event.recordUndo) {\n            // Events not generated by user. Skip handling.\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.indexOf(this.id) !== -1) {\n            // Look for the case where a procedure call was created (usually through\n            // paste) and there is no matching definition.  In this case, create\n            // an empty definition block with the correct signature.\n            const name = this.getProcedureCall();\n            let def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (\n                def &&\n                (def.type !== this.defType || JSON.stringify(def.arguments) !== JSON.stringify(this.arguments))\n            ) {\n                // The signatures don't match.\n                def = null;\n            }\n\n            if (def) {\n                this.data = def.id;\n                return;\n            }\n\n            Blockly.Events.setGroup(event.group);\n            /**\n             * Create matching definition block.\n             * <xml>\n             *   <block type=\"procedures_defreturn\" x=\"10\" y=\"20\">\n             *     <mutation name=\"test\">\n             *       <arg name=\"x\"></arg>\n             *     </mutation>\n             *     <field name=\"NAME\">test</field>\n             *   </block>\n             * </xml>\n             */\n            const xml = document.createElement('xml');\n            const block = document.createElement('block');\n            block.setAttribute('type', this.defType);\n\n            const xy = this.getRelativeToSurfaceXY();\n            const x = xy.x + Blockly.SNAP_RADIUS * (this.RTL ? -1 : 1);\n            const y = xy.y + Blockly.SNAP_RADIUS * 2;\n\n            block.setAttribute('x', x);\n            block.setAttribute('y', y);\n\n            const mutation = this.mutationToDom();\n\n            block.appendChild(mutation);\n\n            const field = document.createElement('field');\n            field.setAttribute('name', 'NAME');\n            field.appendChild(document.createTextNode(this.getProcedureCall()));\n\n            block.appendChild(field);\n            xml.appendChild(block);\n\n            Blockly.Xml.domToWorkspace(xml, this.workspace);\n            Blockly.Events.setGroup(false);\n\n            const procedure_definition = Blockly.Procedures.getDefinition(name, this.workspace);\n            this.data = procedure_definition.id;\n        } else if (event.type === Blockly.Events.BLOCK_DELETE) {\n            // Look for the case where a procedure definition has been deleted,\n            // leaving this block (a procedure call) orphaned.  In this case, delete\n            // the orphan.\n            const name = this.getProcedureCall();\n            const def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (!def) {\n                Blockly.Events.setGroup(event.group);\n                this.dispose(true, false);\n                Blockly.Events.setGroup(false);\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n            const name = this.getProcedureCall();\n            const def = Blockly.Procedures.getDefinition(name, this.workspace);\n\n            if (def && def.id === event.blockId) {\n                // in most cases the old group should be ''\n                const oldGroup = Blockly.Events.getGroup();\n\n                if (oldGroup) {\n                    // This should only be possible programatically and may indicate a problem\n                    // with event grouping. If you see this message please investigate. If the\n                    // use ends up being valid we may need to reorder events in the undo stack.\n                    // eslint-disable-next-line no-console\n                    console.log('Saw an existing group while responding to a definition change');\n                }\n\n                Blockly.Events.setGroup(event.group);\n\n                if (event.newValue) {\n                    this.previousDisabledState = this.disabled;\n                    this.setDisabled(true);\n                } else {\n                    this.setDisabled(this.previousDisabledState);\n                }\n\n                Blockly.Events.setGroup(oldGroup);\n            }\n        }\n    },\n    /**\n     * Returns the related procedure definition block.\n     * @return {Blockly.Block} Procedure definition block.\n     * @this Blockly.Block\n     */\n    getProcedureDefinition(name) {\n        // Assume that a procedure definition is a top block.\n        return this.workspace.getTopBlocks(false).find(block => {\n            if (block.getProcedureDef) {\n                const tuple = block.getProcedureDef();\n                return tuple && Blockly.Names.equals(tuple[0], name);\n            }\n            return false;\n        });\n    },\n    /**\n     * Returns the name of the procedure this block calls.\n     * @return {string} Procedure name.\n     * @this Blockly.Block\n     */\n    getProcedureCall() {\n        // The NAME field is guaranteed to exist, null will never be returned.\n        return /** @type {string} */ (this.getFieldValue('NAME'));\n    },\n    /**\n     * Notification that a procedure is renaming.\n     * If the name matches this block's procedure, rename it.\n     * @param {string} oldName Previous name of procedure.\n     * @param {string} newName Renamed procedure.\n     * @this Blockly.Block\n     */\n    renameProcedure(oldName, newName) {\n        if (Blockly.Names.equals(oldName, this.getProcedureCall())) {\n            this.setFieldValue(newName, 'NAME');\n        }\n    },\n    /**\n     * Notification that the procedure's parameters have changed.\n     * @param {!Array.<string>} paramNames New param names, e.g. ['x', 'y', 'z'].\n     * @private\n     * @this Blockly.Block\n     */\n    setProcedureParameters(paramNames) {\n        // Rebuild the block's arguments.\n        this.arguments = [].concat(paramNames);\n\n        // And rebuild the argument model list.\n        this.argument_var_models = this.arguments.map(argumentName =>\n            Blockly.Variables.getOrCreateVariablePackage(this.workspace, null, argumentName, '')\n        );\n\n        this.updateShape();\n    },\n    /**\n     * Modify this block to have the correct number of arguments.\n     * @private\n     * @this Blockly.Block\n     */\n    updateShape() {\n        this.arguments.forEach((argumentName, i) => {\n            let field = this.getField(`ARGNAME${i}`);\n            if (field) {\n                // Ensure argument name is up to date.\n                // The argument name field is deterministic based on the mutation,\n                // no need to fire a change event.\n                Blockly.Events.disable();\n                try {\n                    field.setValue(argumentName);\n                } finally {\n                    Blockly.Events.enable();\n                }\n            } else {\n                // Add new input.\n                field = new Blockly.FieldLabel(argumentName);\n                const input = this.appendValueInput(`ARG${i}`).appendField(field, `ARGNAME${i}`);\n                input.init();\n            }\n        });\n\n        // Remove deleted inputs.\n        let i = this.arguments.length;\n        while (this.getInput(`ARG${i}`)) {\n            this.removeInput(`ARG${i}`);\n            i++;\n        }\n\n        // Add 'with:' if there are parameters, remove otherwise.\n        const topRow = this.getInput('TOPROW');\n\n        if (topRow) {\n            if (this.arguments.length) {\n                if (!this.getField('WITH')) {\n                    topRow.appendField(localize('with:'), 'WITH');\n                    topRow.init();\n                }\n            } else if (this.getField('WITH')) {\n                topRow.removeField('WITH');\n            }\n        }\n    },\n    /**\n     * Create XML to represent the (non-editable) name and arguments.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('name', this.getProcedureCall());\n\n        this.arguments.forEach(argumentName => {\n            const parameter = document.createElement('arg');\n            parameter.setAttribute('name', argumentName);\n            container.appendChild(parameter);\n        });\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the (non-editable) name and parameters.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const name = xmlElement.getAttribute('name');\n        this.renameProcedure(this.getProcedureCall(), name);\n\n        const args = [];\n        const paramIds = [];\n\n        xmlElement.childNodes.forEach(childNode => {\n            if (childNode.nodeName.toLowerCase() === 'arg') {\n                args.push(childNode.getAttribute('name'));\n                paramIds.push(childNode.getAttribute('paramId'));\n            }\n        });\n\n        this.setProcedureParameters(args, paramIds);\n    },\n    /**\n     * Return all variables referenced by this block.\n     * @return {!Array.<!Blockly.VariableModel>} List of variable models.\n     * @this Blockly.Block\n     */\n    getVarModels() {\n        return this.argument_var_models;\n    },\n    /**\n     * Add menu option to find the definition block for this call.\n     * @param {!Array} options List of menu options to add to.\n     * @this Blockly.Block\n     */\n    customContextMenu(options) {\n        const name = this.getProcedureCall();\n        const { workspace } = this;\n\n        const option = { enabled: true };\n        option.text = localize('Highlight function definition');\n        option.callback = () => {\n            const def = this.getProcedureDefinition(name);\n            if (def) {\n                workspace.centerOnBlock(def.id);\n                def.select();\n            }\n        };\n\n        options.push(option);\n    },\n    defType: 'procedures_defnoreturn',\n};\n\nBlockly.JavaScript.procedures_callnoreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n    const args = block.arguments.map(\n        (arg, i) => Blockly.JavaScript.valueToCode(block, `ARG${i}`, Blockly.JavaScript.ORDER_COMMA) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.procedures_callreturn = {\n    init() {\n        this.arguments = [];\n        this.previousDisabledState = false;\n\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'NAME',\n                    text: this.id,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'TOPROW',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Custom function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Custom function'),\n            description: '',\n        };\n    },\n    onchange: Blockly.Blocks.procedures_callnoreturn.onchange,\n    getProcedureDefinition: Blockly.Blocks.procedures_callnoreturn.getProcedureDefinition,\n    getProcedureCall: Blockly.Blocks.procedures_callnoreturn.getProcedureCall,\n    renameProcedure: Blockly.Blocks.procedures_callnoreturn.renameProcedure,\n    setProcedureParameters: Blockly.Blocks.procedures_callnoreturn.setProcedureParameters,\n    updateShape: Blockly.Blocks.procedures_callnoreturn.updateShape,\n    mutationToDom: Blockly.Blocks.procedures_callnoreturn.mutationToDom,\n    domToMutation: Blockly.Blocks.procedures_callnoreturn.domToMutation,\n    getVarModels: Blockly.Blocks.procedures_callnoreturn.getVarModels,\n    customContextMenu: Blockly.Blocks.procedures_callnoreturn.customContextMenu,\n    defType: 'procedures_defreturn',\n};\n\nBlockly.JavaScript.procedures_callreturn = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('NAME'),\n        Blockly.Procedures.NAME_TYPE\n    );\n    const args = block.arguments.map(\n        (arg, i) => Blockly.JavaScript.valueToCode(block, `ARG${i}`, Blockly.JavaScript.ORDER_COMMA) || 'null'\n    );\n\n    const code = `${functionName}(${args.join(', ')})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Block for conditionally returning a value from a procedure.\n * @this Blockly.Block\n */\nBlockly.Blocks.procedures_ifreturn = {\n    init() {\n        this.hasReturnValue = true;\n\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} return {{ value }}', { condition: '%1', value: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CONDITION',\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Prematurely returns a value within a function'),\n            category: Blockly.Categories.Functions,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional return'),\n            description: localize(\n                'This block returns a value when a condition is true. Use this block within either of the function blocks above.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent whether this block has a return value.\n     * @return {!Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('value', Number(this.hasReturnValue));\n        return container;\n    },\n    /**\n     * Parse XML to restore whether this block has a return value.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        const value = xmlElement.getAttribute('value');\n        this.hasReturnValue = value === '1';\n\n        if (!this.hasReturnValue) {\n            this.removeInput('VALUE');\n            this.appendDummyInput('VALUE').appendField(localize('return'));\n            this.initSvg();\n            this.render();\n        }\n    },\n    /**\n     * Called whenever anything on the workspace changes.\n     * Add warning if this flow block is not nested inside a loop.\n     * @param {!Blockly.Events.Abstract} e Change event.\n     * @this Blockly.Block\n     */\n    onchange(/* e */) {\n        if (!this.workspace.isDragging || this.workspace.isDragging()) {\n            return; // Don't change state at the start of a drag.\n        }\n\n        let legal = false;\n\n        // Is the block nested in a procedure?\n        let block = this;\n        do {\n            if (this.FUNCTION_TYPES.indexOf(block.type) !== -1) {\n                legal = true;\n                break;\n            }\n            block = block.getSurroundParent();\n        } while (block);\n\n        if (legal) {\n            const rerender = () => {\n                this.initSvg();\n                this.render();\n            };\n\n            // If needed, toggle whether this block has a return value.\n            if (block.type === 'procedures_defnoreturn' && this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendDummyInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = false;\n            } else if (block.type === 'procedures_defreturn' && !this.hasReturnValue) {\n                this.removeInput('VALUE');\n                this.appendValueInput('VALUE').appendField(localize('return'));\n                rerender();\n                this.hasReturnValue = true;\n            }\n\n            if (!this.isInFlyout) {\n                this.setDisabled(false);\n            }\n        } else if (!this.isInFlyout && !this.getInheritedDisabled()) {\n            this.setDisabled(true);\n        }\n    },\n    /**\n     * List of block types that are functions and thus do not need warnings.\n     * To add a new function type add this to your code:\n     * Blockly.Blocks['procedures_ifreturn'].FUNCTION_TYPES.push('custom_func');\n     */\n    FUNCTION_TYPES: ['procedures_defnoreturn', 'procedures_defreturn'],\n};\n\nBlockly.JavaScript.procedures_ifreturn = block => {\n    const condition = Blockly.JavaScript.valueToCode(block, 'CONDITION', Blockly.JavaScript.ORDER_NONE) || 'false';\n\n    let branch;\n    if (block.hasReturnValue) {\n        const value = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_NONE) || 'null';\n        branch = `return ${value};\\n`;\n    } else {\n        branch = 'return;\\n';\n    }\n\n    const code = `\n    if (${condition}) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../../images';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\n\nBlockly.Blocks.lists_create_with = {\n    protected_statements: ['STACK'],\n    allowed_children: ['lists_statement'],\n    init() {\n        const field_image = new Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create list with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('list'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block creates a list with strings and numbers.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create list'),\n            description: localize('This block creates a list with strings and numbers.'),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const statement_block = this.workspace.newBlock('lists_statement');\n            statement_block.required_parent_id = this.id;\n            statement_block.setMovable(false);\n            statement_block.initSvg();\n            statement_block.render();\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(statement_block.previousConnection);\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            // Only allow \"text_statement\" type blocks\n            const blocks_in_stack = this.getBlocksInStatement('STACK');\n            blocks_in_stack.forEach(block => {\n                if (!this.allowed_children.includes(block.type)) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(/* healStack */ false);\n                    });\n                }\n            });\n        }\n    },\n};\n\n// Head's up! This is also the code generation for the \"text_join\" block.\nBlockly.JavaScript.lists_create_with = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = Blockly.JavaScript[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements.join(', ')}];\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../utils';\n\nBlockly.Blocks.lists_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('create list with item {{ input_item }} repeated {{ number }} times', {\n                input_item: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'ITEM',\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Creates a list by repeating a given item'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat an item'),\n            description: localize('Creates a list with a given item repeated for a specific number of times.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            ITEM: emptyTextValidator,\n            NUM: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_repeat = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = Blockly.JavaScript.provideFunction_('listsRepeat', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n            var array = [];\n            for (var i = 0; i < n; i++) {\n                array[i] = value;\n            }\n            return array;\n        }`,\n    ]);\n\n    const element = Blockly.JavaScript.valueToCode(block, 'ITEM', Blockly.JavaScript.ORDER_COMMA) || 'null';\n    const repeat_count = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const code = `${function_name}(${element}, ${repeat_count})`;\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the total number of items in a given list.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Length'),\n            description: localize('This block gives you the total number of items in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_length = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n\n    const code = `${list}.length`;\n    return [code, Blockly.JavaScript.ORDER_MEMBER];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('list {{ input_list }} is empty', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['Array'],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Checks if a given list is empty'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is list empty?'),\n            description: localize(\n                'This block checks if a given list is empty. It returns “True” if the list is empty, “False” if otherwise.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_isEmpty = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === list) !== -1;\n\n    const code = isVariable ? `!${list} || !${list}.length` : `!${list}.length`;\n    return [code, Blockly.JavaScript.ORDER_LOGICAL_NOT];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in list {{ input_list }} find {{ first_or_last }} occurence of item {{ input_value }}',\n                {\n                    input_list: '%1',\n                    first_or_last: '%2',\n                    input_value: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the position of an item in a given list.'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List item position'),\n            description: localize('This block gives you the position of an item in a given list.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            FIND: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_indexOf = block => {\n    const operator = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const item = Blockly.JavaScript.valueToCode(block, 'FIND', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${list}.${operator}(${item})`;\n\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, Blockly.JavaScript.ORDER_ADDITION];\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_getIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('get'), 'GET'],\n            [localize('get and remove'), 'GET_REMOVE'],\n            [localize('remove'), 'REMOVE'],\n        ];\n        this.WHERE_OPTIONS = [\n            ['#', 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n        const modeMenu = new Blockly.FieldDropdown(this.MODE_OPTIONS, value => {\n            const isStatement = value === 'REMOVE';\n            this.updateStatement(isStatement);\n        });\n\n        this.appendValueInput('VALUE').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(modeMenu, 'MODE');\n        this.appendDummyInput('AT');\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setTooltip(\n            'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n        );\n        this.setOutput(true, null);\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get list item'),\n            description: localize(\n                'This block gives you the value of a specific item in a list, given the position of the item. It can also remove the item from the list.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isStatement = !this.outputConnection;\n        const isAt = this.getInput('AT').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('statement', isStatement);\n        container.setAttribute('at', isAt);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isStatement = xmlElement.getAttribute('statement') === 'true';\n        this.updateStatement(isStatement);\n\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateStatement(newStatement) {\n        const oldStatement = !this.outputConnection;\n\n        if (newStatement !== oldStatement) {\n            this.unplug(true, true);\n\n            this.setOutput(!newStatement);\n            this.setPreviousStatement(newStatement);\n            this.setNextStatement(newStatement);\n\n            this.initSvg();\n            this.render(false);\n        }\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput('AT').appendField(menu, 'WHERE');\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_getIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'GET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const listOrder = where === 'RANDOM' ? Blockly.JavaScript.ORDER_COMMA : Blockly.JavaScript.ORDER_MEMBER;\n    const list = Blockly.JavaScript.valueToCode(block, 'VALUE', listOrder) || '[]';\n\n    let code, order;\n\n    if (where === 'FIRST') {\n        if (mode === 'GET') {\n            code = `${list}[0]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.shift()`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.shift();\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'GET') {\n            code = `${list}.slice(-1)[0]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.pop()`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'REMOVE') {\n            return `${list}.pop();\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        if (mode === 'GET') {\n            code = `${list}[${at}]`;\n            order = Blockly.JavaScript.ORDER_MEMBER;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, true);\n        if (mode === 'GET') {\n            code = `${list}.slice(${at})[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'GET_REMOVE') {\n            code = `${list}.splice(${at}, 1)[0]`;\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${list}.splice(${at}, 1);\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('listsGetRandomItem', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n                var x = Math.floor(Math.random() * list.length);\n                if (remove) {\n                    return list.splice(x, 1)[0];\n                } else {\n                    return list[x];\n                }\n            }`,\n        ]);\n\n        code = `${functionName}(${list}, ${mode !== 'GET'})`;\n\n        if (mode === 'GET' || mode === 'GET_REMOVE') {\n            order = Blockly.JavaScript.ORDER_FUNCTION_CALL;\n        } else if (mode === 'REMOVE') {\n            return `${code};\\n`;\n        }\n    }\n\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_setIndex = {\n    init() {\n        this.MODE_OPTIONS = [\n            [localize('set'), 'SET'],\n            [localize('insert at'), 'INSERT'],\n        ];\n        this.WHERE_OPTIONS = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n            [localize('last'), 'LAST'],\n            [localize('random'), 'RANDOM'],\n        ];\n\n        this.appendValueInput('LIST').setCheck('Array').appendField(localize('in list'));\n        this.appendDummyInput().appendField(new Blockly.FieldDropdown(this.MODE_OPTIONS), 'MODE');\n        this.appendDummyInput('AT');\n        this.appendValueInput('TO').appendField(localize('as'));\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setPreviousStatement(true, null);\n        this.setNextStatement(true, null);\n        this.setTooltip(\n            localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            )\n        );\n        this.updateAt(true);\n    },\n    meta() {\n        return {\n            display_name: localize('Set list item'),\n            description: localize(\n                'This block replaces a specific item in a list with another given item. It can also insert the new item in the list at a specific position.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt = this.getInput('AT').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at', isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        } else {\n            this.appendDummyInput('AT');\n        }\n\n        const menu = new Blockly.FieldDropdown(this.WHERE_OPTIONS, value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.moveInputBefore('AT', 'TO');\n        this.getInput('AT').appendField(menu, 'WHERE');\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_setIndex = block => {\n    const mode = block.getFieldValue('MODE') || 'SET';\n    const where = block.getFieldValue('WHERE') || 'FIRST';\n    const value = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_ASSIGNMENT) || 'null';\n\n    let list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n\n    const cacheList = () => {\n        if (list.match(/^\\w+$/)) {\n            return '';\n        }\n\n        // eslint-disable-next-line no-underscore-dangle\n        const listVar = Blockly.JavaScript.variableDB_.getDistinctName('tmpList', Blockly.Variables.NAME_TYPE);\n        const code = `var ${listVar} = ${list};\\n`;\n\n        list = listVar;\n        return code;\n    };\n\n    let code;\n\n    if (where === 'FIRST') {\n        if (mode === 'SET') {\n            code = `${list}[0] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.unshift(${value});\\n`;\n        }\n    } else if (where === 'LAST') {\n        if (mode === 'SET') {\n            code = cacheList();\n            code += `${list}[${list}.length - 1] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.push(${value});\\n`;\n        }\n    } else if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        if (mode === 'SET') {\n            code = `${list}[${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n        code = cacheList();\n        if (mode === 'SET') {\n            code = `${list}[${list}.length - ${at}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code = `${list}.splice(${list}.length - ${at}, 0, ${value});\\n`;\n        }\n    } else if (where === 'RANDOM') {\n        code = cacheList();\n\n        // eslint-disable-next-line no-underscore-dangle\n        const xVar = Blockly.JavaScript.variableDB_.getDistinctName('tmpX', Blockly.Variables.NAME_TYPE);\n\n        code += `var ${xVar} = Math.floor(Math.random() * ${list}.length);\\n`;\n\n        if (mode === 'SET') {\n            code += `${list}[${xVar}] = ${value};\\n`;\n        } else if (mode === 'INSERT') {\n            code += `${list}.splice(${xVar}, 0, ${value});\\n`;\n        }\n    }\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_getSublist = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('get sub-list from #'), 'FROM_START'],\n            [localize('get sub-list from # from end'), 'FROM_END'],\n            [localize('get sub-list from first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('#'), 'FROM_START'],\n            [localize('# from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.appendValueInput('LIST').appendField(localize('in list'));\n        this.appendDummyInput('AT1');\n        this.appendDummyInput('AT2');\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setOutput(true, null);\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n        this.setTooltip(\n            localize('This block creates a list of items from an existing list, using specific item positions.')\n        );\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    meta() {\n        return {\n            display_name: localize('Get sub-list'),\n            description: localize(\n                'This block creates a list of items from an existing list, using specific item positions.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, isAt) {\n        this.removeInput(`AT${n}`);\n\n        if (isAt) {\n            this.appendValueInput(`AT${n}`).setCheck('Number');\n        } else {\n            this.appendDummyInput(`AT${n}`);\n        }\n\n        const menu = new Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== isAt) {\n                this.updateAt(n, newAt);\n                this.setFieldValue(value, `WHERE${n}`);\n                return null;\n            }\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_getSublist = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_MEMBER) || '[]';\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = `${list}.slice(0)`;\n    } else if (list.match(/^\\w+$/) || (where1 !== 'FROM_END' && where2 === 'FROM_START')) {\n        if (where1 === 'FROM_START') {\n            at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        } else if (where1 === 'FROM_END') {\n            at1 = Blockly.JavaScript.getAdjusted(block, 'AT1', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n            at1 = `${list}.length - ${at1}`;\n        } else if (where1 === 'FIRST') {\n            at1 = '0';\n        }\n\n        if (where2 === 'FROM_START') {\n            at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 1);\n        } else if (where2 === 'FROM_END') {\n            at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 0, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n            at2 = `${list}.length - ${at2}`;\n        } else if (where2 === 'LAST') {\n            at2 = `${list}.length`;\n        }\n\n        code = `${list}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        at2 = Blockly.JavaScript.getAdjusted(block, 'AT2');\n        const where_pascal_case = {\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n            FIRST: 'First',\n            LAST: 'Last',\n        };\n\n        const getIndex = (list_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${list_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${list_name}.length - 1`;\n            }\n            return `${opt_at}`;\n        };\n\n        const has_at1 = where1 === 'FROM_END' || where1 === 'FROM_START';\n        const has_at2 = where2 === 'FROM_END' || where2 === 'FROM_START';\n\n        // eslint-disable-next-line no-underscore-dangle\n        const function_name = Blockly.JavaScript.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence${has_at1 ? ', at1' : ''}${has_at2 ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end = ${getIndex('sequence', where2, 'at2')} + 1;\n\n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${function_name}(${list}${has_at1 ? `, ${at1}` : ''}${has_at2 ? `, ${at2}` : ''})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_split = {\n    init() {\n        const dropdown = new Blockly.FieldDropdown(\n            [\n                [localize('make list from text'), 'SPLIT'],\n                [localize('make text from list'), 'JOIN'],\n            ],\n            newMode => this.updateType(newMode)\n        );\n\n        this.appendValueInput('INPUT').setCheck('String').appendField(dropdown, 'MODE');\n        this.appendValueInput('DELIM')\n            .setCheck('String')\n            .appendField('', 'SPACE1')\n            .appendField(localize('with delimiter'), 'DELIM_LABEL');\n        this.appendDummyInput().appendField('', 'SPACE2');\n\n        this.setOutput(true, 'Array');\n        this.setOutputShape(Blockly.OUTPUT_SHAPE_ROUND);\n\n        // eslint-disable-next-line no-underscore-dangle\n        this.setColourFromRawValues_(\n            Blockly.Colours.Base.colour,\n            Blockly.Colours.Base.colourSecondary,\n            Blockly.Colours.Base.colourTertiary\n        );\n        this.setTooltip(\n            localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            )\n        );\n    },\n    meta() {\n        return {\n            display_name: localize('Create list from text'),\n            description: localize(\n                'This block creates a list from a given string of text, splitting it with the given delimiter. It can also join items in a list into a string of text.'\n            ),\n            category: Blockly.Categories.List,\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('mode', this.getFieldValue('MODE'));\n        return container;\n    },\n    domToMutation(xmlElement) {\n        this.updateType(xmlElement.getAttribute('mode'));\n    },\n    updateType(newMode) {\n        const delimInput = this.getInput('DELIM');\n        const spaceField = this.getField('SPACE1');\n\n        if (newMode === 'SPLIT') {\n            this.outputConnection.setCheck('Array');\n            this.getInput('INPUT').setCheck('String');\n\n            // Create extra spacing for OUTPUT_SHAPE_SQUARE (i.e. string shapes)\n            if (!spaceField) {\n                delimInput.insertFieldAt(0, '', 'SPACE1');\n            }\n        } else {\n            this.outputConnection.setCheck('String');\n            this.getInput('INPUT').setCheck(null);\n\n            if (spaceField) {\n                delimInput.removeField('SPACE1');\n            }\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n};\n\nBlockly.JavaScript.lists_split = block => {\n    const input = Blockly.JavaScript.valueToCode(block, 'INPUT', Blockly.JavaScript.ORDER_MEMBER);\n    const delimiter = Blockly.JavaScript.valueToCode(block, 'DELIM', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const mode = block.getFieldValue('MODE');\n\n    let code;\n\n    if (mode === 'SPLIT') {\n        code = `${input || \"''\"}.split(${delimiter})`;\n    } else if (mode === 'JOIN') {\n        code = `${input || '[]'}.join(${delimiter})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lists_sort = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('sort {{ sort_type }} {{ sort_direction }} {{ input_list }}', {\n                sort_type: '%1',\n                sort_direction: '%2',\n                input_list: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('numeric'), 'NUMERIC'],\n                        [localize('alphabetic'), 'TEXT'],\n                    ],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'DIRECTION',\n                    options: [\n                        [localize('ascending'), '1'],\n                        [localize('descending'), '-1'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Sorts the items in a given list'),\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sort list'),\n            description: localize(\n                'Sorts the items in a given list, by their numeric or alphabetical value, in either ascending or descending order.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.lists_sort = block => {\n    const list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_FUNCTION_CALL) || '[]';\n    const direction = block.getFieldValue('DIRECTION') === '1' ? 1 : -1;\n    const type = block.getFieldValue('TYPE');\n    // eslint-disable-next-line no-underscore-dangle\n    const getCompareFunctionName = Blockly.JavaScript.provideFunction_('listsGetSortCompare', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n            var compareFuncs = {\n                NUMERIC: function(a, b) {\n                    return parseFloat(a) - parseFloat(b);\n                },\n                TEXT: function(a, b) {\n                    return a.toString() > b.toString() ? 1 : -1;\n                }\n            };\n\n            return function(a, b) {\n                return compareFuncs[type](a, b) * direction; \n            }\n        }`,\n    ]);\n\n    const code = `${list}.sort().slice(0).sort(${getCompareFunctionName}(\"${type}\", ${direction}))`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { minusIconDark } from '../../images';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\n\nBlockly.Blocks.lists_statement = {\n    required_parent_type: 'lists_create_with',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new Blockly.FieldImage(minusIconDark, 25, 25, '', () => this.onIconClick());\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.List,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('List Statement'),\n            description: '',\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            this.unplug(true);\n            this.dispose();\n        });\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const surround_parent = this.getSurroundParent();\n\n            if (!surround_parent) {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            } else if (!this.required_parent_id && surround_parent.type === this.required_parent_type) {\n                // Create connection between parent and orphaned child.\n                this.required_parent_id = surround_parent.id;\n            } else if (surround_parent.id !== this.required_parent_id) {\n                // Someone pretending to be this child's parent. Find original parent and reconnect.\n                // Happens when someone tries to connect a statement block and Blockly automagically\n                // reconnects the children to this foreign statement block.\n                const all_blocks = this.workspace.getAllBlocks();\n                const original_parent = all_blocks.find(block => block.id === this.required_parent_id);\n\n                if (original_parent) {\n                    const last_connection = original_parent.getLastConnectionInStatement('STACK');\n\n                    runIrreversibleEvents(() => {\n                        last_connection.connect(this.previousConnection);\n                    });\n                } else {\n                    // Dispose child if it became a child of an illegal parent and original parent\n                    // is nowhere to be found.\n                    runIrreversibleEvents(() => {\n                        this.dispose(/* healStack */ true);\n                    });\n                }\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.lists_statement = block => {\n    const code = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ATOMIC) || 'null';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_repeat_ext = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMES',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (2)'),\n            description: localize(\n                'This block is similar to the block above, except that the number of times it repeats is determined by a given variable.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMES: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_repeat_ext = block => {\n    let repeats;\n    if (block.getField('TIMES')) {\n        repeats = String(Number(block.getFieldValue('TIMES')));\n    } else {\n        repeats = Blockly.JavaScript.valueToCode(block, 'TIMES', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    }\n\n    const branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    let code = '';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const loopVar = Blockly.JavaScript.variableDB_.getDistinctName('count', Blockly.Variables.NAME_TYPE);\n    let endVar = repeats;\n\n    if (!repeats.match(/^\\w+$/) && !Blockly.isNumber(repeats)) {\n        // eslint-disable-next-line no-underscore-dangle\n        endVar = Blockly.JavaScript.variableDB_.getDistinctName('repeat_end', Blockly.Variables.NAME_TYPE);\n        code += `var ${endVar} = ${repeats};\\n`;\n    }\n\n    code += `\n    for (var ${loopVar} = 0; ${loopVar} < ${endVar}; ${loopVar}++) {\n        ${branch}\n    }\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_repeat = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'controls_repeat',\n            message0: localize('repeat {{ number }} times', { number: '%1' }),\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'TIMES',\n                    value: 10,\n                    min: 0,\n                    precision: 1,\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Repeats inside instructions specified number of times'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat (1)'),\n            description: localize(\n                'This block repeats the instructions contained within for a specific number of times.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.controls_repeat = Blockly.JavaScript.controls_repeat_ext;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_whileUntil = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('repeat {{ while_or_until }} {{ boolean }}', { while_or_until: '%1', boolean: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('while'), 'WHILE'],\n                        [localize('until'), 'UNTIL'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                    check: 'Boolean',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block repeats instructions as long as a given condition is true'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Repeat While/Until'),\n            description: localize('This block repeats instructions as long as a given condition is true.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_whileUntil = block => {\n    const branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    const until = block.getFieldValue('MODE') === 'UNTIL';\n    const order = until ? Blockly.JavaScript.ORDER_LOGICAL_NOT : Blockly.JavaScript.ORDER_NONE;\n    let argument0 = Blockly.JavaScript.valueToCode(block, 'BOOL', order) || 'false';\n\n    if (until) {\n        argument0 = `!${argument0}`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const maxLoopVar = Blockly.JavaScript.variableDB_.getDistinctName('maxLoops', Blockly.Variables.NAME_TYPE);\n    // eslint-disable-next-line no-underscore-dangle\n    const currentLoopVar = Blockly.JavaScript.variableDB_.getDistinctName('currentLoop', Blockly.Variables.NAME_TYPE);\n\n    return `\n        var ${maxLoopVar} = 10000;\n        var ${currentLoopVar} = 0;\n\n        while (${argument0}) {\n            if (${currentLoopVar} > ${maxLoopVar}) {\n                throw new Error(\"${localize('Infinite loop detected')}\");\n            } else {\n                ${currentLoopVar}++;\n            }\n            \n            ${branch}\n        }\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_for = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'count with {{ variable }} from {{ start_number }} to {{ end_number }} by {{ step_size }}',\n                {\n                    variable: '%1',\n                    start_number: '%2',\n                    end_number: '%3',\n                    step_size: '%4',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'BY',\n                    check: 'Number',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block uses the variable “i” to control the iterations. With each iteration, the value of “i” is determined by the items in a given list.'\n            ),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (1)'),\n            description: localize(\n                'This block uses the variable “i” to control the iterations. With each iteration, the value of “i” is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n            BY: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_for = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'FROM', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    const increment = Blockly.JavaScript.valueToCode(block, 'BY', Blockly.JavaScript.ORDER_ASSIGNMENT) || '1';\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    branch = Blockly.JavaScript.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    if (Blockly.isNumber(argument0) && Blockly.isNumber(argument1) && Blockly.isNumber(increment)) {\n        const up = parseFloat(argument0) <= parseFloat(argument1);\n        const operator = up ? '<=' : '>=';\n        const step = Math.abs(parseFloat(increment));\n\n        const assignment = `${variable0} = ${argument0}`;\n        const condition = `${variable0} ${operator} ${argument1}`;\n        const statement = `${variable0} ${up ? '+=' : '-='} ${step}`;\n\n        code = `\n        for (${assignment}; ${condition}; ${statement}) {\n            ${branch}\n        }\\n`;\n    } else {\n        // Cache non-trivial values to variables to prevent repeated look-ups.\n        let startVar = argument0;\n        if (!argument0.match(/^\\w+$/) && !Blockly.isNumber(argument0)) {\n            // eslint-disable-next-line no-underscore-dangle\n            startVar = Blockly.JavaScript.variableDB_.getDistinctName(\n                `${variable0}_start`,\n                Blockly.Variables.NAME_TYPE\n            );\n            code = `var ${startVar} = ${argument0};\\n`;\n        }\n\n        let endVar = argument1;\n        if (!argument1.match(/^\\w+$/) && !Blockly.isNumber(argument1)) {\n            // eslint-disable-next-line no-underscore-dangle\n            endVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_end`, Blockly.Variables.NAME_TYPE);\n            code += `var ${endVar} = ${argument1};\\n`;\n        }\n\n        // Determine loop direction at start, in case one of the bounds changes during loop execution.\n        // eslint-disable-next-line no-underscore-dangle\n        const incVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_inc`, Blockly.Variables.NAME_TYPE);\n        const incVal = Blockly.isNumber(increment) ? Math.abs(increment) : `Math.abs(${increment})`;\n\n        code += `\n        var ${incVar} = ${incVal};\n        if (${startVar} > ${endVar}) {\n            ${incVar} = -${incVar};\n        }\n        for (\n           ${variable0} = ${startVar}; \n           ${incVar} >= 0 ? ${variable0} <= ${endVar} : ${variable0} >= ${endVar};\n           ${variable0} += ${incVar}\n        ) {\n            ${branch};\n        }\\n`;\n    }\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_forEach = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('for each item {{ variable }} in list {{ input_list }}', {\n                variable: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: null,\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                    check: 'Array',\n                },\n            ],\n            message1: localize('do %1'),\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Iterates through a given list'),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Iterate (2)'),\n            description: localize(\n                'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_forEach = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const variable0 = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_ASSIGNMENT) || '[]';\n\n    let branch = Blockly.JavaScript.statementToCode(block, 'DO');\n    branch = Blockly.JavaScript.addLoopTrap(branch, block.id);\n\n    let code = '';\n\n    // Cache non-trivial values to variables to prevent repeated look-ups.\n    let listVar = argument0;\n    if (!argument0.match(/^\\w+$/)) {\n        // eslint-disable-next-line no-underscore-dangle\n        listVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_list`, Blockly.Variables.NAME_TYPE);\n        code = `var ${listVar} = ${argument0};\\n`;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const indexVar = Blockly.JavaScript.variableDB_.getDistinctName(`${variable0}_list`, Blockly.Variables.NAME_TYPE);\n\n    code += `\n    for (var ${indexVar} in ${listVar}) {\n        ${variable0} = ${listVar}[${indexVar}];\n        ${branch}\n    }\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.controls_flow_statements = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ break_or_continue }} of loop', { break_or_continue: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'FLOW',\n                    options: [\n                        [localize('break out'), 'BREAK'],\n                        [localize('continue with next iteration'), 'CONTINUE'],\n                    ],\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n            category: Blockly.Categories.Loop,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Break out/continue'),\n            description: localize(\n                'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.controls_flow_statements = block => {\n    const keyword = block.getFieldValue('FLOW') === 'BREAK' ? 'break' : 'continue';\n    return `${keyword};\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.variables_get = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'variables_get',\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            tooltip: localize('Gets variable value'),\n            category: Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('User-defined variable'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (event.type === Blockly.Events.VAR_RENAME) {\n            const all_blocks = this.workspace.getAllBlocks();\n            const function_blocks = all_blocks.filter(block => block.category_ === 'custom_functions');\n            const old_param = event.oldName;\n            const new_param = event.newName;\n            function_blocks.forEach(block => {\n                if (block.arguments?.length) {\n                    const param_index = block.arguments.findIndex(item => item === old_param);\n                    if (param_index !== -1) {\n                        block.arguments[param_index] = new_param;\n                        const param_field = block.getField('PARAMS');\n                        if (param_field) {\n                            block.setFieldValue(`${localize('with: ')} ${block.arguments.join(', ')}`, 'PARAMS');\n                        }\n                        const with_field = block.getField('WITH');\n                        if (with_field) {\n                            block.updateShape();\n                        }\n                    }\n                }\n            });\n        }\n    },\n};\n\nBlockly.JavaScript.variables_get = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.variables_set = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            type: 'field_variable',\n            message0: localize('set {{ variable }} to {{ value }}', {\n                variable: '%1',\n                value: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            colour: Blockly.Colours.Special2.colour,\n            colourSecondary: Blockly.Colours.Special2.colourSecondary,\n            colourTertiary: Blockly.Colours.Special2.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sets variable value'),\n            category: Blockly.Categories.Variables,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Set variable'),\n            description: localize('Assigns a given value to a variable'),\n        };\n    },\n};\n\nBlockly.JavaScript.variables_set = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_ASSIGNMENT) || '0';\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n\n    const code = `${varName} = ${argument0};\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { finishSign } from '../../images';\n\nBlockly.Blocks.after_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: finishSign,\n                    width: 25,\n                    height: 25,\n                    alt: 'F',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('4. Restart trading conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'AFTERPURCHASE_STACK',\n                    check: 'TradeAgain',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Get the last trade information and result, then trade again.'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Restart trading conditions'),\n            description: localize('Here is where you can decide if your bot should continue trading.'),\n        };\n    },\n};\n\nBlockly.JavaScript.after_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'AFTERPURCHASE_STACK');\n    const code = `\n    BinaryBotPrivateAfterPurchase = function BinaryBotPrivateAfterPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n        Bot.isTradeAgain(false);\n        return false;\n    };`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.contract_check_result = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Result is {{ win_or_loss }}', { win_or_loss: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_RESULT',\n                    options: config.lists.CHECK_RESULT,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the result of the last trade matches the selection'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last trade result'),\n            description: localize('You can check the result of the last trade with this block.'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE || event.type === Blockly.Events.END_DRAG) {\n            const top_parent = this.getTopParent();\n\n            if (top_parent) {\n                const is_illegal_root_block = top_parent.isMainBlock() && top_parent.type !== 'after_purchase';\n\n                if (is_illegal_root_block) {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.contract_check_result = block => {\n    const checkWith = block.getFieldValue('CHECK_RESULT');\n\n    const code = `Bot.isResult('${checkWith}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.read_details = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Contract Details: {{ contract_detail }}', { contract_detail: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DETAIL_INDEX',\n                    options: config.lists.DETAILS,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND, // TODO: Investigate why block glitches in square shape.\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Reads a selected property from contract details list'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Contract details'),\n            description: localize('This block gives you information about your last contract.'),\n        };\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nBlockly.JavaScript.read_details = block => {\n    const detailIndex = block.getFieldValue('DETAIL_INDEX');\n\n    const code = `Bot.readDetails(${detailIndex})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_again = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Trade again'),\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            tooltip: localize('These blocks transfer control to the Purchase conditions block.'),\n            category: Blockly.Categories.After_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade again'),\n            description: localize(\n                'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract.'\n            ),\n            key_words: localize('restart'),\n        };\n    },\n    restricted_parents: ['after_purchase'],\n};\n\nBlockly.JavaScript.trade_again = () => {\n    const code = `\n        Bot.isTradeAgain(true);\\n\n        return true;\\n\n    `;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { purchase } from '../../images';\n\nBlockly.Blocks.before_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n        this.setDeletable(false);\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: purchase,\n                    width: 25,\n                    height: 25,\n                    alt: 'P',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('2. Purchase conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'BEFOREPURCHASE_STACK',\n                    check: 'Purchase',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Specify contract type and purchase conditions.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase conditions'),\n            description: localize(\n                'This block is mandatory. Only one copy of this block is allowed. You can place the Purchase block (see below) here as well as conditional blocks to define your purchase conditions.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.before_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'BEFOREPURCHASE_STACK');\n\n    const code = `BinaryBotPrivateBeforePurchase = function BinaryBotPrivateBeforePurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { getContractTypeOptions } from '../../../shared';\n\nBlockly.Blocks.purchase = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Purchase {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            previousStatement: null,\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize('This block purchases contract of a specified type.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase'),\n            description: localize(\n                'Use this block to purchase the specific contract you want. You may add multiple Purchase blocks together with conditional blocks to define your purchase conditions. This block can only be used within the Purchase conditions block.'\n            ),\n            key_words: localize('buy'),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.populatePurchaseList(event);\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TYPE_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.populatePurchaseList(event);\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.id) {\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_options = purchase_type_list.menuGenerator_; // eslint-disable-line\n\n            if (purchase_options[0][0] === '') {\n                this.populatePurchaseList(event);\n            }\n        }\n    },\n    populatePurchaseList(event) {\n        const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n\n        if (trade_definition_block) {\n            const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n            const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n            const contract_type_block = trade_definition_block.getChildByType('trade_definition_contracttype');\n            const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n            const purchase_type_list = this.getField('PURCHASE_LIST');\n            const purchase_type = purchase_type_list.getValue();\n            const contract_type_options = getContractTypeOptions(contract_type, trade_type);\n\n            purchase_type_list.updateOptions(contract_type_options, {\n                default_value: purchase_type,\n                event_group: event.group,\n                should_pretend_empty: true,\n            });\n        }\n    },\n    restricted_parents: ['before_purchase'],\n};\n\nBlockly.JavaScript.purchase = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.purchase('${purchaseList}');\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ask_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ask Price {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the purchase price for the selected trade type.'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Purchase price'),\n            description: localize(\n                'This block returns the purchase price for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: Blockly.Blocks.purchase.enforceLimitations,\n};\n\nBlockly.JavaScript.ask_price = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getAskPrice('${purchaseList}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.payout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Payout {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'PURCHASE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns the potential payout for the selected trade type'),\n            category: Blockly.Categories.Before_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Potential payout'),\n            description: localize(\n                'This block returns the potential payout for the selected trade type. This block can be used only in the \"Purchase conditions\" root block.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.purchase.onchange,\n    populatePurchaseList: Blockly.Blocks.purchase.populatePurchaseList,\n    enforceLimitations: Blockly.Blocks.purchase.enforceLimitations,\n};\n\nBlockly.JavaScript.payout = block => {\n    const purchaseList = block.getFieldValue('PURCHASE_LIST');\n\n    const code = `Bot.getPayout('${purchaseList}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { sellContract } from '../../images';\n\nBlockly.Blocks.during_purchase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: sellContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'S',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('3. Sell conditions'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DURING_PURCHASE_STACK',\n                    check: 'SellAtMarket',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Sell your active contract if needed (optional)'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell conditions'),\n            description: localize(\n                'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.during_purchase = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'DURING_PURCHASE_STACK');\n\n    const code = `BinaryBotPrivateDuringPurchase = function BinaryBotPrivateDuringPurchase() {\n        Bot.highlightBlock('${block.id}');\n        ${stack}\n    };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sell_at_market = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell at market price'),\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Use this block to sell your contract at the market price.'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Sell at market price'),\n            description: localize('Use this block to sell your contract at the market price.'),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.sell_at_market = () => 'Bot.sellAtMarket();\\n';\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.check_sell = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell is available'),\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if active contract can be sold before expiration at current market price'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Can contract be sold?'),\n            description: localize(\n                'This block helps you check if your contract can be sold. If your contract can be sold, it returns “True”. Otherwise, it returns an empty string.'\n            ),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.check_sell = () => {\n    const code = 'Bot.isSellAvailable()';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sell_price = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Sell profit/loss'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the profit/loss from selling at market price'),\n            category: Blockly.Categories.During_Purchase,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Profit/loss from selling'),\n            description: localize(\n                'This block gives you the potential profit or loss if you decide to sell your contract.'\n            ),\n        };\n    },\n    restricted_parents: ['during_purchase'],\n};\n\nBlockly.JavaScript.sell_price = () => {\n    const code = 'Bot.getSellPrice()';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.bb_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bb',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config.bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands (BB)'),\n            description: localize(\n                'BB is a technical analysis indicator that’s commonly used by traders. The idea behind BB is that the market price stays within the upper and lower bands for 95% of the time. The bands are the standard deviations of the market price, while the line in the middle is a simple moving average line. If the price reaches either the upper or lower band, there’s a possibility of a trend reversal.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const blocksInStatement = this.getBlocksInStatement('STATEMENT');\n            blocksInStatement.forEach(block => {\n                if (!this.required_child_blocks.includes(block.type)) {\n                    Blockly.Events.disable();\n                    block.unplug(false);\n                    Blockly.Events.enable();\n                }\n            });\n        }\n    },\n};\n\nBlockly.JavaScript.bb_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bb(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.bba_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period', 'std_dev_multiplier_up', 'std_dev_multiplier_down'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Bollinger Bands Array {{ band_type }} {{ dummy }}', {\n                variable: '%1',\n                band_type: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'bba',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'BBRESULT_LIST',\n                    options: config.bbResult,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Bollinger Bands (BB) list from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Bollinger Bands Array (BBA)'),\n            description: localize(\n                'Similar to BB. This block gives you a choice of returning the values of either the lower band, higher band, or the SMA line in the middle.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.bba_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const bb_result = block.getFieldValue('BBRESULT_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const std_dev_up = block.childValueToCode('std_dev_multiplier_up', 'UPMULTIPLIER');\n    const std_dev_down = block.childValueToCode('std_dev_multiplier_down', 'DOWNMULTIPLIER');\n    const code = `${var_name} = Bot.bba(${input}, { \n        periods: ${period}, \n        stdDevUp: ${std_dev_up}, \n        stdDevDown: ${std_dev_down} \n    }, ${bb_result});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ema_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'ema',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average (EMA)'),\n            description: localize(\n                'EMA is a type of moving average that places more significance on the most recent data points. It’s also known as the exponentially weighted moving average. EMA is different from SMA in that it reacts more significantly to recent price changes.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.ema_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.ema(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.emaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Exponential Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'emaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Exponential Moving Average (EMA) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Exponential Moving Average Array (EMAA)'),\n            description: localize(\n                'This block is similar to EMA, except that it gives you the entire EMA line based on the input list and the given period.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.emaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.emaa(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.rsi_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsi',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Relative Strength Index (RSI) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index (RSI)'),\n            description: localize(\n                'RSI is a technical analysis tool that helps you identify the market trend. It will give you a value from 0 to 100. An RSI value of 70 and above means that the asset is overbought and the current trend may reverse, while a value of 30 and below means that the asset is oversold.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.rsi_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsi(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.rsia_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Relative Strength Index Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'rsia',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Relative Strength Index (RSI) list from a list of values with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Relative Strength Index Array (RSIA)'),\n            description: localize(\n                'Similar to RSI, this block gives you a list of values for each entry in the input list.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.rsia_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.rsia(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.sma_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'sma',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average (SMA) from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average (SMA)'),\n            description: localize(\n                'SMA is a frequently used indicator in technical analysis. It calculates the average market price over a specified period, and is usually used to identify market trend direction: up or down. For example, if the SMA is moving upwards, it means the market trend is up. '\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.sma_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.sma(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.smaa_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to Simple Moving Average Array {{ dummy }}', {\n                variable: '%1',\n                dummy: '%2',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'smaa',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Simple Moving Average line from a list with a period'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Simple Moving Average Array (SMAA)'),\n            description: localize(\n                'Similar to SMA, this block gives you the entire SMA line containing a list of all values for a given period.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.smaa_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const period = block.childValueToCode('period', 'PERIOD');\n    const code = `${var_name} = Bot.smaa(${input}, ${period});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.macda_statement = {\n    protected_statements: ['STATEMENT'],\n    required_child_blocks: ['input_list', 'fast_ema_period', 'slow_ema_period', 'signal_ema_period'],\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to MACD Array {{ dropdown }} {{ dummy }}', {\n                variable: '%1',\n                dropdown: '%2',\n                dummy: '%3',\n            }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: 'macda',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'MACDFIELDS_LIST',\n                    options: config.macdFields,\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STATEMENT',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Calculates Moving Average Convergence Divergence (MACD) from a list'),\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Indicators,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Moving Average Convergence Divergence'),\n            description: localize(\n                'MACD is calculated by subtracting the long-term EMA (26 periods) from the short-term EMA (12 periods). If the short-term EMA is greater or lower than the long-term EMA than there’s a possibility of a trend reversal.'\n            ),\n        };\n    },\n\n    onchange: Blockly.Blocks.bb_statement.onchange,\n};\n\nBlockly.JavaScript.macda_statement = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const macd_field = block.getFieldValue('MACDFIELDS_LIST');\n    const input = block.childValueToCode('input_list', 'INPUT_LIST');\n    const fast_ema_period = block.childValueToCode('fast_ema_period', 'FAST_EMA_PERIOD');\n    const slow_ema_period = block.childValueToCode('slow_ema_period', 'SLOW_EMA_PERIOD');\n    const signal_ema_period = block.childValueToCode('signal_ema_period', 'SIGNAL_EMA_PERIOD');\n    const code = `${var_name} = Bot.macda(${input}, { \n        fastEmaPeriod: ${fast_ema_period},\n        slowEmaPeriod: ${slow_ema_period},\n        signalEmaPeriod: ${signal_ema_period},\n    }, ${macd_field});\\n`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { runIrreversibleEvents } from '../../../../utils';\n\nBlockly.Blocks.input_list = {\n    init() {\n        this.jsonInit({\n            message0: localize('Input List {{ input_list }}', { input_list: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'INPUT_LIST',\n                    check: 'Array',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const setParentId = () => {\n            const surround_parent = this.getSurroundParent();\n            if (surround_parent && !this.required_parent_id && this.allowed_parents.includes(surround_parent.type)) {\n                this.required_parent_id = surround_parent.id;\n            }\n        };\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            setParentId();\n        } else if (event.type === Blockly.Events.END_DRAG) {\n            setParentId();\n\n            const surround_parent = this.getSurroundParent();\n            const has_parent = !!surround_parent;\n            const is_illegal_parent = !has_parent || surround_parent.id !== this.required_parent_id;\n\n            if (!has_parent || is_illegal_parent) {\n                runIrreversibleEvents(() => {\n                    this.unplug(true);\n\n                    // Attempt to re-connect this child to its original parent.\n                    const all_blocks = this.workspace.getAllBlocks();\n                    const parent_block = all_blocks.find(block => block.id === this.required_parent_id);\n\n                    if (parent_block) {\n                        const parent_connection = parent_block.getLastConnectionInStatement('STATEMENT');\n                        parent_connection.connect(this.previousConnection);\n                    } else {\n                        this.dispose();\n                    }\n                });\n            }\n        }\n    },\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            INPUT_LIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.input_list = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Period {{ input_period }}', { input_period: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: [\n        'bb_statement',\n        'bba_statement',\n        'ema_statement',\n        'emaa_statement',\n        'macda_statement',\n        'rsi_statement',\n        'rsia_statement',\n        'sma_statement',\n        'smaa_statement',\n    ],\n    getRequiredValueInputs() {\n        return {\n            PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.std_dev_multiplier_up = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Up Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'UPMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            UPMULTIPLIER: null,\n        };\n    },\n};\n\nBlockly.JavaScript.std_dev_multiplier_up = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.std_dev_multiplier_down = {\n    init() {\n        this.jsonInit({\n            message0: localize('Standard Deviation Down Multiplier {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DOWNMULTIPLIER',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['bb_statement', 'bba_statement'],\n    getRequiredValueInputs() {\n        return {\n            DOWNMULTIPLIER: null,\n        };\n    },\n};\n\nBlockly.JavaScript.std_dev_multiplier_down = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.fast_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Fast EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FAST_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            FAST_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.fast_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.slow_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Slow EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SLOW_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SLOW_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.slow_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.signal_ema_period = {\n    init() {\n        this.jsonInit({\n            message0: localize('Signal EMA Period {{ input_number }}', { input_number: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'SIGNAL_EMA_PERIOD',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange: Blockly.Blocks.input_list.onchange,\n    allowed_parents: ['macda_statement'],\n    getRequiredValueInputs() {\n        return {\n            SIGNAL_EMA_PERIOD: null,\n        };\n    },\n};\n\nBlockly.JavaScript.signal_ema_period = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.tick = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the last tick'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last tick'),\n            description: localize('This block gives you the value of the last tick.'),\n        };\n    },\n};\n\nBlockly.Blocks.tick_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Tick String'),\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the value of the latest tick in string format'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick value'),\n            description: localize('Tick value Description'),\n        };\n    },\n    onchange: Blockly.Blocks.tick.onchange,\n};\n\nBlockly.JavaScript.tick = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [`Bot.getLastTick(false, ${type_list.includes(parent?.type)})`, Blockly.JavaScript.ORDER_ATOMIC];\n};\nBlockly.JavaScript.tick_string = () => ['Bot.getLastTick(false, true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.ticks = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks list'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of the last 1000 tick values.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick list'),\n            description: localize('This block gives you a list of the last 1000 tick values.'),\n        };\n    },\n};\n\nBlockly.Blocks.ticks_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Ticks String List'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of tick values in string format'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Tick List String'),\n            description: localize('Tick List String Description'),\n        };\n    },\n    onchange: Blockly.Blocks.ticks.onchange,\n};\n\nBlockly.JavaScript.ticks = block => {\n    const parent = block.getParent();\n    const type_list = ['notify', 'text_print'];\n    return [`Bot.getTicks(${type_list.includes(parent?.type)})`, Blockly.JavaScript.ORDER_ATOMIC];\n};\nBlockly.JavaScript.ticks_string = () => ['Bot.getTicks(true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Candles List'),\n            message1: localize('with interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a list of candles within a selected time interval.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle list'),\n            description: localize('This block gives you a list of candles within a selected time interval.'),\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n\n    const code = `Bot.getOhlc({ granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.ohlc_values = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Make a List of {{ candle_property }} values in candles list with interval: {{ candle_interval_type }}',\n                {\n                    candle_property: '%1',\n                    candle_interval_type: '%2',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Returns a list of specific values from a candle list according to selected time interval'\n            ),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (1)'),\n            description: localize(\n                'This block gives you the selected candle value from a list of candles within the selected time interval.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc_values = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n\n    const code = `Bot.getOhlc({ field: '${ohlcField}', granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.read_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('In candles list read {{ candle_property }} # from end {{ input_number }}', {\n                candle_property: '%1',\n                input_number: '%2',\n            }),\n            message1: localize('with interval: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Read the selected candle value'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (1)'),\n            description: localize('This block gives you the specified candle value for a selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n};\n\nBlockly.JavaScript.read_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const index = Blockly.JavaScript.valueToCode(block, 'CANDLEINDEX', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ field: '${ohlcField}', index: ${index}, granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.get_ohlc = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('in candle list get # from end {{ input_number }}', { input_number: '%1' }),\n            message1: localize('with interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'CANDLEINDEX',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals,\n                },\n            ],\n            output: 'Candle',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a specific candle from within the selected time interval.'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get candle'),\n            description: localize('This block gives you a specific candle from within the selected time interval.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            CANDLEINDEX: null,\n        };\n    },\n};\n\nBlockly.JavaScript.get_ohlc = block => {\n    const selectedGranularity = block.getFieldValue('CANDLEINTERVAL_LIST');\n    const granularity = selectedGranularity === 'default' ? 'undefined' : selectedGranularity;\n    const index = Blockly.JavaScript.valueToCode(block, 'CANDLEINDEX', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `Bot.getOhlcFromEnd({ index: ${index}, granularity: ${granularity} })`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.check_direction = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Direction is {{ direction_type }}', { direction_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CHECK_DIRECTION',\n                    options: config.lists.CHECK_DIRECTION,\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('True if the market direction matches the selection'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Market direction'),\n            description: localize(\n                'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of “True” or “False”.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.check_direction = block => {\n    const checkWith = block.getFieldValue('CHECK_DIRECTION');\n\n    const code = `Bot.checkDirection('${checkWith}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.tick_analysis = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('The content of this block is called on every tick'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TICKANALYSIS_STACK',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('You can use this block to analyze the ticks, regardless of your trades'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Run on every tick'),\n            description: localize(\n                'The content of this block is called on every tick. Place this block outside of any root block.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.tick_analysis = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'TICKANALYSIS_STACK') || '';\n    const code = `\n    BinaryBotPrivateTickAnalysisList.push(function BinaryBotPrivateTickAnalysis() {\n        ${stack}\n    });\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.last_digit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last Digit'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the last digit of the latest tick'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digit'),\n            description: localize('This block gives you the last digit of the latest tick value.'),\n        };\n    },\n};\n\nBlockly.JavaScript.last_digit = () => ['Bot.getLastDigit()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.lastDigitList = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Last digits list'),\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the list of last digits of 1000 recent tick values'),\n            category: Blockly.Categories.Tick_Analysis,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Last Digits List'),\n            description: localize('This block gives you a list of the last digits of the last 1000 tick values.'),\n        };\n    },\n};\n\nBlockly.JavaScript.lastDigitList = () => ['Bot.getLastDigitList()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.is_candle_black = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Is candle {{ input_candle }} black?', { input_candle: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                    check: 'Candle',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns \"True\" if the given candle is black'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Is candle black?'),\n            description: localize(\n                'This block returns “True” if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n};\n\nBlockly.JavaScript.is_candle_black = block => {\n    const ohlcObj = Blockly.JavaScript.valueToCode(block, 'OHLCOBJ', Blockly.JavaScript.ORDER_ATOMIC) || '{}';\n\n    const code = `Bot.isCandleBlack(${ohlcObj})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.ohlc_values_in_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Make a list of {{ candle_property }} values from candles list {{ candle_list }}', {\n                candle_property: '%1',\n                candle_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCLIST',\n                },\n            ],\n            output: 'Array',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a list of specific values from a given candle list'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Create a list of candle values (2)'),\n            description: localize('This block gives you the selected candle value from a list of candles.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCLIST: null,\n        };\n    },\n};\n\nBlockly.JavaScript.ohlc_values_in_list = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST') || 'open';\n    const ohlcList = Blockly.JavaScript.valueToCode(block, 'OHLCLIST', Blockly.JavaScript.ORDER_ATOMIC) || '[]';\n\n    const code = `Bot.candleValues(${ohlcList}, '${ohlcField}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.read_ohlc_obj = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Read {{ candle_property }} value in candle {{ input_candle }}', {\n                candle_property: '%1',\n                input_candle: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OHLCFIELD_LIST',\n                    options: config.ohlcFields,\n                },\n                {\n                    type: 'input_value',\n                    name: 'OHLCOBJ',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected candle value.'),\n            category: Blockly.Categories.Candle,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Read candle value (2)'),\n            description: localize('This block gives you the selected candle value.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            OHLCOBJ: null,\n        };\n    },\n};\n\nBlockly.JavaScript.read_ohlc_obj = block => {\n    const ohlcField = block.getFieldValue('OHLCFIELD_LIST');\n    const ohlcObj = Blockly.JavaScript.valueToCode(block, 'OHLCOBJ', Blockly.JavaScript.ORDER_ATOMIC) || '{}';\n\n    const code = `Bot.candleField(${ohlcObj}, '${ohlcField}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.balance = {\n    init() {\n        this.jsonInit(this.definition());\n        const balanceTypeField = this.getField('BALANCE_TYPE');\n        balanceTypeField.setValidator(value => {\n            if (value === 'STR') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUM') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            this.render(false);\n            return undefined;\n        });\n    },\n    definition() {\n        return {\n            message0: localize('Balance: %1'),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BALANCE_TYPE',\n                    options: config.lists.BALANCE_TYPE,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block returns account balance'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Account balance'),\n            description: localize(\n                'This block gives you the balance of your account either as a number or a string of text.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.balance = block => {\n    const balanceType = block.getFieldValue('BALANCE_TYPE');\n\n    const code = `Bot.getBalance('${balanceType}')`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../../constants/config';\n\n// This block is a remnant of a very old Binary Bot version.\n// needs to be here for backward compatibility.\nBlockly.Blocks.barrier_offset = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BARRIEROFFSET_IN',\n                    options: config.BARRIER_TYPES,\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Adds a sign to a number to create a barrier offset. (deprecated)'),\n            category: Blockly.Categories.Miscellaneous,\n        });\n    },\n};\n\nBlockly.JavaScript.barrier_offset = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.block_holder = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: 'Ignore',\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'USELESS_STACK',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Put your blocks in here to prevent them from being removed'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Ignore'),\n            description: localize(\n                'Use this block if you want some instructions to be ignored when your bot runs. Instructions within this block won’t be executed.'\n            ),\n        };\n    },\n};\n\nBlockly.JavaScript.block_holder = () => '';\n","import { localize } from '@deriv/translations';\nimport { loadBlocksFromRemote, runIrreversibleEvents } from '../../../../utils';\nimport { observer as globalObserver } from '../../../../../utils/observer';\nimport { log_types } from '../../../../../constants/messages';\n\nBlockly.Blocks.loader = {\n    init() {\n        this.blocks_added_by_me = [];\n        this.current_url = '';\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Load block from URL: {{ input_url }}', { input_url: '%1' }),\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'URL',\n                    text: 'http://www.example.com/block.xml',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Loads blocks from URL'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Loads from URL'),\n            description: localize(\n                'This block allows you to load blocks from a URL if you have them stored on a remote server, and they will be loaded only when your bot runs.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.current_url = this.getFieldValue('URL');\n            const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n\n            loader_blocks.forEach(loader_block => {\n                if (loader_block.id !== this.id && loader_block.current_url === this.current_url) {\n                    this.setDisabled(true);\n                }\n            });\n\n            if (!this.disabled) {\n                this.loadBlocksFromCurrentUrl();\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.newValue && event.oldValue !== event.newValue) {\n                if (event.newValue === this.current_url) {\n                    this.setDisabled(false);\n                } else if (this.isValidUrl(event.newValue) && !this.isKnownUrl(event.newValue)) {\n                    this.setDisabled(false);\n                    this.loadBlocksFromCurrentUrl();\n                } else {\n                    this.setDisabled(true);\n                }\n            }\n        }\n    },\n    loadBlocksFromCurrentUrl() {\n        this.current_url = this.getFieldValue('URL');\n\n        runIrreversibleEvents(() => {\n            // Remove blocks previously loaded by this block.\n            this.blocks_added_by_me.forEach(block => block.dispose());\n        });\n\n        loadBlocksFromRemote(this)\n            .then(() => {\n                globalObserver.emit('ui.log.success', { log_type: log_types.LOAD_BLOCK });\n            })\n            .catch(error_msg => {\n                globalObserver.emit('ui.log.error', error_msg);\n                this.setDisabled(true);\n            });\n    },\n    isKnownUrl(url) {\n        const loader_blocks = this.workspace.getAllBlocks().filter(block => block.type === 'loader');\n        return loader_blocks.some(block => block.id !== this.id && block.current_url === url);\n    },\n    isValidUrl(url) {\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        return String(url).match(url_pattern);\n    },\n};\n\nBlockly.JavaScript.loader = () => {};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\nimport { config } from '../../../../../constants/config';\n\nBlockly.Blocks.notify = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Notify {{ notification_type }} with sound: {{ notification_sound }} {{ input_message }}',\n                {\n                    notification_type: '%1',\n                    notification_sound: '%2',\n                    input_message: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_TYPE',\n                    options: config.lists.NOTIFICATION_TYPE,\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'NOTIFICATION_SOUND',\n                    options: config.lists.NOTIFICATION_SOUND,\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a notification and optionally play selected sound'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Notify'),\n            description: localize(\n                'This block displays a message. You can specify the color of the message and choose from 6 different sound options.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.notify = block => {\n    const notificationType = block.getFieldValue('NOTIFICATION_TYPE');\n    const sound = block.getFieldValue('NOTIFICATION_SOUND');\n    const message_block = block.getInputTargetBlock('MESSAGE');\n    let variable_name = null;\n\n    if (message_block.type === 'variables_get') {\n        const variable_id = message_block.getFieldValue('VAR');\n        variable_name = Blockly.derivWorkspace.getVariableById(variable_id).name;\n    }\n\n    const message =\n        Blockly.JavaScript.valueToCode(block, 'MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) ||\n        `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.notify({ className: 'journal__text--${notificationType}', message: ${message}, sound: '${sound}', block_id: '${block.id}', variable_name: '${variable_name}' });\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.notify_telegram = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'Notify Telegram {{ dummy }} Access Token: {{ input_access_token }} Chat ID: {{ input_chat_id }} Message: {{ input_message }}',\n                {\n                    dummy: '%1',\n                    input_access_token: '%2',\n                    input_chat_id: '%3',\n                    input_message: '%4',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_ACCESS_TOKEN',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_CHAT_ID',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TELEGRAM_MESSAGE',\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Sends a message to Telegram'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Notify Telegram'),\n            description: localize('This block sends a message to a Telegram channel.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TELEGRAM_ACCESS_TOKEN: emptyTextValidator,\n            TELEGRAM_CHAT_ID: emptyTextValidator,\n            TELEGRAM_MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.notify_telegram = block => {\n    const access_token =\n        Blockly.JavaScript.valueToCode(block, 'TELEGRAM_ACCESS_TOKEN', Blockly.JavaScript.ORDER_ATOMIC) || '';\n    const chat_id = Blockly.JavaScript.valueToCode(block, 'TELEGRAM_CHAT_ID', Blockly.JavaScript.ORDER_ATOMIC) || '';\n    const message = Blockly.JavaScript.valueToCode(block, 'TELEGRAM_MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) || '';\n\n    if (!access_token || !chat_id || !message) {\n        return '';\n    }\n\n    const code = `Bot.notifyTelegram(${access_token}, ${chat_id}, ${message});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.total_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total profit/loss'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit/loss'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total profit/loss'),\n            description: localize(\n                'This block gives you the total profit/loss of your trading strategy since your bot started running. You can reset this by clicking “Clear stats” on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        if (\n            event.type === Blockly.Events.END_DRAG ||\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id))\n        ) {\n            const input_statement = this.getRootInputTargetBlock();\n\n            if (input_statement === 'INITIALIZATION') {\n                this.unplug(true);\n            }\n        }\n    },\n};\n\nBlockly.Blocks.total_profit_string = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Total Profit String'),\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the total profit in string format'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Total Profit String'),\n            description: localize('Total Profit String Description'),\n        };\n    },\n    onchange: Blockly.Blocks.total_profit.onchange,\n};\n\nBlockly.JavaScript.total_profit = () => ['Bot.getTotalProfit(false)', Blockly.JavaScript.ORDER_ATOMIC];\nBlockly.JavaScript.total_profit_string = () => ['Bot.getTotalProfit(true)', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.total_runs = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Number of runs'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of runs'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Number of runs'),\n            description: localize(\n                'This block gives you the total number of times your bot has run. You can reset this by clicking “Clear stats” on the Transaction Stats window, or by refreshing this page in your browser.'\n            ),\n        };\n    },\n    onchange: Blockly.Blocks.total_profit.onchange,\n};\n\nBlockly.JavaScript.total_runs = () => ['Bot.getTotalRuns()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.useless_block = {\n    init() {\n        this.jsonInit({\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_label',\n                    text: localize('Conversion Helper Block'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('This block was required to correctly convert your old strategy.'),\n            category: Blockly.Categories.Miscellaneous,\n            nextStatement: null,\n            previousStatement: null,\n        });\n    },\n};\n\nBlockly.JavaScript.useless_block = () => {};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.console = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Console {{ message_type }} value: {{ input_message }}', {\n                message_type: '%1',\n                input_message: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSOLE_TYPE',\n                    options: [\n                        [localize('Log'), 'log'],\n                        [localize('Warn'), 'warn'],\n                        [localize('Error'), 'error'],\n                        [localize('Table'), 'table'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'MESSAGE',\n                    check: null,\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Display messages in the developer’s console.'),\n            category: Blockly.Categories.Miscellaneous,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Console'),\n            description: localize(\n                \"This block displays messages in the developer's console with an input that can be either a string of text, a number, boolean, or an array of data.\"\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            MESSAGE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.console = block => {\n    const console_type = block.getFieldValue('CONSOLE_TYPE') || 'log';\n    const message =\n        Blockly.JavaScript.valueToCode(block, 'MESSAGE', Blockly.JavaScript.ORDER_ATOMIC) ||\n        `\"${localize('<empty message>')}\"`;\n\n    const code = `Bot.console({ type: '${console_type}', message: ${message}});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.epoch = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Seconds Since Epoch'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the number of seconds since January 1st, 1970'),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Second Since Epoch'),\n            description: localize('This block returns the number of seconds since January 1st, 1970.'),\n        };\n    },\n};\n\nBlockly.JavaScript.epoch = () => ['Bot.getTime()', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.timeout = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ dummy }} {{ stack_input }} Run after {{ number }} second(s)', {\n                dummy: '%1',\n                stack_input: '%2',\n                number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_dummy',\n                },\n                {\n                    type: 'input_statement',\n                    name: 'TIMEOUTSTACK',\n                },\n                {\n                    type: 'input_value',\n                    name: 'SECONDS',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Run the blocks inside after a given number of seconds'),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Delayed run'),\n            description: localize(\n                'This block delays execution for a given number of seconds. You can place any blocks within this block. The execution of other blocks in your strategy will be paused until the instructions in this block are carried out.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            SECONDS: null,\n        };\n    },\n};\n\nBlockly.JavaScript.timeout = block => {\n    const stack = Blockly.JavaScript.statementToCode(block, 'TIMEOUTSTACK');\n    const seconds = Blockly.JavaScript.valueToCode(block, 'SECONDS', Blockly.JavaScript.ORDER_ATOMIC) || '1';\n\n    const code = `sleep(${seconds});\\n${stack}\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.todatetime = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To date/time {{ input_timestamp }} {{ dummy }}', {\n                input_timestamp: '%1',\n                dummy: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TIMESTAMP',\n                    check: 'Number',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to date/time'),\n            description: localize(\n                'This block converts the number of seconds since the Unix Epoch (1 January 1970) into a string of text representing the date and time.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TIMESTAMP: null,\n        };\n    },\n};\n\nBlockly.JavaScript.todatetime = block => {\n    const timestamp = Blockly.JavaScript.valueToCode(block, 'TIMESTAMP', Blockly.JavaScript.ORDER_ATOMIC);\n    const invalid_timestamp = `${localize('Invalid timestamp')}:`;\n\n    // eslint-disable-next-line no-underscore-dangle\n    const function_name = Blockly.JavaScript.provideFunction_('timestampToDateString', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(timestamp) {\n            var datetime = new Date(timestamp * 1000);\n\n            if (!datetime.getTime()) {\n                return \"${invalid_timestamp} \" + timestamp;\n            }\n\n            var getTwoDigitValue = function(input) {\n                return input < 10 ? '0' + input : input;\n            }\n\n            var year    = datetime.getFullYear();\n            var month   = getTwoDigitValue(datetime.getMonth() + 1);\n            var day     = getTwoDigitValue(datetime.getDate());\n            var hours   = getTwoDigitValue(datetime.getHours());\n            var minutes = getTwoDigitValue(datetime.getMinutes());\n            var seconds = getTwoDigitValue(datetime.getSeconds());\n\n            var formatGmtOffset = function() {\n                var gmt_offset_raw = datetime.getTimezoneOffset();\n                var sign           = gmt_offset_raw > 0 ? '-' : '+';\n                var gmt_offset     = Math.abs(gmt_offset_raw);\n                var hour           = Math.floor(gmt_offset / 60);\n                var minute         = gmt_offset - hour * 60;\n\n                return 'GMT' + sign + getTwoDigitValue(hour) + getTwoDigitValue(minute);\n            }\n\n            var date_string = year + '-' + month + '-' + day;\n            var time_string = hours + ':' + minutes + ':' + seconds;\n\n            return date_string + ' ' + time_string + ' ' + formatGmtOffset();\n        }`,\n    ]);\n\n    const code = `${function_name}(${timestamp})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../../../utils';\n\nBlockly.Blocks.totimestamp = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('To timestamp {{ input_datetime }} {{ dummy }}', { input_datetime: '%1', dummy: '%2' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DATETIME',\n                },\n                {\n                    // Extra dummy for spacing.\n                    type: 'input_dummy',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'Converts a string representing a date/time string into seconds since Epoch. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825. Time and time zone offset are optional.'\n            ),\n            category: Blockly.Categories.Time,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Convert to timestamp'),\n            description: localize(\n                'This block converts a string of text that represents the date and time into seconds since the Unix Epoch (1 January 1970). The time and time zone offset are optional. Example: 2019-01-01 21:03:45 GMT+0800 will be converted to 1546347825.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DATETIME: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.totimestamp = block => {\n    const datetime_string = Blockly.JavaScript.valueToCode(block, 'DATETIME', Blockly.JavaScript.ORDER_ATOMIC);\n    const code = `Bot.dateTimeStringToTimestamp(${datetime_string})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { defineContract } from '../../images';\nimport DBotStore from '../../../dbot-store';\nimport { runIrreversibleEvents } from '../../../utils';\nimport { removeErrorHandlingEventListener, initErrorHandlingListener } from '../../../../utils';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.trade_definition = {\n    init() {\n        this.jsonInit(this.definition());\n        this.setDeletable(false);\n        this.isInit = false;\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            message1: '%1',\n            message2: '%1 %2 %3',\n            message3: '%1',\n            message4: '%1 %2 %3',\n            message5: '%1',\n            args0: [\n                {\n                    type: 'field_image',\n                    src: defineContract,\n                    width: 25,\n                    height: 25,\n                    alt: 'T',\n                },\n                {\n                    type: 'field_label',\n                    text: localize('1. Trade parameters'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'TRADE_OPTIONS',\n                },\n            ],\n            args2: [\n                {\n                    type: 'field_image',\n                    src: '', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Run once at start:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'INITIALIZATION',\n                    check: null,\n                },\n            ],\n            args4: [\n                {\n                    type: 'field_image',\n                    src: '', // this is here to add extra padding\n                    width: 4,\n                    height: 25,\n                },\n                {\n                    type: 'field_label',\n                    text: localize('Trade options:'),\n                    class: 'blocklyTextRootBlockHeader',\n                },\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args5: [\n                {\n                    type: 'input_statement',\n                    name: 'SUBMARKET',\n                },\n            ],\n            colour: Blockly.Colours.RootBlock.colour,\n            colourSecondary: Blockly.Colours.RootBlock.colourSecondary,\n            colourTertiary: Blockly.Colours.RootBlock.colourTertiary,\n            tooltip: localize('Here is where you define the parameters of your contract.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade parameters'),\n            description: localize('Here is where you define the parameters of your contract.'),\n            key_words: localize('market, trade type, contract type'),\n        };\n    },\n    onchange(event) {\n        if (event.type === 'ui' && !this.isInit) {\n            this.isInit = true;\n            initErrorHandlingListener('keydown');\n        } else if (Blockly.selected === null && this.isInit) {\n            this.isInit = false;\n            removeErrorHandlingEventListener('keydown');\n        }\n        if (!this.workspace || this.workspace.isDragging() || this.isInFlyout) {\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE || event.type === Blockly.Events.END_DRAG) {\n            // Enforce only trade_definition_<type> blocks in TRADE_OPTIONS statement.\n            const blocks_in_trade_options = this.getBlocksInStatement('TRADE_OPTIONS');\n\n            if (blocks_in_trade_options.length > 0) {\n                blocks_in_trade_options.forEach(block => {\n                    if (!/^trade_definition_.+$/.test(block.type)) {\n                        runIrreversibleEvents(() => {\n                            block.unplug(true);\n                        });\n                    }\n                });\n            } else {\n                runIrreversibleEvents(() => {\n                    this.dispose();\n                });\n            }\n        }\n    },\n};\n\nBlockly.JavaScript.trade_definition = block => {\n    const { client } = DBotStore.instance;\n\n    if (!client || !client.is_logged_in) {\n        throw new Error('Please login');\n    }\n\n    const { loginid } = client;\n    const account = client.getToken(loginid);\n    const market_block = block.getChildByType('trade_definition_market');\n    const trade_type_block = block.getChildByType('trade_definition_tradetype');\n    const contract_type_block = block.getChildByType('trade_definition_contracttype');\n    const candle_interval_block = block.getChildByType('trade_definition_candleinterval');\n    const restart_on_error_block = block.getChildByType('trade_definition_restartonerror');\n    const restart_on_buy_sell_block = block.getChildByType('trade_definition_restartbuysell');\n\n    const symbol = market_block.getFieldValue('SYMBOL_LIST');\n    const trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n    const contract_type = contract_type_block.getFieldValue('TYPE_LIST');\n    const candle_interval = candle_interval_block.getFieldValue('CANDLEINTERVAL_LIST');\n    const should_restart_on_error = restart_on_error_block.getFieldValue('RESTARTONERROR') !== 'FALSE';\n    const should_restart_on_buy_sell = restart_on_buy_sell_block.getFieldValue('TIME_MACHINE_ENABLED') !== 'FALSE';\n\n    const { opposites } = config;\n    const contract_type_list =\n        contract_type === 'both'\n            ? opposites[trade_type.toUpperCase()].map(opposite => Object.keys(opposite)[0])\n            : [contract_type];\n\n    const initialization = Blockly.JavaScript.statementToCode(block, 'INITIALIZATION');\n    const trade_options_statement = Blockly.JavaScript.statementToCode(block, 'SUBMARKET');\n\n    const code = `  \n    BinaryBotPrivateInit = function BinaryBotPrivateInit() {\n        Bot.init('${account}', {\n          symbol              : '${symbol}',\n          contractTypes       : ${JSON.stringify(contract_type_list)},\n          candleInterval      : '${candle_interval || 'FALSE'}',\n          shouldRestartOnError: ${should_restart_on_error},\n          timeMachineEnabled  : ${should_restart_on_buy_sell},\n        });\n        ${initialization.trim()}\n    };\n      BinaryBotPrivateStart = function BinaryBotPrivateStart() {\n        BinaryBotPrivateHasCalledTradeOptions = false;\n        Bot.highlightBlock('${block.id}');\n        ${trade_options_statement.trim()}\n      };\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { runIrreversibleEvents } from '../../../utils';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\n/* eslint-disable */\nBlockly.Blocks.trade_definition_market = {\n    init() {\n        this.jsonInit({\n            message0: localize('Market: {{ input_market }} > {{ input_submarket }} > {{ input_symbol }}', {\n                input_market: '%1',\n                input_submarket: '%2',\n                input_symbol: '%3',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SUBMARKET_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'SYMBOL_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        const allowed_events = ['BLOCK_CREATE', 'BLOCK_CHANGE', 'END_DRAG'];\n        const is_allowed_event =\n            allowed_events.findIndex(event_name => event.type === Blockly.Events[event_name]) !== -1;\n\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging() || !is_allowed_event) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const { active_symbols } = ApiHelpers.instance;\n        const market_dropdown = this.getField('MARKET_LIST');\n        const submarket_dropdown = this.getField('SUBMARKET_LIST');\n        const symbol_dropdown = this.getField('SYMBOL_LIST');\n        const market = market_dropdown.getValue();\n        const submarket = submarket_dropdown.getValue();\n        const symbol = symbol_dropdown.getValue();\n\n        // Temporary solution to remove Crytocurrencies from\n        // market options until multipliers are available for DBot\n        const market_options = active_symbols\n            .getMarketDropdownOptions()\n            .filter(option => option[1] !== 'cryptocurrency');\n\n        const populateMarketDropdown = () => {\n            market_dropdown.updateOptions(market_options, {\n                default_value: market,\n                should_pretend_empty: true,\n                event_group: event.group,\n            });\n        };\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            populateMarketDropdown();\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === this.id) {\n            if (event.name === 'MARKET_LIST') {\n                submarket_dropdown.updateOptions(active_symbols.getSubmarketDropdownOptions(market), {\n                    default_value: submarket,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            } else if (event.name === 'SUBMARKET_LIST') {\n                symbol_dropdown.updateOptions(active_symbols.getSymbolDropdownOptions(submarket), {\n                    default_value: symbol,\n                    should_pretend_empty: true,\n                    event_group: event.group,\n                });\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.getRootBlock().id) {\n            if (market_dropdown.isEmpty() || submarket_dropdown.isEmpty() || symbol_dropdown.isEmpty()) {\n                populateMarketDropdown();\n            }\n        }\n    },\n    enforceLimitations() {\n        runIrreversibleEvents(() => {\n            if (!this.isDescendantOf('trade_definition')) {\n                this.unplug(false); // Unplug without reconnecting siblings\n\n                const top_blocks = this.workspace.getTopBlocks();\n                const trade_definition_block = top_blocks.find(block => block.type === 'trade_definition');\n\n                // Reconnect self to trade definition block.\n                if (trade_definition_block) {\n                    const connection = trade_definition_block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    connection.connect(this.previousConnection);\n                } else {\n                    this.dispose();\n                }\n            }\n            // These blocks cannot be disabled.\n            else if (this.disabled) {\n                this.setDisabled(false);\n            }\n        });\n    },\n};\n\nBlockly.JavaScript.trade_definition_market = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_definition_tradetype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Trade Type: {{ trade_type_category }} > {{ trade_type }}', {\n                trade_type_category: '%1',\n                trade_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPECAT_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'TRADETYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\n\nBlockly.JavaScript.trade_definition_tradetype = () => {};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\nimport { getContractTypeOptions } from '../../../shared';\n\nBlockly.Blocks.trade_definition_contracttype = {\n    init() {\n        this.jsonInit({\n            message0: localize('Contract Type: {{ contract_type }}', { contract_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            tooltip: localize(\n                'If the contract type is “Both”, then the Purchase Conditions should include both Rise and Fall using the “Conditional Block\"'\n            ),\n            previousStatement: null,\n            nextStatement: null,\n        });\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (Blockly.Events.BLOCK_CHANGE) {\n            if (event.name === 'TRADETYPE_LIST') {\n                const trade_type = event.newValue;\n                const contract_type_list = this.getField('TYPE_LIST');\n                const contract_type_options = [];\n\n                const trade_types = getContractTypeOptions('both', trade_type);\n\n                if (trade_types.length > 1) {\n                    contract_type_options.push([localize('Both'), 'both']);\n                }\n\n                contract_type_options.push(...trade_types);\n\n                if (contract_type_options.length === 0) {\n                    contract_type_options.push(...config.NOT_AVAILABLE_DROPDOWN_OPTIONS);\n                }\n\n                contract_type_list.updateOptions(contract_type_options, {\n                    event_group: event.group,\n                    default_value: is_load_event ? contract_type_list.getValue() : undefined,\n                });\n            }\n        }\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nBlockly.JavaScript.trade_definition_contracttype = () => '';\n","import { localize } from '@deriv/translations';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.trade_definition_candleinterval = {\n    init() {\n        this.jsonInit({\n            message0: localize('Default Candle Interval: {{ candle_interval_type }}', { candle_interval_type: '%1' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CANDLEINTERVAL_LIST',\n                    options: config.candleIntervals.slice(1),\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n};\nBlockly.JavaScript.trade_definition_candleinterval = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_definition_restartbuysell = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart buy/sell on error (disable for better performance): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_image_checkbox',\n                    name: 'TIME_MACHINE_ENABLED',\n                    checked: false,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['TIME_MACHINE_ENABLED'],\n};\nBlockly.JavaScript.trade_definition_restartbuysell = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.trade_definition_restartonerror = {\n    init() {\n        this.jsonInit({\n            message0: localize('Restart last trade on error (bot ignores the unsuccessful trade): {{ checkbox }}', {\n                checkbox: '%1',\n            }),\n            args0: [\n                {\n                    type: 'field_image_checkbox',\n                    name: 'RESTARTONERROR',\n                    checked: true,\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n        });\n\n        this.setNextStatement(false);\n        this.setMovable(false);\n        this.setDeletable(false);\n    },\n    onchange(/* event */) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        this.enforceLimitations();\n    },\n    enforceLimitations: Blockly.Blocks.trade_definition_market.enforceLimitations,\n    required_inputs: ['RESTARTONERROR'],\n};\nBlockly.JavaScript.trade_definition_restartonerror = () => {};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode, getDecimalPlaces } from '@deriv/shared';\nimport DBotStore from '../../../dbot-store';\nimport { runIrreversibleEvents, runGroupedEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_tradeoptions = {\n    durations: [],\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        const is_stake = this.type === 'trade_definition_tradeoptions';\n\n        return {\n            message0: localize('Duration: {{ duration_unit }} {{ duration_value }}', {\n                duration_unit: '%1',\n                duration_value: '%2',\n            }),\n            message1: `${is_stake ? localize('Stake') : localize('Payout')}: %1 %2 %3`,\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'DURATIONTYPE_LIST',\n                    options: [['', '']],\n                },\n                {\n                    type: 'input_value',\n                    name: 'DURATION',\n                    check: 'Number',\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as duration and stake.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trade options'),\n            description: localize(\n                'Define your trade options such as duration and stake. Some options are only applicable for certain trade types.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (event.type === 'change') {\n            const selected_block = this.workspace.getBlockById(event.blockId);\n            selected_block?.parentBlock_?.inputList\n                .filter(item => ['DURATION', 'AMOUNT'].includes(item.name))\n                .forEach(input => {\n                    const input_target = input.connection.targetBlock();\n                    const value = input_target.getFieldValue('NUM');\n                    if (value?.startsWith('0')) {\n                        const new_value = value.includes('.') ? parseFloat(`${value}`) : parseInt(`${value}`);\n                        input_target.setFieldValue(new_value.toString(), 'NUM');\n                    }\n                });\n        }\n\n        if (!this.workspace || this.workspace.isDragging() || this.isInFlyout) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_duration = this.getFieldValue('DURATIONTYPE_LIST');\n        this.selected_barrier_types = [\n            this.getFieldValue('BARRIEROFFSETTYPE_LIST') || config.BARRIER_TYPES[0][1],\n            this.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST') || config.BARRIER_TYPES[1][1],\n        ];\n\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n            this.updateAmountLimits();\n        }\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateBarrierInputs(false, false);\n                this.updateDurationInput(false, false);\n                this.updatePredictionInput(false);\n                this.updateAmountLimits();\n            } else {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n            }\n        } else if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateBarrierInputs(false, false);\n                    this.enforceSingleBarrierType(false);\n                    this.updateDurationInput(false, false);\n                    this.updatePredictionInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'DURATIONTYPE_LIST': {\n                        this.updateBarrierInputs(true, true);\n                        this.enforceSingleBarrierType('BARRIEROFFSETTYPE_LIST', true);\n                        this.updateDurationInput(false, true);\n                        break;\n                    }\n                    case 'BARRIEROFFSETTYPE_LIST':\n                    case 'SECONDBARRIEROFFSETTYPE_LIST': {\n                        this.updateBarrierInputs(false, true);\n                        this.enforceSingleBarrierType(event.name, false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateBarrierInputs(true, true);\n                this.enforceSingleBarrierType(true);\n                this.updateDurationInput(true, true);\n                this.updatePredictionInput(true);\n                this.updateAmountLimits();\n            }\n        } else if (event.type === Blockly.Events.END_DRAG && event.blockId === this.id) {\n            // Ensure this block is populated after initial drag from flyout.\n            if (!this.selected_duration) {\n                const fake_creation_event = new Blockly.Events.Create(this);\n                fake_creation_event.recordUndo = false;\n                Blockly.Events.fire(fake_creation_event);\n            } else if (this.selected_trade_type === 'multiplier') {\n                this.updateDurationInput(false, false);\n            }\n        }\n    },\n    createPredictionInput(prediction_range) {\n        runIrreversibleEvents(() => {\n            if (prediction_range.length === 0) {\n                this.removeInput('PREDICTION_LABEL', true);\n                this.removeInput('PREDICTION', true);\n            } else if (!this.getInput('PREDICTION')) {\n                this.appendDummyInput('PREDICTION_LABEL').appendField(localize('Prediction:'));\n\n                const prediction_input = this.appendValueInput('PREDICTION');\n                const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                shadow_block.setShadow(true);\n                shadow_block.setFieldValue(prediction_range[0], 'NUM');\n                shadow_block.outputConnection.connect(prediction_input.connection);\n                shadow_block.initSvg();\n                shadow_block.render(true);\n            }\n        });\n    },\n    createBarrierInputs(barriers) {\n        runIrreversibleEvents(() => {\n            const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n            for (let i = 0; i < barriers.values.length; i++) {\n                const label = barriers.values.length === 1 ? localize('Barrier') : config.BARRIER_LABELS[i];\n                let input = this.getInput(input_names[i]);\n\n                if (input) {\n                    input.fieldRow[0].setText(label);\n                } else {\n                    input = this.appendValueInput(input_names[i])\n                        .appendField(label, `${input_names[i]}_LABEL`)\n                        .appendField(new Blockly.FieldDropdown(config.BARRIER_TYPES), `${input_names[i]}TYPE_LIST`);\n\n                    const shadow_block = this.workspace.newBlock('math_number_positive');\n\n                    shadow_block.setShadow(true);\n                    shadow_block.setFieldValue(barriers.values[i], 'NUM');\n                    shadow_block.outputConnection.connect(input.connection);\n                    shadow_block.initSvg();\n                    shadow_block.render(true);\n                }\n            }\n\n            // Remove any extra inputs (quietly) if not required\n            for (let i = input_names.length; i > barriers.values.length; i--) {\n                this.removeInput(input_names[i - 1], true);\n            }\n        });\n    },\n    updateAmountLimits() {\n        const { account_limits } = ApiHelpers.instance;\n        const { currency, landing_company_shortcode } = DBotStore.instance.client;\n        account_limits.getStakePayoutLimits(currency, landing_company_shortcode, this.selected_market).then(limits => {\n            if (!this.getField('AMOUNT_LIMITS')) {\n                return;\n            }\n            this.amount_limits = limits;\n            const { max_payout, min_stake } = limits;\n            if (max_payout && min_stake) {\n                runIrreversibleEvents(() => {\n                    this.setFieldValue(\n                        localize('(min: {{min_stake}} - max: {{max_payout}})', {\n                            min_stake,\n                            max_payout,\n                        }),\n                        'AMOUNT_LIMITS'\n                    );\n                });\n            }\n        });\n    },\n    updateDurationInput(should_use_default_unit, should_update_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        if (this.selected_trade_type === 'multiplier' && this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const multiplier_block = this.workspace.newBlock('trade_definition_multiplier');\n                    multiplier_block.initSvg();\n                    multiplier_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = multiplier_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const stake_input = multiplier_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.render();\n\n                    const take_profit_block = this.workspace.newBlock('multiplier_take_profit');\n                    const take_profit_input = take_profit_block.getInput('AMOUNT');\n\n                    const take_profit_shadow_block = this.workspace.newBlock('math_number_positive');\n                    take_profit_shadow_block.setShadow(true);\n                    take_profit_shadow_block.setFieldValue(0, 'NUM');\n                    take_profit_shadow_block.outputConnection.connect(take_profit_input.connection);\n                    take_profit_shadow_block.initSvg();\n                    take_profit_shadow_block.render();\n\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(take_profit_block.previousConnection);\n                    take_profit_block.initSvg();\n                    take_profit_block.render();\n\n                    const stop_loss_block = this.workspace.newBlock('multiplier_stop_loss');\n                    const stop_loss_input = stop_loss_block.getInput('AMOUNT');\n\n                    const stop_loss_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stop_loss_shadow_block.setShadow(true);\n                    stop_loss_shadow_block.setFieldValue(0, 'NUM');\n                    stop_loss_shadow_block.outputConnection.connect(stop_loss_input.connection);\n                    stop_loss_shadow_block.initSvg();\n                    stop_loss_shadow_block.render();\n\n                    multiplier_block\n                        .getLastConnectionInStatement('MULTIPLIER_PARAMS')\n                        .connect(stop_loss_block.previousConnection);\n                    stop_loss_block.initSvg();\n                    stop_loss_block.render();\n\n                    this.dispose();\n                    Blockly.derivWorkspace.cleanUp();\n                });\n            });\n        } else {\n            contracts_for.getDurations(this.selected_symbol, this.selected_trade_type).then(durations => {\n                // Keep duration in memory so we can later reference them for validation\n                this.durations = durations;\n\n                const duration_field_dropdown = this.getField('DURATIONTYPE_LIST');\n                const duration_input = this.getInput('DURATION');\n                const duration_options = durations.map(duration => [duration.display, duration.unit]);\n\n                duration_field_dropdown?.updateOptions(duration_options, {\n                    default_value: should_use_default_unit ? undefined : duration_field_dropdown.getValue(),\n                });\n\n                if (should_update_value && duration_input && duration_input.connection) {\n                    const target_block = duration_input.connection.targetBlock();\n\n                    if (target_block && target_block.isShadow()) {\n                        const min_duration = durations.find(duration => duration.unit === this.selected_duration);\n\n                        if (min_duration) {\n                            runIrreversibleEvents(() => {\n                                target_block.setFieldValue(min_duration.min, 'NUM');\n                            });\n                        }\n                    }\n                }\n            });\n        }\n    },\n    updateBarrierInputs(should_use_default_type, should_use_default_values) {\n        const { contracts_for } = ApiHelpers.instance;\n        const { BARRIER_TYPES } = config;\n\n        contracts_for\n            .getBarriers(\n                this.selected_symbol,\n                this.selected_trade_type,\n                this.selected_duration,\n                this.selected_barrier_types\n            )\n            .then(barriers => {\n                this.createBarrierInputs(barriers);\n\n                const input_names = ['BARRIEROFFSET', 'SECONDBARRIEROFFSET'];\n\n                for (let i = 0; i < barriers.values.length; i++) {\n                    const barrier_field_dropdown = this.getField(`${input_names[i]}TYPE_LIST`);\n                    const { ABSOLUTE_BARRIER_DROPDOWN_OPTION } = config;\n                    const barrier_field_value = should_use_default_type\n                        ? BARRIER_TYPES[i][1]\n                        : barrier_field_dropdown.getValue();\n\n                    if (this.selected_duration === 'd') {\n                        // Only absolute types are allowed.\n                        barrier_field_dropdown.updateOptions(ABSOLUTE_BARRIER_DROPDOWN_OPTION, {\n                            default_value: 'absolute',\n                        });\n                    } else if (barriers.allow_both_types || barriers.allow_absolute_type) {\n                        // Both offset + absolute types are allowed.\n                        const options = [].concat(BARRIER_TYPES, ABSOLUTE_BARRIER_DROPDOWN_OPTION);\n\n                        barrier_field_dropdown.updateOptions(options, {\n                            default_value: barrier_field_value,\n                        });\n                    } else {\n                        // Only offset types are allowed.\n                        barrier_field_dropdown.updateOptions(BARRIER_TYPES, {\n                            default_value: barrier_field_value,\n                        });\n                    }\n\n                    const { connection } = this.getInput(input_names[i]);\n\n                    if (should_use_default_values && connection) {\n                        const target_block = connection.targetBlock();\n\n                        if (target_block && target_block.isShadow()) {\n                            const barrier_value = barriers.values[i] !== false ? barriers.values[i] : '';\n\n                            runIrreversibleEvents(() => {\n                                target_block.setFieldValue(barrier_value, 'NUM');\n                            });\n                        }\n                    }\n                }\n            });\n    },\n    updatePredictionInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        contracts_for.getPredictionRange(this.selected_symbol, this.selected_trade_type).then(prediction_range => {\n            this.createPredictionInput(prediction_range);\n\n            if (prediction_range.length > 0) {\n                const prediction_input = this.getInput('PREDICTION');\n                const { connection } = prediction_input;\n\n                if (should_use_default_value && connection) {\n                    const target_block = connection.targetBlock();\n\n                    if (target_block && target_block.isShadow()) {\n                        const initial_prediction = Math.max(1, prediction_range[0]);\n\n                        runIrreversibleEvents(() => {\n                            target_block.setFieldValue(initial_prediction, 'NUM');\n                        });\n                    }\n                }\n            }\n        });\n    },\n    enforceSingleBarrierType(barrier_input_name, should_force_distinct) {\n        const new_value = this.getFieldValue(barrier_input_name);\n        const other_barrier_input_name =\n            barrier_input_name === 'BARRIEROFFSETTYPE_LIST' ? 'SECONDBARRIEROFFSETTYPE_LIST' : 'BARRIEROFFSETTYPE_LIST';\n        const other_barrier_field = this.getField(other_barrier_input_name);\n        const { BARRIER_TYPES } = config;\n\n        if (other_barrier_field) {\n            const has_other_barrier = BARRIER_TYPES.findIndex(type => type[1] === new_value) !== -1;\n            const other_barrier_type = other_barrier_field.getValue();\n\n            runIrreversibleEvents(() => {\n                if (has_other_barrier && (other_barrier_type === 'absolute' || should_force_distinct)) {\n                    const other_barrier_value = BARRIER_TYPES.find(type => type[1] !== new_value);\n                    other_barrier_field.setValue(other_barrier_value[1]);\n                } else if (new_value === 'absolute' && other_barrier_type !== 'absolute') {\n                    other_barrier_field.setValue('absolute');\n                }\n            });\n        }\n    },\n    domToMutation(xmlElement) {\n        const has_first_barrier = xmlElement.getAttribute('has_first_barrier') === 'true';\n        const has_second_barrier = xmlElement.getAttribute('has_second_barrier') === 'true';\n        const has_prediction = xmlElement.getAttribute('has_prediction') === 'true';\n\n        if (has_first_barrier && has_second_barrier) {\n            this.createBarrierInputs({ values: [1, -1] }); // These values are overwritten with XML values.\n        } else if (has_first_barrier) {\n            this.createBarrierInputs({ values: [1] });\n        } else if (has_prediction) {\n            this.createPredictionInput([1]);\n        }\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        container.setAttribute('has_first_barrier', !!this.getInput('BARRIEROFFSET'));\n        container.setAttribute('has_second_barrier', !!this.getInput('SECONDBARRIEROFFSET'));\n        container.setAttribute('has_prediction', !!this.getInput('PREDICTION'));\n\n        return container;\n    },\n    setCurrency() {\n        const currency_field = this.getField('CURRENCY_LIST');\n        const { currency } = DBotStore.instance.client;\n        currency_field.setText(getCurrencyDisplayCode(currency));\n    },\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n            DURATION: input => {\n                const input_number = Number(input);\n\n                if (isNaN(input_number) || !this.durations.length) {\n                    return false;\n                }\n\n                const duration = this.durations.find(d => d.unit === this.selected_duration);\n\n                if (duration) {\n                    const { min, max } = duration;\n                    const is_valid_duration = input_number >= min && input_number <= max;\n\n                    if (min === max) {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter {{min}}.',\n                            { min }\n                        );\n                    } else {\n                        this.error_message = localize(\n                            'Duration value is not allowed. To run the bot, please enter a value between {{min}} to {{max}}.',\n                            { min, max }\n                        );\n                    }\n\n                    return !is_valid_duration;\n                }\n\n                return false;\n            },\n        };\n    },\n};\n\nBlockly.Blocks.trade_definition_tradeoptions_payout = Blockly.Blocks.trade_definition_tradeoptions;\n\nBlockly.JavaScript.trade_definition_tradeoptions = block => {\n    const amount = Blockly.JavaScript.valueToCode(block, 'AMOUNT', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    const { currency } = DBotStore.instance.client;\n    const duration_type = block.getFieldValue('DURATIONTYPE_LIST') || '0';\n    const duration_value = Blockly.JavaScript.valueToCode(block, 'DURATION', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const getBarrierValue = (barrier_offset_type, value) => {\n        // Variables should not be encapsulated in quotes\n        if (/^(\\d+(\\.\\d+)?)$/.test(value)) {\n            return barrier_offset_type === 'absolute' ? `'${value}'` : `'${barrier_offset_type}${value}'`;\n        }\n        return barrier_offset_type === 'absolute' ? value : `'${barrier_offset_type}' + ${value}`;\n    };\n\n    let prediction_value, barrier_offset_value, second_barrier_offset_value;\n\n    if (block.getInput('PREDICTION')) {\n        prediction_value = Blockly.JavaScript.valueToCode(block, 'PREDICTION', Blockly.JavaScript.ORDER_ATOMIC) || '-1';\n    }\n\n    if (block.getInput('BARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('BARRIEROFFSETTYPE_LIST');\n        const value = Blockly.JavaScript.valueToCode(block, 'BARRIEROFFSET', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n        barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    if (block.getInput('SECONDBARRIEROFFSET')) {\n        const barrier_offset_type = block.getFieldValue('SECONDBARRIEROFFSETTYPE_LIST');\n        const value =\n            Blockly.JavaScript.valueToCode(block, 'SECONDBARRIEROFFSET', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n        second_barrier_offset_value = getBarrierValue(barrier_offset_type, value);\n    }\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            duration           : ${duration_value},\n            duration_unit      : '${duration_type}',\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            prediction         : ${prediction_value || 'undefined'},\n            barrierOffset      : ${barrier_offset_value || 'undefined'},\n            secondBarrierOffset: ${second_barrier_offset_value || 'undefined'},\n            basis              : '${block.type === 'trade_definition_tradeoptions' ? 'stake' : 'payout'}',\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n\nBlockly.JavaScript.trade_definition_tradeoptions_payout = Blockly.JavaScript.trade_definition_tradeoptions;\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode, getDecimalPlaces } from '@deriv/shared';\nimport DBotStore from '../../../dbot-store';\nimport { runGroupedEvents, runIrreversibleEvents } from '../../../utils';\nimport { config } from '../../../../constants/config';\nimport ApiHelpers from '../../../../services/api/api-helpers';\n\nBlockly.Blocks.trade_definition_multiplier = {\n    init() {\n        this.jsonInit(this.definition());\n\n        // Ensure one of this type per statement-stack\n        this.setNextStatement(false);\n    },\n    definition() {\n        return {\n            message0: localize('Multiplier: {{ multiplier }}', {\n                multiplier: '%1',\n            }),\n            message1: `${localize('Stake')}: %1 %2 %3`,\n            message2: '%1',\n            message3: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MULTIPLIERTYPE_LIST',\n                    options: [['', '']],\n                },\n            ],\n            args1: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_label',\n                    name: 'AMOUNT_LIMITS',\n                    text: '',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_dummy',\n                },\n            ],\n            args3: [\n                {\n                    type: 'input_statement',\n                    name: 'MULTIPLIER_PARAMS',\n                },\n            ],\n            colour: Blockly.Colours.Special1.colour,\n            colourSecondary: Blockly.Colours.Special1.colourSecondary,\n            colourTertiary: Blockly.Colours.Special1.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Define your trade options such as multiplier and stake.'),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Multiplier trade options'),\n            description: localize(\n                'Define your trade options such as multiplier and stake. This block can only be used with the multipliers trade type. If you select another trade type, this block will be replaced with the Trade options block.'\n            ),\n        };\n    },\n    validateBlocksInStatement() {\n        // Enforce only multiplier_<type> blocks in MULTIPLIER_PARAMS statement.\n        const blocks_in_multiplier = this.getBlocksInStatement('MULTIPLIER_PARAMS');\n\n        if (blocks_in_multiplier.length > 0) {\n            const block_types_in_multiplier = [];\n            blocks_in_multiplier.forEach(block => {\n                block_types_in_multiplier.push(block.type);\n                const block_multiplier_take_profit = block.childValueToCode('multiplier_take_profit', 'AMOUNT');\n                const block_multiplier_stop_loss = block.childValueToCode('multiplier_stop_loss', 'AMOUNT');\n                if (block_multiplier_take_profit <= 0 || block_multiplier_stop_loss <= 0) {\n                    block.setDisabled(true);\n                }\n\n                if (block.type === 'multiplier_stop_loss' && block_multiplier_stop_loss > 0) {\n                    block.setDisabled(false);\n                }\n\n                if (block.type === 'multiplier_take_profit' && block_multiplier_take_profit > 0) {\n                    block.setDisabled(false);\n                }\n\n                if (\n                    !/^multiplier_.+$/.test(block.type) ||\n                    new Set(block_types_in_multiplier).size !== block_types_in_multiplier.length\n                ) {\n                    runIrreversibleEvents(() => {\n                        block.unplug(true);\n                    });\n                }\n            });\n        }\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const trade_definition_block = this.workspace\n            .getAllBlocks(true)\n            .find(block => block.type === 'trade_definition');\n        if (!trade_definition_block) {\n            return;\n        }\n\n        const market_block = trade_definition_block.getChildByType('trade_definition_market');\n        const trade_type_block = trade_definition_block.getChildByType('trade_definition_tradetype');\n\n        if (!market_block || !trade_type_block) {\n            return;\n        }\n\n        this.selected_symbol = market_block.getFieldValue('SYMBOL_LIST');\n        this.selected_market = market_block.getFieldValue('MARKET_LIST');\n        this.selected_trade_type_category = trade_type_block.getFieldValue('TRADETYPECAT_LIST');\n        this.selected_trade_type = trade_type_block.getFieldValue('TRADETYPE_LIST');\n        this.selected_multiplier = this.getFieldValue('MULTIPLIERTYPE_LIST');\n\n        const is_load_event = /^dbot-load/.test(event.group);\n\n        if (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) {\n            this.setCurrency();\n            this.updateAmountLimits();\n            if (is_load_event) {\n                // Do NOT touch any values when a strategy is being loaded.\n                this.updateMultiplierInput(false);\n            } else {\n                this.updateMultiplierInput(true);\n            }\n            return;\n        }\n\n        if (event.type === Blockly.Events.BLOCK_CHANGE) {\n            this.validateBlocksInStatement();\n            if (is_load_event) {\n                if (event.name === 'TRADETYPE_LIST') {\n                    this.updateMultiplierInput(false);\n                }\n            } else if (event.blockId === this.id) {\n                switch (event.name) {\n                    case 'MULTIPLIERTYPE_LIST': {\n                        this.updateMultiplierInput(false);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            } else if (event.name === 'SYMBOL_LIST' || event.name === 'TRADETYPE_LIST') {\n                this.updateMultiplierInput(true);\n                this.updateAmountLimits();\n            }\n            return;\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            this.setCurrency();\n            this.updateAmountLimits();\n            this.validateBlocksInStatement();\n            if (event.blockId === this.id) {\n                // Ensure this block is populated after initial drag from flyout.\n                if (!this.selected_multiplier) {\n                    const fake_creation_event = new Blockly.Events.Create(this);\n                    fake_creation_event.recordUndo = false;\n                    Blockly.Events.fire(fake_creation_event);\n                } else if (this.selected_trade_type !== 'multiplier') {\n                    this.updateMultiplierInput(true);\n                }\n            }\n        }\n    },\n    updateAmountLimits: Blockly.Blocks.trade_definition_tradeoptions.updateAmountLimits,\n    updateMultiplierInput(should_use_default_value) {\n        const { contracts_for } = ApiHelpers.instance;\n\n        if (this.selected_trade_type === 'multiplier') {\n            contracts_for.getMultiplierRange(this.selected_symbol, this.selected_trade_type).then(multiplier_range => {\n                if (multiplier_range.length > 0) {\n                    const multiplier_list_dropdown = this.getField('MULTIPLIERTYPE_LIST');\n                    const multiplier_options = multiplier_range.map(value => {\n                        const option = value.toString();\n                        return [option, option];\n                    });\n\n                    multiplier_list_dropdown?.updateOptions(multiplier_options, {\n                        default_value: should_use_default_value ? undefined : multiplier_list_dropdown.getValue(),\n                    });\n                }\n            });\n            return;\n        }\n\n        if (this.isDescendantOf('trade_definition')) {\n            runIrreversibleEvents(() => {\n                runGroupedEvents(false, () => {\n                    const duration_block = this.workspace.newBlock('trade_definition_tradeoptions');\n                    duration_block.initSvg();\n                    duration_block.render();\n\n                    const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n                    const parent_connection = trade_definition_block.getInput('SUBMARKET').connection;\n                    const child_connection = duration_block.previousConnection;\n                    parent_connection.connect(child_connection);\n\n                    const duration_input = duration_block.getInput('DURATION');\n\n                    const duration_shadow_block = this.workspace.newBlock('math_number_positive');\n                    duration_shadow_block.setShadow(true);\n                    duration_shadow_block.outputConnection.connect(duration_input.connection);\n                    duration_shadow_block.initSvg();\n                    duration_shadow_block.render(true);\n\n                    const stake_input = duration_block.getInput('AMOUNT');\n\n                    const stake_shadow_block = this.workspace.newBlock('math_number_positive');\n                    stake_shadow_block.setShadow(true);\n                    stake_shadow_block.setFieldValue(1, 'NUM');\n                    stake_shadow_block.outputConnection.connect(stake_input.connection);\n                    stake_shadow_block.initSvg();\n                    stake_shadow_block.render(true);\n\n                    this.dispose();\n                    Blockly.derivWorkspace.cleanUp();\n                });\n            });\n        }\n    },\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    restricted_parents: ['trade_definition'],\n    getRequiredValueInputs() {\n        return {\n            AMOUNT: input => {\n                const input_number = Number(input);\n                const max_payout = this.amount_limits?.max_payout;\n                const min_stake = this.amount_limits?.min_stake;\n                if (min_stake && input_number < min_stake) {\n                    this.error_message = localize(\"Please enter a stake amount that's at least {{min_stake}}.\", {\n                        min_stake,\n                    });\n                    return input_number < min_stake;\n                }\n                if (max_payout && input_number > max_payout) {\n                    this.error_message = localize(\"Please enter a payout amount that's lower than {{max_payout}}.\", {\n                        max_payout,\n                    });\n                    return input_number > max_payout;\n                }\n                this.error_message = localize('Amount must be a positive number.');\n                return !isNaN(input_number) && input_number <= 0;\n            },\n        };\n    },\n};\n\nBlockly.JavaScript.trade_definition_multiplier = block => {\n    const amount = Blockly.JavaScript.valueToCode(block, 'AMOUNT', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n    const { currency } = DBotStore.instance.client;\n    const { setContractUpdateConfig } = DBotStore.instance;\n    const multiplier_value = block.getFieldValue('MULTIPLIERTYPE_LIST') || '1';\n    const stop_loss =\n        !block.getChildByType('multiplier_stop_loss')?.disabled &&\n        block.childValueToCode('multiplier_stop_loss', 'AMOUNT');\n    const take_profit =\n        !block.getChildByType('multiplier_take_profit')?.disabled &&\n        block.childValueToCode('multiplier_take_profit', 'AMOUNT');\n    const limit_order = {\n        stop_loss: stop_loss ? `+(Number(${stop_loss}).toFixed(2))` : undefined,\n        take_profit: take_profit ? `+(Number(${take_profit}).toFixed(2))` : undefined,\n    };\n\n    setContractUpdateConfig(take_profit, stop_loss);\n    // Determine decimal places for rounding the stake, this is done so Martingale multipliers\n    // are not affected by fractional values e.g. USD 12.232323 will become 12.23.\n    const decimal_places = getDecimalPlaces(currency);\n    const stake_amount = `+(Number(${amount}).toFixed(${decimal_places}))`;\n\n    const code = `\n        Bot.start({\n            limitations        : BinaryBotPrivateLimitations,\n            multiplier         : ${multiplier_value},\n            currency           : '${currency}',\n            amount             : ${stake_amount},\n            limit_order        : ${JSON.stringify(limit_order)},\n            basis              : 'stake',\n            stop_loss          : ${limit_order.stop_loss},\n            take_profit        : ${limit_order.take_profit},\n        });\n        BinaryBotPrivateHasCalledTradeOptions = true;\n    `;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode } from '@deriv/shared';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.multiplier_stop_loss = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Stop Loss: {{ currency }} {{ stop_loss }}', {\n                currency: '%1',\n                stop_loss: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'Your contract is closed automatically when your loss is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Stop loss'),\n            description: localize(\n                'Your contract is closed automatically when your loss is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Stop loss must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nBlockly.JavaScript.multiplier_stop_loss = () => {};\n","import { localize } from '@deriv/translations';\nimport { getCurrencyDisplayCode } from '@deriv/shared';\nimport { config } from '../../../../constants/config';\n\nBlockly.Blocks.multiplier_take_profit = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Take Profit: {{ currency }} {{ take_profit }}', {\n                currency: '%1',\n                take_profit: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_label',\n                    name: 'CURRENCY_LIST',\n                    text: getCurrencyDisplayCode(config.lists.CURRENCY[0]),\n                },\n                {\n                    type: 'input_value',\n                    name: 'AMOUNT',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize(\n                'Your contract is closed automatically when your profit is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n            category: Blockly.Categories.Trade_Definition,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Take Profit'),\n            description: localize(\n                'Your contract is closed automatically when your profit is more than or equals to this amount. This block can only be used with the multipliers trade type.'\n            ),\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n        if (\n            (event.type === Blockly.Events.BLOCK_CREATE && event.ids.includes(this.id)) ||\n            event.type === Blockly.Events.END_DRAG\n        ) {\n            this.setCurrency();\n        }\n    },\n    restricted_parents: ['trade_definition_multiplier'],\n    setCurrency: Blockly.Blocks.trade_definition_tradeoptions.setCurrency,\n    getRequiredValueInputs() {\n        const field_input = this.getInput('AMOUNT');\n        if (field_input.connection.targetBlock()) {\n            return {\n                AMOUNT: input => {\n                    const input_number = Number(input);\n                    this.error_message = localize('Take profit must be a positive number.');\n                    return !isNaN(input_number) && input_number <= 0;\n                },\n            };\n        }\n        return {};\n    },\n};\n\nBlockly.JavaScript.multiplier_take_profit = () => {};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_compare = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['=', 'EQ'],\n                        ['\\u2260', 'NEQ'],\n                        ['\\u200F<', 'LT'],\n                        ['\\u200F\\u2264', 'LTE'],\n                        ['\\u200F>', 'GT'],\n                        ['\\u200F\\u2265', 'GTE'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Compares two values'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Compare'),\n            description: localize('This block compares two values and is used to build a conditional structure.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_compare = block => {\n    const operatorMapping = {\n        EQ: '==',\n        NEQ: '!=',\n        LT: '<',\n        LTE: '<=',\n        GT: '>',\n        GTE: '>=',\n    };\n\n    const operator = operatorMapping[block.getFieldValue('OP') || 'EQ'];\n    const order = ['==', '!='].includes(operator)\n        ? Blockly.JavaScript.ORDER_EQUALITY\n        : Blockly.JavaScript.ORDER_RELATIONAL;\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', order) || 'false';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', order) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark, minusIconDark } from '../images';\n\nBlockly.Blocks.controls_if = {\n    init() {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n        this.else_if_count = 0;\n        this.else_count = 0;\n\n        this.jsonInit(this.definition());\n        this.updateShape();\n    },\n    definition() {\n        return {\n            message0: localize('if {{ condition }} then', { condition: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF0',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'DO0',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Conditional block'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Conditional block'),\n            description: localize(\n                'This block evaluates a statement and will perform an action only when the statement is true.'\n            ),\n        };\n    },\n    /**\n     * Create XML to represent the number of else-if and else inputs.\n     * @return {Element} XML storage element.\n     * @this Blockly.Block\n     */\n    mutationToDom() {\n        const container = document.createElement('mutation');\n\n        if (this.else_if_count) {\n            container.setAttribute('elseif', this.else_if_count);\n        }\n\n        if (this.else_count) {\n            container.setAttribute('else', 1);\n        }\n\n        return container;\n    },\n    /**\n     * Parse XML to restore the else-if and else inputs.\n     * @param {!Element} xmlElement XML storage element.\n     * @this Blockly.Block\n     */\n    domToMutation(xmlElement) {\n        this.else_if_count = parseInt(xmlElement.getAttribute('elseif')) || 0;\n        this.else_count = parseInt(xmlElement.getAttribute('else')) || 0;\n        this.rebuildShape();\n    },\n    rebuildShape() {\n        const value_connections = [null];\n        const statement_connections = [null];\n        const else_statement_connection = this.getInput('ELSE')?.connection?.targetConnection || null;\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n            const if_input = this.getInput(input_names.IF);\n\n            if (!if_input) {\n                break;\n            }\n\n            const do_input = this.getInput(input_names.DO);\n            value_connections.push(if_input.connection.targetConnection);\n            statement_connections.push(do_input.connection.targetConnection);\n            i++;\n        }\n\n        this.updateShape();\n        this.reconnectChildBlocks(value_connections, statement_connections, else_statement_connection);\n    },\n    update(updateFn) {\n        Blockly.Events.setGroup(true);\n\n        const old_mutation_dom = this.mutationToDom();\n        const old_mutation = old_mutation_dom && Blockly.Xml.domToText(old_mutation_dom);\n        const is_rendered = this.rendered;\n\n        this.rendered = false;\n\n        if (updateFn) {\n            updateFn.call(this);\n        }\n\n        this.updateShape();\n        this.rendered = is_rendered;\n        this.initSvg();\n\n        const group = Blockly.Events.getGroup();\n        const new_mutation_dom = this.mutationToDom();\n        const new_mutation = new_mutation_dom && Blockly.Xml.domToText(new_mutation_dom);\n\n        if (old_mutation !== new_mutation) {\n            const change_event = new Blockly.Events.BlockChange(this, 'mutation', null, old_mutation, new_mutation);\n            Blockly.Events.fire(change_event);\n\n            setTimeout(() => {\n                Blockly.Events.setGroup(group);\n                this.bumpNeighbours_();\n                Blockly.Events.setGroup(false);\n            }, Blockly.BUMP_DELAY);\n        }\n\n        if (this.rendered) {\n            this.render();\n        }\n\n        Blockly.Events.setGroup(false);\n    },\n    updateShape() {\n        if (this.getInput('ELSE')) {\n            this.removeInput('ELSE');\n            this.removeInput('ELSE_LABEL');\n            this.removeInput('DELETE_ELSE');\n        }\n\n        let i = 1;\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const input_names = this.getIfInputNames(i);\n\n            if (!this.getInput(input_names.IF)) {\n                break;\n            }\n\n            this.removeInput(input_names.IF_LABEL);\n            this.removeInput(input_names.IF);\n            this.removeInput(input_names.THEN_LABEL);\n            this.removeInput(input_names.DELETE_ICON);\n            this.removeInput(input_names.DO);\n\n            i++;\n        }\n\n        if (this.getInput('MUTATOR')) {\n            this.removeInput('MUTATOR'); // \"+\" icon.\n        }\n\n        // Rebuild else if statements\n        for (let j = 1; j <= this.else_if_count; j++) {\n            const input_names = this.getIfInputNames(j);\n            const removeElseIf = () => this.modifyElseIf(false, j);\n\n            this.appendDummyInput(input_names.IF_LABEL).appendField(localize('else if'));\n            this.appendValueInput(input_names.IF).setCheck('Boolean');\n            this.appendDummyInput(input_names.THEN_LABEL).appendField(localize('then'));\n            this.appendDummyInput(input_names.DELETE_ICON).appendField(\n                new Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElseIf)\n            );\n            this.appendStatementInput(input_names.DO);\n        }\n\n        // Rebuild else statement\n        if (this.else_count > 0) {\n            const removeElse = () => this.modifyElse(false);\n            this.appendDummyInput('ELSE_LABEL').appendField(localize('else'));\n            this.appendDummyInput('DELETE_ELSE').appendField(\n                new Blockly.FieldImage(minusIconDark, 24, 24, '-', removeElse, false)\n            );\n            this.appendStatementInput('ELSE');\n        }\n\n        const addElseIf = () => {\n            if (this.else_count === 0) {\n                this.modifyElse(true);\n            } else {\n                if (!this.else_if_count) {\n                    this.else_if_count = 0;\n                }\n\n                this.modifyElseIf(true);\n            }\n        };\n\n        // Re-add the \"+\" icon\n        this.appendDummyInput('MUTATOR').appendField(\n            new Blockly.FieldImage(plusIconDark, 24, 24, '+', addElseIf, false)\n        );\n\n        this.initSvg();\n        this.render();\n    },\n    storeConnections(arg = 0) {\n        this.value_connections = [null];\n        this.statement_connections = [null];\n        this.else_statement_connection = null;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            if (arg !== i) {\n                const input_names = this.getIfInputNames(i);\n\n                this.value_connections.push(this.getInput(input_names.IF).connection.targetConnection);\n                this.statement_connections.push(this.getInput(input_names.DO).connection.targetConnection);\n            }\n        }\n\n        const else_input = this.getInput('ELSE');\n\n        if (else_input) {\n            this.else_statement_connection = else_input.connection.targetConnection;\n        }\n    },\n    reconnectChildBlocks(opt_value_conns, opt_statement_conns, opt_else_statement_conns) {\n        const value_connections = opt_value_conns ?? this.value_connections;\n        const statement_connections = opt_statement_conns ?? this.statement_connections;\n        const else_statement_connection = opt_else_statement_conns ?? this.else_statement_connection;\n\n        for (let i = 1; i <= this.else_if_count; i++) {\n            const input_names = this.getIfInputNames(i);\n            const value_connection = value_connections[i];\n            const statement_connection = statement_connections[i];\n\n            if (value_connection && this.getInput(input_names.IF)) {\n                Blockly.Mutator.reconnect(value_connection, this, input_names.IF);\n            }\n            if (statement_connection && this.getInput(input_names.DO)) {\n                Blockly.Mutator.reconnect(statement_connection, this, input_names.DO);\n            }\n        }\n\n        if (else_statement_connection && this.getInput('ELSE')) {\n            Blockly.Mutator.reconnect(else_statement_connection, this, 'ELSE');\n        }\n    },\n    modifyElse(is_add) {\n        const update = () => {\n            this.else_count += is_add ? 1 : -1;\n        };\n\n        this.storeConnections();\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    modifyElseIf(is_add, opt_idx) {\n        this.storeConnections(opt_idx);\n\n        const update = () => {\n            this.else_if_count += is_add ? 1 : -1;\n        };\n\n        this.update(update);\n        this.reconnectChildBlocks();\n    },\n    getRequiredValueInputs() {\n        const required_inputs = {};\n        this.inputList\n            .filter(input => /^IF[0-9]*?$/.test(input.name))\n            .forEach(input => (required_inputs[input.name] = null));\n\n        return required_inputs;\n    },\n    getIfInputNames: idx => {\n        return {\n            IF_LABEL: `IF_LABEL${idx}`,\n            IF: `IF${idx}`,\n            THEN_LABEL: `THEN_LABEL${idx}`,\n            DELETE_ICON: `DELETE_ICON${idx}`,\n            DO: `DO${idx}`,\n        };\n    },\n};\n\nBlockly.JavaScript.controls_if = block => {\n    // If/elseif/else condition.\n    let n = 0;\n    let code = '';\n\n    do {\n        const condition = Blockly.JavaScript.valueToCode(block, `IF${n}`, Blockly.JavaScript.ORDER_NONE) || 'false';\n\n        // i.e. (else)? if { // code }\n        const keyword = n > 0 ? 'else if' : 'if';\n        code += `\n        ${keyword} (${condition}) {\n            ${Blockly.JavaScript.statementToCode(block, `DO${n}`)}\n        }`;\n        n++;\n    } while (block.getInput(`IF${n}`));\n\n    if (block.getInput('ELSE')) {\n        code += `\n        else {\n            ${Blockly.JavaScript.statementToCode(block, 'ELSE')}\n        }`;\n    }\n\n    return `${code}\\n`;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_boolean = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'BOOL',\n                    options: [\n                        [localize('true'), 'TRUE'],\n                        [localize('false'), 'FALSE'],\n                    ],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns either True or False'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('True-False'),\n            description: localize('This is a single block that returns a boolean value, either true or false.'),\n        };\n    },\n};\n\nBlockly.JavaScript.logic_boolean = block => {\n    const code = block.getFieldValue('BOOL') === 'TRUE' ? 'true' : 'false';\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_operation = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('and'), 'AND'],\n                        [localize('or'), 'OR'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Performs selected logic operation'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Logic operation'),\n            description: localize('This block performs the \"AND\" or the \"OR\" logic operation.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_operation = block => {\n    const selectedOperator = block.getFieldValue('OP');\n\n    let operator, order;\n\n    if (selectedOperator === 'AND') {\n        operator = '&&';\n        order = Blockly.JavaScript.ORDER_LOGICAL_AND;\n    } else if (selectedOperator === 'OR') {\n        operator = '||';\n        order = Blockly.JavaScript.ORDER_LOGICAL_OR;\n    }\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', Blockly.JavaScript.ORDER_ATOMIC) || 'false';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', Blockly.JavaScript.ORDER_ATOMIC) || 'false';\n\n    const code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_null = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: 'null',\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block assigns a null value to an item or statement.'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Null'),\n            description: localize('This block assigns a null value to an item or statement.'),\n        };\n    },\n};\nBlockly.JavaScript.logic_null = () => ['null', Blockly.JavaScript.ORDER_ATOMIC];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_ternary = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('test {{ condition }}', { condition: '%1' }),\n            message1: localize('if true {{ return_value }}', { return_value: '%1' }),\n            message2: localize('if false {{ return_value }}', { return_value: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'IF',\n                    check: 'Boolean',\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_value',\n                    name: 'THEN',\n                },\n            ],\n            args2: [\n                {\n                    type: 'input_value',\n                    name: 'ELSE',\n                },\n            ],\n            output: null,\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize(\n                'This block tests if a given value is true or false and returns “True” or “False” accordingly.'\n            ),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Test value'),\n            description: localize(\n                'This block tests if a given value is true or false and returns “True” or “False” accordingly.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            IF: null,\n            THEN: null,\n            ELSE: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_ternary = block => {\n    const valueIf = Blockly.JavaScript.valueToCode(block, 'IF', Blockly.JavaScript.ORDER_CONDITIONAL) || 'false';\n    const valueThen = Blockly.JavaScript.valueToCode(block, 'THEN', Blockly.JavaScript.ORDER_CONDITIONAL) || 'null';\n    const valueElse = Blockly.JavaScript.valueToCode(block, 'ELSE', Blockly.JavaScript.ORDER_CONDITIONAL) || 'null';\n\n    const code = `(${valueIf} ? ${valueThen} : ${valueElse})`;\n    return [code, Blockly.JavaScript.ORDER_CONDITIONAL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.logic_negate = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('not {{ boolean }}', { boolean: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'BOOL',\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Converts a given True or False to the opposite value'),\n            category: Blockly.Categories.Logic,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Logic negation'),\n            description: localize('This block converts the boolean value (true or false) to its opposite.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            BOOL: null,\n        };\n    },\n};\n\nBlockly.JavaScript.logic_negate = block => {\n    const order = Blockly.JavaScript.ORDER_LOGICAL_NOT;\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'BOOL', order) || 'true';\n\n    const code = `!${argument0}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_change = {\n    /**\n     * Initializes the block, in most cases this calls the jsonInit function, in some\n     * cases it may add extra properties to the block object.\n     * https://developers.google.com/blockly/reference/js/Blockly.Block#jsonInit\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    /**\n     * Block definitions describe how a block looks and behaves, including the text,\n     * the colour, the shape, and what other blocks it can connect to. We've separated\n     * the block definition from the init function so we can search through it.\n     * https://developers.google.com/blockly/guides/create-custom-blocks/define-blocks\n     */\n    definition() {\n        return {\n            message0: localize('change {{ variable }} by {{ number }}', {\n                variable: '%1',\n                number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('item'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'DELTA',\n                    check: 'Number',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('This block adds the given number to the selected variable'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    /**\n     * Meta returns an object with with properties that contain human readable strings,\n     * these strings are used in the flyout help content, as well as used for searching\n     * for specific blocks.\n     */\n    meta() {\n        return {\n            display_name: localize('Change variable'),\n            description: localize('This block adds the given number to the selected variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DELTA: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_change = block => {\n    const variable = block.getFieldValue('VAR');\n    // eslint-disable-next-line no-underscore-dangle\n    const argument0 = Blockly.JavaScript.variableDB_.getName(variable, Blockly.Variables.NAME_TYPE);\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'DELTA', Blockly.JavaScript.ORDER_ADDITION) || '0';\n    const code = `${argument0} = (typeof ${argument0} === 'number' ? ${argument0} : 0) + ${argument1};`;\n\n    return code;\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_constant = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'CONSTANT',\n                    options: [\n                        ['\\u03C0', 'PI'],\n                        ['\\u2107', 'E'],\n                        ['\\u03d5', 'GOLDEN_RATIO'],\n                        ['sqrt(2)', 'SQRT2'],\n                        ['sqrt(\\u00bd)', 'SQRT1_2'],\n                        ['\\u221e', 'INFINITY'],\n                    ],\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you the selected constant values.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Mathematical constants'),\n            description: localize('This block gives you the selected constant values.'),\n        };\n    },\n};\n\nBlockly.JavaScript.math_constant = block => {\n    const constant = block.getFieldValue('CONSTANT');\n\n    let code, order;\n\n    if (constant === 'PI') {\n        code = 'Math.PI';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'E') {\n        code = 'Math.E';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'GOLDEN_RATIO') {\n        code = '(1 + Math.sqrt(5)) / 2';\n        order = Blockly.JavaScript.ORDER_DIVISION;\n    } else if (constant === 'SQRT2') {\n        code = 'Math.SQRT2';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'SQRT1_2') {\n        code = 'Math.SQRT1_2';\n        order = Blockly.JavaScript.ORDER_MEMBER;\n    } else if (constant === 'INFINITY') {\n        code = 'Infinity';\n        order = Blockly.JavaScript.ORDER_ATOMIC;\n    }\n\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_constrain = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('constrain {{ number }} low {{ low_number }} high {{ high_number }}', {\n                number: '%1',\n                low_number: '%2',\n                high_number: '%3',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'LOW',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'HIGH',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block constrains a given number so that it is within a set range.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Constrain within a range'),\n            description: localize('This block constrains a given number so that it is within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: null,\n            LOW: null,\n            HIGH: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_constrain = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'LOW', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument2 = Blockly.JavaScript.valueToCode(block, 'HIGH', Blockly.JavaScript.ORDER_COMMA) || '0';\n\n    const code = `Math.min(Math.max(${argument0}, ${argument1}), ${argument2})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_modulo = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('remainder of {{ number1 }} ÷ {{ number2 }}', {\n                number1: '%1',\n                number2: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'DIVIDEND',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'DIVISOR',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns the remainder after a division'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Remainder after division'),\n            description: localize('Returns the remainder after the division of the given numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            DIVIDEND: null,\n            DIVISOR: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_modulo = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'DIVIDEND', Blockly.JavaScript.ORDER_MODULUS) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'DIVISOR', Blockly.JavaScript.ORDER_MODULUS) || '0';\n\n    const code = `${argument0} % ${argument1}`;\n    return [code, Blockly.JavaScript.ORDER_MODULUS];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const fieldInput = this.getField('NUM');\n        fieldInput.setValidator(input => this.numberValidator(input));\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_number',\n                    name: 'NUM',\n                    value: 0,\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Please use `.` as a decimal separator for fractional numbers.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Number'),\n            description: localize(\n                'Enter an integer or fractional number into this block. Please use `.` as a decimal separator for fractional numbers.'\n            ),\n        };\n    },\n    numberValidator(input) {\n        if (/^-?([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n};\n\nBlockly.JavaScript.math_number = block => {\n    const code = block.getFieldValue('NUM');\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number_positive = {\n    init: Blockly.Blocks.math_number.init,\n    definition: Blockly.Blocks.math_number.definition,\n    meta() {\n        return {\n            display_name: localize('Math Number Positive'),\n            description: localize('Math Number Description'),\n        };\n    },\n    numberValidator(input) {\n        if (/^([0][.]|[0-9]+[.])?([0]|[1-9]){1,}$/.test(input) && input < Number.MAX_SAFE_INTEGER) {\n            return undefined;\n        }\n        return null;\n    },\n};\n\nBlockly.JavaScript.math_number_positive = Blockly.JavaScript.math_number;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_number_property = {\n    init() {\n        this.jsonInit(this.definition());\n\n        this.setOnChange(event => {\n            if (event.name === 'PROPERTY') {\n                const hasDivisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n                this.updateShape(hasDivisorInput);\n            }\n        });\n    },\n    definition() {\n        return {\n            message0: localize('{{ number }} is {{ type }}', {\n                number: '%1',\n                type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'NUMBER_TO_CHECK',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'PROPERTY',\n                    options: [\n                        [localize('even'), 'EVEN'],\n                        [localize('odd'), 'ODD'],\n                        [localize('prime'), 'PRIME'],\n                        [localize('whole'), 'WHOLE'],\n                        [localize('positive'), 'POSITIVE'],\n                        [localize('negative'), 'NEGATIVE'],\n                        [localize('divisible by'), 'DIVISIBLE_BY'],\n                    ],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            toolip: localize('This block tests a given number according to the selection'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Test a number'),\n            description: localize(\n                'This block tests a given number according to the selection and it returns a value of “True” or “False”. Available options: Even, Odd, Prime, Whole, Positive, Negative, Divisible'\n            ),\n        };\n    },\n    domToMutation(xmlElement) {\n        const hasDivisorInput = xmlElement.getAttribute('divisor_input') === 'true';\n        this.updateShape(hasDivisorInput);\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const divisorInput = this.getFieldValue('PROPERTY') === 'DIVISIBLE_BY';\n        container.setAttribute('divisor_input', divisorInput);\n        return container;\n    },\n    updateShape(hasDivisorInput) {\n        const inputExists = this.getInput('DIVISOR');\n\n        if (hasDivisorInput) {\n            if (!inputExists) {\n                this.appendValueInput('DIVISOR').setCheck('Number');\n                this.initSvg();\n                this.render(false);\n            }\n        } else {\n            this.removeInput('DIVISOR');\n        }\n    },\n    getRequiredValueInputs() {\n        return {\n            NUMBER_TO_CHECK: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_number_property = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'NUMBER_TO_CHECK', Blockly.JavaScript.ORDER_MODULUS) || '0';\n    const property = block.getFieldValue('PROPERTY');\n\n    let code;\n\n    if (property === 'PRIME') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('mathIsPrime', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(n) {\n                // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n                if (n == 2 || n == 3) {\n                    return true;\n                }\n\n                // False if n is NaN, negative, is 1, or not whole.\n                // And false if n is divisible by 2 or 3.\n                if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {\n                    return false;\n                }\n\n                // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n                for (var x  = 6; x <= Math.sqrt(n) + 1; x += 6) {\n                    if (n % (x - 1) == 0 || n % (x + 1) == 0) {\n                        return false;\n                    }\n                }\n                return true;\n            }`,\n        ]);\n        code = `${functionName}(${argument0})`;\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    } else if (property === 'EVEN') {\n        code = `${argument0} % 2 === 0`;\n    } else if (property === 'ODD') {\n        code = `${argument0} % 2 === 1`;\n    } else if (property === 'WHOLE') {\n        code = `${argument0} % 1 === 0`;\n    } else if (property === 'POSITIVE') {\n        code = `${argument0} > 0`;\n    } else if (property === 'NEGATIVE') {\n        code = `${argument0} < 0`;\n    } else if (property === 'DIVISIBLE_BY') {\n        const divisor = Blockly.JavaScript.valueToCode(block, 'DIVISOR', Blockly.JavaScript.ORDER_MODULUS) || '0';\n        code = `${argument0} % ${divisor} == 0`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_EQUALITY];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_on_list = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('{{ calculation }} of list {{ input_list }}', {\n                calculation: '%1',\n                input_list: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('sum'), 'SUM'],\n                        [localize('min'), 'MIN'],\n                        [localize('max'), 'MAX'],\n                        [localize('average'), 'AVERAGE'],\n                        [localize('median'), 'MEDIAN'],\n                        [localize('mode'), 'MODE'],\n                        [localize('antimode'), 'ANTIMODE'],\n                        [localize('standard deviation'), 'STD_DEV'],\n                        [localize('random item'), 'RANDOM'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'LIST',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Aggregate operations'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Aggregate operations'),\n            description: localize(\n                'This block performs the following operations on a given list: sum, minimum, maximum, average, median, mode, antimode, standard deviation, random item.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        const type_list = [\n            'variables_get',\n            'lists_getSublist',\n            'ohlc_values',\n            'lists_split',\n            'ohlc',\n            'ticks',\n            'lists_repeat',\n            'lastDigitList',\n            'ohlc_values_in_list',\n            'procedures_callreturn',\n        ];\n        return {\n            LIST: () => {\n                return !type_list.includes(this.childBlocks_[0]?.type);\n            },\n        };\n    },\n};\n\n/* eslint-disable no-underscore-dangle */\nBlockly.JavaScript.math_on_list = block => {\n    const operation = block.getFieldValue('OP');\n\n    let code, list;\n\n    if (operation === 'SUM') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) {\n                    return x + y;\n                },0);\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MIN') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.min.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_COMMA) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MAX') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return Math.max.apply(null, (recursiveList(myList, final_list) || [0]));\n            }`,\n        ]);\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_COMMA) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'AVERAGE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMean', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return recursiveList(myList, final_list).reduce(function(x, y) {\n                    return x + y;\n                }, 0) / myList.length;\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MEDIAN') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathMedian', [\n            `\n            Array.prototype.swap = function (x,y) {\n                var b = this[x];\n                this[x] = this[y];\n                this[y] = b;\n                return this;\n            }\n\n            function partition(arr, start, end){\n                var pivotValue = arr[end];\n                var pivotIndex = start;\n                for (var i = start; i < end; i++) {\n                    if (arr[i] < pivotValue) {\n                    arr.swap(pivotIndex, i);\n                    pivotIndex++;\n                    }\n                }\n                arr.swap(end, pivotIndex);\n                return pivotIndex;\n            };\n\n            function quickSort(arr) {\n                var stack = [];\n                stack.push(0);\n                stack.push(arr.length - 1);\n\n                while(stack[stack.length - 1] >= 0){\n                    end = stack.pop();\n                    start = stack.pop();\n                    pivotIndex = partition(arr, start, end);\n                    if (pivotIndex - 1 > start){\n                        stack.push(start);\n                        stack.push(pivotIndex - 1);\n                    }\n                    if (pivotIndex + 1 < end){\n                        stack.push(pivotIndex + 1);\n                        stack.push(end);\n                    }\n                }\n\n            }\n\n            function calculateMedian(final_list){\n                quickSort(final_list);\n\n                if (final_list.length % 2 == 0) {\n                    return (final_list[final_list.length / 2 - 1] + final_list[final_list.length / 2]) / 2;\n                }\n                return final_list[(final_list.length - 1) / 2];\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n                var final_list = [];\n                return calculateMedian(recursiveList(myList, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'MODE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathModes', [\n            `\n            function calculateMathMode(values){\n                var modes = [];\n                var counts = [];\n                var maxCount = 0;\n\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                    maxCount = Math.max(thisCount, maxCount);\n                }\n\n                for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == maxCount) {\n                        modes.push(counts[j][0]);\n                    }\n                }\n\n                return modes;\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'ANTIMODE') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathAntiMode', [\n            `\n            function calculateMathAntiMode(values){\n                var antiMode = [];\n                var counts = [];\n                var minCount = 1;\n                var countArray = [];\n\n                for (var i = 0; i < values.length; i++) {\n                    var value = values[i];\n                    var found = false;\n                    var thisCount;\n\n                    for (var j = 0; j < counts.length; j++) {\n                        if (counts[j][0] === value) {\n                            thisCount = ++counts[j][1];\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        counts.push([value, 1]);\n                        thisCount = 1;\n                    }\n                }\n\n                 minCount = Math.min.apply(null, counts.map(function(element) {\n                     return element[1];\n                 }));\n\n                 for (var j = 0; j < counts.length; j++) {\n                    if (counts[j][1] == minCount) {\n                        antiMode.push(counts[j][0]);\n                    }\n                }\n\n                return antiMode;\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathAntiMode(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'STD_DEV') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathStandardDeviation', [\n            `\n            function calculateMathStandardDeviation(numbers){\n                var n = numbers.length;\n                if (!n) {\n                    return null;\n                }\n\n                var mean = numbers.reduce(function(x, y) {\n                    return x + y;\n                }, 0) / n;\n\n                var variance = 0;\n                for (var j = 0; j < n; j++) {\n                    variance += Math.pow(numbers[j] - mean, 2);\n                }\n                variance = variance / n;\n                return Math.sqrt(variance);\n            }\n\n            function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                return calculateMathStandardDeviation(recursiveList(list, final_list));\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    } else if (operation === 'RANDOM') {\n        const functionName = Blockly.JavaScript.provideFunction_('mathRandomList', [\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(list) {\n                var final_list = [];\n                var final_list = recursiveList(list, final_list);\n                var x = Math.floor(Math.random() * final_list.length);\n                return final_list[x];\n            }`,\n        ]);\n\n        list = Blockly.JavaScript.valueToCode(block, 'LIST', Blockly.JavaScript.ORDER_NONE) || '[]';\n        code = `${functionName}((${list} || [0]))`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_random_float = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random fraction'),\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random fraction between 0.0 to 1.0'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Random fraction number'),\n            description: localize('This block gives you a random fraction between 0.0 to 1.0.'),\n        };\n    },\n};\n\nBlockly.JavaScript.math_random_float = () => ['Math.random()', Blockly.JavaScript.ORDER_FUNCTION_CALL];\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_random_int = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('random integer from {{ start_number }} to {{ end_number }}', {\n                start_number: '%1',\n                end_number: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'FROM',\n                    check: 'Number',\n                },\n                {\n                    type: 'input_value',\n                    name: 'TO',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block gives you a random number from within a set range'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Random integer'),\n            description: localize('This block gives you a random number from within a set range.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            FROM: null,\n            TO: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_random_int = block => {\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'FROM', Blockly.JavaScript.ORDER_COMMA) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'TO', Blockly.JavaScript.ORDER_COMMA) || '0';\n\n    // eslint-disable-next-line no-underscore-dangle\n    const functionName = Blockly.JavaScript.provideFunction_('mathRandomInt', [\n        // eslint-disable-next-line no-underscore-dangle\n        `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n            if (a > b) {\n                // Swap a and b to ensure a is smaller.\n                var c = a;\n                a = b;\n                b = c;\n            }\n            return Math.floor(Math.random() * (b - a + 1) + a);\n        }`,\n    ]);\n\n    const code = `${functionName}(${argument0}, ${argument1})`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\n// https://github.com/google/blockly/blob/master/generators/javascript/math.js\nBlockly.Blocks.math_round = {\n    /**\n     * Check if a number is even, odd, prime, whole, positive, or negative\n     * or if it is divisible by certain number. Returns true or false.\n     * @this Blockly.Block\n     */\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['round', 'ROUND'],\n                        ['round up', 'ROUNDUP'],\n                        ['round down', 'ROUNDDOWN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Rounds a given number to an integer'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Rounding operation'),\n            description: localize(\n                'This block rounds a given number according to the selection: round, round up, round down.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_round = block => {\n    const operation = block.getFieldValue('OP');\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_ATOMIC) || '0';\n\n    let code;\n\n    if (operation === 'ROUND') {\n        code = `Math.round(${argument0})`;\n    } else if (operation === 'ROUNDUP') {\n        code = `Math.ceil(${argument0})`;\n    } else if (operation === 'ROUNDDOWN') {\n        code = `Math.floor(${argument0})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_arithmetic = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2 %3',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'A',\n                    check: 'Number',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['+', 'ADD'],\n                        ['-', 'MINUS'],\n                        ['*', 'MULTIPLY'],\n                        ['/', 'DIVIDE'],\n                        ['^', 'POWER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'B',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('This block performs arithmetic operations between two numbers.'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Arithmetical operations'),\n            description: localize('This block performs arithmetic operations between two numbers.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            A: null,\n            B: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_arithmetic = block => {\n    const operators = {\n        ADD: ['+', Blockly.JavaScript.ORDER_ADDITION],\n        MINUS: ['-', Blockly.JavaScript.ORDER_SUBTRACTION],\n        MULTIPLY: ['*', Blockly.JavaScript.ORDER_MULTIPLICATION],\n        DIVIDE: ['/', Blockly.JavaScript.ORDER_DIVISION],\n        POWER: [null, Blockly.JavaScript.ORDER_COMMA], // Handle power separately.\n    };\n\n    const tuple = operators[block.getFieldValue('OP')];\n    const operator = tuple[0];\n    const order = tuple[1];\n\n    const argument0 = Blockly.JavaScript.valueToCode(block, 'A', order) || '0';\n    const argument1 = Blockly.JavaScript.valueToCode(block, 'B', order) || '0';\n\n    let code;\n\n    // Power in JavaScript requires a special case since it has no operator.\n    if (!operator) {\n        code = `Math.pow(${argument0}, ${argument1})`;\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    }\n\n    code = `${argument0} ${operator} ${argument1}`;\n    return [code, order];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_single = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        [localize('square root'), 'ROOT'],\n                        [localize('absolute'), 'ABS'],\n                        ['-', 'NEG'],\n                        ['ln', 'LN'],\n                        ['log10', 'LOG10'],\n                        ['e^', 'EXP'],\n                        ['10^', 'POW10'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Operations on a given number'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Operations on a given number'),\n            description: localize('This block performs the selected operations to a given number.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_single = block => {\n    const operator = block.getFieldValue('OP');\n\n    let code, arg;\n\n    if (operator === 'NEG') {\n        // Negation is a special case given its different operator precedence.\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_UNARY_NEGATION) || '0';\n        if (arg[0] === '-') {\n            // --3 is not legal in JS\n            arg = ` ${arg}`;\n        }\n        code = `-${arg}`;\n        return [code, Blockly.JavaScript.ORDER_UNARY_NEGATION];\n    }\n\n    if (['SIN', 'COS', 'TAN'].includes(operator)) {\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_DIVISION) || '0';\n    } else {\n        arg = Blockly.JavaScript.valueToCode(block, 'NUM', Blockly.JavaScript.ORDER_NONE) || '0';\n    }\n\n    // First, handle cases which generate values that don't need parentheses\n    // wrapping the code.\n    if (operator === 'ABS') {\n        code = `Math.abs(${arg})`;\n    } else if (operator === 'ROOT') {\n        code = `Math.sqrt(${arg})`;\n    } else if (operator === 'LN') {\n        code = `Math.log(${arg})`;\n    } else if (operator === 'EXP') {\n        code = `Math.pow(Math.E, ${arg})`;\n    } else if (operator === 'POW10') {\n        code = `Math.pow(10, ${arg})`;\n    } else if (operator === 'ROUND') {\n        code = `Math.round(${arg})`;\n    } else if (operator === 'ROUNDUP') {\n        code = `Math.ceil(${arg})`;\n    } else if (operator === 'ROUNDDOWN') {\n        code = `Math.floor(${arg})`;\n    } else if (operator === 'SIN') {\n        code = `Math.sin(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'COS') {\n        code = `Math.cos(${arg} / 180 * Math.PI)`;\n    } else if (operator === 'TAN') {\n        code = `Math.tan(${arg} / 180 * Math.PI)`;\n    }\n\n    if (code) {\n        return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n    }\n\n    // Second, handle cases which generate values that may need parentheses\n    // wrapping the code.\n    if (operator === 'LOG10') {\n        code = `Math.log(${arg}) / Math.log(10)`;\n    } else if (operator === 'ASIN') {\n        code = `Math.asin(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ACOS') {\n        code = `Math.acos(${arg}) / Math.PI * 180`;\n    } else if (operator === 'ATAN') {\n        code = `Math.atan(${arg}) / Math.PI * 180`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_DIVISION];\n};\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.math_trig = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1 %2',\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'OP',\n                    options: [\n                        ['sin', 'SIN'],\n                        ['cos', 'COS'],\n                        ['tan', 'TAN'],\n                        ['asin', 'ASIN'],\n                        ['acos', 'ACOS'],\n                        ['atan', 'ATAN'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'NUM',\n                    check: 'Number',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trigonometric functions'),\n            category: Blockly.Categories.Mathematical,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trigonometric functions'),\n            description: localize('This block performs trigonometric functions.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            NUM: null,\n        };\n    },\n};\n\nBlockly.JavaScript.math_trig = Blockly.JavaScript.math_single;\n","import { localize } from '@deriv/translations';\n\nBlockly.Blocks.text = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'field_input',\n                    name: 'TEXT',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Enter some text here'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text'),\n            description: localize('A  block that can contain text.'),\n        };\n    },\n};\n\nBlockly.JavaScript.text = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const code = Blockly.JavaScript.quote_(block.getFieldValue('TEXT'));\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { plusIconDark } from '../images';\nimport { runGroupedEvents } from '../../utils';\n\nBlockly.Blocks.text_join = {\n    protected_statements: ['STACK'],\n    allowed_children: ['text_statement'],\n    init() {\n        const field_image = new Blockly.FieldImage(plusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('ADD_ICON').appendField(field_image);\n        this.moveInputBefore('ADD_ICON', 'STACK');\n    },\n    definition() {\n        return {\n            message0: localize('set {{ variable }} to create text with', { variable: '%1' }),\n            message1: '%1',\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VARIABLE',\n                    variable: localize('text'),\n                },\n            ],\n            args1: [\n                {\n                    type: 'input_statement',\n                    name: 'STACK',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Text join'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text join'),\n            description: localize(\n                'Creates a single text string from combining the text value of each attached item, without spaces in between. The number of items can be added accordingly.'\n            ),\n        };\n    },\n    onIconClick() {\n        if (this.workspace.options.readOnly || this.isInFlyout) {\n            return;\n        }\n\n        runGroupedEvents(false, () => {\n            const text_block = this.workspace.newBlock('text_statement');\n            text_block.required_parent_id = this.id;\n            text_block.setMovable(true);\n            text_block.initSvg();\n            text_block.render();\n\n            const shadow_block = this.workspace.newBlock('text');\n            shadow_block.setShadow(true);\n            shadow_block.setFieldValue('', 'TEXT');\n            shadow_block.initSvg();\n            shadow_block.render();\n\n            const text_input = text_block.getInput('TEXT');\n            text_input.connection.connect(shadow_block.outputConnection);\n\n            const connection = this.getLastConnectionInStatement('STACK');\n            connection.connect(text_block.previousConnection);\n        });\n\n        // TODO: Open editor and focus so user can add string right away?\n        // const inputField = shadow_block.getField('TEXT');\n        // inputField.showEditor_();\n    },\n    onchange: Blockly.Blocks.lists_create_with.onchange,\n};\n\n// Blockly.JavaScript.text_join = Blockly.JavaScript.lists_create_with;\nBlockly.JavaScript.text_join = block => {\n    // eslint-disable-next-line no-underscore-dangle\n    const var_name = Blockly.JavaScript.variableDB_.getName(\n        block.getFieldValue('VARIABLE'),\n        Blockly.Variables.NAME_TYPE\n    );\n    const blocks_in_stack = block.getBlocksInStatement('STACK');\n    const elements = blocks_in_stack.map(b => {\n        const value = Blockly.JavaScript[b.type](b);\n        return Array.isArray(value) ? value[0] : value;\n    });\n\n    const code = `${var_name} = [${elements}].join(\" \");\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { minusIconDark } from '../images';\nimport { runIrreversibleEvents } from '../../utils';\n\nBlockly.Blocks.text_statement = {\n    required_parent_type: 'text_join',\n    init() {\n        this.required_parent_id = '';\n        const field_image = new Blockly.FieldImage(minusIconDark, 25, 25, '', this.onIconClick.bind(this));\n        this.jsonInit(this.definition());\n        this.appendDummyInput('REMOVE_ICON').appendField(field_image);\n    },\n    definition() {\n        return {\n            message0: '%1',\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Statement'),\n            description: '',\n        };\n    },\n    onchange(event) {\n        if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n            return;\n        }\n\n        const surround_parent = this.getSurroundParent();\n\n        if (event.type === Blockly.Events.BLOCK_CREATE) {\n            this.setMovable(true);\n            if (!this.required_parent_id && surround_parent?.type === this.required_parent_type) {\n                this.required_parent_id = surround_parent.id;\n            }\n        }\n\n        if (event.type === Blockly.Events.END_DRAG) {\n            const stack_blocks = Blockly.getMainWorkspace().getBlockById(event.blockId);\n\n            if (this.required_parent_id && (!surround_parent || surround_parent.id !== this.required_parent_id)) {\n                const original_parent = Blockly.getMainWorkspace().getBlockById(this.required_parent_id);\n\n                if (original_parent) {\n                    const first_block_in_stack = original_parent.getInputTargetBlock('STACK');\n\n                    if (first_block_in_stack) {\n                        const last_connection = original_parent.getLastConnectionInStatement('STACK');\n                        runIrreversibleEvents(() => {\n                            last_connection.connect(this.previousConnection);\n                        });\n                    } else {\n                        runIrreversibleEvents(() => {\n                            original_parent.getInput('STACK').connection.connect(stack_blocks.previousConnection);\n                        });\n                    }\n                }\n            }\n        }\n    },\n    onIconClick: Blockly.Blocks.lists_statement.onIconClick,\n};\n\nBlockly.JavaScript.text_statement = block => {\n    const code = `String(${Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_ATOMIC)})`;\n    return [code, Blockly.JavaScript.ORDER_ATOMIC];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_append = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('to {{ variable }} append text {{ input_text }}', {\n                variable: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_variable',\n                    name: 'VAR',\n                    variable: localize('text'),\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Appends a given text to a variable'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Append'),\n            description: localize('Appends a given text to a variable.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_append = block => {\n    const forceString = value => {\n        const strRegExp = /^\\s*'([^']|\\\\')*'\\s*$/;\n        if (strRegExp.test(value)) {\n            return value;\n        }\n        return `String(${value})`;\n    };\n\n    // eslint-disable-next-line no-underscore-dangle\n    const varName = Blockly.JavaScript.variableDB_.getName(block.getFieldValue('VAR'), Blockly.Variables.NAME_TYPE);\n    const value = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n\n    const code = `${varName} += ${forceString(value)};\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_length = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('length of {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n            ],\n            output: 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Text String Length'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text String Length'),\n            description: localize(\n                'Returns the number of characters of a given string of text, including numbers, spaces, punctuation marks, and symbols.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_length = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_FUNCTION_CALL) || \"''\";\n\n    const code = `${text}.length`;\n    return [code, Blockly.JavaScript.ORDER_MEMBER];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_isEmpty = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('text {{ input_text }} is empty', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                    check: ['String'],\n                },\n            ],\n            output: 'Boolean',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Tests if a given text string is empty'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Text Is empty'),\n            description: localize('Tests whether a string of text is empty. Returns a boolean value (true or false).'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_isEmpty = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n    const isVariable = block.workspace.getAllVariables().findIndex(variable => variable.name === text) !== -1;\n\n    const code = isVariable ? `!${text} || !${text}.length` : `!${text}.length`;\n    return [code, Blockly.JavaScript.ORDER_LOGICAL_NOT];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_indexOf = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text1 }} find {{ first_or_last }} occurence of text {{ input_text2 }}',\n                {\n                    input_text1: '%1',\n                    first_or_last: '%2',\n                    input_text2: '%3',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'END',\n                    options: [\n                        [localize('first'), 'FIRST'],\n                        [localize('last'), 'LAST'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'FIND',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Search for a given string'),\n            cateogry: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Search for string'),\n            description: localize(\n                'Searches through a string of text for a specific occurrence of a given character or word, and returns the position.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            FIND: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_indexOf = block => {\n    const functionName = block.getFieldValue('END') === 'FIRST' ? 'indexOf' : 'lastIndexOf';\n    const substring = Blockly.JavaScript.valueToCode(block, 'FIND', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${text}.${functionName}(${substring})`;\n    if (block.workspace.options.oneBasedIndex) {\n        return [`${code} + 1`, Blockly.JavaScript.ORDER_ADDITION];\n    }\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_charAt = {\n    init() {\n        this.jsonInit(this.definition());\n\n        const dropdown = this.getField('WHERE');\n        dropdown.setValidator(value => {\n            const newAt = ['FROM_START', 'FROM_END'].includes(value);\n            if (newAt !== this.isAt) {\n                this.updateAt(newAt);\n                this.setFieldValue(value, 'WHERE');\n                return null;\n            }\n            return undefined;\n        });\n\n        this.updateAt(true);\n    },\n    definition() {\n        return {\n            message0: localize('in text %1 get %2'),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'VALUE',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE',\n                    options: [\n                        [localize('letter #'), 'FROM_START'],\n                        [localize('letter # from end'), 'FROM_END'],\n                        [localize('first letter'), 'FIRST'],\n                        [localize('last letter'), 'LAST'],\n                        [localize('random letter'), 'RANDOM'],\n                    ],\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific character from a given string'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get character'),\n            description: localize(\n                'Returns the specific character from a given string of text according to the selected option. '\n            ),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        container.setAttribute('at', !!this.isAt);\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt = xmlElement.getAttribute('at') !== 'false';\n        this.updateAt(isAt);\n    },\n    updateAt(isAt) {\n        this.removeInput('AT', true);\n        if (isAt) {\n            this.appendValueInput('AT').setCheck('Number');\n        }\n\n        this.isAt = isAt;\n        this.initSvg();\n        this.render(false);\n    },\n    getRequiredValueInputs() {\n        return {\n            VALUE: emptyTextValidator,\n            AT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_charAt = block => {\n    const where = block.getFieldValue('WHERE') || 'FROM_START';\n    const textOrder = where === 'RANDOM' ? Blockly.JavaScript.ORDER_NONE : Blockly.JavaScript.ORDER_MEMBER;\n    const text = Blockly.JavaScript.valueToCode(block, 'VALUE', textOrder) || \"''\";\n\n    let code;\n\n    if (where === 'FROM_START') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT');\n        // Adjust index if using one-based indices\n        code = `${text}.charAt(${at})`;\n    } else if (where === 'FROM_END') {\n        const at = Blockly.JavaScript.getAdjusted(block, 'AT', 1, true);\n        code = `${text}.slice(${at}).charAt(0)`;\n    } else if (where === 'FIRST') {\n        code = `${text}.charAt(0)`;\n    } else if (where === 'LAST') {\n        code = `${text}.slice(-1)`;\n    } else if (where === 'RANDOM') {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('textRandomLetter', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(text) {\n                var x = Math.floor(Math.random() * text.length);\n                return text[x];\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_getSubstring = {\n    init() {\n        this.WHERE_OPTIONS_1 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('first'), 'FIRST'],\n        ];\n        this.WHERE_OPTIONS_2 = [\n            [localize('letter #'), 'FROM_START'],\n            [localize('letter # from end'), 'FROM_END'],\n            [localize('last'), 'LAST'],\n        ];\n\n        this.jsonInit(this.definition());\n        this.updateAt(1, true);\n        this.updateAt(2, true);\n    },\n    definition() {\n        return {\n            message0: localize(\n                'in text {{ input_text }} get substring from {{ position1 }} {{ index1 }} to {{ position2 }} {{ index2 }}',\n                {\n                    input_text: '%1',\n                    position1: '%2',\n                    index1: '%3',\n                    position2: '%4',\n                    index2: '%5',\n                }\n            ),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'STRING',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE1',\n                    options: this.WHERE_OPTIONS_1,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT1',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'WHERE2',\n                    options: this.WHERE_OPTIONS_2,\n                },\n                {\n                    type: 'input_dummy',\n                    name: 'AT2',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Returns a specific portion of a given string of text.'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Get substring'),\n            description: localize('Returns a specific portion of a given string of text.'),\n        };\n    },\n    mutationToDom() {\n        const container = document.createElement('mutation');\n        const isAt1 = this.getInput('AT1').type === Blockly.INPUT_VALUE;\n        const isAt2 = this.getInput('AT2').type === Blockly.INPUT_VALUE;\n\n        container.setAttribute('at1', isAt1);\n        container.setAttribute('at2', isAt2);\n\n        return container;\n    },\n    domToMutation(xmlElement) {\n        const isAt1 = xmlElement.getAttribute('at1') === 'true';\n        const isAt2 = xmlElement.getAttribute('at2') === 'true';\n\n        this.updateAt(1, isAt1);\n        this.updateAt(2, isAt2);\n    },\n    updateAt(n, is_at) {\n        const input = this.getInput(`AT${n}`);\n        let old_label_text;\n\n        // Keep track of initial FieldLabel, we'll restore this when\n        // input types were changed.\n        if (input) {\n            input.fieldRow.some(field => {\n                if (field instanceof Blockly.FieldLabel) {\n                    old_label_text = field.text_; // eslint-disable-line no-underscore-dangle\n                }\n            });\n            this.removeInput(`AT${n}`);\n        }\n\n        const new_input = is_at ? this.appendValueInput(`AT${n}`).setCheck('Number') : this.appendDummyInput(`AT${n}`);\n\n        if (old_label_text) {\n            new_input.insertFieldAt(0, new Blockly.FieldLabel(old_label_text));\n        }\n\n        const menu = new Blockly.FieldDropdown(this[`WHERE_OPTIONS_${n}`], value => {\n            const new_at = ['FROM_START', 'FROM_END'].includes(value);\n\n            if (new_at !== is_at) {\n                this.updateAt(n, new_at);\n                this.setFieldValue(value, `WHERE${n}`);\n\n                return null;\n            }\n\n            return undefined;\n        });\n\n        this.getInput(`AT${n}`).appendField(menu, `WHERE${n}`);\n\n        if (n === 1) {\n            this.moveInputBefore('AT1', 'AT2');\n        }\n\n        this.initSvg();\n        this.render(false);\n    },\n    getRequiredValueInputs() {\n        const hasInput = input_name => this.getInput(input_name)?.type === Blockly.INPUT_VALUE;\n        return {\n            STRING: emptyTextValidator,\n            ...(hasInput('AT1') ? { AT1: emptyTextValidator } : {}),\n            ...(hasInput('AT2') ? { AT2: emptyTextValidator } : {}),\n        };\n    },\n};\n\nBlockly.JavaScript.text_getSubstring = block => {\n    const text = Blockly.JavaScript.valueToCode(block, 'STRING', Blockly.JavaScript.ORDER_FUNCTION_CALL) || \"''\";\n    const where1 = block.getFieldValue('WHERE1');\n    const where2 = block.getFieldValue('WHERE2');\n\n    let at1, at2, code;\n\n    if (where1 === 'FIRST' && where2 === 'LAST') {\n        code = text;\n    } else if (\n        text.match(/^'?\\w+'?$/) ||\n        (where1 !== 'FROM_END' && where1 !== 'LAST' && where2 !== 'FROM_END' && where2 !== 'LAST')\n    ) {\n        switch (where1) {\n            case 'FROM_START': {\n                at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n                break;\n            }\n            case 'FROM_END': {\n                at1 = Blockly.JavaScript.getAdjusted(block, 'AT1', 1, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n                at1 = `${text}.length - ${at1}`;\n                break;\n            }\n            case 'FIRST': {\n                at1 = '0';\n                break;\n            }\n            default:\n                break;\n        }\n\n        switch (where2) {\n            case 'FROM_START': {\n                at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 1);\n                break;\n            }\n            case 'FROM_END': {\n                at2 = Blockly.JavaScript.getAdjusted(block, 'AT2', 0, false, Blockly.JavaScript.ORDER_SUBTRACTION);\n                at2 = `${text}.length - ${at2}`;\n                break;\n            }\n            case 'LAST': {\n                at2 = `${text}.length`;\n                break;\n            }\n            default:\n                break;\n        }\n\n        code = `${text}.slice(${at1}, ${at2})`;\n    } else {\n        at1 = Blockly.JavaScript.getAdjusted(block, 'AT1');\n        at2 = Blockly.JavaScript.getAdjusted(block, 'AT2');\n\n        const getIndex = (string_name, where, opt_at) => {\n            if (where === 'FIRST') {\n                return '0';\n            } else if (where === 'FROM_END') {\n                return `${string_name}.length - 1 - ${opt_at}`;\n            } else if (where === 'LAST') {\n                return `${string_name}.length - 1`;\n            }\n            return opt_at;\n        };\n        const where_pascal_case = {\n            FIRST: 'First',\n            LAST: 'Last',\n            FROM_START: 'FromStart',\n            FROM_END: 'FromEnd',\n        };\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_(\n            `subsequence${where_pascal_case[where1]}${where_pascal_case[where2]}`,\n            [\n                // eslint-disable-next-line no-underscore-dangle\n                `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(\n                    sequence\n                    ${where1 === 'FROM_END' || where1 === 'FROM_START' ? ', at1' : ''}\n                    ${where2 === 'FROM_END' || where2 === 'FROM_START' ? ', at2' : ''}\n                ) {\n                    var start = ${getIndex('sequence', where1, 'at1')};\n                    var end   = ${getIndex('sequence', where2, 'at2')} + 1;\n                    \n                    return sequence.slice(start, end);\n                }`,\n            ]\n        );\n\n        code = `${functionName}(\n            ${text}\n            ${where1 === 'FROM_END' || where1 === 'FROM_START' ? `, ${at1}` : ''}\n            ${where2 === 'FROM_END' || where2 === 'FROM_START' ? `, ${at2}` : ''}\n        )`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_changeCase = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('Transform {{ input_text }} to {{ transform_type }}', {\n                input_text: '%1',\n                transform_type: '%2',\n            }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n                {\n                    type: 'field_dropdown',\n                    name: 'CASE',\n                    options: [\n                        [localize('UPPER CASE'), 'UPPERCASE'],\n                        [localize('lower case'), 'LOWERCASE'],\n                        [localize('Title Case'), 'TITLECASE'],\n                    ],\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Changes text case accordingly'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Change text case'),\n            description: localize(\n                'Changes the capitalisation of a string of text to Upper case, Lower case, Title case.'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_changeCase = block => {\n    const operators = {\n        UPPERCASE: '.toUpperCase()',\n        LOWERCASE: '.toLowerCase()',\n        TITLECASE: null,\n    };\n    const operator = operators[block.getFieldValue('CASE')];\n    const textOrder = operator ? Blockly.JavaScript.ORDER_MEMBER : Blockly.JavaScript.ORDER_NONE;\n    const text = Blockly.JavaScript.valueToCode(block, 'TEXT', textOrder) || \"''\";\n\n    let code;\n\n    if (operator) {\n        code = `${text}${operator}`;\n    } else {\n        // eslint-disable-next-line no-underscore-dangle\n        const functionName = Blockly.JavaScript.provideFunction_('textToTitleCase', [\n            // eslint-disable-next-line no-underscore-dangle\n            `function ${Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_}(str) {\n                return str.toLowerCase().split(' ').map(function(word) {\n                    return word.replace(word[0], word[0].toUpperCase());\n                }).join(' ');\n            }`,\n        ]);\n        code = `${functionName}(${text})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_trim = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('trim spaces from {{ side }} of {{ input_text }}', { side: '%1', input_text: '%2' }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'MODE',\n                    options: [\n                        [localize('both sides'), 'BOTH'],\n                        [localize('left side'), 'LEFT'],\n                        [localize('right side'), 'RIGHT'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output: 'String',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Base.colour,\n            colourSecondary: Blockly.Colours.Base.colourSecondary,\n            colourTertiary: Blockly.Colours.Base.colourTertiary,\n            tooltip: localize('Trims spaces'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Trim spaces'),\n            description: localize('Trims the spaces within a given string or text.'),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_trim = block => {\n    const operators = {\n        LEFT: \".replace(/^[\\\\s\\\\xa0]+/, '')\",\n        RIGHT: \".replace(/[\\\\s\\\\xa0]+$/, '')\",\n        BOTH: '.trim()',\n    };\n\n    const operator = operators[block.getFieldValue('MODE')];\n    const text = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_MEMBER) || \"''\";\n\n    const code = `${text}${operator}`;\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_print = {\n    init() {\n        this.jsonInit(this.definition());\n    },\n    definition() {\n        return {\n            message0: localize('print {{ input_text }}', { input_text: '%1' }),\n            args0: [\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            previousStatement: null,\n            nextStatement: null,\n            tooltip: localize('Displays a dialog window with a message'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Print'),\n            description: localize(\n                'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_print = block => {\n    const msg = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    const code = `window.alert(${msg});\\n`;\n    return code;\n};\n","import { localize } from '@deriv/translations';\nimport { emptyTextValidator } from '../../utils';\n\nBlockly.Blocks.text_prompt_ext = {\n    init() {\n        this.jsonInit(this.definition());\n        const typeField = this.getField('TYPE');\n        typeField.setValidator(value => {\n            if (value === 'TEXT') {\n                this.setOutput(true, 'String');\n            } else if (value === 'NUMBER') {\n                this.setOutput(true, 'Number');\n            }\n            this.initSvg();\n            this.render(false);\n            return undefined;\n        });\n    },\n    definition() {\n        return {\n            message0: localize('prompt for {{ string_or_number }} with message {{ input_text }}', {\n                string_or_number: '%1',\n                input_text: '%2',\n            }),\n            args0: [\n                {\n                    type: 'field_dropdown',\n                    name: 'TYPE',\n                    options: [\n                        [localize('string'), 'TEXT'],\n                        [localize('number'), 'NUMBER'],\n                    ],\n                },\n                {\n                    type: 'input_value',\n                    name: 'TEXT',\n                },\n            ],\n            output:\n                typeof this.getFieldValue === 'function' && this.getFieldValue('TYPE') === 'TEXT' ? 'String' : 'Number',\n            outputShape: Blockly.OUTPUT_SHAPE_ROUND,\n            colour: Blockly.Colours.Special3.colour,\n            colourSecondary: Blockly.Colours.Special3.colourSecondary,\n            colourTertiary: Blockly.Colours.Special3.colourTertiary,\n            tooltip: localize('Request an input'),\n            category: Blockly.Categories.Text,\n        };\n    },\n    meta() {\n        return {\n            display_name: localize('Request an input'),\n            description: localize(\n                'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n            ),\n        };\n    },\n    getRequiredValueInputs() {\n        return {\n            TEXT: emptyTextValidator,\n        };\n    },\n};\n\nBlockly.JavaScript.text_prompt_ext = block => {\n    let msg, code;\n\n    if (block.getField('TEXT')) {\n        // Internal message\n        // eslint-disable-next-line no-underscore-dangle\n        msg = Blockly.JavaScript.quote_(block.getFieldValue('TEXT'));\n    } else {\n        // External message\n        msg = Blockly.JavaScript.valueToCode(block, 'TEXT', Blockly.JavaScript.ORDER_NONE) || \"''\";\n    }\n\n    if (block.getFieldValue('TYPE') === 'NUMBER') {\n        code = `parseFloat(window.prompt(${msg}))`;\n    } else {\n        code = `window.prompt(${msg})`;\n    }\n\n    return [code, Blockly.JavaScript.ORDER_FUNCTION_CALL];\n};\n","import { reaction } from 'mobx';\nimport { api_base } from '../services/api/api-base';\n\nclass DBotStoreInterface {\n    // TODO here we are suppose to define an interface and implement fields of DBotStore.\n    handleFileChange = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n\n    toggleStrategyModal = () => {\n        throw Error('handleFileChange has not been implemented.');\n    };\n}\n\nclass DBotStore extends DBotStoreInterface {\n    static singleton = null;\n\n    constructor(store) {\n        super();\n        this.is_mobile = store.is_mobile || false;\n        this.is_dark_mode_on = store.is_dark_mode_on || false;\n        this.client = store.client;\n        this.dashboard = store.dashboard;\n        this.flyout = store.flyout;\n        this.toolbar = store.toolbar;\n        this.toolbox = store.toolbox;\n        this.save_modal = store.save_modal;\n        this.load_modal = store.load_modal;\n        this.setContractUpdateConfig = store.setContractUpdateConfig;\n        this.toggleStrategyModal = store.toggleStrategyModal;\n        this.handleFileChange = store.handleFileChange;\n        this.setLoading = store.setLoading;\n\n        reaction(\n            () => this.client.loginid,\n            () => api_base.createNewInstance(this.client.loginid)\n        );\n    }\n\n    static setInstance(store) {\n        this.singleton = new DBotStore(store);\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default DBotStore;\n","import { Map } from 'immutable';\nimport { historyToTicks, getLast } from 'binary-utils';\nimport { doUntilDone, getUUID } from '../tradeEngine/utils/helpers';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { api_base } from './api-base';\n\nconst parseTick = tick => ({\n    epoch: +tick.epoch,\n    quote: +tick.quote,\n});\n\nconst parseOhlc = ohlc => ({\n    open: +ohlc.open,\n    high: +ohlc.high,\n    low: +ohlc.low,\n    close: +ohlc.close,\n    epoch: +(ohlc.open_time || ohlc.epoch),\n});\n\nconst parseCandles = candles => candles.map(t => parseOhlc(t));\n\nconst updateTicks = (ticks, newTick) => (getLast(ticks).epoch >= newTick.epoch ? ticks : [...ticks.slice(1), newTick]);\n\nconst updateCandles = (candles, ohlc) => {\n    const lastCandle = getLast(candles);\n    if (\n        (lastCandle.open === ohlc.open &&\n            lastCandle.high === ohlc.high &&\n            lastCandle.low === ohlc.low &&\n            lastCandle.close === ohlc.close &&\n            lastCandle.epoch === ohlc.epoch) ||\n        lastCandle.epoch > ohlc.epoch\n    ) {\n        return candles;\n    }\n    const prevCandles = lastCandle.epoch === ohlc.epoch ? candles.slice(0, -1) : candles.slice(1);\n    return [...prevCandles, ohlc];\n};\n\nconst getType = isCandle => (isCandle ? 'candles' : 'ticks');\n\nexport default class TicksService {\n    constructor() {\n        this.ticks = new Map();\n        this.candles = new Map();\n        this.tickListeners = new Map();\n        this.ohlcListeners = new Map();\n        this.subscriptions = new Map();\n        this.ticks_history_promise = null;\n        this.active_symbols_promise = null;\n        this.candles_promise = null;\n\n        this.observe();\n    }\n\n    requestPipSizes() {\n        if (this.pipSizes) {\n            return Promise.resolve(this.pipSizes);\n        }\n\n        if (!this.active_symbols_promise) {\n            this.active_symbols_promise = new Promise(resolve => {\n                this.pipSizes = api_base.pip_sizes;\n                resolve(this.pipSizes);\n            });\n        }\n        return this.active_symbols_promise;\n    }\n\n    async request(options) {\n        return new Promise((resolve, reject) => {\n            const { symbol, granularity } = options;\n\n            const style = getType(granularity);\n\n            if (style === 'ticks' && this.ticks.has(symbol)) {\n                resolve(this.ticks.get(symbol));\n            }\n\n            if (style === 'candles' && this.candles.hasIn([symbol, Number(granularity)])) {\n                resolve(this.candles.getIn([symbol, Number(granularity)]));\n            }\n            this.requestStream({ ...options, style })\n                .then(res => {\n                    resolve(res);\n                })\n                .catch(e => {\n                    reject(e);\n                });\n        });\n    }\n\n    monitor(options) {\n        return new Promise((resolve, reject) => {\n            const { symbol, granularity, callback } = options;\n\n            const type = getType(granularity);\n\n            const key = getUUID();\n            this.request(options)\n                .then(() => {\n                    if (type === 'ticks') {\n                        this.tickListeners = this.tickListeners.setIn([symbol, key], callback);\n                        globalObserver.emit('bot.bot_ready');\n                        api_base.toggleRunButton(false);\n                    } else {\n                        this.ohlcListeners = this.ohlcListeners.setIn([symbol, Number(granularity), key], callback);\n                    }\n                    resolve(key);\n                })\n                .catch(e => {\n                    globalObserver.emit('Error', e);\n                    this.ticks_history_promise = null;\n                    api_base.toggleRunButton(false);\n                    reject(e);\n                });\n        });\n    }\n\n    async stopMonitor(options) {\n        const { symbol, granularity, key } = options;\n        const type = getType(granularity);\n\n        if (type === 'ticks' && this.tickListeners.hasIn([symbol, key])) {\n            this.tickListeners = this.tickListeners.deleteIn([symbol, key]);\n        }\n\n        if (type === 'candles' && this.ohlcListeners.hasIn([symbol, Number(granularity), key])) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity), key]);\n        }\n\n        await this.unsubscribeIfEmptyListeners(options);\n    }\n\n    async unsubscribeIfEmptyListeners(options) {\n        const { symbol, granularity } = options;\n\n        let needToUnsubscribe = false;\n\n        const tickListener = this.tickListeners.get(symbol);\n\n        if (tickListener && !tickListener.size) {\n            this.tickListeners = this.tickListeners.delete(symbol);\n            this.ticks = this.ticks.delete(symbol);\n            needToUnsubscribe = true;\n        }\n\n        const ohlcListener = this.ohlcListeners.getIn([symbol, Number(granularity)]);\n\n        if (ohlcListener && !ohlcListener.size) {\n            this.ohlcListeners = this.ohlcListeners.deleteIn([symbol, Number(granularity)]);\n            this.candles = this.candles.deleteIn([symbol, Number(granularity)]);\n            needToUnsubscribe = true;\n        }\n\n        if (needToUnsubscribe) {\n            await this.unsubscribeAllAndSubscribeListeners(symbol);\n        }\n    }\n\n    unsubscribeAllAndSubscribeListeners(symbol) {\n        const ohlcSubscriptions = this.subscriptions.getIn(['ohlc', symbol]);\n\n        const subscription = [...(ohlcSubscriptions ? Array.from(ohlcSubscriptions.values()) : [])];\n\n        Promise.all(subscription.map(id => doUntilDone(() => api_base.api.forget(id))));\n\n        this.subscriptions = new Map();\n    }\n\n    updateTicksAndCallListeners(symbol, ticks) {\n        if (this.ticks.get(symbol) === ticks) {\n            return;\n        }\n        this.ticks = this.ticks.set(symbol, ticks);\n\n        const listeners = this.tickListeners.get(symbol);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.ticks.get(symbol)));\n        }\n    }\n\n    updateCandlesAndCallListeners(address, candles) {\n        if (this.ticks.getIn(address) === candles) {\n            return;\n        }\n        this.candles = this.candles.setIn(address, candles);\n\n        const listeners = this.ohlcListeners.getIn(address);\n\n        if (listeners) {\n            listeners.forEach(callback => callback(this.candles.getIn(address)));\n        }\n    }\n\n    observe() {\n        if (api_base.api) {\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'tick') {\n                    const { tick } = data;\n                    const { symbol, id } = tick;\n                    if (this.ticks.has(symbol)) {\n                        this.subscriptions = this.subscriptions.setIn(['tick', symbol], id);\n                        this.updateTicksAndCallListeners(symbol, updateTicks(this.ticks.get(symbol), parseTick(tick)));\n                    }\n                }\n\n                if (data.msg_type === 'ohlc') {\n                    const { ohlc } = data;\n                    const { symbol, granularity, id } = ohlc;\n                    if (this.candles.hasIn([symbol, Number(granularity)])) {\n                        this.subscriptions = this.subscriptions.setIn(['ohlc', symbol, Number(granularity)], id);\n                        const address = [symbol, Number(granularity)];\n                        this.updateCandlesAndCallListeners(\n                            address,\n                            updateCandles(this.candles.getIn(address), parseOhlc(ohlc))\n                        );\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n    }\n\n    requestStream(options) {\n        const { style } = options;\n        const stringified_options = JSON.stringify(options);\n\n        if (style === 'ticks') {\n            if (this.ticks_history_promise?.stringified_options !== stringified_options) {\n                this.ticks_history_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.ticks_history_promise.promise;\n        }\n\n        if (style === 'candles') {\n            if (!this.candles_promise || this.candles_promise.stringified_options !== stringified_options) {\n                this.candles_promise = {\n                    promise: this.requestPipSizes().then(() => this.requestTicks(options)),\n                    stringified_options,\n                };\n            }\n\n            return this.candles_promise.promise;\n        }\n\n        return [];\n    }\n\n    requestTicks(options) {\n        const { symbol, granularity, style } = options;\n        const request_object = {\n            ticks_history: symbol,\n            subscribe: 1,\n            end: 'latest',\n            count: 1000,\n            granularity: granularity ? Number(granularity) : undefined,\n            style,\n        };\n        return new Promise((resolve, reject) => {\n            if (!api_base.api) resolve([]);\n            doUntilDone(() => api_base.api.send(request_object), [], api_base)\n                .then(r => {\n                    if (style === 'ticks') {\n                        const ticks = historyToTicks(r.history);\n\n                        this.updateTicksAndCallListeners(symbol, ticks);\n                        resolve(ticks);\n                    } else {\n                        const candles = parseCandles(r.candles);\n\n                        this.updateCandlesAndCallListeners([symbol, Number(granularity)], candles);\n\n                        resolve(candles);\n                    }\n                })\n                .catch(reject);\n        });\n    }\n\n    forget = subscription_id => {\n        return new Promise((resolve, reject) => {\n            if (subscription_id) {\n                api_base.api\n                    .forget(subscription_id)\n                    .then(() => {\n                        resolve();\n                    })\n                    .catch(reject);\n            } else {\n                resolve();\n            }\n        });\n    };\n\n    unsubscribeFromTicksService() {\n        return new Promise((resolve, reject) => {\n            if (this.ticks_history_promise) {\n                const { stringified_options } = this.ticks_history_promise;\n                const { symbol = '' } = JSON.parse(stringified_options);\n                if (symbol) {\n                    this.forget(this.subscriptions.getIn(['tick', symbol]))\n                        .then(res => {\n                            resolve(res);\n                        })\n                        .catch(reject);\n                } else {\n                    resolve();\n                }\n            }\n            this.ticks_history_promise = null;\n            if (this.candles_promise) {\n                const { stringified_options } = this.candles_promise;\n                const { symbol = '' } = JSON.parse(stringified_options);\n                if (symbol) {\n                    this.forget(this.subscriptions.getIn(['candle', symbol]))\n                        .then(res => {\n                            resolve(res);\n                        })\n                        .catch(reject);\n                } else {\n                    resolve();\n                }\n            }\n\n            if (!this.ticks_history_promise && !this.candles_promise) {\n                resolve();\n            }\n        });\n    }\n}\n","import TicksService from '../../api/ticks_service';\nimport Observer from '../../../utils/observer';\n\nexport const createScope = () => {\n    const observer = new Observer();\n    const ticksService = new TicksService();\n    const stopped = false;\n    return { observer, ticksService, stopped };\n};\n","import { localize } from '@deriv/translations';\nimport { createError } from '../../../utils/error';\n\nconst isPositiveNumber = num => Number.isFinite(num) && num > 0;\n\nconst isPositiveInteger = num => isPositiveNumber(num) && Number.isInteger(num);\n\nexport const expectPositiveInteger = (num, msg) => {\n    if (!isPositiveInteger(num)) {\n        throw createError('PositiveIntegerExpected', msg);\n    }\n    return num;\n};\n\nconst expectOptions = options => {\n    const { symbol, contractTypes } = options;\n\n    if (!symbol) {\n        throw createError('OptionError', localize('Underlying market is not selected'));\n    }\n\n    if (!contractTypes[0]) {\n        throw createError('OptionError', localize('Contract type is not selected'));\n    }\n};\n\nexport const expectInitArg = args => {\n    const [token, options] = args;\n\n    if (!token) {\n        throw createError('LoginError', localize('Please login'));\n    }\n\n    expectOptions(options);\n\n    return args;\n};\n\nconst isCandle = candle =>\n    candle instanceof Object &&\n    ['open', 'high', 'low', 'close'].every(key => isPositiveNumber(candle[key])) &&\n    isPositiveInteger(candle.epoch);\n\nexport const expectCandle = candle => {\n    if (!isCandle(candle)) {\n        throw createError('CandleExpected', localize('Given candle is not valid'));\n    }\n    return candle;\n};\n\nexport const expectCandles = candles => {\n    if (!(candles instanceof Array) || !candles.every(c => isCandle(c))) {\n        throw createError('CandleListExpected', localize('Given candle list is not valid'));\n    }\n    return candles;\n};\n","export const takeField = (arr, field) => arr.map(x => (field ? x[field] : x));\n\nexport const takeLast = (arr, n, field) => takeField(arr.slice(n > arr.length ? 0 : arr.length - n, arr.length), field);\n\nexport const sum = data => data.reduce((acc, x) => acc + x, 0);\n\nexport const mean = data => data.reduce((a, b) => a + b, 0) / data.length;\n\nexport const stddev = data => {\n    const data_mean = mean(data);\n    const sq_diff = data.map(n => Math.pow(n - data_mean, 2));\n    const avg_sq_diff = mean(sq_diff);\n    return Math.sqrt(avg_sq_diff);\n};\n","import { sequence } from '@deriv/shared';\nimport { sum, takeLast } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverage = (data, config) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const vals = takeLast(data, periods, field);\n\n    return sum(vals) / periods;\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const simpleMovingAverageArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    return sequence(data.length - periods + 1).map(\n        (x, i) => +simpleMovingAverage(data.slice(i, i + periods), config).toFixed(pipSize)\n    );\n};\n","import { sequence } from '@deriv/shared';\nimport { simpleMovingAverage } from './simple-moving-average';\nimport { stddev, takeLast } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBands = (data, config) => {\n    const { periods = 20, field, stdDevUp = 2, stdDevDown = 2, pipSize = 2 } = config;\n    const vals = takeLast(data, periods, field);\n    const middle = simpleMovingAverage(vals, { periods });\n    const std_dev = stddev(vals);\n    const upper = middle + std_dev * stdDevUp;\n    const lower = middle - std_dev * stdDevDown;\n\n    return [+middle.toFixed(pipSize), +upper.toFixed(pipSize), +lower.toFixed(pipSize)];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  type: 'SMA' | 'WMA' | 'EMA' | 'TEMA' | 'TRIMA',\n *  stdDevUp: number,\n *  stdDevDown: number,\n *  pipSize: number,\n * }\n */\nexport const bollingerBandsArray = (data, config) => {\n    const { periods } = config;\n    return sequence(data.length - periods + 1).map((x, i) => bollingerBands(data.slice(i, i + periods), config));\n};\n","import { takeField, mean } from '../utils/math';\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {Number} init_val\n */\nexport const exponentialMovingAverage = (data, config, init_val) => {\n    const { periods, field, pipSize = 2 } = config;\n\n    const weighting_multiplier = 2 / (periods + 1);\n\n    const vals = takeField(data, field);\n\n    if (init_val) {\n        return (vals[0] - init_val) * weighting_multiplier + init_val;\n    }\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    const mean_val = mean(takeField(data.slice(0, periods), field));\n\n    return +vals\n        .slice(periods)\n        .reduce((prev, e) => (e - prev) * weighting_multiplier + prev, mean_val)\n        .toFixed(pipSize);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const exponentialMovingAverageArray = (data, config) => {\n    const { periods } = config;\n\n    let init_val = exponentialMovingAverage(data.slice(0, periods), config);\n\n    return data\n        .slice(periods - 1)\n        .map((x, i) => (!i ? init_val : (init_val = exponentialMovingAverage([x], config, init_val))));\n};\n","import { exponentialMovingAverageArray } from './exponential-moving-average';\nimport { takeField } from '../utils/math';\n\nconst paddingLeft = (data, length) => {\n    const arr = [];\n    arr.length = length - data.length;\n    arr.fill(0);\n    return [...arr, ...data];\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  fastEmaPeriod: number,\n *  slowEmaPeriod: number,\n *  signalEmaPeriod: number\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const macdArray = (data, config) => {\n    const { field, fastEmaPeriod = 12, slowEmaPeriod = 26, signalEmaPeriod = 9, pipSize = 2 } = config;\n\n    const vals = takeField(data, field);\n\n    const length = vals.length;\n\n    const fast_ema_array = paddingLeft(\n        exponentialMovingAverageArray(\n            vals,\n            { periods: fastEmaPeriod, pipSize: 20, field }\n            // -------------------------- ^ set pipSize to 20 to prevent rounding\n        ),\n        length\n    );\n    const slow_ema_array = paddingLeft(\n        exponentialMovingAverageArray(vals, { periods: slowEmaPeriod, pipSize: 20, field }),\n        length\n    );\n\n    const macd_calc_array = paddingLeft(\n        slow_ema_array.map((x, i) => +(fast_ema_array[i] - x).toFixed(pipSize)),\n        length\n    );\n\n    const signal_ema_array = paddingLeft(\n        exponentialMovingAverageArray(macd_calc_array.slice(slowEmaPeriod - 1), {\n            periods: signalEmaPeriod,\n            pipSize: 20,\n            field,\n        }),\n        length\n    );\n\n    return macd_calc_array\n        .map((x, i) => [+(x - signal_ema_array[i]).toFixed(pipSize), x, +signal_ema_array[i].toFixed(pipSize)])\n        .slice(slowEmaPeriod + signalEmaPeriod - 2);\n};\n","import { sequence } from '@deriv/shared';\nimport { takeField } from '../utils/math';\n\nconst calcGain = (q1, q2) => (q2 > q1 ? q2 - q1 : 0);\nconst calcLoss = (q1, q2) => (q2 < q1 ? q1 - q2 : 0);\n\nconst calcFirstAvgDiff = (vals, comp, periods) => {\n    let prev;\n    return (\n        vals.reduce((r, q, i) => {\n            if (i === 1) {\n                prev = r;\n            }\n            const diff = comp(prev, q);\n            prev = q;\n            return diff + (i === 1 ? 0 : r);\n        }) / periods\n    );\n};\n\nconst calcSecondAvgDiff = (vals, comp, periods, init_avg) => {\n    let prev;\n    if (vals.length === 1) {\n        // There is no data to calc avg\n        return init_avg;\n    }\n    return vals.reduce((r, q, i) => {\n        if (i === 1) {\n            prev = r;\n        }\n        const diff = comp(prev, q);\n        prev = q;\n        const prev_avg = i === 1 ? init_avg : r;\n        return (prev_avg * (periods - 1) + diff) / periods;\n    });\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n * @param {any} memoized_diff\n */\nexport const relativeStrengthIndex = (data, config, memoized_diff) => {\n    const { periods, field } = config;\n\n    if (data.length < periods) {\n        throw new Error('Periods longer than data length');\n    }\n\n    if (data.length === periods) {\n        return 0;\n    }\n\n    const vals = takeField(data.slice(0, periods + 1), field);\n\n    let rest_seq, init_avg_gain, init_avg_loss;\n\n    if (memoized_diff && 'gain' in memoized_diff) {\n        rest_seq = takeField(data.slice(-2), field);\n\n        init_avg_gain = memoized_diff.gain;\n        init_avg_loss = memoized_diff.loss;\n    } else {\n        // include last element from above to calc diff\n        rest_seq = takeField(data.slice(periods, data.length), field);\n\n        init_avg_gain = calcFirstAvgDiff(vals, calcGain, periods);\n        init_avg_loss = calcFirstAvgDiff(vals, calcLoss, periods);\n    }\n\n    const avg_gain = calcSecondAvgDiff(rest_seq, calcGain, periods, init_avg_gain);\n    const avg_loss = calcSecondAvgDiff(rest_seq, calcLoss, periods, init_avg_loss);\n\n    if (memoized_diff) {\n        memoized_diff.gain = avg_gain;\n        memoized_diff.loss = avg_loss;\n    }\n\n    if (avg_gain === 0) {\n        return 0;\n    } else if (avg_loss === 0) {\n        return 100;\n    }\n\n    const RS = avg_gain / avg_loss;\n\n    return 100 - 100 / (1 + RS);\n};\n\n/**\n * @param {Array} data\n * @param {Object} config of type\n * {\n *  periods: number,\n *  field?: 'open' | 'high' | 'low' | 'close',\n *  pipSize: number,\n * }\n */\nexport const relativeStrengthIndexArray = (data, config) => {\n    const { periods, pipSize = 2 } = config;\n    const memoized_diff = {};\n    return sequence(data.length - periods).map(\n        (x, i) => +relativeStrengthIndex(data.slice(0, i + periods + 1), config, memoized_diff).toFixed(pipSize)\n    );\n};\n","import {\n    simpleMovingAverage as sma,\n    simpleMovingAverageArray as smaa,\n    bollingerBands as bb,\n    bollingerBandsArray as bba,\n    exponentialMovingAverage as ema,\n    exponentialMovingAverageArray as emaa,\n    relativeStrengthIndex as rsi,\n    relativeStrengthIndexArray as rsia,\n    macdArray as macda,\n} from '@deriv/indicators';\n\nconst decorate = (f, input, tradeEngine, config, ...args) => {\n    const pipSize = tradeEngine.getPipSize();\n    return f(input, { pipSize, ...config }, ...args);\n};\n\nconst getIndicatorsInterface = tradeEngine => {\n    return {\n        sma: (input, periods) => decorate(sma, input, tradeEngine, { periods }),\n        smaa: (input, periods) => decorate(smaa, input, tradeEngine, { periods }),\n        ema: (input, periods) => decorate(ema, input, tradeEngine, { periods }),\n        emaa: (input, periods) => decorate(emaa, input, tradeEngine, { periods }),\n        rsi: (input, periods) => decorate(rsi, input, tradeEngine, { periods }),\n        rsia: (input, periods) => decorate(rsia, input, tradeEngine, { periods }),\n        bb: (input, config, field) => decorate(bb, input, tradeEngine, config)[field],\n        bba: (input, config, field) => decorate(bba, input, tradeEngine, config).map(r => r[field]),\n        macda: (input, config, field) => decorate(macda, input, tradeEngine, config).map(r => r[field]),\n    };\n};\n\nexport default getIndicatorsInterface;\n","import { localize } from '@deriv/translations';\nimport getCandleInterface from './CandleInterface';\nimport getIndicatorsInterface from './IndicatorsInterface';\nimport getMiscInterface from './MiscInterface';\n\nconst getToolsInterface = tradeEngine => {\n    return {\n        dateTimeStringToTimestamp: datetime_string => {\n            const invalid_msg = localize('Invalid date/time: {{ datetime_string }}', { datetime_string });\n\n            if (typeof datetime_string !== 'string') {\n                return invalid_msg;\n            }\n\n            const date_time = datetime_string\n                .replace(/[^0-9.:-\\s]/g, '')\n                .replace(/\\s+/g, ' ')\n                .trim()\n                .split(' ');\n\n            const d = /^[12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/;\n            const t = /^(0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])(:([0-5][0-9])?)?$/;\n\n            let validated_datetime;\n\n            if (date_time.length >= 2) {\n                validated_datetime =\n                    d.test(date_time[0]) && t.test(date_time[1]) ? `${date_time[0]}T${date_time[1]}` : null;\n            } else if (date_time.length === 1) {\n                validated_datetime = d.test(date_time[0]) ? date_time[0] : null;\n            } else {\n                validated_datetime = null;\n            }\n\n            if (validated_datetime) {\n                const date_obj = new Date(validated_datetime);\n                // eslint-disable-next-line no-restricted-globals\n                if (date_obj instanceof Date && !isNaN(date_obj)) {\n                    return date_obj.getTime() / 1000;\n                }\n            }\n\n            return invalid_msg;\n        },\n        getTime: () => parseInt(new Date().getTime() / 1000),\n        ...getCandleInterface(),\n        ...getMiscInterface(tradeEngine),\n        ...getIndicatorsInterface(tradeEngine),\n\n        // Highlight the block that is being executed\n        highlightBlock: block_id => {\n            const block = Blockly.derivWorkspace.getBlockById(block_id);\n\n            if (block) {\n                block.highlightExecutedBlock(block);\n            }\n        },\n    };\n};\n\nexport default getToolsInterface;\n","import { expectCandle, expectCandles } from '../utils/sanitize';\n\nconst getCandleInterface = () => {\n    return {\n        isCandleBlack: candle => expectCandle(candle) && candle.close < candle.open,\n        candleValues: (ohlc, field) => expectCandles(ohlc).map(o => o[field]),\n        candleField: (candle, field) => expectCandle(candle)[field],\n    };\n};\n\nexport default getCandleInterface;\n","import { localize } from '@deriv/translations';\nimport { notify } from '../utils/broadcast';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nconst getMiscInterface = tradeEngine => {\n    return {\n        notify: args => globalObserver.emit('ui.log.notify', args),\n        console: ({ type, message }) => console[type](message), // eslint-disable-line no-console\n        notifyTelegram: (access_token, chat_id, text) => {\n            const url = `https://api.telegram.org/bot${access_token}/sendMessage`;\n            const onError = () => notify('warn', localize('The Telegram notification could not be sent'));\n\n            fetch(url, {\n                method: 'POST',\n                mode: 'cors',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ chat_id, text }),\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        onError();\n                    }\n                })\n                .catch(onError);\n        },\n        getTotalRuns: () => tradeEngine.getTotalRuns(),\n        getBalance: type => tradeEngine.getBalance(type),\n        getTotalProfit: toString => tradeEngine.getTotalProfit(toString, tradeEngine.tradeOptions.currency),\n    };\n};\n\nexport default getMiscInterface;\n","const getTicksInterface = tradeEngine => {\n    return {\n        getLastTick: (...args) => tradeEngine.getLastTick(...args),\n        getLastDigit: (...args) => tradeEngine.getLastDigit(...args),\n        getTicks: (...args) => tradeEngine.getTicks(...args),\n        checkDirection: (...args) => tradeEngine.checkDirection(...args),\n        getOhlcFromEnd: (...args) => tradeEngine.getOhlcFromEnd(...args),\n        getOhlc: (...args) => tradeEngine.getOhlc(...args),\n        getLastDigitList: (...args) => tradeEngine.getLastDigitList(...args),\n    };\n};\n\nexport default getTicksInterface;\n","import { observer as globalObserver } from '../../../utils/observer';\nimport { createDetails } from '../utils/helpers';\n\nconst getBotInterface = tradeEngine => {\n    const getDetail = i => createDetails(tradeEngine.data.contract)[i];\n\n    return {\n        init: (...args) => tradeEngine.init(...args),\n        start: (...args) => tradeEngine.start(...args),\n        stop: (...args) => tradeEngine.stop(...args),\n        purchase: contract_type => tradeEngine.purchase(contract_type),\n        getAskPrice: contract_type => Number(getProposal(contract_type, tradeEngine).ask_price),\n        getPayout: contract_type => Number(getProposal(contract_type, tradeEngine).payout),\n        getPurchaseReference: () => tradeEngine.getPurchaseReference(),\n        isSellAvailable: () => tradeEngine.isSellAtMarketAvailable(),\n        sellAtMarket: () => tradeEngine.sellAtMarket(),\n        getSellPrice: () => getSellPrice(tradeEngine),\n        isResult: result => getDetail(10) === result,\n        isTradeAgain: result => globalObserver.emit('bot.trade_again', result),\n        readDetails: i => getDetail(i - 1),\n    };\n};\n\nconst getProposal = (contract_type, tradeEngine) => {\n    return tradeEngine.data.proposals.find(\n        proposal =>\n            proposal.contract_type === contract_type &&\n            proposal.purchase_reference === tradeEngine.getPurchaseReference()\n    );\n};\n\nconst getSellPrice = tradeEngine => {\n    return tradeEngine.getSellPrice();\n};\n\nexport default getBotInterface;\n","import { getFormattedText } from '@deriv/shared';\nimport { info } from '../utils/broadcast';\nimport DBotStore from '../../../scratch/dbot-store';\nimport { api_base } from '../../api/api-base';\n\nlet balance_string = '';\n\nexport default Engine =>\n    class Balance extends Engine {\n        observeBalance() {\n            if (!api_base.api) return;\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'balance') {\n                    const {\n                        balance: { balance: b, currency },\n                    } = data;\n\n                    balance_string = getFormattedText(b, currency);\n\n                    if (this.accountInfo) info({ accountID: this.accountInfo.loginid, balance: balance_string });\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        // eslint-disable-next-line class-methods-use-this\n        getBalance(type) {\n            const { client } = DBotStore.instance;\n            const balance = (client && client.balance) || 0;\n\n            balance_string = getFormattedText(balance, client.currency, false);\n            return type === 'STR' ? balance_string : balance;\n        }\n    };\n","export const BEFORE_PURCHASE = 'BEFORE_PURCHASE';\nexport const DURING_PURCHASE = 'DURING_PURCHASE';\nexport const PROPOSALS_READY = 'PROPOSALS_READY';\nexport const CLEAR_PROPOSALS = 'CLEAR_PROPOSALS';\nexport const PURCHASE_SUCCESSFUL = 'PURCHASE_SUCCESSFUL';\nexport const OPEN_CONTRACT = 'OPEN_CONTRACT';\nexport const INVALID_ACTION = 'INVALID_ACTION';\nexport const SELL = 'SELL';\nexport const START = 'START';\nexport const STOP = 'STOP';\nexport const NEW_TICK = 'NEW_TICK';\n","import * as constants from '../constants';\n\nconst dispatchIfScopeIs = ({ dispatch, getState, data, scope }) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === scope) {\n        dispatch(data);\n    }\n};\n\nexport const start = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.START }, scope: constants.STOP });\n\nexport const proposalsReady = () => ({ type: constants.PROPOSALS_READY });\n\nexport const clearProposals = () => ({ type: constants.CLEAR_PROPOSALS });\n\nconst dispatchIfScopeIsBeforePurchase = args => dispatchIfScopeIs({ ...args, scope: constants.BEFORE_PURCHASE });\n\nconst dispatchIfBeforePurchaseReady = args => {\n    const { getState } = args;\n    const { proposalsReady: beforePurchaseReady } = getState();\n\n    if (beforePurchaseReady) {\n        dispatchIfScopeIsBeforePurchase(args);\n    }\n\n    dispatchIfScopeIs({ ...args, scope: constants.BEFORE_PURCHASE });\n};\n\nexport const purchaseSuccessful = () => (dispatch, getState) =>\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.PURCHASE_SUCCESSFUL } });\n\nexport const openContractReceived = () => (dispatch, getState) => {\n    const { scope: currentScope } = getState();\n    if (currentScope === constants.DURING_PURCHASE) {\n        dispatch({ type: constants.OPEN_CONTRACT });\n    }\n    dispatchIfBeforePurchaseReady({ dispatch, getState, data: { type: constants.OPEN_CONTRACT } });\n};\n\nexport const sell = () => (dispatch, getState) =>\n    dispatchIfScopeIs({ dispatch, getState, data: { type: constants.SELL }, scope: constants.DURING_PURCHASE });\n","import { purchaseSuccessful } from './state/actions';\nimport { BEFORE_PURCHASE } from './state/constants';\nimport { contractStatus, info, log } from '../utils/broadcast';\nimport { getUUID, recoverFromError, doUntilDone, tradeOptionToBuy } from '../utils/helpers';\nimport { log_types } from '../../../constants/messages';\nimport { api_base } from '../../api/api-base';\n\nlet delayIndex = 0;\nlet purchase_reference;\n\nexport default Engine =>\n    class Purchase extends Engine {\n        purchase(contract_type) {\n            // Prevent calling purchase twice\n            if (this.store.getState().scope !== BEFORE_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            const onSuccess = response => {\n                // Don't unnecessarily send a forget request for a purchased contract.\n                const { buy } = response;\n\n                contractStatus({\n                    id: 'contract.purchase_received',\n                    data: buy.transaction_id,\n                    buy,\n                });\n\n                this.contractId = buy.contract_id;\n                this.store.dispatch(purchaseSuccessful());\n\n                if (this.is_proposal_subscription_required) {\n                    this.renewProposalsOnPurchase();\n                }\n\n                delayIndex = 0;\n                log(log_types.PURCHASE, { longcode: buy.longcode, transaction_id: buy.transaction_id });\n                info({\n                    accountID: this.accountInfo.loginid,\n                    totalRuns: this.updateAndReturnTotalRuns(),\n                    transaction_ids: { buy: buy.transaction_id },\n                    contract_type,\n                    buy_price: buy.buy_price,\n                });\n            };\n\n            if (this.is_proposal_subscription_required) {\n                const { id, askPrice } = this.selectProposal(contract_type);\n\n                const action = () => api_base.api.send({ buy: id, price: askPrice });\n\n                this.isSold = false;\n\n                contractStatus({\n                    id: 'contract.purchase_sent',\n                    data: askPrice,\n                });\n\n                if (!this.options.timeMachineEnabled) {\n                    return doUntilDone(action).then(onSuccess);\n                }\n\n                return recoverFromError(\n                    action,\n                    (errorCode, makeDelay) => {\n                        // if disconnected no need to resubscription (handled by live-api)\n                        if (errorCode !== 'DisconnectError') {\n                            this.renewProposalsOnPurchase();\n                        } else {\n                            this.clearProposals();\n                        }\n\n                        const unsubscribe = this.store.subscribe(() => {\n                            const { scope, proposalsReady } = this.store.getState();\n                            if (scope === BEFORE_PURCHASE && proposalsReady) {\n                                makeDelay().then(() => this.observer.emit('REVERT', 'before'));\n                                unsubscribe();\n                            }\n                        });\n                    },\n                    ['PriceMoved', 'InvalidContractProposal'],\n                    delayIndex++\n                ).then(onSuccess);\n            }\n            const trade_option = tradeOptionToBuy(contract_type, this.tradeOptions);\n            const action = () => api_base.api.send(trade_option);\n\n            this.isSold = false;\n\n            contractStatus({\n                id: 'contract.purchase_sent',\n                data: this.tradeOptions.amount,\n            });\n\n            if (!this.options.timeMachineEnabled) {\n                return doUntilDone(action).then(onSuccess);\n            }\n\n            return recoverFromError(\n                action,\n                (errorCode, makeDelay) => {\n                    if (errorCode === 'DisconnectError') {\n                        this.clearProposals();\n                    }\n                    const unsubscribe = this.store.subscribe(() => {\n                        const { scope } = this.store.getState();\n                        if (scope === BEFORE_PURCHASE) {\n                            makeDelay().then(() => this.observer.emit('REVERT', 'before'));\n                            unsubscribe();\n                        }\n                    });\n                },\n                ['PriceMoved', 'InvalidContractProposal'],\n                delayIndex++\n            ).then(onSuccess);\n        }\n        getPurchaseReference = () => purchase_reference;\n        regeneratePurchaseReference = () => {\n            purchase_reference = getUUID();\n        };\n    };\n","import * as constants from '../constants';\n\nconst initialState = {\n    scope: constants.STOP,\n    proposalsReady: false,\n};\n\nconst signal = (state = initialState, action) => {\n    switch (action.type) {\n        case constants.START:\n            return {\n                scope: constants.BEFORE_PURCHASE,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.PROPOSALS_READY:\n            return {\n                ...state,\n                proposalsReady: true,\n            };\n        case constants.CLEAR_PROPOSALS:\n            return {\n                ...state,\n                proposalsReady: false,\n            };\n        case constants.PURCHASE_SUCCESSFUL:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: false,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.OPEN_CONTRACT:\n            return {\n                scope: constants.DURING_PURCHASE,\n                openContract: true,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.SELL:\n            return {\n                scope: constants.STOP,\n                proposalsReady: state.proposalsReady,\n            };\n        case constants.NEW_TICK:\n            return {\n                ...state,\n                newTick: action.payload,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default signal;\n","import { getLast } from 'binary-utils';\nimport { localize } from '@deriv/translations';\nimport * as constants from './state/constants';\nimport { getDirection, getLastDigit } from '../utils/helpers';\nimport { expectPositiveInteger } from '../utils/sanitize';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nlet tickListenerKey;\n\nexport default Engine =>\n    class Ticks extends Engine {\n        async watchTicks(symbol) {\n            if (symbol && this.symbol !== symbol) {\n                this.symbol = symbol;\n                const { ticksService } = this.$scope;\n\n                await ticksService.stopMonitor({\n                    symbol,\n                    key: tickListenerKey,\n                });\n                const callback = ticks => {\n                    if (this.is_proposal_subscription_required) {\n                        this.checkProposalReady();\n                    }\n                    const lastTick = ticks.slice(-1)[0];\n                    const { epoch } = lastTick;\n                    this.store.dispatch({ type: constants.NEW_TICK, payload: epoch });\n                };\n\n                const key = await ticksService.monitor({ symbol, callback });\n                tickListenerKey = key;\n            }\n        }\n\n        checkTicksPromiseExists() {\n            return this.$scope.ticksService.ticks_history_promise;\n        }\n\n        getTicks(toString = false) {\n            return new Promise(resolve => {\n                this.$scope.ticksService.request({ symbol: this.symbol }).then(ticks => {\n                    const ticks_list = ticks.map(tick => {\n                        if (toString) {\n                            return tick.quote.toFixed(this.getPipSize());\n                        }\n                        return tick.quote;\n                    });\n\n                    resolve(ticks_list);\n                });\n            });\n        }\n\n        getLastTick(raw, toString = false) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => {\n                        let last_tick = raw ? getLast(ticks) : getLast(ticks).quote;\n                        if (!raw && toString) {\n                            last_tick = last_tick.toFixed(this.getPipSize());\n                        }\n                        resolve(last_tick);\n                    })\n                    .catch(e => {\n                        if (e.code === 'MarketIsClosed') {\n                            globalObserver.emit('Error', e);\n                            resolve(e.code);\n                        }\n                    })\n            );\n        }\n\n        getLastDigit() {\n            return new Promise(resolve => this.getLastTick(false, true).then(tick => resolve(getLastDigit(tick))));\n        }\n\n        getLastDigitList() {\n            return new Promise(resolve => this.getTicks().then(ticks => resolve(this.getLastDigitsFromList(ticks))));\n        }\n        getLastDigitsFromList(ticks) {\n            const digits = ticks.map(tick => {\n                return getLastDigit(tick.toFixed(this.getPipSize()));\n            });\n            return digits;\n        }\n\n        checkDirection(dir) {\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol })\n                    .then(ticks => resolve(getDirection(ticks) === dir))\n            );\n        }\n\n        getOhlc(args) {\n            const { granularity = this.options.candleInterval || 60, field } = args || {};\n\n            return new Promise(resolve =>\n                this.$scope.ticksService\n                    .request({ symbol: this.symbol, granularity })\n                    .then(ohlc => resolve(field ? ohlc.map(o => o[field]) : ohlc))\n            );\n        }\n\n        getOhlcFromEnd(args) {\n            const { index: i = 1 } = args || {};\n\n            const index = expectPositiveInteger(Number(i), localize('Index must be a positive integer'));\n\n            return new Promise(resolve => this.getOhlc(args).then(ohlc => resolve(ohlc.slice(-index)[0])));\n        }\n\n        getPipSize() {\n            return this.$scope.ticksService.pipSizes[this.symbol];\n        }\n    };\n","import { getRoundedNumber } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { info, log } from '../utils/broadcast';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { log_types } from '../../../constants/messages';\n\nconst skeleton = {\n    totalProfit: 0,\n    totalWins: 0,\n    totalLosses: 0,\n    totalStake: 0,\n    totalPayout: 0,\n    totalRuns: 0,\n};\n\nconst globalStat = {};\n\nexport default Engine =>\n    class Total extends Engine {\n        constructor() {\n            super();\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n\n            globalObserver.register('statistics.clear', this.clearStatistics.bind(this));\n        }\n\n        clearStatistics() {\n            this.sessionRuns = 0;\n            this.sessionProfit = 0;\n            if (!this.accountInfo) return;\n            const { loginid: accountID } = this.accountInfo;\n            globalStat[accountID] = { ...skeleton };\n        }\n\n        updateTotals(contract) {\n            const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n\n            const profit = getRoundedNumber(Number(sellPrice) - Number(buyPrice), currency);\n\n            const win = profit > 0;\n\n            const accountStat = this.getAccountStat();\n\n            accountStat.totalWins += win ? 1 : 0;\n\n            accountStat.totalLosses += !win ? 1 : 0;\n\n            this.sessionProfit = getRoundedNumber(Number(this.sessionProfit) + Number(profit), currency);\n\n            accountStat.totalProfit = getRoundedNumber(Number(accountStat.totalProfit) + Number(profit), currency);\n\n            accountStat.totalStake = getRoundedNumber(Number(accountStat.totalStake) + Number(buyPrice), currency);\n\n            accountStat.totalPayout = getRoundedNumber(Number(accountStat.totalPayout) + Number(sellPrice), currency);\n\n            info({\n                profit,\n                contract,\n                accountID: this.accountInfo.loginid,\n                totalProfit: accountStat.totalProfit,\n                totalWins: accountStat.totalWins,\n                totalLosses: accountStat.totalLosses,\n                totalStake: accountStat.totalStake,\n                totalPayout: accountStat.totalPayout,\n            });\n\n            log(win ? log_types.PROFIT : log_types.LOST, { currency, profit });\n        }\n\n        updateAndReturnTotalRuns() {\n            this.sessionRuns++;\n            const accountStat = this.getAccountStat();\n\n            return ++accountStat.totalRuns;\n        }\n\n        /* eslint-disable class-methods-use-this */\n        getTotalRuns() {\n            const accountStat = this.getAccountStat();\n            return accountStat.totalRuns;\n        }\n\n        getTotalProfit(toString, currency) {\n            const accountStat = this.getAccountStat();\n\n            return toString && accountStat.totalProfit !== 0\n                ? getRoundedNumber(+accountStat.totalProfit, currency)\n                : +accountStat.totalProfit;\n        }\n\n        /* eslint-enable */\n        checkLimits(tradeOption) {\n            if (!tradeOption.limitations) {\n                return;\n            }\n\n            const {\n                limitations: { maxLoss, maxTrades },\n            } = tradeOption;\n\n            if (maxLoss && maxTrades) {\n                if (this.sessionRuns >= maxTrades) {\n                    throw createError('CustomLimitsReached', localize('Maximum number of trades reached'));\n                }\n                if (this.sessionProfit <= -maxLoss) {\n                    throw createError('CustomLimitsReached', localize('Maximum loss amount reached'));\n                }\n            }\n        }\n\n        /* eslint-disable class-methods-use-this */\n        validateTradeOptions(tradeOptions) {\n            const take_profit = tradeOptions.take_profit;\n            const stop_loss = tradeOptions.stop_loss;\n\n            if (take_profit) {\n                tradeOptions.limit_order.take_profit = take_profit;\n            }\n            if (stop_loss) {\n                tradeOptions.limit_order.stop_loss = stop_loss;\n            }\n\n            return tradeOptions;\n        }\n\n        getAccountStat() {\n            const { loginid: accountID } = this.accountInfo;\n\n            if (!(accountID in globalStat)) {\n                globalStat[accountID] = { ...skeleton };\n            }\n\n            return globalStat[accountID];\n        }\n    };\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { localize } from '@deriv/translations';\nimport Balance from './Balance';\nimport OpenContract from './OpenContract';\nimport Proposal from './Proposal';\nimport Purchase from './Purchase';\nimport Sell from './Sell';\nimport { start, proposalsReady } from './state/actions';\nimport * as constants from './state/constants';\nimport rootReducer from './state/reducers';\nimport Ticks from './Ticks';\nimport Total from './Total';\nimport { doUntilDone, checkBlocksForProposalRequest } from '../utils/helpers';\nimport { expectInitArg } from '../utils/sanitize';\nimport { createError } from '../../../utils/error';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nconst watchBefore = store =>\n    watchScope({\n        store,\n        stopScope: constants.DURING_PURCHASE,\n        passScope: constants.BEFORE_PURCHASE,\n        passFlag: 'proposalsReady',\n    });\n\nconst watchDuring = store =>\n    watchScope({\n        store,\n        stopScope: constants.STOP,\n        passScope: constants.DURING_PURCHASE,\n        passFlag: 'openContract',\n    });\n\n/* The watchScope function is called randomly and resets the prevTick\n * which leads to the same problem we try to solve. So prevTick is isolated\n */\nlet prevTick;\nconst watchScope = ({ store, stopScope, passScope, passFlag }) => {\n    // in case watch is called after stop is fired\n    if (store.getState().scope === stopScope) {\n        return Promise.resolve(false);\n    }\n    return new Promise(resolve => {\n        const unsubscribe = store.subscribe(() => {\n            const newState = store.getState();\n\n            if (newState.newTick === prevTick) return;\n            prevTick = newState.newTick;\n\n            if (newState.scope === passScope && newState[passFlag]) {\n                unsubscribe();\n                resolve(true);\n            }\n\n            if (newState.scope === stopScope) {\n                unsubscribe();\n                resolve(false);\n            }\n        });\n    });\n};\n\nexport default class TradeEngine extends Balance(Purchase(Sell(OpenContract(Proposal(Ticks(Total(class {}))))))) {\n    constructor($scope) {\n        super();\n        this.observer = $scope.observer;\n        this.$scope = $scope;\n        this.observe();\n        this.data = {\n            contract: {},\n            proposals: [],\n        };\n        this.store = createStore(rootReducer, applyMiddleware(thunk));\n    }\n\n    init(...args) {\n        const [token, options] = expectInitArg(args);\n        const { symbol } = options;\n\n        this.initArgs = args;\n        this.options = options;\n        this.startPromise = this.loginAndGetBalance(token);\n\n        if (!this.checkTicksPromiseExists()) this.watchTicks(symbol);\n    }\n\n    start(tradeOptions) {\n        if (!this.options) {\n            throw createError('NotInitialized', localize('Bot.init is not called'));\n        }\n\n        globalObserver.emit('bot.running');\n\n        const validated_trade_options = this.validateTradeOptions(tradeOptions);\n\n        this.tradeOptions = { ...validated_trade_options, symbol: this.options.symbol };\n        this.store.dispatch(start());\n        this.checkLimits(validated_trade_options);\n\n        this.makeDirectPurchaseDecision();\n    }\n\n    loginAndGetBalance(token) {\n        if (this.token === token) {\n            return Promise.resolve();\n        }\n        // for strategies using total runs, GetTotalRuns function is trying to get loginid and it gets called before Proposals calls.\n        // the below required loginid to be set in Proposal calls where loginAndGetBalance gets resolved.\n        // Earlier this used to happen as soon as we get ticks_history response and by the time GetTotalRuns gets called we have required info.\n        this.accountInfo = api_base.account_info;\n        this.token = api_base.token;\n        return new Promise(resolve => {\n            // Try to recover from a situation where API doesn't give us a correct response on\n            // \"proposal_open_contract\" which would make the bot run forever. When there's a \"sell\"\n            // event, wait a couple seconds for the API to give us the correct \"proposal_open_contract\"\n            // response, if there's none after x seconds. Send an explicit request, which _should_\n            // solve the issue. This is a backup!\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'transaction' && data.transaction.action === 'sell') {\n                    this.transaction_recovery_timeout = setTimeout(() => {\n                        const { contract } = this.data;\n                        const is_same_contract = contract.contract_id === data.transaction.contract_id;\n                        const is_open_contract = contract.status === 'open';\n                        if (is_same_contract && is_open_contract) {\n                            doUntilDone(() => {\n                                api_base.api.send({ proposal_open_contract: 1, contract_id: contract.contract_id });\n                            }, ['PriceMoved']);\n                        }\n                    }, 1500);\n                }\n                resolve();\n            });\n            api_base.pushSubscription(subscription);\n        });\n    }\n\n    observe() {\n        this.observeOpenContract();\n        this.observeBalance();\n        this.observeProposals();\n    }\n\n    watch(watchName) {\n        if (watchName === 'before') {\n            return watchBefore(this.store);\n        }\n        return watchDuring(this.store);\n    }\n\n    makeDirectPurchaseDecision() {\n        const { has_payout_block, is_basis_payout } = checkBlocksForProposalRequest();\n        this.is_proposal_subscription_required = has_payout_block || is_basis_payout;\n\n        if (this.is_proposal_subscription_required) {\n            this.makeProposals({ ...this.options, ...this.tradeOptions });\n            this.checkProposalReady();\n        } else {\n            this.store.dispatch(proposalsReady());\n        }\n    }\n}\n","import { DURING_PURCHASE } from './state/constants';\nimport { contractStatus, log } from '../utils/broadcast';\nimport { recoverFromError, doUntilDone } from '../utils/helpers';\nimport { log_types } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class Sell extends Engine {\n        isSellAtMarketAvailable() {\n            return this.contractId && !this.isSold && this.isSellAvailable && !this.isExpired;\n        }\n\n        sellAtMarket() {\n            globalObserver.emit('bot.sell');\n\n            // Prevent calling sell twice\n            if (this.store.getState().scope !== DURING_PURCHASE) {\n                return Promise.resolve();\n            }\n\n            if (!this.isSellAtMarketAvailable()) {\n                log(log_types.NOT_OFFERED);\n                return Promise.resolve();\n            }\n\n            let delay_index = 1;\n\n            return new Promise(resolve => {\n                const onContractSold = sell_response => {\n                    delay_index = 1;\n\n                    if (sell_response) {\n                        const { sold_for } = sell_response.sell;\n                        log(log_types.SELL, { sold_for });\n                    }\n\n                    contractStatus('purchase.sold');\n                    this.waitForAfter();\n                    resolve();\n                };\n\n                const contract_id = this.contractId;\n\n                const sellContractAndGetContractInfo = () => {\n                    return doUntilDone(() => api_base.api.send({ sell: contract_id, price: 0 }))\n                        .then(sell_response => {\n                            doUntilDone(() => api_base.api.send({ proposal_open_contract: 1, contract_id })).then(\n                                () => sell_response\n                            );\n                        })\n                        .catch(e => {\n                            const error = e.error;\n                            if (error.code === 'InvalidOfferings') {\n                                // \"InvalidOfferings\" may occur when user tries to sell the contract too close\n                                // to the expiry time. We shouldn't interrupt the bot but instead let the contract\n                                // finish.\n                                return Promise.resolve();\n                            }\n\n                            const sell_error = {\n                                name: error.code,\n                                message: error.message,\n                                msg_type: e.msg_type,\n                                error: { ...error.error },\n                            };\n\n                            if (error.code === 'RateLimit') {\n                                return Promise.reject(sell_error);\n                            }\n\n                            // For every other error, check whether the contract is not actually already sold.\n                            return doUntilDone(() =>\n                                api_base.api.send({\n                                    proposal_open_contract: 1,\n                                    contract_id,\n                                })\n                            ).then(proposal_open_contract_response => {\n                                const { proposal_open_contract } = proposal_open_contract_response;\n\n                                if (proposal_open_contract.status !== 'sold') {\n                                    return Promise.reject(sell_error);\n                                }\n\n                                // If the contract is sold at this point it means there was a race condition.\n                                // Pretend this sell request was successful and mislead the trade engine into\n                                // moving onto the next scope.\n                                return Promise.resolve({\n                                    sell: {\n                                        sold_for: proposal_open_contract.sell_price,\n                                    },\n                                });\n                            });\n                        });\n                };\n\n                const errors_to_ignore = ['NoOpenPosition', 'InvalidSellContractProposal', 'UnrecognisedRequest'];\n\n                // Restart buy/sell on error is enabled, don't recover from sell error.\n                if (!this.options.timeMachineEnabled) {\n                    return doUntilDone(sellContractAndGetContractInfo, errors_to_ignore).then(sell_response =>\n                        onContractSold(sell_response)\n                    );\n                }\n\n                // If above checkbox not checked, try to recover from sell error.\n                const recoverFn = (error_code, makeDelay) => {\n                    return makeDelay().then(() => this.observer.emit('REVERT', 'during'));\n                };\n                return recoverFromError(\n                    sellContractAndGetContractInfo,\n                    recoverFn,\n                    errors_to_ignore,\n                    delay_index++\n                ).then(sell_response => onContractSold(sell_response));\n            });\n        }\n    };\n","import { getRoundedNumber } from '@deriv/shared';\nimport { sell, openContractReceived } from './state/actions';\nimport { contractStatus, contract as broadcastContract } from '../utils/broadcast';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class OpenContract extends Engine {\n        observeOpenContract() {\n            if (!api_base.api) return;\n            const subscription = api_base.api.onMessage().subscribe(({ data }) => {\n                if (data.msg_type === 'proposal_open_contract') {\n                    const contract = data.proposal_open_contract;\n\n                    if (!contract || !this.expectedContractId(contract?.contract_id)) {\n                        return;\n                    }\n\n                    this.setContractFlags(contract);\n\n                    this.data.contract = contract;\n\n                    broadcastContract({ accountID: api_base.account_info.loginid, ...contract });\n\n                    if (this.isSold) {\n                        this.contractId = '';\n                        clearTimeout(this.transaction_recovery_timeout);\n                        this.updateTotals(contract);\n                        contractStatus({\n                            id: 'contract.sold',\n                            data: contract.transaction_ids.sell,\n                            contract,\n                        });\n\n                        if (this.afterPromise) {\n                            this.afterPromise();\n                        }\n\n                        this.store.dispatch(sell());\n                    } else {\n                        this.store.dispatch(openContractReceived());\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        waitForAfter() {\n            return new Promise(resolve => {\n                this.afterPromise = resolve;\n            });\n        }\n\n        setContractFlags(contract) {\n            const { is_expired, is_valid_to_sell, is_sold, entry_tick } = contract;\n\n            this.isSold = Boolean(is_sold);\n            this.isSellAvailable = !this.isSold && Boolean(is_valid_to_sell);\n            this.isExpired = Boolean(is_expired);\n            this.hasEntryTick = Boolean(entry_tick);\n        }\n\n        expectedContractId(contractId) {\n            return this.contractId && contractId === this.contractId;\n        }\n\n        getSellPrice() {\n            const { bid_price: bidPrice, buy_price: buyPrice, currency } = this.data.contract;\n            return getRoundedNumber(Number(bidPrice) - Number(buyPrice), currency);\n        }\n    };\n","import { localize } from '@deriv/translations';\nimport { proposalsReady, clearProposals } from './state/actions';\nimport { tradeOptionToProposal, doUntilDone } from '../utils/helpers';\nimport { api_base } from '../../api/api-base';\n\nexport default Engine =>\n    class Proposal extends Engine {\n        makeProposals(trade_option) {\n            if (!this.isNewTradeOption(trade_option)) {\n                return;\n            }\n\n            // Generate a purchase reference when trade options are different from previous trade options.\n            // This will ensure the bot doesn't mistakenly purchase the wrong proposal.\n            this.regeneratePurchaseReference();\n            this.trade_option = trade_option;\n            this.proposal_templates = tradeOptionToProposal(trade_option, this.getPurchaseReference());\n            this.renewProposalsOnPurchase();\n        }\n\n        selectProposal(contract_type) {\n            const { proposals } = this.data;\n\n            if (proposals.length === 0) {\n                throw Error(localize('Proposals are not ready'));\n            }\n\n            const to_buy = proposals.find(proposal => {\n                if (\n                    proposal.contract_type === contract_type &&\n                    proposal.purchase_reference === this.getPurchaseReference()\n                ) {\n                    // Below happens when a user has had one of the proposals return\n                    // with a ContractBuyValidationError. We allow the logic to continue\n                    // to here cause the opposite proposal may still be valid. Only once\n                    // they attempt to purchase the errored proposal we will intervene.\n                    if (proposal.error) {\n                        throw proposal.error;\n                    }\n\n                    return proposal;\n                }\n\n                return false;\n            });\n\n            if (!to_buy) {\n                throw new Error(localize('Selected proposal does not exist'));\n            }\n\n            return {\n                id: to_buy.id,\n                askPrice: to_buy.ask_price,\n            };\n        }\n\n        renewProposalsOnPurchase() {\n            this.data.proposals = [];\n            this.store.dispatch(clearProposals());\n            this.requestProposals();\n        }\n\n        requestProposals() {\n            // Since there are two proposals (in most cases), an error may be logged twice, to avoid this\n            // flip this boolean on error.\n            let has_informed_error = false;\n\n            Promise.all(\n                this.proposal_templates.map(proposal => {\n                    doUntilDone(() => api_base.api.send(proposal)).catch(error => {\n                        // We intercept ContractBuyValidationError as user may have specified\n                        // e.g. a DIGITUNDER 0 or DIGITOVER 9, while one proposal may be invalid\n                        // the other is valid. We will error on Purchase rather than here.\n\n                        if (error.error.code === 'ContractBuyValidationError') {\n                            this.data.proposals.push({\n                                ...error.error.echo_req,\n                                ...error.echo_req.passthrough,\n                                error,\n                            });\n\n                            return null;\n                        }\n                        if (!has_informed_error) {\n                            has_informed_error = true;\n                            this.$scope.observer.emit('Error', error.error);\n                        }\n                        return null;\n                    });\n                })\n            );\n        }\n\n        observeProposals() {\n            if (!api_base.api) return;\n            const subscription = api_base.api.onMessage().subscribe(response => {\n                if (response.data.msg_type === 'proposal') {\n                    const { passthrough, proposal } = response.data;\n                    if (proposal && this.data.proposals.findIndex(p => p.id === proposal.id) === -1) {\n                        // Add proposals based on the ID returned by the API.\n                        this.data.proposals.push({ ...proposal, ...passthrough });\n                        this.checkProposalReady();\n                    }\n                }\n            });\n            api_base.pushSubscription(subscription);\n        }\n\n        checkProposalReady() {\n            // Proposals are considered ready when the proposals in our memory match the ones\n            // we've requested from the API, we determine this by checking the passthrough of the response.\n            const { proposals } = this.data;\n\n            if (proposals.length > 0 && this.proposal_templates) {\n                const has_equal_proposals = this.proposal_templates.every(template => {\n                    return (\n                        proposals.findIndex(proposal => {\n                            return (\n                                proposal.purchase_reference === template.passthrough.purchase_reference &&\n                                proposal.contract_type === template.contract_type\n                            );\n                        }) !== -1\n                    );\n                });\n\n                if (has_equal_proposals) {\n                    this.startPromise.then(() => this.store.dispatch(proposalsReady()));\n                }\n            }\n        }\n\n        isNewTradeOption(trade_option) {\n            if (!this.trade_option) {\n                this.trade_option = trade_option;\n                return true;\n            }\n\n            // Compare incoming \"trade_option\" argument with \"this.trade_option\", if any\n            // of the values is different, this is a new tradeOption and new proposals\n            // should be generated.\n            return [\n                'amount',\n                'barrierOffset',\n                'basis',\n                'duration',\n                'duration_unit',\n                'prediction',\n                'secondBarrierOffset',\n                'symbol',\n            ].some(value => this.trade_option[value] !== trade_option[value]);\n        }\n    };\n","import getToolsInterface from './ToolsInterface';\nimport getTicksInterface from './TicksInterface';\nimport getBotInterface from './BotInterface';\nimport TradeEngine from '../trade';\n\nconst sleep = (observer, arg = 1) => {\n    return new Promise(\n        r =>\n            setTimeout(() => {\n                r();\n                setTimeout(() => observer.emit('CONTINUE'), 0);\n            }, arg * 1000),\n        () => {}\n    );\n};\n\nconst Interface = $scope => {\n    const tradeEngine = new TradeEngine($scope);\n    const { observer } = $scope;\n    const getInterface = () => {\n        return {\n            ...getBotInterface(tradeEngine),\n            ...getToolsInterface(tradeEngine),\n            getTicksInterface: getTicksInterface(tradeEngine),\n            watch: (...args) => tradeEngine.watch(...args),\n            sleep: (...args) => sleep(observer, ...args),\n            alert: (...args) => alert(...args), // eslint-disable-line no-alert\n            prompt: (...args) => prompt(...args), // eslint-disable-line no-alert\n            console: {\n                log(...args) {\n                    // eslint-disable-next-line no-console\n                    console.log(new Date().toLocaleTimeString(), ...args);\n                },\n            },\n        };\n    };\n    return { tradeEngine, observer, getInterface };\n};\n\nexport default Interface;\n","import { cloneThorough, isMultiplierContract } from '@deriv/shared';\nimport JSInterpreter from '@deriv/js-interpreter';\nimport { createScope } from './cliTools';\nimport Interface from '../Interface';\nimport { unrecoverable_errors } from '../../../constants/messages';\nimport { observer as globalObserver } from '../../../utils/observer';\nimport { api_base } from '../../api/api-base';\n\nJSInterpreter.prototype.takeStateSnapshot = function () {\n    const newStateStack = cloneThorough(this.stateStack, undefined, undefined, undefined, true);\n    return newStateStack;\n};\n\nJSInterpreter.prototype.restoreStateSnapshot = function (snapshot) {\n    this.stateStack = cloneThorough(snapshot, undefined, undefined, undefined, true);\n    this.global = this.stateStack[0].scope.object || this.stateStack[0].scope;\n    this.initFunc_(this, this.global);\n};\n\nconst botInitialized = bot => bot && bot.tradeEngine.options;\nconst botStarted = bot => botInitialized(bot) && bot.tradeEngine.tradeOptions;\nconst shouldRestartOnError = (bot, errorName = '') =>\n    !unrecoverable_errors.includes(errorName) && botInitialized(bot) && bot.tradeEngine.options.shouldRestartOnError;\n\nconst shouldStopOnError = (bot, errorName = '') => {\n    const stopErrors = ['SellNotAvailableCustom', 'ContractCreationFailure', 'InvalidtoBuy'];\n    if (stopErrors.includes(errorName) && botInitialized(bot)) {\n        return true;\n    }\n    return false;\n};\n\nconst timeMachineEnabled = bot => botInitialized(bot) && bot.tradeEngine.options.timeMachineEnabled;\n\n// TODO chek beforState & duringState & startState\nconst Interpreter = () => {\n    let $scope = createScope();\n    let bot = Interface($scope);\n    let interpreter = {};\n    let onFinish;\n\n    $scope.observer.register('REVERT', watchName =>\n        revert(watchName === 'before' ? $scope.beforeState : $scope.duringState)\n    );\n\n    function init() {\n        $scope = createScope();\n        bot = Interface($scope);\n        interpreter = {};\n        onFinish = () => {};\n    }\n\n    function revert(state) {\n        interpreter.restoreStateSnapshot(state);\n        interpreter.paused_ = false;\n        loop();\n    }\n\n    function loop() {\n        if ($scope.stopped || !interpreter.run()) {\n            onFinish(interpreter.pseudoToNative(interpreter.value));\n        }\n    }\n\n    function createAsync(js_interpreter, func) {\n        const asyncFunc = (...args) => {\n            const callback = args.pop();\n\n            // Workaround for unknown number of args\n            const reversed_args = args.slice().reverse();\n            const first_defined_arg_idx = reversed_args.findIndex(arg => arg !== undefined);\n\n            // Remove extra undefined args from end of the args\n            const function_args = first_defined_arg_idx < 0 ? [] : reversed_args.slice(first_defined_arg_idx).reverse();\n            // End of workaround\n\n            func(...function_args.map(arg => js_interpreter.pseudoToNative(arg)))\n                .then(rv => {\n                    callback(js_interpreter.nativeToPseudo(rv));\n                    loop();\n                })\n                .catch(e => {\n                    // e.error for errors get from API, e for code errors\n                    $scope.observer.emit('Error', e.error || e);\n                });\n        };\n\n        // TODO: This is a workaround, create issue on original repo, once fixed\n        // remove this. We don't know how many args are going to be passed, so we\n        // assume a max of 100.\n        const MAX_ACCEPTABLE_FUNC_ARGS = 100;\n        Object.defineProperty(asyncFunc, 'length', { value: MAX_ACCEPTABLE_FUNC_ARGS + 1 });\n        return js_interpreter.createAsyncFunction(asyncFunc);\n    }\n\n    function initFunc(js_interpreter, scope) {\n        const bot_interface = bot.getInterface();\n        const { getTicksInterface, alert, prompt, sleep, console: custom_console } = bot_interface;\n        const ticks_interface = getTicksInterface;\n\n        js_interpreter.setProperty(scope, 'console', js_interpreter.nativeToPseudo(custom_console));\n        js_interpreter.setProperty(scope, 'alert', js_interpreter.nativeToPseudo(alert));\n        js_interpreter.setProperty(scope, 'prompt', js_interpreter.nativeToPseudo(prompt));\n        js_interpreter.setProperty(\n            scope,\n            'getPurchaseReference',\n            js_interpreter.nativeToPseudo(bot_interface.getPurchaseReference)\n        );\n\n        const pseudo_bot_interface = js_interpreter.nativeToPseudo(bot_interface);\n\n        Object.entries(ticks_interface).forEach(([name, f]) =>\n            js_interpreter.setProperty(pseudo_bot_interface, name, createAsync(js_interpreter, f))\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'start',\n            js_interpreter.nativeToPseudo((...args) => {\n                const { start } = bot_interface;\n                if (shouldRestartOnError(bot)) {\n                    $scope.startState = js_interpreter.takeStateSnapshot();\n                }\n                start(...args);\n            })\n        );\n\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'purchase',\n            createAsync(js_interpreter, bot_interface.purchase)\n        );\n        js_interpreter.setProperty(\n            pseudo_bot_interface,\n            'sellAtMarket',\n            createAsync(js_interpreter, bot_interface.sellAtMarket)\n        );\n        js_interpreter.setProperty(scope, 'Bot', pseudo_bot_interface);\n        js_interpreter.setProperty(\n            scope,\n            'watch',\n            createAsync(js_interpreter, watchName => {\n                const { watch } = bot.getInterface();\n\n                if (timeMachineEnabled(bot)) {\n                    const snapshot = interpreter.takeStateSnapshot();\n                    if (watchName === 'before') {\n                        $scope.beforeState = snapshot;\n                    } else {\n                        $scope.duringState = snapshot;\n                    }\n                }\n\n                return watch(watchName);\n            })\n        );\n\n        js_interpreter.setProperty(scope, 'sleep', createAsync(js_interpreter, sleep));\n    }\n\n    async function stop() {\n        return new Promise((resolve, reject) => {\n            try {\n                const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n                const is_timeouts_cancellable = Object.keys(global_timeouts).every(\n                    timeout => global_timeouts[timeout].is_cancellable\n                );\n\n                if (!bot.tradeEngine.contractId && is_timeouts_cancellable) {\n                    // When user is rate limited, allow them to stop the bot immediately\n                    // granted there is no active contract.\n                    global_timeouts.forEach(timeout => clearTimeout(global_timeouts[timeout]));\n                    terminateSession().then(() => resolve());\n                } else if (\n                    bot.tradeEngine.isSold === false &&\n                    !$scope.is_error_triggered &&\n                    isMultiplierContract(bot?.tradeEngine?.data?.contract?.contract_type ?? '')\n                ) {\n                    globalObserver.register('contract.status', async contractStatus => {\n                        if (contractStatus.id === 'contract.sold') {\n                            terminateSession().then(() => resolve());\n                        }\n                    });\n                } else {\n                    terminateSession().then(() => resolve());\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    async function terminateSession() {\n        return new Promise((resolve, reject) => {\n            try {\n                $scope.stopped = true;\n                $scope.is_error_triggered = false;\n                globalObserver.emit('bot.stop');\n                const { ticksService } = $scope;\n                // Unsubscribe previous ticks_history subscription\n                // Unsubscribe the subscriptions from Proposal, Balance and OpenContract\n                api_base.clearSubscriptions();\n\n                ticksService.unsubscribeFromTicksService().then(() => {\n                    resolve();\n                });\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n\n    async function unsubscribeFromTicksService() {\n        const { ticksService } = $scope;\n        return new Promise((resolve, reject) => {\n            try {\n                ticksService.unsubscribeFromTicksService().then(() => {\n                    resolve();\n                });\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n    function run(code) {\n        return new Promise((resolve, reject) => {\n            const onError = e => {\n                if ($scope.stopped) {\n                    return;\n                }\n                // DBot handles 'InvalidToken' internally\n                if (e.code === 'InvalidToken') {\n                    globalObserver.emit('client.invalid_token');\n                    return;\n                }\n                if (shouldStopOnError(bot, e?.code)) {\n                    globalObserver.emit('ui.log.error', e.message);\n                    globalObserver.emit('bot.click_stop');\n                    return;\n                }\n\n                $scope.is_error_triggered = true;\n                if (!shouldRestartOnError(bot, e.code) || !botStarted(bot)) {\n                    reject(e);\n                    return;\n                }\n\n                globalObserver.emit('Error', e);\n                const { initArgs, tradeOptions } = bot.tradeEngine;\n                terminateSession();\n                init();\n                $scope.observer.register('Error', onError);\n                bot.tradeEngine.init(...initArgs);\n                bot.tradeEngine.start(tradeOptions);\n                revert($scope.startState);\n            };\n\n            $scope.observer.register('Error', onError);\n\n            interpreter = new JSInterpreter(code, initFunc);\n            onFinish = resolve;\n\n            loop();\n        });\n    }\n\n    return { stop, run, terminateSession, bot, unsubscribeFromTicksService };\n};\nexport default Interpreter;\n\nexport const createInterpreter = () => new Interpreter();\n","export default \"<xml xmlns=\\\"http://www.w3.org/1999/xhtml\\\" collection=\\\"false\\\" is_dbot=\\\"true\\\">\\n  <variables></variables>\\n  <block type=\\\"trade_definition\\\" x=\\\"0\\\" y=\\\"0\\\">\\n    <statement name=\\\"TRADE_OPTIONS\\\">\\n      <block type=\\\"trade_definition_market\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n        <field name=\\\"MARKET_LIST\\\"></field>\\n        <field name=\\\"SUBMARKET_LIST\\\"></field>\\n        <field name=\\\"SYMBOL_LIST\\\"></field>\\n        <next>\\n          <block type=\\\"trade_definition_tradetype\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n            <field name=\\\"TRADETYPECAT_LIST\\\"></field>\\n            <field name=\\\"TRADETYPE_LIST\\\"></field>\\n            <next>\\n              <block type=\\\"trade_definition_contracttype\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                <field name=\\\"TYPE_LIST\\\"></field>\\n                <next>\\n                  <block type=\\\"trade_definition_candleinterval\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                    <field name=\\\"CANDLEINTERVAL_LIST\\\">60</field>\\n                    <next>\\n                      <block type=\\\"trade_definition_restartbuysell\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                        <field name=\\\"TIME_MACHINE_ENABLED\\\">FALSE</field>\\n                        <next>\\n                          <block type=\\\"trade_definition_restartonerror\\\" deletable=\\\"false\\\" movable=\\\"false\\\">\\n                            <field name=\\\"RESTARTONERROR\\\">TRUE</field>\\n                          </block>\\n                        </next>\\n                      </block>\\n                    </next>\\n                  </block>\\n                </next>\\n              </block>\\n            </next>\\n          </block>\\n        </next>\\n      </block>\\n    </statement>\\n    <statement name=\\\"SUBMARKET\\\">\\n      <block type=\\\"trade_definition_tradeoptions\\\">\\n        <mutation has_first_barrier=\\\"false\\\" has_second_barrier=\\\"false\\\" has_prediction=\\\"false\\\"></mutation>\\n        <field name=\\\"DURATIONTYPE_LIST\\\"></field>\\n        <field name=\\\"CURRENCY_LIST\\\">USD</field>\\n        <value name=\\\"DURATION\\\">\\n          <shadow type=\\\"math_number_positive\\\">\\n            <field name=\\\"NUM\\\">5</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"AMOUNT\\\">\\n          <shadow type=\\\"math_number_positive\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n        <field name=\\\"AMOUNT_LIMITS\\\"></field>\\n      </block>\\n    </statement>\\n  </block>\\n  <block type=\\\"during_purchase\\\" x=\\\"720\\\" y=\\\"0\\\">\\n    <statement name=\\\"DURING_PURCHASE_STACK\\\">\\n      <block type=\\\"controls_if\\\">\\n        <value name=\\\"IF0\\\">\\n          <block type=\\\"check_sell\\\"></block>\\n        </value>\\n      </block>\\n    </statement>\\n  </block>\\n  <block type=\\\"after_purchase\\\" x=\\\"720\\\" y=\\\"248\\\">\\n    <statement name=\\\"AFTERPURCHASE_STACK\\\">\\n      <block type=\\\"trade_again\\\"></block>\\n    </statement>\\n  </block>\\n  <block type=\\\"before_purchase\\\" x=\\\"0\\\" y=\\\"576\\\">\\n    <statement name=\\\"BEFOREPURCHASE_STACK\\\">\\n      <block type=\\\"purchase\\\">\\n        <field name=\\\"PURCHASE_LIST\\\"></field>\\n      </block>\\n    </statement>\\n  </block>\\n</xml>\";","import { save_types } from '../constants';\nimport { config } from '../constants/config';\nimport { api_base } from '../services/api/api-base';\nimport ApiHelpers from '../services/api/api-helpers';\nimport Interpreter from '../services/tradeEngine/utils/interpreter';\nimport { compareXml, observer as globalObserver } from '../utils';\nimport { getSavedWorkspaces, saveWorkspaceToRecent } from '../utils/local-storage';\n\nimport main_xml from './xml/main.xml';\nimport DBotStore from './dbot-store';\nimport { isAllRequiredBlocksEnabled, updateDisabledBlocks, validateErrorOnBlockDelete } from './utils';\n\nimport './blockly';\n\nclass DBot {\n    constructor() {\n        this.interpreter = null;\n        this.workspace = null;\n        this.before_run_funcs = [];\n        this.symbol = null;\n        this.is_bot_running = false;\n    }\n\n    /**\n     * Initialises the workspace and mounts it to a container element (app_contents).\n     */\n    async initWorkspace(public_path, store, api_helpers_store, is_mobile) {\n        const recent_files = await getSavedWorkspaces();\n\n        api_base.init();\n        this.interpreter = Interpreter();\n        const that = this;\n        Blockly.Blocks.trade_definition_tradetype.onchange = function (event) {\n            if (!this.workspace || this.isInFlyout || this.workspace.isDragging()) {\n                return;\n            }\n\n            this.enforceLimitations();\n\n            const { name, type } = event;\n\n            if (type === Blockly.Events.BLOCK_CHANGE) {\n                if (name === 'SYMBOL_LIST' || name === 'TRADETYPECAT_LIST') {\n                    const { contracts_for } = ApiHelpers.instance;\n                    const top_parent_block = this.getTopParent();\n                    const market_block = top_parent_block.getChildByType('trade_definition_market');\n                    const market = market_block.getFieldValue('MARKET_LIST');\n                    const submarket = market_block.getFieldValue('SUBMARKET_LIST');\n                    const symbol = market_block.getFieldValue('SYMBOL_LIST');\n                    const category = this.getFieldValue('TRADETYPECAT_LIST');\n                    const trade_type = this.getFieldValue('TRADETYPE_LIST');\n\n                    if (name === 'SYMBOL_LIST') {\n                        contracts_for.getTradeTypeCategories(market, submarket, symbol).then(categories => {\n                            const category_field = this.getField('TRADETYPECAT_LIST');\n                            if (category_field) {\n                                category_field.updateOptions(categories, {\n                                    default_value: category,\n                                    should_pretend_empty: true,\n                                    event_group: event.group,\n                                });\n                            }\n                        });\n                        that.symbol = symbol;\n                        if (\n                            !that.is_bot_running &&\n                            that.interpreter &&\n                            !this.workspace.options.readOnly &&\n                            symbol !== that.interpreter.bot.tradeEngine.symbol\n                        ) {\n                            const run_button = document.querySelector('#db-animation__run-button');\n                            if (run_button) run_button.disabled = true;\n\n                            that.interpreter.unsubscribeFromTicksService().then(async () => {\n                                await that.interpreter.bot.tradeEngine.watchTicks(symbol);\n                            });\n                        }\n                    } else if (name === 'TRADETYPECAT_LIST' && event.blockId === this.id) {\n                        contracts_for.getTradeTypes(market, submarket, symbol, category).then(trade_types => {\n                            const trade_type_field = this.getField('TRADETYPE_LIST');\n\n                            trade_type_field.updateOptions(trade_types, {\n                                default_value: trade_type,\n                                should_pretend_empty: true,\n                                event_group: event.group,\n                            });\n                        });\n                    }\n                }\n            }\n        };\n\n        return new Promise((resolve, reject) => {\n            __webpack_public_path__ = public_path; // eslint-disable-line no-global-assign\n            ApiHelpers.setInstance(api_helpers_store);\n            DBotStore.setInstance(store);\n            const window_width = window.innerWidth;\n            try {\n                let workspaceScale = 0.8;\n\n                const { handleFileChange } = DBotStore.instance;\n                if (window_width < 1640) {\n                    if (is_mobile) {\n                        workspaceScale = 0.7;\n                    } else {\n                        const scratch_div_width = document.getElementById('scratch_div')?.offsetWidth;\n                        const zoom_scale = scratch_div_width / window_width / 1.5;\n                        workspaceScale = zoom_scale;\n                    }\n                }\n                const el_scratch_div = document.getElementById('scratch_div');\n                if (!el_scratch_div) {\n                    return;\n                }\n                this.workspace = Blockly.inject(el_scratch_div, {\n                    media: `${__webpack_public_path__}media/`,\n                    trashcan: !is_mobile,\n                    zoom: { wheel: true, startScale: workspaceScale },\n                    scrollbars: true,\n                });\n\n                this.workspace.cached_xml = { main: main_xml };\n\n                this.workspace.addChangeListener(this.valueInputLimitationsListener.bind(this));\n                this.workspace.addChangeListener(event => updateDisabledBlocks(this.workspace, event));\n                this.workspace.addChangeListener(event => this.workspace.dispatchBlockEventEffects(event));\n                this.workspace.addChangeListener(event => {\n                    if (event.type === 'endDrag' && !is_mobile) validateErrorOnBlockDelete();\n                });\n\n                Blockly.derivWorkspace = this.workspace;\n\n                this.addBeforeRunFunction(this.unselectBlocks.bind(this));\n                this.addBeforeRunFunction(this.disableStrayBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForErroredBlocks.bind(this));\n                this.addBeforeRunFunction(this.checkForRequiredBlocks.bind(this));\n\n                // Push main.xml to workspace and reset the undo stack.\n                this.workspace.current_strategy_id = Blockly.utils.genUid();\n                Blockly.derivWorkspace.strategy_to_load = main_xml;\n                Blockly.mainWorkspace.strategy_to_load = main_xml;\n                let file_name = config.default_file_name;\n                if (recent_files && recent_files.length) {\n                    const latest_file = recent_files[0];\n                    Blockly.derivWorkspace.strategy_to_load = latest_file.xml;\n                    Blockly.mainWorkspace.strategy_to_load = latest_file.xml;\n                    file_name = latest_file.name;\n                    Blockly.derivWorkspace.current_strategy_id = latest_file.id;\n                    Blockly.mainWorkspace.current_strategy_id = latest_file.id;\n                }\n\n                const event_group = `dbot-load${Date.now()}`;\n                Blockly.Events.setGroup(event_group);\n                Blockly.Xml.domToWorkspace(\n                    Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                    this.workspace\n                );\n                const { save_modal } = DBotStore.instance;\n\n                save_modal.updateBotName(file_name);\n                this.workspace.cleanUp();\n                this.workspace.clearUndo();\n\n                window.dispatchEvent(new Event('resize'));\n                window.addEventListener('dragover', DBot.handleDragOver);\n                window.addEventListener('drop', e => DBot.handleDropOver(e, handleFileChange));\n                // disable overflow\n                el_scratch_div.parentNode.style.overflow = 'hidden';\n                resolve();\n            } catch (error) {\n                // TODO: Handle error.\n                reject(error);\n                throw error;\n            }\n        });\n    }\n\n    /** Compare stored strategy xml with currently running xml */\n    isStrategyUpdated(current_xml_dom, recent_files) {\n        if (recent_files && recent_files.length) {\n            const stored_strategy = recent_files.filter(\n                strategy => strategy?.id === this.workspace?.current_strategy_id\n            )?.[0];\n            if (stored_strategy?.xml) {\n                const stored_strategy_xml = stored_strategy?.xml;\n                const current_xml = Blockly.Xml.domToText(current_xml_dom);\n                const is_same_strategy = compareXml(stored_strategy_xml, current_xml);\n                if (is_same_strategy) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    /** Saves the current workspace to local storage\n     * and update saved status if strategy changes  */\n    async saveRecentWorkspace() {\n        const current_xml_dom = this?.workspace ? Blockly?.Xml?.workspaceToDom(this.workspace) : null;\n        try {\n            const recent_files = await getSavedWorkspaces();\n            if (current_xml_dom && this.isStrategyUpdated(current_xml_dom, recent_files)) {\n                await saveWorkspaceToRecent(current_xml_dom, save_types.UNSAVED);\n            }\n        } catch (error) {\n            globalObserver.emit('Error', error);\n            await saveWorkspaceToRecent(current_xml_dom, save_types.UNSAVED);\n        }\n    }\n\n    /**\n     * Allows you to add a function that needs to be executed before running the bot. Each\n     * function needs to return true in order for the bot to run.\n     * @param {Function} func Function to execute which returns true/false.\n     */\n    addBeforeRunFunction(func) {\n        this.before_run_funcs.push(func);\n    }\n\n    shouldRunBot() {\n        return this.before_run_funcs.every(func => !!func());\n    }\n\n    /**\n     * Runs the bot. Does a sanity check before attempting to generate the\n     * JavaScript code that's fed to the interpreter.\n     */\n    runBot() {\n        try {\n            const code = this.generateCode();\n\n            if (!this.interpreter.bot.tradeEngine.checkTicksPromiseExists()) this.interpreter = Interpreter();\n\n            this.is_bot_running = true;\n\n            api_base.setIsRunning(true);\n            this.interpreter.run(code).catch(error => {\n                globalObserver.emit('Error', error);\n                this.stopBot();\n            });\n        } catch (error) {\n            globalObserver.emit('Error', error);\n\n            if (this.interpreter) {\n                this.stopBot();\n            }\n        }\n    }\n\n    /**\n     * Generates the code that is passed to the interpreter.\n     * @param {Object} limitations Optional limitations (legacy argument)\n     */\n    generateCode(limitations = {}) {\n        return `\n            var BinaryBotPrivateInit;\n            var BinaryBotPrivateStart;\n            var BinaryBotPrivateBeforePurchase; \n            var BinaryBotPrivateDuringPurchase;\n            var BinaryBotPrivateAfterPurchase;\n            var BinaryBotPrivateLastTickTime;\n            var BinaryBotPrivateTickAnalysisList = [];\n            var BinaryBotPrivateHasCalledTradeOptions = false;\n\n           \n            function recursiveList(list, final_list){\n                for(var i=0; i < list.length; i++){\n                    if(typeof(list[i]) === 'object'){\n                        recursiveList(list[i], final_list);\n                    }\n                    if(typeof(list[i]) == 'number'){\n                        final_list.push(list[i]);   \n                                  \t\n                    }\n                }\n                return final_list;\n            }\n\n            function BinaryBotPrivateRun(f, arg) {\n                if (f) return f(arg);\n                return false;\n            }\n            function BinaryBotPrivateTickAnalysis() {\n                var currentTickTime = Bot.getLastTick(true);\n                while (currentTickTime === 'MarketIsClosed') {\n                    sleep(5);\n                    currentTickTime = Bot.getLastTick(true);\n                }\n                currentTickTime = currentTickTime.epoch;\n                if (currentTickTime === BinaryBotPrivateLastTickTime) {\n                    return;\n                }\n                BinaryBotPrivateLastTickTime = currentTickTime;\n                for (var BinaryBotPrivateI = 0; BinaryBotPrivateI < BinaryBotPrivateTickAnalysisList.length; BinaryBotPrivateI++) {\n                    BinaryBotPrivateRun(BinaryBotPrivateTickAnalysisList[BinaryBotPrivateI]);\n                }\n            }\n            var BinaryBotPrivateLimitations = ${JSON.stringify(limitations)};\n            ${Blockly.JavaScript.workspaceToCode(this.workspace)}\n            BinaryBotPrivateRun(BinaryBotPrivateInit);\n            while (true) {\n                BinaryBotPrivateTickAnalysis();\n                BinaryBotPrivateRun(BinaryBotPrivateStart);\n                if (!BinaryBotPrivateHasCalledTradeOptions) {\n                    sleep(1);\n                    continue;\n                }\n                while (watch('before')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateBeforePurchase);\n                }\n                while (watch('during')) {\n                    BinaryBotPrivateTickAnalysis();\n                    BinaryBotPrivateRun(BinaryBotPrivateDuringPurchase);\n                }\n                BinaryBotPrivateTickAnalysis();\n                if (!BinaryBotPrivateRun(BinaryBotPrivateAfterPurchase)) {\n                    break;\n                }\n            }`;\n    }\n\n    /**\n     * Instructs the interpreter to stop the bot. If there is an active trade\n     * that trade will be completed first to reflect correct contract status in UI.\n     */\n    async stopBot() {\n        api_base.setIsRunning(false);\n\n        await this.interpreter.stop();\n        this.is_bot_running = false;\n        this.interpreter = null;\n        this.interpreter = Interpreter();\n        await this.interpreter.bot.tradeEngine.watchTicks(this.symbol);\n    }\n\n    /**\n     * Immediately instructs the interpreter to terminate the WS connection and bot.\n     */\n    async terminateBot() {\n        if (this.interpreter) {\n            await this.interpreter.terminateSession();\n            this.interpreter = null;\n            this.interpreter = Interpreter();\n            await this.interpreter.bot.tradeEngine.watchTicks(this.symbol);\n        }\n    }\n\n    terminateConnection = () => {\n        api_base.terminate();\n    };\n\n    /**\n     * Unselects any selected block before running the bot.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    unselectBlocks() {\n        if (Blockly.selected) {\n            Blockly.selected.unselect();\n        }\n        return true;\n    }\n\n    /**\n     * Disable blocks outside of any main or independent blocks.\n     */\n    disableStrayBlocks() {\n        const top_blocks = this.workspace.getTopBlocks();\n\n        top_blocks.forEach(block => {\n            if (!block.isMainBlock() && !block.isIndependentBlock()) {\n                this.disableBlocksRecursively(block);\n            }\n        });\n\n        return true;\n    }\n\n    /**\n     * Disable blocks and their optional children.\n     */\n    disableBlocksRecursively(block) {\n        block.setDisabled(true);\n        if (block.nextConnection?.targetConnection) {\n            this.disableBlocksRecursively(block.nextConnection.targetConnection.sourceBlock_);\n        }\n    }\n\n    /**\n     * Check if there are any blocks highlighted for errors.\n     */\n    checkForErroredBlocks() {\n        // Force a check on value inputs.\n        this.valueInputLimitationsListener({}, true);\n\n        const all_blocks = this.workspace.getAllBlocks(true);\n        const error_blocks = all_blocks\n            .filter(block => block.is_error_highlighted && !block.disabled)\n            // filter out duplicated error message\n            .filter((block, index, self) => index === self.findIndex(b => b.error_message === block.error_message));\n\n        if (!error_blocks.length) {\n            return true;\n        }\n\n        this.workspace.centerOnBlock(error_blocks[0].id);\n        error_blocks.forEach(block => {\n            globalObserver.emit('ui.log.error', block.error_message);\n        });\n\n        return false;\n    }\n\n    centerAndHighlightBlock(block_id, should_animate = false) {\n        const block_to_highlight = this.workspace.getBlockById(block_id);\n\n        if (!block_to_highlight) {\n            return;\n        }\n\n        const all_blocks = this.workspace.getAllBlocks();\n\n        all_blocks.forEach(block => block.setErrorHighlighted(false));\n        if (should_animate) {\n            block_to_highlight.blink();\n        }\n        block_to_highlight.setErrorHighlighted(true);\n\n        this.workspace.centerOnBlock(block_to_highlight.id);\n    }\n\n    unHighlightAllBlocks() {\n        this.workspace?.getAllBlocks().forEach(block => block.setErrorHighlighted(false));\n    }\n\n    /**\n     * Checks whether the workspace contains all required blocks before running the strategy.\n     */\n    checkForRequiredBlocks() {\n        return isAllRequiredBlocksEnabled(this.workspace);\n    }\n\n    /**\n     * Checks all blocks in the workspace to see if they need to be highlighted\n     * in case one of their inputs is not populated, returns an empty value, or doesn't\n     * pass the custom validator.\n     * Note: The value passed to the custom validator is always a string value\n     * @param {Blockly.Event} event Workspace event\n     */\n    valueInputLimitationsListener(event, force_check = false) {\n        if (!force_check && (!this.workspace || this.workspace.isDragging())) {\n            return;\n        }\n\n        Blockly.JavaScript.init(this.workspace);\n\n        if (force_check) {\n            Blockly.hideChaff(false);\n        }\n\n        const isGlobalEndDragEvent = () => event.type === Blockly.Events.END_DRAG;\n        const isGlobalDeleteEvent = () => event.type === Blockly.Events.BLOCK_DELETE;\n        const isGlobalCreateEvent = () => event.type === Blockly.Events.BLOCK_CREATE;\n        const isClickEvent = () =>\n            event.type === Blockly.Events.UI && (event.element === 'click' || event.element === 'selected');\n        const isChangeEvent = b => event.type === Blockly.Events.BLOCK_CHANGE && event.blockId === b.id;\n        const isChangeInMyInputs = b => {\n            if (event.type === Blockly.Events.BLOCK_CHANGE) {\n                return b.inputList.some(input => {\n                    if (input.connection) {\n                        const target_block = input.connection.targetBlock();\n                        return target_block && event.blockId === target_block.id;\n                    }\n                    return false;\n                });\n            }\n            return false;\n        };\n        const isParentEnabledEvent = b => {\n            if (event.type === Blockly.Events.BLOCK_CHANGE && event.element === 'disabled') {\n                let parent_block = b.getParent();\n\n                while (parent_block !== null) {\n                    if (parent_block.id === event.blockId) {\n                        return true;\n                    }\n\n                    parent_block = parent_block.getParent();\n                }\n            }\n            return false;\n        };\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            if (\n                force_check ||\n                isGlobalEndDragEvent() ||\n                isGlobalDeleteEvent() ||\n                isGlobalCreateEvent() ||\n                isClickEvent() ||\n                isChangeEvent(block) ||\n                isChangeInMyInputs(block) ||\n                isParentEnabledEvent(block)\n            ) {\n                // Unhighlight disabled blocks and their optional children.\n                if (block.disabled) {\n                    const unhighlightRecursively = child_blocks => {\n                        child_blocks.forEach(child_block => {\n                            child_block.setErrorHighlighted(false);\n                            unhighlightRecursively(child_block.getChildren());\n                        });\n                    };\n\n                    unhighlightRecursively([block]);\n                    return;\n                }\n\n                // No required inputs, ignore this block.\n                if (!block.getRequiredValueInputs) {\n                    return;\n                }\n\n                const required_inputs_object = block.getRequiredValueInputs();\n                const required_input_names = Object.keys(required_inputs_object);\n                const should_highlight = required_input_names.some(input_name => {\n                    const is_selected = Blockly.selected === block; // Don't highlight selected blocks.\n                    const is_disabled = block.disabled || block.getInheritedDisabled(); // Don't highlight disabled blocks.\n\n                    if (is_selected || is_disabled) {\n                        return false;\n                    }\n\n                    // Don't unhighlight collapsed blocks with highlighted descendants.\n                    if (block.isCollapsed() && block.hasErrorHighlightedDescendant()) {\n                        return true;\n                    }\n\n                    const input = block.getInput(input_name);\n\n                    if (!input && !block.domToMutation) {\n                        // eslint-disable-next-line no-console\n                        console.warn('Detected a non-existent required input.', {\n                            input_name,\n                            type: block.type,\n                        });\n                    } else if (input.connection) {\n                        const order = Blockly.JavaScript.ORDER_ATOMIC;\n                        const value = Blockly.JavaScript.valueToCode(block, input_name, order);\n                        const inputValidatorFn = required_inputs_object[input_name];\n\n                        // If a custom validator was supplied, use this to determine whether\n                        // the block should be highlighted.\n                        if (typeof inputValidatorFn === 'function') {\n                            return !!inputValidatorFn(value);\n                        }\n\n                        // If there's no custom validator, only check if input was populated and\n                        // doesn't return an empty value.\n                        return !value;\n                    }\n\n                    return true;\n                });\n\n                if (should_highlight) {\n                    // Remove select highlight in favour of error highlight.\n                    block.removeSelect();\n                }\n\n                block.setErrorHighlighted(should_highlight, block.error_message || undefined);\n\n                // Automatically expand blocks that have been highlighted.\n                if (force_check && (block.is_error_highlighted || block.hasErrorHighlightedDescendant())) {\n                    let current_collapsed_block = block;\n                    while (current_collapsed_block) {\n                        current_collapsed_block.setCollapsed(false);\n                        current_collapsed_block = current_collapsed_block.getParent();\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * Checks whether the workspace contains non-silent notification blocks. Returns array of names for audio files to be played.\n     */\n    getStrategySounds() {\n        const all_blocks = this.workspace.getAllBlocks();\n        const notify_blocks = all_blocks.filter(block => block.type === 'notify');\n        const strategy_sounds = [];\n\n        notify_blocks.forEach(block => {\n            const selected_sound = block.inputList[0].fieldRow[3].value_;\n\n            if (selected_sound !== 'silent') {\n                strategy_sounds.push(selected_sound);\n            }\n        });\n\n        return strategy_sounds;\n    }\n\n    static handleDragOver(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n    }\n\n    static handleDropOver(event, handleFileChange) {\n        const main_workspace_dom = document.getElementById('scratch_div');\n        const local_drag_zone = document.getElementById('load-strategy__local-dropzone-area');\n\n        if (main_workspace_dom.contains(event.target)) {\n            handleFileChange(event);\n        } else if (local_drag_zone && local_drag_zone.contains(event.target)) {\n            handleFileChange(event, false);\n        } else {\n            event.stopPropagation();\n            event.preventDefault();\n            event.dataTransfer.effectAllowed = 'none';\n            event.dataTransfer.dropEffect = 'none';\n        }\n    }\n}\n\nexport default new DBot();\n","// @deriv/bot: Set the minimum width of a statement block to be wider than default.\nBlockly.BlockSvg.MIN_BLOCK_X_WITH_STATEMENT = 100 * Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: Root block hat replaces with standard rounded corner\nBlockly.BlockSvg.START_HAT_PATH = `m 0,${Blockly.BlockSvg.CORNER_RADIUS} A ${Blockly.BlockSvg.CORNER_RADIUS}, ${Blockly.BlockSvg.CORNER_RADIUS} 0 0,1 ${Blockly.BlockSvg.CORNER_RADIUS},0`;\n\n// @deriv/bot: Changed the height of a row in a statement block to be 10.\nBlockly.BlockSvg.EXTRA_STATEMENT_ROW_Y = 10 * Blockly.BlockSvg.GRID_UNIT;\n\n// @deriv/bot: visual improvement: changed editable field padding from 8 to 16\nBlockly.BlockSvg.EDITABLE_FIELD_PADDING = 16;\n\n/**\n * Change the colour of a block.\n */\nBlockly.BlockSvg.prototype.updateColour = function () {\n    let strokeColour = this.getColourTertiary();\n    const renderShadowed = this.isShadow() && !Blockly.scratchBlocksUtils.isShadowArgumentReporter(this);\n\n    if (renderShadowed && this.parentBlock_) {\n        // Pull shadow block stroke colour from parent block's tertiary if possible.\n        strokeColour = this.parentBlock_.getColourTertiary();\n        // Special case: if we contain a colour field, set to a special stroke colour.\n        if (\n            this.inputList[0] &&\n            this.inputList[0].fieldRow[0] &&\n            (this.inputList[0].fieldRow[0] instanceof Blockly.FieldColour ||\n                this.inputList[0].fieldRow[0] instanceof Blockly.FieldColourSlider)\n        ) {\n            strokeColour = Blockly.Colours.colourPickerStroke;\n        }\n    }\n\n    // Render block stroke\n    this.svgPath_.setAttribute('stroke', strokeColour);\n    let fillColour = this.getColour();\n\n    // Render block fill\n    if (this.isGlowingBlock_ || renderShadowed) {\n        // Use the block's shadow colour if possible.\n        if (this.getShadowColour()) {\n            fillColour = this.getShadowColour();\n        } else {\n            fillColour = this.getColourSecondary();\n        }\n    }\n    this.svgPath_.setAttribute('fill', fillColour);\n\n    // Render opacity\n    this.svgPath_.setAttribute('fill-opacity', this.getOpacity());\n\n    // Update colours of input shapes.\n    // eslint-disable-next-line no-cond-assign\n    for (let i = 0, input; (input = this.inputList[i]); i++) {\n        if (input.outlinePath) {\n            input.outlinePath.setAttribute('fill', this.getColourTertiary());\n        }\n    }\n\n    // Render icon(s) if applicable\n    const icons = this.getIcons();\n    for (let i = 0; i < icons.length; i++) {\n        icons[i].updateColour();\n    }\n\n    // Bump every dropdown to change its colour.\n    // eslint-disable-next-line no-cond-assign\n    for (let x = 0, input; (input = this.inputList[x]); x++) {\n        // eslint-disable-next-line no-cond-assign\n        for (let y = 0, field; (field = input.fieldRow[y]); y++) {\n            field.setText(null);\n        }\n    }\n    // deriv-bot: Update colours of input shapes to a fixed value of #FFF.\n    this.inputList.forEach(input => {\n        if (input.outlinePath) {\n            input.outlinePath.setAttribute('fill', 'var(--state-normal)');\n            input.outlinePath.setAttribute('stroke', '#6d7278');\n            input.outlinePath.setAttribute('stroke-width', '0.3px');\n        }\n    });\n};\n\n/**\n * For a block with output,\n * determine start and end padding, based on connected inputs.\n * Padding will depend on the shape of the output, the shape of the input,\n * and possibly the size of the input.\n * @param {!Array.<!Array.<!Object>>} input_rows Partially calculated rows.\n */\nBlockly.BlockSvg.prototype.computeOutputPadding_ = function (input_rows) {\n    // Only apply to blocks with outputs and not single fields (shadows).\n    if (\n        !this.getOutputShape() ||\n        !this.outputConnection ||\n        (this.isShadow() && !Blockly.scratchBlocksUtils.isShadowArgumentReporter(this))\n    ) {\n        return;\n    }\n\n    // Blocks with outputs must have single row to be padded.\n    if (input_rows.length > 1) {\n        return;\n    }\n\n    const row = input_rows[0];\n    const shape = this.getOutputShape();\n\n    // Reset any padding: it's about to be set.\n    row.paddingStart = 0;\n    row.paddingEnd = 0;\n\n    // Start row padding: based on first input or first field.\n    const firstInput = row[0];\n    const firstField = firstInput.fieldRow[0];\n    let otherShape;\n\n    // In checking the left/start side, a field takes precedence over any input.\n    // That's because a field will be rendered before any value input.\n    if (firstField) {\n        otherShape = 0; // Field comes first in the row.\n    } else {\n        // Value input comes first in the row.\n        const inputConnection = firstInput.connection;\n\n        if (!inputConnection) {\n            // @deriv/bot: Don't collapse if there's no connection.\n            return;\n        } else if (!inputConnection.targetConnection) {\n            // Not connected: use the drawn shape.\n            otherShape = inputConnection.getOutputShape();\n        } else {\n            // Connected: use the connected block's output shape.\n            otherShape = inputConnection.targetConnection.getSourceBlock().getOutputShape();\n        }\n\n        // Special case for hexagonal output: if the connection is larger height\n        // than a standard reporter, add some start padding.\n        // https://github.com/LLK/scratch-blocks/issues/376\n        if (shape === Blockly.OUTPUT_SHAPE_HEXAGONAL && otherShape !== Blockly.OUTPUT_SHAPE_HEXAGONAL) {\n            const deltaHeight = firstInput.renderHeight - Blockly.BlockSvg.MIN_BLOCK_Y_REPORTER;\n\n            // One grid unit per level of nesting.\n            row.paddingStart += deltaHeight / 2;\n        }\n    }\n\n    row.paddingStart += Blockly.BlockSvg.SHAPE_IN_SHAPE_PADDING[shape][otherShape];\n\n    // End row padding: based on last input or last field.\n    const lastInput = row[row.length - 1];\n\n    // In checking the right/end side, any value input takes precedence over any field.\n    // That's because fields are rendered before inputs...the last item\n    // in the row will be an input, if one exists.\n    if (lastInput.connection) {\n        // Value input last in the row.\n        const inputConnection = lastInput.connection;\n\n        if (!inputConnection.targetConnection) {\n            // Not connected: use the drawn shape.\n            otherShape = inputConnection.getOutputShape();\n        } else {\n            // Connected: use the connected block's output shape.\n            otherShape = inputConnection.targetConnection.getSourceBlock().getOutputShape();\n        }\n        // Special case for hexagonal output: if the connection is larger height\n        // than a standard reporter, add some end padding.\n        // https://github.com/LLK/scratch-blocks/issues/376\n        if (shape === Blockly.OUTPUT_SHAPE_HEXAGONAL && otherShape !== Blockly.OUTPUT_SHAPE_HEXAGONAL) {\n            const deltaHeight = lastInput.renderHeight - Blockly.BlockSvg.MIN_BLOCK_Y_REPORTER;\n\n            // One grid unit per level of nesting.\n            row.paddingEnd += deltaHeight / 2;\n        }\n    } else {\n        // No input in this row - mark as field.\n        otherShape = 0;\n    }\n\n    row.paddingEnd += Blockly.BlockSvg.SHAPE_IN_SHAPE_PADDING[shape][otherShape];\n};\n","// @deriv/bot: make all input shapes rounded\nBlockly.Connection.prototype.getOutputShape = function () {\n    return Blockly.OUTPUT_SHAPE_ROUND;\n};\n","/**\n * ENUM for categories.\n * @const\n */\nBlockly.Categories = {\n    Trade_Definition: 'trade_parameters',\n    Before_Purchase: 'purchase_conditions',\n    During_Purchase: 'sell_conditions',\n    After_Purchase: 'trade_results',\n    Mathematical: 'math',\n    Logic: 'logic',\n    Text: 'text',\n    Variables: 'variables',\n    Functions: 'custom_functions',\n    List: 'lists',\n    Indicators: 'indicators',\n    Time: 'time',\n    Tick_Analysis: 'technical_analysis',\n    Candle: 'candle',\n    Miscellaneous: 'miscellaneous',\n    Loop: 'loops',\n};\n/**\n * Number of pixels the mouse must move before a drag starts.\n */\nBlockly.DRAG_RADIUS = 3;\n\n/**\n * Number of pixels the mouse must move before a drag/scroll starts from the\n * flyout.  Because the drag-intention is determined when this is reached, it is\n * larger than Blockly.DRAG_RADIUS so that the drag-direction is clearer.\n */\nBlockly.FLYOUT_DRAG_RADIUS = 1;\n","/**\n * Array making up the CSS content for Blockly.\n */\nBlockly.Css.CONTENT = [\n    '@keyframes blinkEffect {',\n    '0% {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n    '50% {',\n    'stroke: var(--status-warning);',\n    'stroke-width: 8px;',\n    '}',\n    '100% {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n    '}',\n\n    '.block--error-highlighted > .blocklyPath {',\n    'stroke: var(--status-danger);',\n    'stroke-width: 5px;',\n    '}',\n\n    '@keyframes fade-in-out {',\n    '0%{',\n    'stroke-opacity: 0;',\n    '}',\n    '50%{',\n    'stroke-opacity: 1;',\n    'stroke-width: 6px;',\n    '}',\n    '100%{',\n    'stroke-opacity: 0;',\n    '}}',\n\n    '.block--execution-highlighted > .blocklyPath {',\n    'stroke: #89B2AF;',\n    'animation: fade-in-out 1.5s',\n    '}',\n\n    '.block--blink > .blocklyPath {',\n    'animation: blinkEffect 1s infinite;',\n    '}',\n\n    '.blocklySvg {',\n    'outline: none;',\n    'overflow: hidden;' /* IE overflows by default. */,\n    'position: absolute;',\n    'display: block;',\n    '}',\n\n    /* Necessary to position the drag surface */\n    '.blocklyRelativeWrapper {',\n    'position: relative;',\n    'width: 100%;',\n    'height: 100%;',\n    '}',\n\n    '.blocklyWidgetDiv {',\n    'display: none;',\n    'position: absolute;',\n    'z-index: 99999;' /* big value for bootstrap3 compatibility */,\n    '}',\n\n    '.injectionDiv {',\n    'height: calc(100vh - 20rem);',\n    'position: relative;',\n    'overflow: hidden;' /* So blocks in drag surface disappear at edges */,\n    'touch-action: none;',\n    '}',\n\n    '.blocklyNonSelectable {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.blocklyWidgetDiv.fieldTextInput {',\n    'overflow: hidden;',\n    'border: 1px solid;',\n    'box-sizing: border-box;',\n    'transform-origin: 0 0;',\n    '-ms-transform-origin: 0 0;',\n    '-moz-transform-origin: 0 0;',\n    '-webkit-transform-origin: 0 0;',\n    '}',\n\n    '.blocklyWidgetDiv.fieldTextInput.removableTextInput {',\n    'overflow: visible;',\n    '}',\n\n    '.blocklyTextDropDownArrow {',\n    'position: absolute;',\n    '}',\n\n    '.blocklyTextRemoveIcon {',\n    'position: absolute;',\n    'width: 24px;',\n    'height: 24px;',\n    'top: -40px;',\n    'left: 50%;',\n    'margin-left: -12px;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyNonSelectable {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.blocklyWsDragSurface {',\n    'display: none;',\n    'position: absolute;',\n    'top: 0;',\n    'left: 0;',\n    '}',\n    /* Added as a separate rule with multiple classes to make it more specific\n     than a bootstrap rule that selects svg:root. See issue #1275 for context.\n  */\n    '.blocklyWsDragSurface.blocklyOverflowVisible {',\n    'overflow: visible;',\n    '}',\n\n    '.blocklyBlockDragSurface {',\n    'display: none;',\n    'position: absolute;',\n    'top: 0;',\n    'left: 0;',\n    'right: 0;',\n    'bottom: 0;',\n    'overflow: visible !important;',\n    'z-index: 50;' /* Display above the toolbox */,\n    '}',\n\n    '.blocklyTooltipDiv {',\n    'min-height: 34px;',\n    'background-color: #d6dadb;',\n    'border-radius: 4px;',\n    'color: #333333;',\n    'padding: 8px;',\n    'font-size: 12px;',\n    'font-family: \"IBM Plex Sans\";',\n    'line-height: 1.5;',\n    'letter-spacing: normal;',\n    'position: absolute;',\n    'z-index: 100000;' /* big value for bootstrap3 compatibility */,\n    '}',\n\n    '.blocklyDropDownDiv {',\n    'position: fixed;',\n    'left: 0;',\n    'top: 0;',\n    'z-index: 1000;',\n    'display: none;',\n    'border: 1px solid;',\n    'border-radius: 4px;',\n    `box-shadow: 0px 0px 8px 1px ${Blockly.Colours.dropDownShadow};`,\n    'padding: 4px;',\n    '-webkit-user-select: none;',\n    'min-height: 15px',\n    '}',\n\n    '.blocklyDropDownContent {',\n    'max-height: 300px;', // @todo: spec for maximum height.\n    'overflow: auto;',\n    '}',\n\n    '.blocklyDropDownArrow {',\n    'position: absolute;',\n    'left: 0;',\n    'top: 0;',\n    'width: 16px;',\n    'height: 16px;',\n    'z-index: -1;',\n    'background-color: inherit;',\n    'border-color: inherit;',\n    '}',\n\n    '.blocklyDropDownButton {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'margin: 4px;',\n    'border-radius: 4px;',\n    'outline: none;',\n    'border: 1px solid;',\n    'transition: box-shadow .1s;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyDropDownButtonHover {',\n    `box-shadow: 0px 0px 0px 4px ${Blockly.Colours.fieldShadow};`,\n    '}',\n\n    '.blocklyDropDownButton:active {',\n    `box-shadow: 0px 0px 0px 6px ${Blockly.Colours.fieldShadow};`,\n    '}',\n\n    '.blocklyDropDownButton > img {',\n    'width: 80%;',\n    'height: 80%;',\n    'margin-top: 5%',\n    '}',\n\n    '.blocklyDropDownPlaceholder {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'margin: 4px;',\n    '}',\n\n    '.blocklyNumPadButton {',\n    'display: inline-block;',\n    'float: left;',\n    'padding: 0;',\n    'width: 48px;',\n    'height: 48px;',\n    'margin: 4px;',\n    'border-radius: 4px;',\n    'background: $colour_numPadBackground;',\n    'color: #333333;',\n    'outline: none;',\n    'border: 1px solid $colour_numPadBorder;',\n    'cursor: pointer;',\n    'font-weight: 600;',\n    'font-size: 12pt;',\n    '-webkit-tap-highlight-color: rgba(0,0,0,0);',\n    '}',\n\n    '.blocklyNumPadButton > img {',\n    'margin-top: 10%;',\n    'width: 80%;',\n    'height: 80%;',\n    'filter: invert(1);',\n    '}',\n\n    '.blocklyNumPadButton:active {',\n    'background: $colour_numPadActiveBackground;',\n    '-webkit-tap-highlight-color: rgba(0,0,0,0);',\n    '}',\n\n    '.arrowTop {',\n    'border-top: 1px solid;',\n    'border-left: 1px solid;',\n    'border-top-left-radius: 4px;',\n    'border-color: inherit;',\n    '}',\n\n    '.arrowBottom {',\n    'border-bottom: 1px solid;',\n    'border-right: 1px solid;',\n    'border-bottom-right-radius: 4px;',\n    'border-color: inherit;',\n    '}',\n\n    '.valueReportBox {',\n    'min-width: 50px;',\n    'max-width: 300px;',\n    'max-height: 200px;',\n    'overflow: auto;',\n    'word-wrap: break-word;',\n    'text-align: center;',\n    'font-size: .8em;',\n    '}',\n\n    '.blocklyResizeSE {',\n    'cursor: se-resize;',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyResizeSW {',\n    'cursor: sw-resize;',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyResizeLine {',\n    'stroke: #888;',\n    'stroke-width: 1;',\n    '}',\n\n    '.blocklyHighlightedConnectionPath {',\n    'fill: none;',\n    'stroke: #fc3;',\n    'stroke-width: 4px;',\n    '}',\n\n    '.blocklyPath {',\n    'stroke-width: 0.3px;',\n\n    '}',\n\n    '.blocklySelected>.blocklyPath {',\n    'stroke: #ffc358;',\n    'stroke-width: 3px;',\n    '}',\n\n    '.blocklySelected>.blocklyPathLight {',\n    'display: none;',\n    '}',\n\n    '.blocklyDraggable {',\n    /* backup for browsers (e.g. IE11) that don't support grab */\n    'cursor: url(\"<<<PATH>>>/handopen.cur\"), auto;',\n    'cursor: grab;',\n    'cursor: -webkit-grab;',\n    'cursor: -moz-grab;',\n    '}',\n\n    '.blocklyDragging {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n    /* Changes cursor on mouse down. Not effective in Firefox because of\n    https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n    '.blocklyDraggable:active {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n    /* Change the cursor on the whole drag surface in case the mouse gets\n     ahead of block during a drag. This way the cursor is still a closed hand.\n   */\n    '.blocklyBlockDragSurface .blocklyDraggable {',\n    /* backup for browsers (e.g. IE11) that don't support grabbing */\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    'cursor: -moz-grabbing;',\n    '}',\n\n    '.blocklyDragging.blocklyDraggingDelete {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyDragging.blocklyDraggingMouseThrough {',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyToolboxDelete {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyToolboxGrab {',\n    'cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;',\n    'cursor: grabbing;',\n    'cursor: -webkit-grabbing;',\n    '}',\n\n    '.blocklyDragging>.blocklyPath,',\n    '.blocklyDragging>.blocklyPathLight {',\n    'fill-opacity: 1.0;',\n    'stroke-opacity: 1.0;',\n    '}',\n\n    '.blocklyDragging>.blocklyPath {',\n    '}',\n\n    '.blocklyDisabled>.blocklyPath {',\n    'fill-opacity: .5;',\n    'stroke-opacity: .5;',\n    '}',\n\n    '.blocklyInsertionMarker>.blocklyPath {',\n    'stroke: none;',\n    '}',\n\n    '.blocklyText {',\n    'fill: #333333;',\n    'font-family: inherit;',\n    'font-size: var(--text-size-s);',\n    'font-weight: normal;',\n    'font-stretch: normal;',\n    'font-style: normal;',\n    'line-height: 1.5;',\n    'letter-spacing: normal;',\n    '}',\n\n    '.blocklyTextTruncated {',\n    'font-size: 11pt;',\n    '}',\n\n    '.blocklyNonEditableText>text {',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyNonEditableText>text,',\n    '.blocklyEditableText>text {',\n    'fill: var(--text-prominent);',\n    // 'fill: #575E75 !important;',\n    '}',\n\n    '.blocklyEditableText>.blocklyEditableLabel {',\n    'fill: var(--text-prominent);',\n    '}',\n\n    '.blocklyDropdownText {',\n    'fill: var(--text-prominent)!important;',\n    '}',\n\n    '.blocklyBubbleText {',\n    'fill: $colour_text;',\n    '}',\n    '.blocklyFlyout {',\n    'position: absolute;',\n    'z-index: 20;',\n    '}',\n    '.blocklyFlyoutButton {',\n    'fill: none;',\n    'pointer-events: all;',\n    '}',\n\n    '.blocklyFlyoutButtonBackground {',\n    'stroke: #c6c6c6;',\n    '}',\n\n    '.blocklyFlyoutButton .blocklyText {',\n    'fill: $colour_text;',\n    '}',\n\n    '.blocklyFlyoutButtonShadow {',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyFlyoutButton:hover {',\n    'fill: white;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyFlyoutLabel {',\n    'cursor: default;',\n    '}',\n\n    '.blocklyFlyoutLabelBackground {',\n    'opacity: 0;',\n    '}',\n\n    '.blocklyFlyoutLabelText {',\n    'font-size: 14pt;',\n    'fill: #575E75;',\n    'font-weight: bold;',\n    '}',\n\n    /*\n    Don't allow users to select text.  It gets annoying when trying to\n    drag a block and selected text moves instead.\n  */\n    '.blocklySvg text, .blocklyBlockDragSurface text, .blocklyFlyout text, .blocklyToolboxDiv text {',\n    'user-select: none;',\n    '-moz-user-select: none;',\n    '-webkit-user-select: none;',\n    'cursor: inherit;',\n    '}',\n\n    '.blocklyHidden {',\n    'display: none;',\n    '}',\n\n    '.blocklyFieldDropdown:not(.blocklyHidden) {',\n    'display: block;',\n    '}',\n\n    '.blocklyIconGroup {',\n    'cursor: default;',\n    '}',\n\n    '.blocklyIconGroup:not(:hover),',\n    '.blocklyIconGroupReadonly {',\n    'opacity: .6;',\n    '}',\n\n    '.blocklyIconShape {',\n    'fill: #00f;',\n    'stroke: #fff;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.blocklyIconSymbol {',\n    'fill: #fff;',\n    '}',\n\n    '.blocklyMinimalBody {',\n    'margin: 0;',\n    'padding: 0;',\n    '}',\n\n    '.blocklyCommentForeignObject {',\n    'position: relative;',\n    'z-index: 0;',\n    '}',\n\n    '.blocklyCommentRect {',\n    'fill: #E7DE8E;',\n    'stroke: #bcA903;',\n    'stroke-width: 1px',\n    '}',\n\n    '.blocklyCommentTarget {',\n    'fill: transparent;',\n    'stroke: #bcA903;',\n    '}',\n\n    '.blocklyCommentTargetFocused {',\n    'fill: none;',\n    '}',\n\n    '.blocklyCommentHandleTarget {',\n    'fill: none;',\n    '}',\n\n    '.blocklyCommentHandleTargetFocused {',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyFocused>.blocklyCommentRect {',\n    'fill: #B9B272;',\n    'stroke: #B9B272;',\n    '}',\n\n    '.blocklySelected>.blocklyCommentTarget {',\n    'stroke: #fc3;',\n    'stroke-width: 3px;',\n    '}',\n\n    '.blocklyCommentTextarea {',\n    'background-color: #fef49c;',\n    'border: 0;',\n    'outline: 0;',\n    'margin: 0;',\n    'padding: 3px;',\n    'resize: none;',\n    'display: block;',\n    'overflow: hidden;',\n    '}',\n\n    '.blocklyCommentDeleteIcon {',\n    'cursor: pointer;',\n    'fill: #000;',\n    'display: none',\n    '}',\n\n    '.blocklySelected > .blocklyCommentDeleteIcon {',\n    'display: block',\n    '}',\n\n    '.blocklyDeleteIconShape {',\n    'fill: #000;',\n    'stroke: #000;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {',\n    'stroke: #fc3;',\n    '}',\n\n    // Scratch Comments\n\n    '.scratchCommentForeignObject {',\n    'position: relative;',\n    '}',\n\n    '.scratchCommentBody {',\n    'background-color: #fef49c;',\n    'border-radius: 4px;',\n    '}',\n\n    '.scratchCommentRect {',\n    'fill: #fef49c;',\n    '}',\n\n    '.scratchCommentTarget {',\n    'fill: transparent;',\n    '}',\n\n    '.scratchWorkspaceCommentBorder {',\n    'stroke: #bcA903;',\n    'stroke-width: 1px;',\n    '}',\n\n    '.scratchCommentTargetFocused {',\n    'fill: none;',\n    '}',\n\n    '.scratchCommentTopBar {',\n    'fill: #000000;',\n    'fill-opacity: 0.1',\n    '}',\n\n    '.scratchCommentText {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 12pt;',\n    'font-weight: 400;',\n    '}',\n\n    '.scratchCommentTextarea {',\n    'background-color: #fef49c;',\n    'border: 0;',\n    'outline: 0;',\n    'padding: 0;',\n    'resize: none;',\n    'overflow: hidden;',\n    '}',\n\n    '.scratchCommentResizeSE {',\n    'cursor: se-resize;',\n    'fill: transparent;',\n    '}',\n\n    '.scratchCommentResizeSW {',\n    'cursor: sw-resize;',\n    'fill: transparent;',\n    '}',\n\n    '.blocklyHtmlInput {',\n    'border: none;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 12pt;',\n    'height: 100%;',\n    'margin: 0;',\n    'outline: none;',\n    'box-sizing: border-box;',\n    'width: 100%;',\n    'text-align: center;',\n    'color: $colour_text;',\n    'font-weight: 500;',\n    '}',\n\n    '.blocklyMainBackground {',\n    'stroke-width: 0;',\n    // 'stroke: #c6c6c6;',  /* Equates to #ddd due to border being off-pixel. */\n    '}',\n\n    '.blocklyMutatorBackground {',\n    'fill: #fff;',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    '}',\n\n    '.blocklyFlyoutBackground {',\n    'fill: $colour_flyout;',\n    'fill-opacity: .8;',\n    '}',\n\n    '.blocklyMainWorkspaceScrollbar {',\n    'z-index: 20;',\n    '}',\n\n    '.blocklyFlyoutScrollbar {',\n    'z-index: 30;',\n    '}',\n\n    '.blocklyScrollbarHorizontal, .blocklyScrollbarVertical {',\n    'position: absolute;',\n    'outline: none;',\n    '}',\n\n    '.blocklyScrollbarBackground {',\n    'opacity: 0;',\n    '}',\n\n    '.blocklyScrollbarHandle {',\n    'fill: $colour_scrollbar;',\n    '}',\n\n    '.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,',\n    '.blocklyScrollbarHandle:hover {',\n    'fill: $colour_scrollbarHover;',\n    '}',\n\n    '.blocklyZoom>image {',\n    'opacity: 1;',\n    '}',\n\n    /* Darken flyout scrollbars due to being on a grey background. */\n    /* By contrast, workspace scrollbars are on a white background. */\n    '.blocklyFlyout .blocklyScrollbarHandle {',\n    'fill: #bbb;',\n    '}',\n\n    '.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,',\n    '.blocklyFlyout .blocklyScrollbarHandle:hover {',\n    'fill: #aaa;',\n    '}',\n\n    '.blocklyInvalidInput {',\n    'background: #faa;',\n    '}',\n\n    '.blocklyAngleCircle {',\n    `stroke: ${Blockly.Colours.motion.tertiary};`,\n    'stroke-width: 1;',\n    `fill: ${Blockly.Colours.motion.secondary};`,\n    '}',\n\n    '.blocklyAngleCenterPoint {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'fill: #fff;',\n    '}',\n\n    '.blocklyAngleDragHandle {',\n    'stroke: #fff;',\n    'stroke-width: 5;',\n    'stroke-opacity: 0.25;',\n    'fill: #fff;',\n    'cursor: pointer;',\n    '}',\n\n    '.blocklyAngleDragArrow {',\n    'pointer-events: none',\n    '}',\n\n    '.blocklyAngleMarks {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'stroke-opacity: 0.5;',\n    '}',\n\n    '.blocklyAngleGauge {',\n    'fill: #fff;',\n    'fill-opacity: 0.20;',\n    '}',\n\n    '.blocklyAngleLine {',\n    'stroke: #fff;',\n    'stroke-width: 1;',\n    'stroke-linecap: round;',\n    'pointer-events: none;',\n    '}',\n\n    '.blocklyContextMenu {',\n    'border-radius: 4px;',\n    'max-height: 100%;',\n    '}',\n\n    '.blocklyDropdownMenu {',\n    'padding: 0 !important;',\n    '}',\n\n    '.blocklyDropDownNumPad {',\n    'background-color: $colour_numPadBackground;',\n    '}',\n\n    /* Override the default Closure URL. */\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {',\n    'background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;',\n    '}',\n\n    /* Category tree in Toolbox. */\n    '.blocklyToolboxDiv {',\n    'background-color: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'overflow-x: visible;',\n    'overflow-y: auto;',\n    'position: absolute;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'z-index: 40;' /* so blocks go over toolbox when dragging */,\n    '-webkit-tap-highlight-color: transparent;' /* issue #1345 */,\n    '}',\n\n    '.blocklyTreeRoot {',\n    'padding: 4px 0;',\n    '}',\n\n    '.blocklyTreeRoot:focus {',\n    'outline: none;',\n    '}',\n\n    '.blocklyTreeRow {',\n    'height: 22px;',\n    'line-height: 22px;',\n    'margin-bottom: 3px;',\n    'padding-right: 8px;',\n    'white-space: nowrap;',\n    '}',\n\n    '.blocklyHorizontalTree {',\n    'float: left;',\n    'margin: 1px 5px 8px 0;',\n    '}',\n\n    '.blocklyHorizontalTreeRtl {',\n    'float: right;',\n    'margin: 1px 0 8px 5px;',\n    '}',\n\n    '.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeRow {',\n    'margin-left: 8px;',\n    '}',\n\n    '.blocklyTreeRow:not(.blocklyTreeSelected):hover {',\n    'background-color: #e4e4e4;',\n    '}',\n\n    '.blocklyTreeSeparator {',\n    'border-bottom: solid #e5e5e5 1px;',\n    'height: 0;',\n    'margin: 5px 0;',\n    '}',\n\n    '.blocklyTreeSeparatorHorizontal {',\n    'border-right: solid #e5e5e5 1px;',\n    'width: 0;',\n    'padding: 5px 0;',\n    'margin: 0 5px;',\n    '}',\n\n    '.blocklyTreeIcon {',\n    'background-image: url(<<<PATH>>>/sprites.png);',\n    'height: 16px;',\n    'vertical-align: middle;',\n    'width: 16px;',\n    '}',\n\n    '.blocklyTreeIconClosedLtr {',\n    'background-position: -32px -1px;',\n    '}',\n\n    '.blocklyTreeIconClosedRtl {',\n    'background-position: 0px -1px;',\n    '}',\n\n    '.blocklyTreeIconOpen {',\n    'background-position: -16px -1px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconClosedLtr {',\n    'background-position: -32px -17px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconClosedRtl {',\n    'background-position: 0px -17px;',\n    '}',\n\n    '.blocklyTreeSelected>.blocklyTreeIconOpen {',\n    'background-position: -16px -17px;',\n    '}',\n\n    '.blocklyTreeIconNone,',\n    '.blocklyTreeSelected>.blocklyTreeIconNone {',\n    'background-position: -48px -1px;',\n    '}',\n\n    '.blocklyTreeLabel {',\n    'cursor: default;',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 16px;',\n    'padding: 0 3px;',\n    'vertical-align: middle;',\n    '}',\n\n    '.blocklyToolboxDelete .blocklyTreeLabel {',\n    'cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;',\n    '}',\n\n    '.blocklyTreeSelected .blocklyTreeLabel {',\n    'color: #fff;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-slider-horizontal {',\n    'margin: 8px;',\n    'height: 22px;',\n    'width: 150px;',\n    'position: relative;',\n    'outline: none;',\n    'border-radius: 11px;',\n    'margin-bottom: 20px;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-slider-horizontal .goog-slider-thumb {',\n    'width: 26px;',\n    'height: 26px;',\n    'top: -1px;',\n    'position: absolute;',\n    'background-color: white;',\n    'border-radius: 100%;',\n    '-webkit-box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    '-moz-box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    'box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);',\n    '}',\n\n    '.scratchEyedropper {',\n    'background: none;',\n    'outline: none;',\n    'border: none;',\n    'width: 100%;',\n    'text-align: center;',\n    'border-top: 1px solid #ddd;',\n    'padding-top: 5px;',\n    'cursor: pointer;',\n    '}',\n\n    '.scratchColourPickerLabel {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 0.65rem;',\n    'color: $colour_toolboxText;',\n    'margin: 8px;',\n    '}',\n\n    '.scratchColourPickerLabelText {',\n    'font-weight: bold;',\n    '}',\n\n    '.scratchColourPickerReadout {',\n    'margin-left: 10px;',\n    '}',\n\n    '.scratchMatrixButtonDiv {',\n    'width: 50%;',\n    'text-align: center;',\n    'float: left;',\n    '}',\n\n    '.scratchNotePickerKeyLabel {',\n    // 'font-family: \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-size: 0.75rem;',\n    'fill: $colour_text;',\n    'pointer-events: none;',\n    '}',\n\n    /* Copied from: goog/css/menu.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    '.blocklyWidgetDiv .goog-menu {',\n    'background: #fff;',\n    'border-color: #ccc #666 #666 #ccc;',\n    'border-style: solid;',\n    'border-width: 1px;',\n    'cursor: default;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'margin: 0;',\n    'outline: none;',\n    'padding: 4px 0;',\n    'position: absolute;',\n    'overflow-y: auto;',\n    'overflow-x: hidden;',\n    'z-index: 20000;' /* Arbitrary, but some apps depend on it... */,\n    '}',\n\n    '.blocklyDropDownDiv .goog-menu {',\n    'cursor: default;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'outline: none;',\n    'z-index: 20000;' /* Arbitrary, but some apps depend on it... */,\n    '}',\n\n    /* Copied from: goog/css/menuitem.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuItemRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    /**\n     * State: resting.\n     *\n     * NOTE(mleibman,chrishenry):\n     * The RTL support in Closure is provided via two mechanisms -- \"rtl\" CSS\n     * classes and BiDi flipping done by the CSS compiler.  Closure supports RTL\n     * with or without the use of the CSS compiler.  In order for them not\n     * to conflict with each other, the \"rtl\" CSS classes need to have the #noflip\n     * annotation.  The non-rtl counterparts should ideally have them as well, but,\n     * since .goog-menuitem existed without .goog-menuitem-rtl for so long before\n     * being added, there is a risk of people having templates where they are not\n     * rendering the .goog-menuitem-rtl class when in RTL and instead rely solely\n     * on the BiDi flipping by the CSS compiler.  That's why we're not adding the\n     * #noflip to .goog-menuitem.\n     */\n    '.blocklyWidgetDiv .goog-menuitem {',\n    'color: #000;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'list-style: none;',\n    'margin: 0;',\n    /* 28px on the left for icon or checkbox; 7em on the right for shortcut. */\n    'padding: 4px 7em 4px 28px;',\n    'white-space: nowrap;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-menuitem {',\n    'color: #333333;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    'font-weight: bold;',\n    'list-style: none;',\n    'margin: 0;',\n    'min-height: 24px;',\n    /* 28px on the left for icon or checkbox; 7em on the right for shortcut. */\n    'padding: 4px 7em 4px 28px;',\n    'white-space: nowrap;',\n    '}',\n\n    /* BiDi override for the resting state. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ',\n    '.blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {',\n    /* Flip left/right padding for BiDi. */\n    'padding-left: 7em;',\n    'padding-right: 28px;',\n    '}',\n\n    /* If a menu doesn't have checkable items or items with icons, remove padding. */\n    '.blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,',\n    '.blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ',\n    '.blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,',\n    '.blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ',\n    'padding-left: 12px;',\n    '}',\n\n    /*\n     * If a menu doesn't have items with shortcuts, leave just enough room for\n     * submenu arrows, if they are rendered.\n     */\n    '.blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ',\n    '.blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {',\n    'padding-right: 20px;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-content ',\n    '.blocklyDropDownDiv .goog-menuitem-content {',\n    'color: #000;',\n    'font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;',\n    '}',\n\n    /* State: disabled. */\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,',\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel,',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {',\n    'color: #ccc !important;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ',\n    '.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {',\n    'opacity: 0.3;',\n    '-moz-opacity: 0.3;',\n    'filter: alpha(opacity=30);',\n    '}',\n\n    /* State: hover. */\n    '.blocklyWidgetDiv .goog-menuitem-highlight,',\n    '.blocklyWidgetDiv .goog-menuitem-hover {',\n    'background-color: #d6e9f8;',\n    /* Use an explicit top and bottom border so that the selection is visible',\n     * in high contrast mode. */\n    'border-color: #d6e9f8;',\n    'border-style: dotted;',\n    'border-width: 1px 0;',\n    'padding-bottom: 3px;',\n    'padding-top: 3px;',\n    '}',\n\n    '.blocklyDropDownDiv .goog-menuitem-highlight,',\n    '.blocklyDropDownDiv .goog-menuitem-hover {',\n    'background-color: rgba(0, 0, 0, 0.2);',\n    '}',\n\n    /* State: selected/checked. */\n    '.blocklyWidgetDiv .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-menuitem-icon, ',\n    '.blocklyDropDownDiv .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-menuitem-icon {',\n    'background-repeat: no-repeat;',\n    'height: 16px;',\n    'left: 6px;',\n    'position: absolute;',\n    'right: auto;',\n    'vertical-align: middle;',\n    'width: 16px;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,',\n    '.blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {',\n    /* Client apps may override the URL at which they serve the sprite. */\n    'background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;',\n    'position: static;' /* Scroll with the menu. */,\n    'float: left;',\n    'margin-left: -24px;',\n    '}',\n\n    /* BiDi override for the selected/checked state. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,',\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {',\n    /* Flip left/right positioning. */\n    'float: right;',\n    'margin-right: -24px;',\n    '}',\n\n    /* Keyboard shortcut (\"accelerator\") style. */\n    '.blocklyWidgetDiv .goog-menuitem-accel, ',\n    '.blocklyDropDownDiv .goog-menuitem-accel {',\n    'color: #999;',\n    /* Keyboard shortcuts are untranslated; always left-to-right. */\n    /* #noflip */\n    'direction: ltr;',\n    'left: auto;',\n    'padding: 0 6px;',\n    'position: absolute;',\n    'right: 0;',\n    'text-align: right;',\n    '}',\n\n    /* BiDi override for shortcut style. */\n    /* #noflip */\n    '.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ',\n    '.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {',\n    /* Flip left/right positioning and text alignment. */\n    'left: 0;',\n    'right: auto;',\n    'text-align: left;',\n    '}',\n\n    /* Mnemonic styles. */\n    '.blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ',\n    '.blocklyDropDownDiv .goog-menuitem-mnemonic-hint {',\n    'text-decoration: underline;',\n    '}',\n\n    '.blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ',\n    '.blocklyDropDownDiv .goog-menuitem-mnemonic-separator {',\n    'color: #999;',\n    'font-size: 12px;',\n    'padding-left: 4px;',\n    '}',\n\n    /* Copied from: goog/css/menuseparator.css */\n    /*\n     * Copyright 2009 The Closure Library Authors. All Rights Reserved.\n     *\n     * Use of this source code is governed by the Apache License, Version 2.0.\n     * See the COPYING file for details.\n     */\n\n    /**\n     * Standard styling for menus created by goog.ui.MenuSeparatorRenderer.\n     *\n     * @author attila@google.com (Attila Bodis)\n     */\n\n    '.blocklyWidgetDiv .goog-menuseparator, ',\n    '.blocklyDropDownDiv .goog-menuseparator {',\n    'border-top: 1px solid #ccc;',\n    'margin: 4px 0;',\n    'padding: 0;',\n    '}',\n\n    '.blocklyFlyoutCheckbox {',\n    'fill: white;',\n    'stroke: #c8c8c8;',\n    '}',\n\n    '.blocklyFlyoutCheckbox.checked {',\n    `fill: ${Blockly.Colours.motion.primary};`,\n    `stroke: ${Blockly.Colours.motion.tertiary};`,\n    '}',\n\n    '.blocklyFlyoutCheckboxPath {',\n    'stroke: white;',\n    'stroke-width: 3;',\n    'stroke-linecap: round;',\n    'stroke-linejoin: round;',\n    '}',\n\n    '.scratchCategoryMenu {',\n    'width: 60px;',\n    'background: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'font-size: .7rem;',\n    'user-select: none;',\n    '-webkit-user-select: none;',\n    '-moz-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal {',\n    'width: 100%;',\n    'height: 50px;',\n    'background: $colour_toolbox;',\n    'color: $colour_toolboxText;',\n    'font-size: .7em;',\n    'user-select: none;',\n    '-webkit-user-select: none;',\n    '-moz-user-select: none;',\n    '-ms-user-select: none;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal .scratchCategoryMenuRow {',\n    'float: left;',\n    'margin: 3px;',\n    '}',\n\n    '.scratchCategoryMenuRow {',\n    '}',\n\n    '.scratchCategoryMenuItem {',\n    'padding: 0.375rem 0px;',\n    'cursor: pointer;',\n    'text-align: center;',\n    '}',\n\n    '.scratchCategoryMenuHorizontal .scratchCategoryMenuItem {',\n    'padding: 6px 5px;',\n    '}',\n\n    '.scratchCategoryMenuItem.categorySelected {',\n    'background: $colour_toolboxSelected;',\n    '}',\n\n    '.scratchCategoryItemBubble {',\n    'width: 1.25rem;',\n    'height: 1.25rem;',\n    'border: 1px solid;',\n    'border-radius: 100%;',\n    'margin: 0 auto 0.125rem;',\n    '}',\n\n    '.scratchCategoryItemIcon {',\n    'width: 1.25rem;',\n    'height: 1.25rem;',\n    'margin: 0 auto 0.125rem;',\n    'background-size: 100%;',\n    '}',\n\n    '.scratchCategoryMenuItem:hover {',\n    'color: $colour_toolboxHover !important;',\n    '}',\n    '',\n];\n","/**\n * Class for an image on a block.\n * @deriv/bot: Blockly implementation vs. Scratch for click handlers\n * @param {string} src The URL of the image.\n * @param {number} width Width of the image.\n * @param {number} height Height of the image.\n * @param {string=} optAlt Optional alt text for when block is collapsed.\n * @param {Function=} optOnClick Optional function to be called when the image\n *     is clicked.  If optOnClick is defined, optAlt must also be defined.\n * @param {boolean=} optFlipRtl Whether to flip the icon in RTL.\n * @extends {Blockly.Field}\n * @constructor\n */\nBlockly.FieldImage = function (src, width, height, optAlt, optOnClick, optFlipRtl) {\n    this.sourceBlock_ = null;\n\n    // Ensure height and width are numbers.  Strings are bad at math.\n    this.height_ = Number(height);\n    this.width_ = Number(width);\n    this.size_ = new goog.math.Size(this.width_, this.height_);\n    this.flipRtl_ = optFlipRtl;\n    this.tooltip_ = '';\n    this.setValue(src);\n    this.setText(optAlt);\n\n    if (typeof optOnClick === 'function') {\n        this.clickHandler_ = optOnClick;\n    }\n};\ngoog.inherits(Blockly.FieldImage, Blockly.Field);\n\n/**\n * Construct a FieldImage from a JSON arg object,\n * dereferencing any string table references.\n * @param {!Object} options A JSON object with options (src, width, height,\n *    alt, and flipRtl).\n * @return {!Blockly.FieldImage} The new field instance.\n * @package\n * @nocollapse\n */\nBlockly.FieldImage.fromJson = function (options) {\n    const src = Blockly.utils.replaceMessageReferences(options.src);\n    const width = Number(Blockly.utils.replaceMessageReferences(options.width));\n    const height = Number(Blockly.utils.replaceMessageReferences(options.height));\n    const alt = Blockly.utils.replaceMessageReferences(options.alt);\n    const flipRtl = !!options.flipRtl;\n    return new Blockly.FieldImage(src, width, height, alt, null, flipRtl);\n};\n\n/**\n * Editable fields are saved by the XML renderer, non-editable fields are not.\n */\nBlockly.FieldImage.prototype.EDITABLE = false;\n\n/**\n * Install this image on a block.\n */\nBlockly.FieldImage.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Image has already been initialized once.\n        return;\n    }\n    // Build the DOM.\n    /** @type {SVGElement} */\n    this.fieldGroup_ = Blockly.utils.createSvgElement('g', {}, null);\n    if (!this.visible_) {\n        this.fieldGroup_.style.display = 'none';\n    }\n    /** @type {SVGElement} */\n    this.imageElement_ = Blockly.utils.createSvgElement(\n        'image',\n        {\n            height: `${this.height_}px`,\n            width: `${this.width_}px`,\n        },\n        this.fieldGroup_\n    );\n    this.setValue(this.src_);\n    this.setText(this.text_);\n    this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);\n\n    if (this.tooltip_) {\n        this.imageElement_.tooltip = this.tooltip_;\n    } else {\n        // Configure the field to be transparent with respect to tooltips.\n        this.setTooltip(this.sourceBlock_);\n    }\n    Blockly.Tooltip.bindMouseEvents(this.imageElement_);\n\n    this.maybeAddClickHandler_();\n};\n\n/**\n * Dispose of all DOM objects belonging to this text.\n */\nBlockly.FieldImage.prototype.dispose = function () {\n    goog.dom.removeNode(this.fieldGroup_);\n    this.fieldGroup_ = null;\n    this.imageElement_ = null;\n};\n\n/**\n * Bind events for a mouse down on the image, but only if a click handler has\n * been defined. If a click handler is attached to the image, change the cursor to a pointer.\n * @private\n */\nBlockly.FieldImage.prototype.maybeAddClickHandler_ = function () {\n    if (this.clickHandler_ && !this.sourceBlock_.workspace.options.readOnly && !this.sourceBlock_.isInFlyout) {\n        this.mouseDownWrapper_ = Blockly.bindEventWithChecks_(this.fieldGroup_, 'mousedown', this, this.clickHandler_);\n        this.fieldGroup_.style.cursor = 'pointer';\n    }\n};\n\n/**\n * Change the tooltip text for this field.\n * @param {string|!Element} newTip Text for tooltip or a parent element to\n *     link to for its tooltip.\n */\nBlockly.FieldImage.prototype.setTooltip = function (newTip) {\n    this.tooltip_ = newTip;\n    if (this.imageElement_) {\n        this.imageElement_.tooltip = newTip;\n    }\n};\n\n/**\n * Get the source URL of this image.\n * @return {string} Current text.\n * @override\n */\nBlockly.FieldImage.prototype.getValue = function () {\n    return this.src_;\n};\n\n/**\n * Set the source URL of this image.\n * @param {?string} src New source.\n * @override\n */\nBlockly.FieldImage.prototype.setValue = function (src) {\n    if (src === null) {\n        // No change if null.\n        return;\n    }\n    this.src_ = src;\n    if (this.imageElement_) {\n        this.imageElement_.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', src || '');\n    }\n};\n\n/**\n * Get whether to flip this image in RTL\n * @return {boolean} True if we should flip in RTL.\n */\nBlockly.FieldImage.prototype.getFlipRtl = function () {\n    return this.flipRtl_;\n};\n\n/**\n * Set the alt text of this image.\n * @param {?string} alt New alt text.\n * @override\n */\nBlockly.FieldImage.prototype.setText = function (alt) {\n    if (alt === null) {\n        // No change if null.\n        return;\n    }\n    this.text_ = alt;\n    if (this.imageElement_) {\n        this.imageElement_.setAttribute('alt', alt || '');\n    }\n};\n\n/**\n * Images are fixed width, no need to render.\n * @private\n */\nBlockly.FieldImage.prototype.render_ = function () {\n    // NOP\n};\n\n/**\n * Images are fixed width, no need to render even if forced.\n */\nBlockly.FieldImage.prototype.forceRerender = function () {\n    // NOP\n};\n\n/**\n * Images are fixed width, no need to update.\n * @private\n */\nBlockly.FieldImage.prototype.updateWidth = function () {\n    // NOP\n};\n\n/**\n * If field click is called, and click handler defined,\n * call the handler.\n */\nBlockly.FieldImage.prototype.showEditor_ = function () {\n    if (this.clickHandler_) {\n        this.clickHandler_(this);\n    }\n};\n\nBlockly.Field.register('field_image', Blockly.FieldImage);\n","/**\n * Install this text field on a block.\n */\nBlockly.FieldTextInput.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Field has already been initialized once.\n        return;\n    }\n\n    const notInShadow = !this.sourceBlock_.isShadow();\n\n    if (notInShadow) {\n        this.className_ += ' blocklyEditableLabel';\n    }\n\n    this.maxDisplayLength = 17;\n\n    Blockly.FieldTextInput.superClass_.init.call(this);\n\n    // If not in a shadow block, draw a box.\n    if (notInShadow) {\n        this.box_ = Blockly.utils.createSvgElement('rect', {\n            rx: Blockly.BlockSvg.CORNER_RADIUS * 4,\n            ry: Blockly.BlockSvg.CORNER_RADIUS * 4,\n            x: 0,\n            y: 0,\n            width: this.size_.width,\n            height: this.size_.height,\n            fill: this.sourceBlock_.getColourSecondary(),\n            stroke: this.sourceBlock_.getColourTertiary(),\n            'stroke-width': '0.3px',\n        });\n        this.fieldGroup_.insertBefore(this.box_, this.textElement_);\n    }\n};\n","/**\n * Update this gesture to record whether a block is being dragged from the\n * flyout. This function should be called on a mouse/touch move event the first time the\n * drag radius is exceeded.  It should be called no more than once per gesture.\n * If a block should be dragged from the flyout this function creates the new\n * block on the main workspace and updates targetBlock_ and startWorkspace_.\n * @return {boolean} True if a block is being dragged from the flyout.\n * @private\n */\nBlockly.Gesture.prototype.updateIsDraggingFromFlyout_ = function () {\n    // Disabled blocks may not be dragged from the flyout.\n    if (this.targetBlock_.disabled) {\n        return false;\n    }\n\n    if (!this.flyout_.isScrollable() || this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)) {\n        this.startWorkspace_ = this.flyout_.targetWorkspace_;\n        this.startWorkspace_.updateScreenCalculationsIfScrolled();\n\n        // Start the event group now, so that the same event group is used for block\n        // creation and block dragging.\n        if (!Blockly.Events.getGroup()) {\n            Blockly.Events.setGroup(true);\n        }\n\n        // The start block is no longer relevant, because this is a drag.\n        this.startBlock_ = null;\n        this.targetBlock_ = this.flyout_.createBlock(this.mostRecentEvent_, this.targetBlock_);\n        this.targetBlock_.select();\n        return true;\n    }\n    return false;\n};\n","/**\n * Render the icon.\n * @param {number} cursorX Horizontal offset at which to position the icon.\n * @return {number} Horizontal offset for next item to draw.\n */\nBlockly.Icon.prototype.renderIcon = function (cursorX) {\n    if (this.collapseHidden && this.block_.isCollapsed()) {\n        this.iconGroup_.setAttribute('display', 'none');\n        return cursorX;\n    }\n\n    this.iconGroup_.setAttribute('display', 'block');\n\n    let newCursorX = cursorX;\n\n    const TOP_MARGIN = 9;\n    const width = this.SIZE;\n\n    if (this.block_.RTL) {\n        newCursorX -= width;\n    }\n\n    this.iconGroup_.setAttribute('transform', `localize(${newCursorX},${TOP_MARGIN})`);\n    this.computeIconLocation();\n\n    if (this.block_.RTL) {\n        newCursorX -= Blockly.BlockSvg.SEP_SPACE_X;\n    } else {\n        newCursorX += width + Blockly.BlockSvg.SEP_SPACE_X;\n    }\n\n    return newCursorX;\n};\n","import { config } from '../../constants/config';\n\n// Structure is { '<outerHtml />': { height: 1, width: 1 } }\nBlockly.Block.Dimensions = {};\n\nBlockly.Block.prototype.getDisplayName = function () {\n    if (this.meta) {\n        const block_meta = this.meta();\n        return block_meta && block_meta.display_name;\n    }\n    return this.type;\n};\n\nBlockly.Block.prototype.getSiblings = function () {\n    const siblings = [this];\n    ['getPreviousBlock', 'getNextBlock'].forEach(functionName => {\n        let block = this[functionName]();\n        while (block !== null) {\n            const parent = this.getParent();\n            if (parent && parent.id === block.id) {\n                break;\n            }\n\n            siblings.push(block);\n            block = block[functionName]();\n        }\n    });\n    return siblings;\n};\n\nBlockly.Block.prototype.getChildByType = function (type) {\n    return this.getDescendants().find(child => child.type === type);\n};\n\nBlockly.Block.prototype.getChildFieldValue = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    if (childBlock) {\n        const value = childBlock.getFieldValue(childField);\n        return value;\n    }\n    return null;\n};\n\nBlockly.Block.prototype.childValueToCode = function (childType, childField) {\n    const childBlock = this.getChildByType(childType);\n    return childBlock && Blockly.JavaScript.valueToCode(childBlock, childField, Blockly.JavaScript.ORDER_ATOMIC);\n};\n\nBlockly.Block.prototype.getBlocksInStatement = function (statementInputName) {\n    const blocksInStatement = [];\n    const firstBlock = this.getInputTargetBlock(statementInputName);\n\n    if (firstBlock) {\n        return firstBlock.getSiblings();\n    }\n    return blocksInStatement;\n};\n\nBlockly.Block.prototype.getLastConnectionInStatement = function (statement_input_name) {\n    const first_block_in_stack = this.getInputTargetBlock(statement_input_name);\n\n    if (first_block_in_stack) {\n        return first_block_in_stack.lastConnectionInStack();\n    }\n\n    const statement_input = this.getInput(statement_input_name);\n    return statement_input.connection;\n};\n\n/**\n * Get whether this block is enabled or not.\n * @return {boolean} True if enabled.\n */\nBlockly.Block.prototype.isEnabled = function () {\n    return !this.disabled;\n};\n\nBlockly.Block.prototype.isDescendantOf = function (type) {\n    let parentBlock = this.getParent();\n    while (parentBlock !== null) {\n        if (parentBlock.type === type) {\n            return true;\n        }\n        parentBlock = parentBlock.getParent();\n    }\n    return false;\n};\n\nBlockly.Block.prototype.getTopParent = function () {\n    let parent = this.getParent();\n    while (parent !== null) {\n        const nextParent = parent.getParent();\n        if (!nextParent) {\n            return parent;\n        }\n        parent = nextParent;\n    }\n    return null;\n};\n\nBlockly.Block.getDimensions = function (block_node) {\n    // Attempt to retrieve dimensions from memory rather than recalculating.\n    const existing_dimensions_key = Object.keys(Blockly.Block.Dimensions).find(\n        outer_html => block_node.outerHTML === outer_html\n    );\n\n    if (existing_dimensions_key) {\n        return Blockly.Block.Dimensions[existing_dimensions_key];\n    }\n\n    const options = new Blockly.Options({ media: `${__webpack_public_path__}media/` });\n    const el_injection_div = document.createElement('div');\n\n    // Create a headless workspace to calculate xmlList block dimensions\n    const svg = Blockly.createDom_(el_injection_div, options);\n    const workspace = Blockly.createMainWorkspace_(svg, options, false, false);\n    const block = Blockly.Xml.domToBlock(block_node, workspace);\n    const block_hw = block.getHeightWidth();\n\n    workspace.dispose();\n    Blockly.Block.Dimensions[block_node.outerHTML] = block_hw;\n    return block_hw;\n};\n\nBlockly.Block.prototype.isMainBlock = function () {\n    return config.mainBlocks.includes(this.type);\n};\n\nBlockly.Block.prototype.isIndependentBlock = function () {\n    return config.INDEPEDENT_BLOCKS.includes(this.type);\n};\n\n/**\n * Return the parent block or null if this block is at the top level.\n * @return {Blockly.Block} The block that holds the current block.\n */\nBlockly.Block.prototype.getRootInputTargetBlock = function () {\n    let input_name;\n    let current_block = this.getParent();\n\n    while (current_block) {\n        const root_block = this.getRootBlock();\n        const current_input = root_block.getInputWithBlock(current_block);\n\n        if (current_input && current_input.name) {\n            input_name = current_input.name;\n        }\n\n        current_block = current_block.getParent();\n    }\n\n    return input_name;\n};\n\n/**\n * Returns whether the block has an error highlighted descendant.\n */\nBlockly.Block.prototype.hasErrorHighlightedDescendant = function () {\n    const hasHighlightedDescendant = child_blocks =>\n        child_blocks.some(child_block => {\n            const is_self_highlighted = child_block.is_error_highlighted;\n            const is_descendant_highlighted = hasHighlightedDescendant(child_block.getChildren());\n\n            return is_self_highlighted || is_descendant_highlighted;\n        });\n\n    return hasHighlightedDescendant(this.getChildren());\n};\n\nBlockly.Block.isDynamic = function (block_type) {\n    return /^((procedures_)|(variables_)|(math_change$))/.test(block_type);\n};\n","import { localize } from '@deriv/translations';\nimport DBotStore from '../dbot-store';\nimport { save, isDarkRgbColour } from '../utils';\n\n/**\n * Select this block.  Highlight it visually.\n */\nBlockly.BlockSvg.prototype.addSelect = function () {\n    if (!this.isInFlyout) {\n        const { flyout } = DBotStore.instance;\n        if (flyout) {\n            flyout.setVisibility(false);\n        }\n        Blockly.utils.addClass(/** @type {!Element} */ (this.svgGroup_), 'blocklySelected');\n    }\n};\n\n/**\n * Set whether the block is disabled or not.\n * @param {boolean} disabled True if disabled.\n * @deriv/bot: Call updateDisabled() when setDisabled is called.\n */\nBlockly.BlockSvg.prototype.setDisabled = function (disabled) {\n    if (this.disabled !== disabled) {\n        Blockly.BlockSvg.superClass_.setDisabled.call(this, disabled);\n\n        if (this.rendered) {\n            this.updateDisabled();\n        }\n    }\n};\n\n/**\n * Enable or disable a block.\n * @deriv/bot: Update fill path if it doesn't match the disabledPatternId.\n */\nBlockly.BlockSvg.prototype.updateDisabled = function () {\n    if (this.disabled || this.getInheritedDisabled()) {\n        Blockly.utils.addClass(this.svgGroup_, 'blocklyDisabled');\n\n        const fill = `url(#${this.workspace.options.disabledPatternId})`;\n        if (this.svgPath_.getAttribute('fill') !== fill) {\n            this.svgPath_.setAttribute('fill', fill);\n        }\n    } else {\n        const removed = Blockly.utils.removeClass(this.svgGroup_, 'blocklyDisabled');\n        if (removed) {\n            this.updateColour();\n        }\n    }\n\n    const children = this.getChildren(false);\n    children.forEach(child => child.updateDisabled());\n};\n\n/**\n * Show the context menu for this block.\n * @param {!Event} e Mouse event.\n * @private\n * @deriv/bot: Restore contextMenu options from Blockly unavailable in Scratch\n */\nBlockly.BlockSvg.prototype.showContextMenu_ = function (e) {\n    if (this.workspace.options.readOnly || !this.contextMenu) {\n        return;\n    }\n\n    // Save the current block in a variable for use in closures.\n    const block = this;\n    const menu_options = [];\n\n    if (this.isDeletable() && this.isMovable() && !block.isInFlyout) {\n        menu_options.push(Blockly.ContextMenu.blockDuplicateOption(block, e));\n        menu_options.push(Blockly.ContextMenu.blockDetachOption(block, e));\n        if (this.isEditable() && this.workspace.options.comments) {\n            menu_options.push(Blockly.ContextMenu.blockCommentOption(block));\n        }\n\n        menu_options.push(Blockly.ContextMenu.blockDeleteOption(block));\n    } else if (this.parentBlock_ && this.isShadow_) {\n        this.parentBlock_.showContextMenu_(e);\n        return;\n    }\n\n    // Option to collapse/expand block.\n    if (this.workspace.options.collapse) {\n        if (this.collapsed_) {\n            const expand_option = { enabled: true };\n            expand_option.text = localize('Expand Block');\n            expand_option.callback = () => block.setCollapsed(false);\n            menu_options.push(expand_option);\n        } else {\n            const collapse_option = { enabled: true };\n            collapse_option.text = localize('Collapse Block');\n            collapse_option.callback = () => block.setCollapsed(true);\n            menu_options.push(collapse_option);\n        }\n    }\n\n    // Option to disable/enable block.\n    if (this.workspace.options.disable) {\n        const restricted_parents = block.restricted_parents || [];\n        const is_trade_parameter = this.type.includes('trade_definition_') && !this.isMovable();\n\n        const disable_option = {\n            text: this.disabled ? localize('Enable Block') : localize('Disable Block'),\n            enabled:\n                !is_trade_parameter &&\n                (!this.disabled ||\n                    restricted_parents.length === 0 ||\n                    restricted_parents.some(restricted_parent => block.isDescendantOf(restricted_parent))),\n            callback: () => {\n                const group = Blockly.Events.getGroup();\n                if (!group) {\n                    Blockly.Events.setGroup(true);\n                }\n\n                block.setDisabled(!block.disabled);\n\n                if (!group) {\n                    Blockly.Events.setGroup(false);\n                }\n            },\n        };\n        menu_options.push(disable_option);\n    }\n\n    // Option to download block.\n    if (this.isMovable()) {\n        const has_next_block = block.nextConnection && block.nextConnection.isConnected();\n        const downloadBlock = should_delete_next => {\n            const xml = Blockly.Xml.textToDom('<xml/>');\n            const block_xml = Blockly.Xml.blockToDom(block);\n            const file_name = should_delete_next ? block.type : `${block.type}_${localize('stack')}`;\n\n            if (should_delete_next) {\n                Blockly.Xml.deleteNext(block_xml);\n            }\n\n            xml.appendChild(block_xml);\n            save(file_name, /* collection */ true, xml);\n        };\n\n        menu_options.push({\n            text: localize('Download block'),\n            enabled: true,\n            callback: () => downloadBlock(true),\n        });\n\n        if (has_next_block) {\n            menu_options.push({\n                text: localize('Download stack'),\n                enabled: true,\n                callback: () => downloadBlock(false),\n            });\n        }\n    }\n\n    // Disable/Enable stack buttons. If target - last block in stack buttons will be hidden.\n    if (block.nextConnection?.targetConnection) {\n        menu_options.push(Blockly.ContextMenu.blockEnableOption(block, e));\n        menu_options.push(Blockly.ContextMenu.blockDisableOption(block, e));\n    }\n\n    // Allow the block to add or modify menu_options.\n    if (this.customContextMenu) {\n        this.customContextMenu(menu_options);\n    }\n\n    Blockly.ContextMenu.show(e, menu_options, this.RTL);\n    Blockly.ContextMenu.currentBlock = this;\n};\n\n/**\n * Set whether the block is error highlighted or not.\n * @param {boolean} highlighted True if highlighted for error.\n */\nBlockly.BlockSvg.prototype.setErrorHighlighted = function (\n    should_be_error_highlighted,\n    error_message = localize(\n        'The block(s) highlighted in red are missing input values. Please update them and click \"Run bot\".'\n    )\n) {\n    if (this.is_error_highlighted === should_be_error_highlighted) {\n        return;\n    }\n\n    const highlight_class = 'block--error-highlighted';\n\n    if (should_be_error_highlighted) {\n        // Below function does its own checks to check if class already exists.\n        Blockly.utils.addClass(this.svgGroup_, highlight_class);\n    } else {\n        Blockly.utils.removeClass(this.svgGroup_, highlight_class);\n    }\n\n    this.is_error_highlighted = should_be_error_highlighted;\n    this.error_message = error_message;\n};\n\n// Highlight the block that is being executed\nBlockly.BlockSvg.prototype.highlightExecutedBlock = function () {\n    const highlight_block_class = 'block--execution-highlighted';\n\n    if (!Blockly.utils.hasClass(this.svgGroup_, highlight_block_class)) {\n        Blockly.utils.addClass(this.svgGroup_, highlight_block_class);\n        setTimeout(() => {\n            if (this.svgGroup_) {\n                Blockly.utils.removeClass(this.svgGroup_, highlight_block_class);\n            }\n        }, 1505);\n    }\n};\n\n/**\n * Set block animation (Blink)\n */\n\nBlockly.BlockSvg.prototype.blink = function () {\n    const blink_class = 'block--blink';\n    Blockly.utils.addClass(this.svgGroup_, blink_class);\n\n    setTimeout(() => {\n        Blockly.utils.removeClass(this.svgGroup_, blink_class);\n    }, 2000);\n};\n\n/**\n * Set whether the block is collapsed or not.\n * @param {boolean} collapsed True if collapsed.\n */\nBlockly.BlockSvg.prototype.setCollapsed = function (collapsed) {\n    if (this.collapsed_ === collapsed) {\n        return;\n    }\n\n    // Firefox fix for Blockly widthcache bug\n    if (navigator.userAgent.search('Firefox') > 0) {\n        setTimeout(() => {\n            this.workspace.getAllFields().forEach(field => field.forceRerender());\n        }, 0); /* Time duration must be 0. We need this function\n        asynchronous for proper rerender after block resizing. */\n    }\n\n    const render_list = [];\n    const COLLAPSED_INPUT_NAME = '_TEMP_COLLAPSED_INPUT';\n\n    // Show/hide the inputs.\n    this.inputList.forEach(input => {\n        render_list.push(...input.setVisible(!collapsed));\n\n        // Hide empty rounded inputs\n        if (collapsed && input.type === 1 && !input.connection.targetConnection && input.outlinePath)\n            input.outlinePath.style.visibility = 'hidden';\n    });\n\n    if (collapsed) {\n        this.getIcons()\n            // Never hide ScratchBlockComments!\n            .filter(icon => !(icon instanceof Blockly.ScratchBlockComment))\n            .forEach(icon => icon.setVisible(false));\n\n        // Ensure class persists through collapse. Falls back to first\n        // field that has a class. Doesn't work when multiple\n        // field_labels on a block have different classes. So far we\n        // don't have a situation like that, so it works. 👍\n        let field_class = null;\n\n        this.inputList.some(input =>\n            input.fieldRow.some(field => {\n                if (field.class_) {\n                    field_class = field.class_;\n                    return true;\n                }\n                return false;\n            })\n        );\n\n        const dropdown_path =\n            this.workspace.options.pathToMedia +\n            (isDarkRgbColour(this.getColour()) ? 'dropdown-arrow.svg' : 'dropdown-arrow-dark.svg');\n        const field_expand_icon = new Blockly.FieldImage(dropdown_path, 16, 16, localize('Expand'), () =>\n            this.setCollapsed(false)\n        );\n\n        if (this.type === 'procedures_defreturn' || this.type === 'procedures_defnoreturn') {\n            const function_name = this.getFieldValue('NAME');\n            const args = ` (${this.arguments.join(', ')})`;\n\n            this.appendDummyInput(COLLAPSED_INPUT_NAME)\n                .appendField(new Blockly.FieldLabel(localize('function'), field_class))\n                .appendField(new Blockly.FieldLabel(function_name + args, 'header__title'))\n                .appendField(field_expand_icon)\n                .init();\n        } else {\n            const text = this.toString(Blockly.COLLAPSE_CHARS);\n            const field_label = new Blockly.FieldLabel(text, field_class);\n\n            this.appendDummyInput(COLLAPSED_INPUT_NAME).appendField(field_label).appendField(field_expand_icon).init();\n        }\n    } else {\n        this.removeInput(COLLAPSED_INPUT_NAME);\n        this.setWarningText(null); // Clear any warnings inherited from enclosed blocks.\n    }\n\n    Blockly.BlockSvg.superClass_.setCollapsed.call(this, collapsed);\n\n    if (!render_list.length) {\n        render_list.push(this); // No child blocks, just render this block.\n    }\n\n    if (this.rendered) {\n        render_list.forEach(block => block.render());\n        // Don't bump neighbours.\n        // Although bumping neighbours would make sense, users often collapse\n        // all their functions and store them next to each other.  Expanding and\n        // bumping causes all their definitions to go out of alignment.\n    }\n\n    // Check whether the collapsed block needs to be highlighted.\n    this.setErrorHighlighted(collapsed && this.hasErrorHighlightedDescendant());\n};\n\n/**\n * @deriv/bot: Add check for workspace.getCanvas() before appendChild() is called.\n */\nBlockly.BlockSvg.prototype.initSvg = function () {\n    goog.asserts.assert(this.workspace.rendered, 'Workspace is headless.');\n    if (!this.isInsertionMarker()) {\n        // Insertion markers not allowed to have inputs or icons\n        // Input shapes are empty holes drawn when a value input is not connected.\n        // eslint-disable-next-line no-cond-assign\n        for (let i = 0, input; (input = this.inputList[i]); i++) {\n            input.init();\n            input.initOutlinePath(this.svgGroup_);\n        }\n        const icons = this.getIcons();\n        for (let i = 0; i < icons.length; i++) {\n            icons[i].createIcon();\n        }\n    }\n    this.updateColour();\n    this.updateMovable();\n    if (!this.workspace.options.readOnly && !this.eventsInit_) {\n        Blockly.bindEventWithChecks_(this.getSvgRoot(), 'mousedown', this, this.onMouseDown_);\n    }\n    this.eventsInit_ = true;\n\n    if (!this.getSvgRoot().parentNode && this.workspace.getCanvas()) {\n        this.workspace.getCanvas().appendChild(this.getSvgRoot());\n    }\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../../constants/config';\n\n/**\n * Make a context menu option for duplicating the current block.\n * deriv-bot: Use Blockly's implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDuplicateOption = function (block) {\n    const enabled = !config.single_instance_blocks.includes(block.type);\n    const duplicate_option = {\n        callback() {\n            Blockly.duplicate_(block);\n        },\n        enabled,\n        text: localize('Duplicate'),\n    };\n    return duplicate_option;\n};\n\n/**\n * Make a context menu option for cleaning up blocks on the workspace, by\n * aligning them vertically.\n * @param {!Blockly.WorkspaceSvg} ws The workspace where the right-click originated.\n * @param {number} numTopBlocks The number of top blocks on the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsCleanupOption = function (ws, numTopBlocks) {\n    return {\n        text: localize('Rearrange Vertically'),\n        enabled: numTopBlocks > 1,\n        callback: ws.cleanUp.bind(ws),\n    };\n};\n\n/**\n * Make a context menu option for collapsing all block stacks on the workspace.\n * @param {boolean} hasExpandedBlocks Whether there are any non-collapsed blocks\n *     on the workspace.\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the\n *     the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsCollapseOption = function (hasExpandedBlocks, topBlocks) {\n    return {\n        enabled: hasExpandedBlocks,\n        text: localize('Collapse All Blocks'),\n        callback() {\n            Blockly.ContextMenu.toggleCollapseFn_(topBlocks, true);\n        },\n    };\n};\n\n/**\n * Make a context menu option for expanding all block stacks on the workspace.\n * @param {boolean} hasCollapsedBlocks Whether there are any collapsed blocks\n *     on the workspace.\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the\n *     the workspace.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.wsExpandOption = function (hasCollapsedBlocks, topBlocks) {\n    return {\n        enabled: hasCollapsedBlocks,\n        text: localize('Expand All Blocks'),\n        callback() {\n            Blockly.ContextMenu.toggleCollapseFn_(topBlocks, false);\n        },\n    };\n};\n\n/**\n * Helper function for toggling delete state on blocks on the workspace, to be\n * called from a right-click menu.\n * deriv-bot: Remove \"animation\".\n * @param {!Array.<!Blockly.BlockSvg>} topBlocks The list of top blocks on the the workspace.\n * @param {boolean} shouldCollapse True if the blocks should be collapsed, false if they should be expanded.\n * @private\n */\nBlockly.ContextMenu.toggleCollapseFn_ = function (blocks, shouldCollapse) {\n    blocks.forEach(block => block.setCollapsed(shouldCollapse));\n};\n\nBlockly.ContextMenu.wsDeleteOption = function (ws, blocks) {\n    // Option to delete all blocks.\n    // Count the number of blocks that are deletable.\n    const delete_list = Blockly.WorkspaceSvg.buildDeleteList_(blocks);\n\n    // Scratch-specific: don't count shadow blocks in delete count\n    const delete_count = delete_list.filter(block => !block.isShadow()).length;\n\n    const event_group = Blockly.utils.genUid();\n    const DELAY = 10;\n\n    const deleteNext = () => {\n        Blockly.Events.setGroup(event_group);\n        const block = delete_list.shift();\n\n        if (block) {\n            if (block.workspace) {\n                block.dispose(false, true);\n                setTimeout(deleteNext, DELAY);\n            } else {\n                deleteNext();\n            }\n        }\n        Blockly.Events.setGroup(false);\n    };\n\n    return {\n        text:\n            delete_count === 1\n                ? localize('Delete Block')\n                : localize('Delete {{ delete_count }} Blocks', { delete_count }),\n        enabled: delete_count > 0,\n        callback() {\n            if (ws.currentGesture_) {\n                ws.currentGesture_.cancel();\n            }\n            if (delete_count < 2) {\n                deleteNext();\n            } else {\n                const msg = localize('Delete all {{ delete_count }} blocks?', { delete_count });\n                Blockly.confirm(msg, ok => {\n                    if (ok) {\n                        deleteNext();\n                    }\n                });\n            }\n        },\n    };\n};\n\n/**\n * Make a context menu option for adding or removing comments on the current block.\n * deriv-bot: Expand block before adding comment.\n * Hacky way to get comments working on collapsed blocks.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockCommentOption = function (block) {\n    const comment_option = { enabled: !goog.userAgent.IE };\n\n    // If there's already a comment, add an option to delete it.\n    if (block.comment) {\n        comment_option.text = localize('Remove comment');\n        comment_option.callback = () => {\n            block.setCommentText(null);\n        };\n    } else {\n        // If there's no comment, add an option to create a comment.\n        comment_option.text = localize('Add comment');\n        comment_option.callback = () => {\n            // deriv-bot: Expand/uncollapse for bubble to position correctly.\n            const is_collapsed = block.collapsed_;\n\n            if (is_collapsed) {\n                block.setCollapsed(false);\n            }\n\n            block.setCommentText('');\n\n            if (block.collapsed_ !== is_collapsed) {\n                block.setCollapsed(is_collapsed);\n            }\n\n            // deriv-bot: Don't focus to prevent workspace glitching.\n            // block.comment.focus();\n        };\n    }\n\n    return comment_option;\n};\n\n/**\n * Make a context menu option for detaching the current block.\n * deriv-bot: Use Blockly's implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDetachOption = function (block) {\n    const canDisconnect = block\n        .getConnections_()\n        .some(connection => connection.isConnected() && !connection.targetConnection?.sourceBlock_.isShadow_);\n\n    const enabled = block.parentBlock_ && canDisconnect;\n\n    const detach_option = {\n        callback() {\n            block.unplug(true);\n            block.moveBy(250, 100);\n        },\n        enabled,\n        text: localize('Detach Block'),\n    };\n    return detach_option;\n};\n\n/**\n * Make a context menu option for disabling stack of blocks.\n * deriv-bot: Use Blockly’s implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockDisableOption = function (block) {\n    const checkAreSomeEnabled = (block_, enabledArr = []) => {\n        enabledArr.push(!block_.disabled);\n        return block_.nextConnection?.targetConnection\n            ? checkAreSomeEnabled(block_.nextConnection?.targetConnection.sourceBlock_, enabledArr)\n            : enabledArr.includes(true);\n    };\n    const enabled = checkAreSomeEnabled(block);\n\n    const disableBlocksRecursively = block_ => {\n        block_.setDisabled(true);\n        if (block_.nextConnection?.targetConnection) {\n            disableBlocksRecursively(block_.nextConnection?.targetConnection.sourceBlock_);\n        }\n    };\n\n    const disableStack_option = {\n        callback() {\n            disableBlocksRecursively(block);\n        },\n        enabled,\n        text: localize('Disable stack'),\n    };\n    return disableStack_option;\n};\n\n/**\n * Make a context menu option for enabling stack of blocks.\n * deriv-bot: Use Blockly’s implementation.\n * @param {!Blockly.BlockSvg} block The block where the right-click originated.\n * @return {!Object} A menu option, containing text, enabled, and a callback.\n * @package\n */\nBlockly.ContextMenu.blockEnableOption = function (block) {\n    const checkAreSomeDisabled = (block_, disabledArr = []) => {\n        if (block_.restricted_parents && !block_.restricted_parents?.includes(block_.getTopParent()?.type)) {\n            return false;\n        }\n        disabledArr.push(block_.disabled);\n        return block_.nextConnection?.targetConnection\n            ? checkAreSomeDisabled(block_.nextConnection?.targetConnection.sourceBlock_, disabledArr)\n            : disabledArr.includes(true);\n    };\n    const enabled = checkAreSomeDisabled(block);\n\n    const enableBlocksRecursively = block_ => {\n        if (!block_.restricted_parents || block_.restricted_parents.includes(block_.getTopParent()?.type)) {\n            block_.setDisabled(false);\n        }\n        if (block_.nextConnection?.targetConnection) {\n            enableBlocksRecursively(block_.nextConnection?.targetConnection.sourceBlock_);\n        }\n    };\n\n    const enableStack_option = {\n        callback() {\n            enableBlocksRecursively(block);\n        },\n        enabled,\n        text: localize('Enable stack'),\n    };\n    return enableStack_option;\n};\n","import { localize } from '@deriv/translations';\nimport DBotStore from '../dbot-store';\n\n/**\n * Construct the blocks required by the flyout for the variable category.\n * @param {!Blockly.Workspace} workspace The workspace containing variables.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\nBlockly.DataCategory = function (workspace) {\n    const variableModelList = workspace.getVariablesOfType('');\n    let xmlList = [];\n\n    // `Create Variable`-Section\n    Blockly.DataCategory.addCreateVariable(xmlList, workspace);\n\n    const block_types = ['variables_set', 'variables_get', 'math_change'];\n    xmlList = xmlList.concat(Blockly.DataCategory.search(variableModelList, block_types));\n\n    return xmlList;\n};\n\nBlockly.DataCategory.search = function (variableModelList) {\n    const xmlList = [];\n    if (variableModelList.length > 0) {\n        const generateVariableFieldXmlString = variableModel => {\n            // The variable name may be user input, so it may contain characters that\n            // need to be escaped to create valid XML.\n            const escapedText = `<field name=\"VAR\" id=\"${variableModel.getId()}\" variabletype=\"${goog.string.htmlEscape(\n                variableModel.type\n            )}\">${goog.string.htmlEscape(variableModel.name)}</field>`;\n            return escapedText;\n        };\n\n        const firstVariable = variableModelList[0];\n\n        // Create 'Set `var` to'-block\n        if (Blockly.Blocks.variables_set) {\n            const gap = Blockly.Blocks.math_change ? 8 : 24;\n            const setBlockText = `<xml><block type=\"variables_set\" gap=\"${gap}\">${generateVariableFieldXmlString(\n                firstVariable\n            )}</block></xml>`;\n            const setBlock = Blockly.Xml.textToDom(setBlockText).firstChild;\n            xmlList.push(setBlock);\n        }\n\n        // Create 'Change `var` by `1`'-block\n        // if (Blockly.Blocks.math_change) {\n        //     const gap = Blockly.Blocks.variables_get ? 20 : 8;\n        //     const changeBlockText = `<xml><block type=\"math_change\" gap=\"${gap}\">${generateVariableFieldXmlString(\n        //         firstVariable\n        //     )}<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></xml>`;\n        //     const changeBlock = Blockly.Xml.textToDom(changeBlockText).firstChild;\n        //     xmlList.push(changeBlock);\n        // }\n\n        // Create `variable_get` block for each variable\n        if (Blockly.Blocks.variables_get) {\n            // For adding sort base on the creation date\n            variableModelList.sort(\n                (first_variable, second_variable) =>\n                    variableModelList.indexOf(second_variable) - variableModelList.indexOf(first_variable)\n            );\n\n            variableModelList.forEach(variable => {\n                const getBlockText = `<xml><block type=\"variables_get\">${generateVariableFieldXmlString(\n                    variable\n                )}</block></xml>`;\n                const getBlock = Blockly.Xml.textToDom(getBlockText).firstChild;\n                xmlList.push(getBlock);\n            });\n        }\n    }\n\n    return xmlList;\n};\n\n/**\n * Construct a create variable section and push it to the xmlList.\n * @param {!Array.<!Element>} xmlList Array of XML block elements.\n * @param {Blockly.Workspace} workspace Workspace to register callback to.\n * @deriv/bot: We only use a single type of variable, so `type` arg was removed.\n */\nBlockly.DataCategory.addCreateVariable = function (xmlList, workspace) {\n    const el_button_xml = goog.dom.createDom('button');\n    const el_input_xml = goog.dom.createDom('input');\n\n    // Set default msg, callbackKey, and callback values for type 'VARIABLE'\n    const button_text = localize('Create');\n    const callback_key = 'CREATE_VARIABLE';\n    const input_placeholder = localize('New variable name');\n\n    // Set attributes for the button\n    el_button_xml.setAttribute('text', button_text);\n    el_button_xml.setAttribute('className', 'flyout__button-new');\n    el_button_xml.setAttribute('callbackKey', callback_key);\n\n    // Set attributes for the input field\n    el_input_xml.setAttribute('className', 'flyout__input');\n    el_input_xml.setAttribute('name', 'variable');\n    el_input_xml.setAttribute('type', 'text');\n    el_input_xml.setAttribute('placeholder', input_placeholder);\n\n    const callback = function (button) {\n        const el_input_container = document.querySelector('.flyout__input > .dc-input__container');\n        const el_input = el_input_container.firstChild;\n\n        const buttonWorkspace = button.getTargetWorkspace();\n        buttonWorkspace.createVariable(el_input.value, '');\n        el_input.value = '';\n\n        const { flyout } = DBotStore.instance;\n        flyout.refreshCategory();\n    };\n\n    workspace.registerButtonCallback(callback_key, callback);\n\n    xmlList.push(el_input_xml);\n    xmlList.push(el_button_xml);\n};\n","import { runInvisibleEvents } from '../utils';\n\n/** *\n * Updates a Blockly.FieldDropdown with the passed dropdown_options. Available options:\n * - default_value       : After updating, attempt to set this value as the selected option\n * - should_trigger_event: Should an Blockly.Events.Change event be triggered?\n * - event_group         : Coincides with should_trigger_event, passes event_group along the event chain.\n * - should_pretend_empty: Trigger event, pretend oldValue was empty to force triggering event. Blockly\n *                         filters out and stops events from firing where the oldValue and newValue are the same.\n */\nBlockly.FieldDropdown.prototype.updateOptions = function (dropdown_options, options = {}) {\n    if (Blockly.DropDownDiv.isVisible()) {\n        Blockly.DropDownDiv.hideWithoutAnimation();\n    }\n\n    this.menuGenerator_ = dropdown_options;\n\n    // Blockly won't actually fire an event if the oldValue and newValue are the same. This prop\n    // sets the event's oldValue to an empty string so it's always executed.\n    let previous_value = this.getValue();\n\n    if (options.should_pretend_empty) {\n        previous_value = '';\n    }\n\n    // Set a flag indicating whether the default value passed to this function is available in the newly\n    // set dropdown options, if false the default option will be the first available one.\n    const has_default_value = dropdown_options.findIndex(item => item[1] === options.default_value) !== -1;\n\n    runInvisibleEvents(() => {\n        this.setValue('');\n\n        if (has_default_value) {\n            this.setValue(options.default_value);\n        } else if (dropdown_options.length > 0) {\n            // Default to first if option isn't available.\n            this.setValue(this.menuGenerator_[0][1]);\n        } else {\n            this.setValue(previous_value);\n        }\n    });\n\n    // If \"should_trigger_event\" prop is omitted or set to true, fire an event.\n    if (!options.should_trigger_event || options.should_trigger_event === true) {\n        const event = new Blockly.Events.BlockChange(\n            this.sourceBlock_,\n            'field',\n            this.name,\n            previous_value,\n            this.getValue()\n        );\n        event.recordUndo = false;\n        event.group = options.event_group;\n        Blockly.Events.fire(event);\n    }\n};\n\n/**\n * This function is hooked to change backgound color and change dropdown lists shape from rounded corner box to oval shape,\n * e.g. for market list, trade type, etc.\n *      'rx': Blockly.BlockSvg.CORNER_RADIUS * 4,\n *      'ry': Blockly.BlockSvg.CORNER_RADIUS * 4,\n */\nBlockly.FieldDropdown.prototype.init = function () {\n    if (this.fieldGroup_) {\n        // Dropdown has already been initialized once.\n        return;\n    }\n    // Add dropdown arrow: \"option ▾\" (LTR) or \"▾ אופציה\" (RTL)\n    // Positioned on render, after text size is calculated.\n    /** @type {Number} */\n    this.arrowSize_ = 12;\n    /** @type {Number} */\n    this.arrowX_ = 0;\n    /** @type {Number} */\n    this.arrowY_ = 11;\n    this.arrow_ = Blockly.utils.createSvgElement('image', {\n        height: `${this.arrowSize_}px`,\n        width: `${this.arrowSize_}px`,\n    });\n    this.arrow_.setAttributeNS(\n        'http://www.w3.org/1999/xlink',\n        'xlink:href',\n        `${Blockly.mainWorkspace.options.pathToMedia}dropdown-arrow-dark.svg`\n    );\n    this.className_ += ' blocklyDropdownText';\n    // @deriv/bot: stop the drop-down from changing its fill colour to colourTertiary on click\n    this.disableColourChange_ = true;\n\n    Blockly.FieldDropdown.superClass_.init.call(this);\n    // If not in a shadow block, draw a box.\n    if (!this.sourceBlock_.isShadow()) {\n        this.box_ = Blockly.utils.createSvgElement(\n            'rect',\n            {\n                rx: Blockly.BlockSvg.CORNER_RADIUS * 4,\n                ry: Blockly.BlockSvg.CORNER_RADIUS * 4,\n                x: 0,\n                y: 0,\n                width: this.size_.width,\n                height: this.size_.height,\n                stroke: this.sourceBlock_.getColourTertiary(),\n                'stroke-width': '0.3px',\n                fill: this.sourceBlock_.getColourSecondary(),\n                'fill-opacity': 1,\n            },\n            null\n        );\n        this.fieldGroup_.insertBefore(this.box_, this.textElement_);\n    }\n    // Force a reset of the text to add the arrow.\n    const text = this.text_;\n    this.text_ = null;\n    this.setText(text);\n};\n\n/**\n * Returns whether a dropdown is empty or not.\n */\nBlockly.FieldDropdown.prototype.isEmpty = function () {\n    return this.menuGenerator_.length === 0 || !this.menuGenerator_[0][1];\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Custom checkbox implementation.\n * @returns {Blockly.FieldImage} A Blockly.FieldImage pretending to be a checkbox.\n */\nconst FieldCheckbox = () => {\n    const getAltText = is_checked => (is_checked ? localize('Y') : localize('N'));\n    const onCheckboxClick = function () {\n        if (this.sourceBlock_.workspace.options.readOnly || this.sourceBlock_.isInFlyout) {\n            return;\n        }\n        this.is_checked = !this.is_checked;\n        this.setValue(this.is_checked);\n        this.setText(getAltText(this.is_checked));\n    };\n\n    const icon = new Blockly.FieldImage(true, 16, 16, getAltText(true), onCheckboxClick);\n\n    // Required function on Blockly.Field instances.\n    icon.fromJson = (/* options */) => {\n        return FieldCheckbox();\n    };\n\n    // Custom setValue to support imported values, this allows us to bypass\n    // adding domToMutation and mutationToDom logic to each block consuming this checkbox.\n    icon.setValue = function (value) {\n        const is_checked = value === true || value === 'TRUE';\n        const old_value = this.getValue();\n        this.src_ = is_checked ? 'TRUE' : 'FALSE';\n        const el_field_group = this.fieldGroup_; // eslint-disable-line no-underscore-dangle\n\n        if (el_field_group) {\n            Array.from(el_field_group.children).forEach(child_node => el_field_group.removeChild(child_node));\n\n            // Draw a rectangle which is coloured based on the host-block's colour.\n            Blockly.utils.createSvgElement(\n                'rect',\n                {\n                    fill: this.sourceBlock_.getColourSecondary(), // eslint-disable-line\n                    'fill-rule': 'nonzero',\n                    height: this.height_, // eslint-disable-line\n                    width: this.width_, // eslint-disable-line\n                    rx: 2,\n                    stroke: this.sourceBlock_.getColourTertiary(),\n                },\n                el_field_group\n            );\n\n            if (is_checked) {\n                // Draw checkmark.\n                Blockly.utils.createSvgElement(\n                    'path',\n                    {\n                        fill: 'var(--text-general)',\n                        d: 'M6 10.086L3.707 7.793a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l7-7a1 1 0 10-1.414-1.414L6 10.086z',\n                    },\n                    el_field_group\n                );\n            }\n        }\n\n        // Emit an event that can be redone/undone.\n        if (this.sourceBlock_ && Blockly.Events.isEnabled()) {\n            Blockly.Events.fire(\n                new Blockly.Events.BlockChange(this.sourceBlock_, 'field', this.name, old_value, this.getValue())\n            );\n        }\n    };\n\n    return icon;\n};\n\nBlockly.Field.register('field_image_checkbox', FieldCheckbox());\n","import { config } from '../../constants/config';\nimport DBotStore from '../dbot-store';\n\n/**\n * Create a copy of this block on the workspace.\n * @param {!Blockly.BlockSvg} original_block The block to copy from the flyout.\n * @return {Blockly.BlockSvg} The newly created block, or null if something\n *     went wrong with deserialization.\n * @package\n */\nBlockly.Flyout.prototype.createBlock = function (event, original_block) {\n    Blockly.Events.disable();\n\n    const main_workspace = this.targetWorkspace_;\n    const variables_before_creation = main_workspace.getAllVariables();\n\n    main_workspace.setResizesEnabled(false);\n\n    let new_block = null;\n\n    try {\n        new_block = this.placeNewBlock_(event, original_block);\n        // Close the flyout.\n        Blockly.hideChaff();\n    } finally {\n        Blockly.Events.enable();\n    }\n\n    const new_variables = Blockly.Variables.getAddedVariables(main_workspace, variables_before_creation);\n\n    if (Blockly.Events.isEnabled()) {\n        Blockly.Events.setGroup(true);\n\n        // Delete blocks of which we can only have a single instance. Dispose emits a BlockDelete\n        // event that respects the current Blockly.Events group, this is required to maintain\n        // a working undo/redo stack.\n        if (config.single_instance_blocks.includes(new_block.type)) {\n            main_workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === new_block.type && ws_block.id !== new_block.id) {\n                    ws_block.dispose();\n                }\n            });\n        }\n\n        // Fire a VarCreate event for each (if any) new variable created.\n        new_variables.forEach(new_variable => {\n            Blockly.Events.fire(new Blockly.Events.VarCreate(new_variable));\n        });\n\n        Blockly.Events.fire(new Blockly.Events.Create(new_block));\n    }\n\n    if (this.autoClose) {\n        this.hide();\n    }\n\n    const { flyout } = DBotStore.instance;\n    flyout.setIsSearchFlyout(false);\n    flyout.setVisibility(false);\n\n    new_block.isInFlyout = false;\n\n    return new_block;\n};\n\n/**\n * Copy a block from the flyout to the workspace and position it correctly.\n * @param {MouseEvent} event MouseEvent with coordinates to position block. DBot only.\n * @param {!Blockly.Block} old_block The flyout block to copy.\n * @return {!Blockly.Block} The new block in the main workspace.\n * @private\n */\nBlockly.Flyout.prototype.placeNewBlock_ = function (event, old_block) {\n    const main_workspace = this.targetWorkspace_;\n    const svg_root_old = old_block.getSvgRoot();\n\n    if (!svg_root_old) {\n        throw new Error('old_block is not rendered.');\n    }\n\n    // Create the new block by cloning the block in the flyout (via XML).\n    const xml = Blockly.Xml.blockToDom(old_block, true);\n\n    // The target workspace would normally resize during domToBlock, which will\n    // lead to weird jumps.  Save it for terminateDrag.\n    main_workspace.setResizesEnabled(false);\n\n    // Using domToBlock instead of domToWorkspace means that the new block will be\n    // placed at position (0, 0) in main workspace units.\n    const block = Blockly.Xml.domToBlock(xml, main_workspace);\n    const svg_root_new = block.getSvgRoot();\n\n    if (!svg_root_new) {\n        throw new Error('block is not rendered.');\n    }\n\n    // event may be null i.e. when originating from flyout add button.\n    if (event) {\n        // The offset in pixels between the main workspace's origin and the upper left corner of the injection div.\n        const main_offset_pixels = main_workspace.getOriginOffsetInPixels();\n\n        // The position of the old block in pixels relative to the flyout workspace's origin.\n        const x_offset = 25;\n        const y_offset = 160;\n        const old_block_pos_pixels = new goog.math.Coordinate(\n            event.clientX ? event.clientX - x_offset : 0,\n            event.clientY ? event.clientY - y_offset : 0\n        );\n\n        // The position of the old block in pixels relative to the origin of the main workspace.\n        const final_offset_pixels = goog.math.Coordinate.difference(old_block_pos_pixels, main_offset_pixels);\n\n        // The position of the old block in main workspace coordinates.\n        const final_offset_main_ws = final_offset_pixels.scale(1 / main_workspace.scale);\n\n        block.moveBy(final_offset_main_ws.x, final_offset_main_ws.y);\n    }\n\n    return block;\n};\n","import { localize } from '@deriv/translations';\n\n/**\n * Construct the blocks required by the flyout for the procedure category.\n * @param {!Blockly.Workspace} workspace The workspace containing procedures.\n * @return {!Array.<!Element>} Array of XML block elements.\n */\nBlockly.Procedures.flyoutCategory = function (workspace) {\n    let xmlList = [];\n\n    if (Blockly.Blocks.procedures_defnoreturn) {\n        // <block type=\"procedures_defnoreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defnoreturn');\n        block.setAttribute('gap', 16);\n\n        // TEMP\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (Blockly.Blocks.procedures_defreturn) {\n        // <block type=\"procedures_defreturn\" gap=\"16\">\n        //     <field name=\"NAME\">do something</field>\n        // </block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_defreturn');\n        block.setAttribute('gap', 16);\n\n        const nameField = document.createElement('field');\n        nameField.setAttribute('name', 'NAME');\n        nameField.appendChild(document.createTextNode(localize('do something')));\n\n        block.appendChild(nameField);\n        xmlList.push(block);\n    }\n\n    if (Blockly.Blocks.procedures_ifreturn) {\n        // <block type=\"procedures_ifreturn\" gap=\"16\"></block>\n        const block = document.createElement('block');\n        block.setAttribute('type', 'procedures_ifreturn');\n        block.setAttribute('gap', 16);\n        xmlList.push(block);\n    }\n\n    if (xmlList.length) {\n        // Add slightly larger gap between system blocks and user calls.\n        xmlList[xmlList.length - 1].setAttribute('gap', 24);\n    }\n\n    const tuple = Blockly.Procedures.allProcedures(workspace);\n    xmlList = xmlList.concat(Blockly.Procedures.populateDynamicProcedures(tuple));\n    return xmlList;\n};\n\nBlockly.Procedures.populateDynamicProcedures = function (tuple) {\n    let xmlList = [];\n\n    const populateProcedures = (procedureList, templateName) => {\n        const xml = [];\n\n        if (!procedureList) {\n            return xml;\n        }\n\n        for (let i = 0; i < procedureList.length; i++) {\n            const name = procedureList[i][0];\n            const args = procedureList[i][1];\n\n            // <block type=\"procedures_callnoreturn\" gap=\"16\">\n            //   <mutation name=\"do something\">\n            //     <arg name=\"x\"></arg>\n            //   </mutation>\n            // </block>\n            const block = document.createElement('block');\n            block.setAttribute('type', templateName);\n            block.setAttribute('gap', 16);\n\n            const mutation = document.createElement('mutation');\n            mutation.setAttribute('name', name);\n            block.appendChild(mutation);\n\n            args.forEach(argumentName => {\n                const arg = document.createElement('arg');\n                arg.setAttribute('name', argumentName);\n                mutation.appendChild(arg);\n            });\n\n            xml.push(block);\n        }\n\n        return xml;\n    };\n\n    xmlList = xmlList.concat(populateProcedures(tuple[0], 'procedures_callnoreturn'));\n    xmlList = xmlList.concat(populateProcedures(tuple[1], 'procedures_callreturn'));\n\n    return xmlList;\n};\n\n/**\n * Find the definition block for the named procedure.\n * @param {string} name Name of procedure.\n * @param {!Blockly.Workspace} workspace The workspace to search.\n * @return {Blockly.Block} The procedure definition block, or null not found.\n */\nBlockly.Procedures.getDefinition = function (name, workspace) {\n    // Assume that a procedure definition is a top block.\n    const blocks = workspace.getTopBlocks(false);\n    for (let i = 0; i < blocks.length; i++) {\n        if (blocks[i].getProcedureDef) {\n            const tuple = blocks[i].getProcedureDef();\n            if (tuple && Blockly.Names.equals(tuple[0], name)) {\n                return blocks[i];\n            }\n        }\n    }\n    return null;\n};\n\n// Scratch has a broken version where they return `false` if Blockly.Names.equals(procName[0], name).\n// https://github.com/LLK/scratch-blocks/pull/1930\nBlockly.Procedures.isNameUsed = function (name, workspace, optExclude) {\n    const blocks = workspace.getAllBlocks(false);\n    // Iterate through every block and check the name.\n    return blocks.some(block => {\n        if (block !== optExclude && block.getProcedureDef) {\n            const procName = block.getProcedureDef();\n            return Blockly.Names.equals(procName[0], name);\n        }\n        return false;\n    });\n};\n\n/**\n * Move the workspace based on the most recent mouse movements.\n * @param {!goog.math.Coordinate} currentDragDeltaXY How far the pointer has\n *     moved from the position at the start of the drag, in pixel coordinates.\n * @package\n */\nBlockly.WorkspaceDragger.prototype.drag = function (currentDragDeltaXY) {\n    if (this.workspace_.isFlyout) {\n        return;\n    }\n\n    const metrics = this.startDragMetrics_;\n    const newXY = goog.math.Coordinate.sum(this.startScrollXY_, currentDragDeltaXY);\n\n    // Bound the new XY based on workspace bounds.\n    let x = Math.min(newXY.x, -metrics.contentLeft);\n    let y = Math.min(newXY.y, -metrics.contentTop);\n\n    x = Math.max(x, metrics.viewWidth - metrics.contentLeft - metrics.contentWidth);\n    y = Math.max(y, metrics.viewHeight - metrics.contentTop - metrics.contentHeight);\n\n    x = -x - metrics.contentLeft;\n    y = -y - metrics.contentTop;\n\n    this.updateScroll_(x, y);\n};\n","import DBotStore from '../dbot-store';\nimport PendingPromise from '../../utils/pending-promise';\n\nBlockly.Workspace.prototype.wait_events = [];\n\n/**\n * Clear the undo/redo stacks.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n */\nBlockly.Workspace.prototype.clearUndo = function () {\n    this.undoStack_.length = 0;\n    this.redoStack_.length = 0;\n\n    const { toolbar } = DBotStore.instance;\n\n    toolbar.setHasRedoStack();\n    toolbar.setHasUndoStack();\n\n    // Stop any events already in the firing queue from being undoable.\n    Blockly.Events.clearPendingUndo();\n};\n\n/**\n * Fire a change event.\n * deriv-bot: Sync undo/redo stack with our toolbar store.\n * @param {!Blockly.Events.Abstract} event Event to fire.\n */\nBlockly.Workspace.prototype.fireChangeListener = function (event) {\n    if (event.recordUndo) {\n        this.undoStack_.push(event);\n        this.redoStack_.length = 0;\n\n        if (this.undoStack_.length > this.MAX_UNDO) {\n            this.undoStack_.unshift();\n        }\n\n        const { toolbar } = DBotStore.instance;\n\n        toolbar.setHasRedoStack();\n        toolbar.setHasUndoStack();\n    }\n\n    // Copy listeners in case a listener attaches/detaches itself.\n    const current_listeners = this.listeners_.slice();\n\n    current_listeners.forEach(listener => {\n        listener(event);\n    });\n    /**\n     * Gets a trade definition block instance and returns it.\n     * @returns {Blockly.Block|null} The trade definition or null.\n     */\n};\n\nBlockly.Workspace.prototype.getTradeDefinitionBlock = function () {\n    return this.getAllBlocks(true).find(b => b.type === 'trade_definition');\n};\n\nBlockly.Workspace.prototype.waitForBlockEvent = function (block_id, opt_event_type = null) {\n    const event_promise = new PendingPromise();\n\n    if (!this.wait_events.some(event => event.blockId === block_id && event.type === opt_event_type)) {\n        this.wait_events.push({\n            blockId: block_id,\n            promise: event_promise,\n            type: opt_event_type,\n        });\n    }\n\n    return event_promise;\n};\n\nBlockly.Workspace.prototype.waitForBlockEvent = function (options) {\n    const { block_type, event_type, timeout } = options;\n    const promise = new PendingPromise();\n\n    this.wait_events.push({ block_type, event_type, promise });\n\n    if (timeout) {\n        setTimeout(() => {\n            if (promise.isPending) {\n                promise.reject();\n            }\n        }, timeout);\n    }\n\n    return promise;\n};\n\nBlockly.Workspace.prototype.dispatchBlockEventEffects = function (event) {\n    this.wait_events.forEach((wait_event, idx) => {\n        if (!event.blockId) {\n            return;\n        }\n\n        const block = this.getBlockById(event.blockId);\n\n        if (block) {\n            const is_same_block_type = wait_event.block_type === block.type;\n            const is_same_event_type = wait_event.event_type === null || wait_event.event_type === event.type;\n\n            if (is_same_block_type && is_same_event_type) {\n                setTimeout(() => {\n                    wait_event.promise.resolve();\n                    this.wait_events.splice(idx, 1);\n                }, 500);\n            }\n        }\n    });\n};\n\nBlockly.Workspace.prototype.getAllFields = function (is_ordered) {\n    return this.getAllBlocks(is_ordered).reduce((fields, block) => {\n        block.inputList.forEach(input => fields.push(...input.fieldRow));\n        return fields;\n    }, []);\n};\n","import { config } from '../../constants/config';\nimport { removeLimitedBlocks } from '../../utils/workspace';\nimport DBotStore from '../dbot-store';\n\n/**\n * Handle a mouse-down on SVG drawing surface.\n * deriv-bot: We bubble the mousedown event for Core to be reactive.\n * @param {!Event} e Mouse down event.\n * @private\n */\nBlockly.WorkspaceSvg.prototype.onMouseDown_ = function (e) {\n    // Bubble mousedown event up for some Core elements to react correctly.\n    if (e instanceof MouseEvent) {\n        Blockly.derivWorkspace.cachedParentSvg_.dispatchEvent(new e.constructor(e.type, e));\n    }\n    const gesture = this.getGesture(e);\n    if (gesture) {\n        gesture.handleWsStart(e, this);\n    }\n};\n\n/**\n * Scroll the workspace to center on the given block.\n * @param {?string} id ID of block center on.\n * @public\n */\nBlockly.WorkspaceSvg.prototype.centerOnBlock = function (id, hideChaff = true) {\n    if (!this.scrollbar) {\n        // eslint-disable-next-line no-console\n        console.warn('Tried to scroll a non-scrollable workspace.');\n        return;\n    }\n\n    const block = this.getBlockById(id);\n    if (!block) {\n        return;\n    }\n\n    // XY is in workspace coordinates.\n    const xy = block.getRelativeToSurfaceXY();\n\n    // Height/width is in workspace units.\n    const heightWidth = block.getHeightWidth();\n\n    // Find the enter of the block in workspace units.\n    const blockCenterY = xy.y + heightWidth.height / 2;\n\n    // In RTL the block's position is the top right of the block, not top left.\n    const multiplier = this.RTL ? -1 : 1;\n    const blockCenterX = xy.x + (multiplier * heightWidth.width) / 2;\n\n    // Workspace scale, used to convert from workspace coordinates to pixels.\n    const scale = this.scale;\n\n    // Center in pixels.  0, 0 is at the workspace origin.  These numbers may\n    // be negative.\n    const pixelX = blockCenterX * scale;\n    const pixelY = blockCenterY * scale;\n\n    const metrics = this.getMetrics();\n\n    // Scrolling to here would put the block in the top-left corner of the\n    // visible workspace.\n    const scrollToBlockX = pixelX - metrics.contentLeft;\n    const scrollToBlockY = pixelY - metrics.contentTop;\n\n    // viewHeight and viewWidth are in pixels.\n    const halfViewWidth = metrics.viewWidth / 2;\n    const halfViewHeight = metrics.viewHeight / 2;\n\n    // Put the block in the center of the visible workspace instead.\n    const scrollToCenterX = scrollToBlockX - halfViewWidth;\n    const scrollToCenterY = scrollToBlockY - halfViewHeight;\n\n    if (hideChaff) {\n        Blockly.hideChaff();\n    }\n\n    this.scrollbar.set(scrollToCenterX, scrollToCenterY);\n};\n\n/**\n * Creates a copy of passed block_node on main workspace and positions it\n * below the lowest block on the canvas.\n * @static\n * @param {Element} block_node\n * @public\n */\nBlockly.WorkspaceSvg.prototype.addBlockNode = function (block_node) {\n    const { flyout } = DBotStore.instance;\n    const block = Blockly.Xml.domToBlock(block_node, flyout.getFlyout().workspace_);\n    const top_blocks = this.getTopBlocks(true);\n    const new_block = flyout.getFlyout().createBlock(false, block);\n\n    if (top_blocks.length) {\n        const last_block = top_blocks[top_blocks.length - 1];\n        const last_block_xy = last_block.getRelativeToSurfaceXY();\n        const extra_spacing = last_block.startHat_ ? Blockly.BlockSvg.START_HAT_HEIGHT : 0;\n        const y = last_block_xy.y + last_block.getHeightWidth().height + extra_spacing + 30;\n        new_block.moveBy(last_block_xy.x, y);\n    }\n\n    // Call svgResize to avoid glitching workspace.\n    Blockly.svgResize(new_block.workspace);\n    this.centerOnBlock(new_block.id, false);\n};\n\n/**\n * Clean up the workspace by ordering all the blocks in a column. For deriv-bot\n * root-blocks are sorted in columns first, then all other blocks are positioned below\n * the lowest hanging root-block.\n */\nBlockly.WorkspaceSvg.prototype.cleanUp = function (x = 0, y = 0, blocks_to_clean = []) {\n    this.setResizesEnabled(false);\n    Blockly.Events.setGroup(Blockly.Events.getGroup() || true);\n\n    const is_import = blocks_to_clean.length !== 0;\n    const top_blocks = is_import ? blocks_to_clean : this.getTopBlocks(true);\n    const root_blocks = top_blocks\n        .filter(block => block.isMainBlock())\n        .sort((a, b) => {\n            const blockIndex = block => config.mainBlocks.findIndex(main_block_type => main_block_type === block.type);\n            return blockIndex(a) - blockIndex(b);\n        });\n    const column_count = 2;\n    const blocks_per_column = Math.ceil(root_blocks.length / column_count);\n\n    let original_cursor_y = y;\n\n    if (root_blocks.length) {\n        let column_index = 0;\n\n        root_blocks.forEach((block, index) => {\n            if (index === (column_index + 1) * blocks_per_column) {\n                original_cursor_y = y;\n                column_index++;\n            }\n\n            const xy = block.getRelativeToSurfaceXY();\n            const cursor_x = is_import ? x : -xy.x;\n            const cursor_y = original_cursor_y - (is_import ? 0 : xy.y);\n\n            if (column_index === 0) {\n                block.moveBy(cursor_x, cursor_y);\n            } else {\n                const start = (column_index - 1) * blocks_per_column;\n                const initialValue = {\n                    getHeightWidth: () => ({\n                        width: 0,\n                    }),\n                };\n\n                const fat_neighbour_block = root_blocks\n                    .slice(start, start + blocks_per_column)\n                    ?.reduce((a, b) => (a.getHeightWidth().width > b.getHeightWidth().width ? a : b), initialValue);\n\n                let position_x = cursor_x + fat_neighbour_block.getHeightWidth().width + Blockly.BlockSvg.MIN_BLOCK_X;\n                if (!is_import) {\n                    position_x += fat_neighbour_block.getRelativeToSurfaceXY().x;\n                }\n\n                block.moveBy(position_x, cursor_y);\n            }\n\n            block.snapToGrid();\n\n            original_cursor_y =\n                block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n        });\n\n        const initialValue = {\n            getRelativeToSurfaceXY: () => ({\n                y: 0,\n            }),\n            getHeightWidth: () => ({\n                height: 0,\n            }),\n        };\n\n        const lowest_root_block = root_blocks.reduce((a, b) => {\n            const a_metrics = a.getRelativeToSurfaceXY().y + a.getHeightWidth().height;\n            const b_metrics = b.getRelativeToSurfaceXY().y + b.getHeightWidth().height;\n            return a_metrics > b_metrics ? a : b;\n        }, initialValue);\n\n        original_cursor_y =\n            lowest_root_block.getRelativeToSurfaceXY().y +\n            lowest_root_block.getHeightWidth().height +\n            Blockly.BlockSvg.MIN_BLOCK_Y;\n    }\n\n    const filtered_top_blocks = top_blocks.filter(block => !block.isMainBlock());\n\n    filtered_top_blocks.forEach(block => {\n        const xy = block.getRelativeToSurfaceXY();\n        const cursor_x = is_import ? x : -xy.x;\n        const cursor_y = original_cursor_y - (is_import ? 0 : xy.y);\n\n        block.moveBy(cursor_x, cursor_y);\n        block.snapToGrid();\n\n        original_cursor_y =\n            block.getRelativeToSurfaceXY().y + block.getHeightWidth().height + Blockly.BlockSvg.MIN_BLOCK_Y;\n    });\n\n    Blockly.Events.setGroup(false);\n    this.setResizesEnabled(true);\n};\n\n/**\n * Return an object with all the metrics required to size scrollbars for a\n * top level workspace.  The following properties are computed:\n * Coordinate system: pixel coordinates.\n * .viewHeight: Height of the visible rectangle,\n * .viewWidth: Width of the visible rectangle,\n * .contentHeight: Height of the contents,\n * .contentWidth: Width of the content,\n * .viewTop: Offset of top edge of visible rectangle from parent,\n * .viewLeft: Offset of left edge of visible rectangle from parent,\n * .contentTop: Offset of the top-most content from the y=0 coordinate,\n * .contentLeft: Offset of the left-most content from the x=0 coordinate.\n * .absolute_top: Top-edge of view.\n * .absolute_left: Left-edge of view.\n * .toolboxWidth: Width of toolbox, if it exists.  Otherwise zero.\n * .toolboxHeight: Height of toolbox, if it exists.  Otherwise zero.\n * .flyoutWidth: Width of the flyout if it is always open.  Otherwise zero.\n * .flyoutHeight: Height of flyout if it is always open.  Otherwise zero.\n * .toolboxPosition: Top, bottom, left or right.\n * @return {!Object} Contains size and position metrics of a top level\n *   workspace.\n * @private\n * @this Blockly.WorkspaceSvg\n */\nBlockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_ = function () {\n    const toolbox_dimensions = Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_);\n    const flyout_dimensions = Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_);\n\n    // Contains height and width in CSS pixels.\n    // svg_size is equivalent to the size of the injectionDiv at this point.\n    const svg_size = Blockly.svgSize(this.getParentSvg());\n\n    if (this.toolbox_) {\n        if (this.toolboxPosition === Blockly.TOOLBOX_AT_TOP || this.toolboxPosition === Blockly.TOOLBOX_AT_BOTTOM) {\n            svg_size.height -= toolbox_dimensions.height;\n        } else if (\n            this.toolboxPosition === Blockly.TOOLBOX_AT_LEFT ||\n            this.toolboxPosition === Blockly.TOOLBOX_AT_RIGHT\n        ) {\n            svg_size.width -= toolbox_dimensions.width;\n        }\n    }\n\n    // svg_size is now the space taken up by the Blockly workspace, not including the toolbox.\n    const content_dimensions = Blockly.WorkspaceSvg.getContentDimensions_(this, svg_size);\n\n    let absolute_left = 0;\n    let absolute_top = 0;\n\n    if (this.toolbox_ && this.toolboxPosition === Blockly.TOOLBOX_AT_LEFT) {\n        absolute_top = 50; // deriv-bot: Add some spacing for Core header.\n        absolute_left = toolbox_dimensions.width;\n    }\n\n    if (this.toolbox_ && this.toolboxPosition === Blockly.TOOLBOX_AT_TOP) {\n        absolute_top = toolbox_dimensions.height + 50;\n    }\n\n    const metrics = {\n        contentHeight: content_dimensions.height,\n        contentWidth: content_dimensions.width,\n        contentTop: content_dimensions.top,\n        contentLeft: content_dimensions.left,\n        viewHeight: svg_size.height,\n        viewWidth: svg_size.width,\n        viewTop: -this.scrollY, // Must be in pixels, somehow.\n        viewLeft: -this.scrollX, // Must be in pixels, somehow.\n        absoluteTop: absolute_top,\n        absoluteLeft: absolute_left,\n        toolboxWidth: toolbox_dimensions.width,\n        toolboxHeight: toolbox_dimensions.height,\n        flyoutWidth: flyout_dimensions.width,\n        flyoutHeight: flyout_dimensions.height,\n        toolboxPosition: this.toolboxPosition,\n    };\n\n    return metrics;\n};\n\n/**\n * Paste the provided block onto the workspace.\n * @param {!Element} xml_block XML block element.\n */\nBlockly.WorkspaceSvg.prototype.paste = function (xml_block) {\n    if (!this.rendered) {\n        return;\n    }\n\n    if (this.currentGesture_) {\n        this.currentGesture_.cancel(); // Dragging while pasting?  No.\n    }\n\n    if (xml_block.tagName.toLowerCase() === 'comment') {\n        this.pasteWorkspaceComment_(xml_block);\n    } else {\n        removeLimitedBlocks(this, xml_block.getAttribute('type'));\n        this.pasteBlock_(xml_block);\n    }\n};\n\n/**\n * Show the context menu for the workspace.\n * @param {!Event} e Mouse event.\n * @private\n */\nBlockly.WorkspaceSvg.prototype.showContextMenu_ = function (e) {\n    if (this.options.readOnly || this.isFlyout) {\n        return;\n    }\n    const menu_options = [];\n    const top_blocks = this.getTopBlocks(true);\n    const all_blocks = this.getAllBlocks(true);\n\n    // Options to undo/redo previous action.\n    menu_options.push(Blockly.ContextMenu.wsUndoOption(this));\n    menu_options.push(Blockly.ContextMenu.wsRedoOption(this));\n\n    // Option to clean up blocks.\n    if (this.scrollbar) {\n        menu_options.push(Blockly.ContextMenu.wsCleanupOption(this, top_blocks.length));\n    }\n\n    if (this.options.collapse) {\n        const has_collapsed_blocks = all_blocks.some(block => block.isCollapsed());\n        const has_expanded_blocks = all_blocks.some(block => !block.isCollapsed());\n\n        menu_options.push(Blockly.ContextMenu.wsExpandOption(has_collapsed_blocks, all_blocks));\n        menu_options.push(Blockly.ContextMenu.wsCollapseOption(has_expanded_blocks, all_blocks));\n    }\n\n    // Option to add a workspace comment.\n    if (this.options.comments) {\n        menu_options.push(Blockly.ContextMenu.workspaceCommentOption(this, e));\n    }\n\n    menu_options.push(Blockly.ContextMenu.wsDeleteOption(this, top_blocks));\n\n    Blockly.ContextMenu.show(e, menu_options, this.RTL);\n};\n\n/**\n * Dispose of this workspace.\n * Unlink from all DOM elements to prevent memory leaks.\n */\nBlockly.WorkspaceSvg.prototype.dispose = function (should_show_loading = false) {\n    const disposeFn = () => {\n        // Stop rerendering.\n        this.rendered = false;\n        if (this.currentGesture_) {\n            this.currentGesture_.cancel();\n        }\n        Blockly.WorkspaceSvg.superClass_.dispose.call(this);\n        if (this.svgGroup_) {\n            goog.dom.removeNode(this.svgGroup_);\n            this.svgGroup_ = null;\n        }\n        this.svgBlockCanvas_ = null;\n        this.svgBubbleCanvas_ = null;\n        if (this.toolbox_) {\n            this.toolbox_.dispose();\n            this.toolbox_ = null;\n        }\n        if (this.flyout_) {\n            this.flyout_.dispose();\n            this.flyout_ = null;\n        }\n        if (this.trashcan) {\n            this.trashcan.dispose();\n            this.trashcan = null;\n        }\n        if (this.scrollbar) {\n            this.scrollbar.dispose();\n            this.scrollbar = null;\n        }\n        if (this.zoomControls_) {\n            this.zoomControls_.dispose();\n            this.zoomControls_ = null;\n        }\n\n        if (this.audioManager_) {\n            this.audioManager_.dispose();\n            this.audioManager_ = null;\n        }\n\n        if (this.grid_) {\n            this.grid_.dispose();\n            this.grid_ = null;\n        }\n\n        if (this.toolboxCategoryCallbacks_) {\n            this.toolboxCategoryCallbacks_ = null;\n        }\n        if (this.flyoutButtonCallbacks_) {\n            this.flyoutButtonCallbacks_ = null;\n        }\n        if (!this.options.parentWorkspace) {\n            // Top-most workspace.  Dispose of the div that the\n            // SVG is injected into (i.e. injectionDiv).\n            goog.dom.removeNode(this.getParentSvg().parentNode);\n        }\n        if (this.resizeHandlerWrapper_) {\n            Blockly.unbindEvent_(this.resizeHandlerWrapper_);\n            this.resizeHandlerWrapper_ = null;\n        }\n    };\n\n    if (should_show_loading) {\n        const { setLoading } = DBotStore.instance;\n        setLoading(true);\n\n        setTimeout(() => {\n            disposeFn();\n            setLoading(false);\n        }, 50);\n    } else {\n        disposeFn();\n    }\n};\n\n/**\n * Dispose of all blocks in workspace, with an optimization to prevent resizes.\n */\nBlockly.WorkspaceSvg.prototype.asyncClear = function () {\n    const { setLoading } = DBotStore.instance;\n    setLoading(true);\n\n    return new Promise(resolve => {\n        this.clear();\n        setLoading(false);\n        resolve();\n    });\n};\n","import { blueInfo } from '../blocks/images';\n\nBlockly.Tooltip.HOVER_MS = 50;\n\nBlockly.Tooltip.show_ = () => {\n    let params;\n    Blockly.Tooltip.DIV = ((Blockly.Tooltip.poisonedElement_ = Blockly.Tooltip.element_), Blockly.Tooltip.DIV);\n    if (!Blockly.Tooltip.blocked_) {\n        Blockly.Tooltip.DIV.innerHTML = '';\n        for (params = Blockly.Tooltip.element_.tooltip; typeof params === 'function'; ) params = params();\n        params = Blockly.utils.string.wrap(params, Blockly.Tooltip.LIMIT);\n        params = params.split('\\n');\n\n        params.forEach((param, index) => {\n            const div = document.createElement('div');\n            const text_span = document.createElement('span');\n\n            text_span.appendChild(document.createTextNode(param));\n            text_span.style.verticalAlign = 'middle';\n            Blockly.Tooltip.DIV.appendChild(div);\n\n            if (!index) {\n                const img = document.createElement('img');\n                const img_span = document.createElement('span');\n                img.src = blueInfo;\n                img.style.paddingRight = '8px';\n                img.style.verticalAlign = 'middle';\n                div.appendChild(img_span);\n                img_span.appendChild(img);\n            } else {\n                text_span.style.paddingLeft = '24px';\n            }\n\n            div.appendChild(text_span);\n        });\n\n        const direction = Blockly.Tooltip.element_.RTL;\n        const client_width = document.documentElement.clientWidth;\n        const client_height = document.documentElement.clientHeight;\n        if (Blockly.Tooltip.DIV) {\n            Blockly.Tooltip.DIV.style.direction = direction ? 'rtl' : 'ltr';\n        }\n        Blockly.Tooltip.DIV.style.display = 'block';\n        Blockly.Tooltip.visible = true;\n        let last_x = Blockly.Tooltip.lastX_;\n        last_x = direction\n            ? last_x - (Blockly.Tooltip.OFFSET_X + Blockly.Tooltip.DIV.offsetWidth)\n            : last_x + Blockly.Tooltip.OFFSET_X;\n        let last_y = Blockly.Tooltip.lastY_ + Blockly.Tooltip.OFFSET_Y;\n        if (last_y + Blockly.Tooltip.DIV.offsetHeight > client_height + window.scrollY) {\n            last_y -= Blockly.Tooltip.DIV.offsetHeight + 2 * Blockly.Tooltip.OFFSET_Y;\n        }\n        if (direction) {\n            last_x = Math.max(Blockly.Tooltip.MARGINS - window.scrollX, last_x);\n        }\n        if (last_x + Blockly.Tooltip.DIV.offsetWidth > client_width + window.scrollX - 2 * Blockly.Tooltip.MARGINS) {\n            last_x = client_width - Blockly.Tooltip.DIV.offsetWidth - 2 * Blockly.Tooltip.MARGINS;\n        }\n        Blockly.Tooltip.DIV.style.top = `${last_y}px`;\n        Blockly.Tooltip.DIV.style.left = `${last_x}px`;\n    }\n};\n\nBlockly.Tooltip.hide = () => {\n    if (Blockly.Tooltip.visible && Blockly.Tooltip.DIV) {\n        Blockly.Tooltip.visible = false;\n        setTimeout(() => (Blockly.Tooltip.DIV.style.display = 'none'), Blockly.Tooltip.HOVER_MS);\n    }\n    if (Blockly.Tooltip.showPid_) {\n        clearTimeout(Blockly.Tooltip.showPid_);\n    }\n\n    /// For hiding tooltip next to the platform name.\n    if (!Blockly.Tooltip.DIV?.style.direction) {\n        Blockly.Tooltip.visible = false;\n        Blockly.Tooltip.DIV.style.display = 'none';\n    }\n};\n","/* eslint-disble */\n/**\n * Create a main workspace and add it to the SVG.\n * @param {!Element} svg SVG element with pattern defined.\n * @param {!Blockly.Options} options Dictionary of options.\n * @param {!Blockly.BlockDragSurfaceSvg} blockDragSurface Drag surface SVG\n *     for the blocks.\n * @param {!Blockly.WorkspaceDragSurfaceSvg} workspaceDragSurface Drag surface\n *     SVG for the workspace.\n * @return {!Blockly.Workspace} Newly created main workspace.\n * @private\n */\nBlockly.createVirtualWorkspace_ = function (fragment, options, blockDragSurface, workspaceDragSurface) {\n    options.parentWorkspace = null;\n    const mainWorkspace = new Blockly.WorkspaceSvg(options, blockDragSurface, workspaceDragSurface);\n    mainWorkspace.scale = options.zoomOptions.startScale;\n    fragment.appendChild(mainWorkspace.createDom('blocklyMainBackground'));\n\n    return mainWorkspace;\n};\n","/**\n * Change the colour of the associated bubble to match its block.\n * deriv-bot: Use primary colour instead of tertiary. At time of writing\n * we use colour too similar to workspace background colour for tertiary (borders).\n * @package\n */\nBlockly.ScratchBlockComment.prototype.updateColour = function () {\n    if (this.isVisible()) {\n        this.bubble_.setColour(this.block_.getColour());\n    }\n};\n","// deriv-bot: Reference the correct function of wrap. This is due to\n// Scratch using different structure vs Blockly.\nBlockly.utils.string = {\n    wrap: Blockly.utils.wrap,\n};\n","Blockly.VariableMap.prototype.createVariable = function (name, opt_type, opt_id, opt_is_local, opt_is_cloud) {\n    let variable = this.getVariable(name, opt_type);\n\n    if (variable) {\n        return variable;\n    }\n\n    if (opt_id) {\n        variable = this.getVariableById(opt_id);\n\n        if (variable) {\n            return variable;\n        }\n    }\n\n    const optional_id = opt_id || Blockly.utils.genUid();\n    const optional_type = opt_type || '';\n\n    variable = new Blockly.VariableModel(this.workspace, name, optional_type, optional_id, opt_is_local, opt_is_cloud);\n\n    // If opt_type is not a key, create a new list.\n    if (!this.variableMap_[optional_type]) {\n        this.variableMap_[optional_type] = [variable];\n    } else {\n        // Else append the variable to the preexisting list.\n        this.variableMap_[optional_type].push(variable);\n    }\n\n    return variable;\n};\n","/**\n * Find all user-created variables that are in use in the workspace.\n * For use by generators.\n * To get a list of all variables on a workspace, including unused variables,\n * call Workspace.getAllVariables.\n * @deriv/bot: Required for JS generator to work.\n * @param {!Blockly.Workspace} ws The workspace to search for variables.\n * @return {!Array.<!Blockly.VariableModel>} Array of variable models.\n */\nBlockly.Variables.allUsedVarModels = function (ws) {\n    const blocks = ws.getAllBlocks(false);\n    const variableHash = Object.create(null);\n\n    // Iterate through every block and add each variable to the hash.\n    blocks.forEach(block => {\n        const blockVariables = block.getVarModels();\n        if (blockVariables) {\n            blockVariables.forEach(blockVariable => {\n                const id = blockVariable.getId();\n                if (id) {\n                    variableHash[id] = blockVariable;\n                }\n            });\n        }\n    });\n\n    // Flatten the hash into a list.\n    const variableList = [];\n    Object.keys(variableHash).forEach(id => {\n        variableList.push(variableHash[id]);\n    });\n\n    return variableList;\n};\n\n/**\n * Generate DOM objects representing a variable field.\n * @param {!Blockly.VariableModel} variableModel The variable model to\n *     represent.\n * @return {Element} The generated DOM.\n * @public\n */\nBlockly.Variables.generateVariableFieldDom = function (variableModel) {\n    /* Generates the following XML:\n     * <field name=\"VAR\" id=\"goKTKmYJ8DhVHpruv\" variabletype=\"int\">foo</field>\n     */\n    const field = document.createElement('field');\n\n    field.setAttribute('name', 'VAR');\n    field.setAttribute('id', variableModel.getId());\n    field.setAttribute('variabletype', variableModel.type);\n\n    const name = document.createTextNode(variableModel.name);\n    field.appendChild(name);\n    return field;\n};\n","Blockly.WorkspaceAudio.prototype.preload = function () {};\n","Blockly.Xml.NODE_BLOCK = 'BLOCK';\nBlockly.Xml.NODE_BUTTON = 'BUTTON';\nBlockly.Xml.NODE_LABEL = 'LABEL';\nBlockly.Xml.NODE_SHADOW = 'SHADOW';\nBlockly.Xml.NODE_INPUT = 'INPUT';\n","import filesaver from 'file-saver';\nimport { config } from '../constants/config';\n\nexport const saveAs = ({ data, filename, type }) => {\n    const blob = new Blob([data], { type });\n    filesaver.saveAs(blob, filename);\n};\n\nexport const getContractTypeOptions = (contract_type, trade_type) => {\n    const trade_types = config.opposites[trade_type.toUpperCase()];\n\n    if (!trade_types) {\n        return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    const contract_options = trade_types.map(type => Object.entries(type)[0].reverse());\n\n    // When user selected a specific contract, only return the contract type they selected.\n    if (contract_type !== 'both') {\n        return contract_options.filter(option => option[1] === contract_type);\n    }\n\n    return contract_options;\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../constants/config';\nimport ApiHelpers from '../services/api/api-helpers';\n\n/* eslint-disable no-underscore-dangle */\nexport default class BlockConversion {\n    constructor() {\n        this.blocks_pending_reconnect = {};\n        this.workspace = this.createWorkspace();\n        this.workspace_variables = {};\n        this.has_market_block = false;\n        this.exception_blocks = ['r_100'];\n    }\n\n    getConversions() {\n        const generateGrowingListBlock = (block_node, block_type, variable_name, child_value_input_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const block_child_nodes = Array.from(block_node.children);\n            const mutation_dom = block_child_nodes.find(child_node => child_node.tagName.toLowerCase() === 'mutation');\n\n            if (mutation_dom) {\n                const items_amount = parseInt(mutation_dom.getAttribute('items')) || 0;\n\n                if (items_amount > 0) {\n                    // In DBot we have a statement block for each value part of the list, so we need to\n                    // generate blocks for these and connect them to the parent's statement.\n                    for (let i = 0; i < items_amount; i++) {\n                        block.onIconClick();\n                    }\n\n                    // Note that value_input_nodes.length can be different than the items_amount\n                    // user can have empty entries in their list!\n                    block_child_nodes\n                        .filter(child_node => child_node.tagName.toLowerCase() === 'value')\n                        .forEach(child_node => {\n                            const value_input_name = child_node.getAttribute('name');\n                            const value_input_index = parseInt(value_input_name.replace(/[^0-9]+/g, ''));\n\n                            Array.from(child_node.children).forEach(value_block_node => {\n                                const value_block = this.convertBlockNode(value_block_node, block);\n\n                                // Now connect this converted block to the new text_statement.\n                                const statement_block = block\n                                    .getBlocksInStatement('STACK')\n                                    .find((b, i) => value_input_index === i);\n                                const value_input = statement_block.getInput(child_value_input_name);\n\n                                value_input.connection.connect(value_block.outputConnection);\n                            });\n\n                            child_node.parentNode.removeChild(child_node);\n                        });\n                }\n            }\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const generateIndicatorBlock = (block_node, block_type, variable_name) => {\n            const block = this.workspace.newBlock(block_type);\n            const value_input_name_mappings = {\n                input_list: [{ old: 'INPUT', new: 'INPUT_LIST' }],\n                period: [{ old: 'PERIOD', new: 'PERIOD' }],\n                fast_ema_period: [{ old: 'FAST_EMA_PERIOD', new: 'FAST_EMA_PERIOD' }],\n                signal_ema_period: [\n                    // https://github.com/binary-com/binary-bot/pull/1123\n                    { old: 'SMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                    { old: 'SIGNAL_EMA_PERIOD', new: 'SIGNAL_EMA_PERIOD' },\n                ],\n                slow_ema_period: [{ old: 'SLOW_EMA_PERIOD', new: 'SLOW_EMA_PERIOD' }],\n                std_dev_multiplier_up: [{ old: 'UPMULTIPLIER', new: 'UPMULTIPLIER' }],\n                std_dev_multiplier_down: [{ old: 'DOWNMULTIPLIER', new: 'DOWNMULTIPLIER' }],\n            };\n\n            // Bollinger Bands + MACDA have some fields we need to carry over.\n            switch (block_type) {\n                case 'bb_statement':\n                case 'bba_statement': {\n                    const bb_result_list = block.getField('BBRESULT_LIST');\n                    if (bb_result_list) {\n                        bb_result_list.setValue(this.getFieldValue(block_node, 'BBRESULT_LIST'));\n                    }\n                    break;\n                }\n                case 'macda_statement': {\n                    const macd_fields_list = block.getField('MACDFIELDS_LIST');\n                    if (macd_fields_list) {\n                        macd_fields_list.setValue(this.getFieldValue(block_node, 'MACDFIELDS_LIST'));\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n\n            // Attach required child blocks (these are defined on each indicator block).\n            const required_child_blocks = block.required_child_blocks || [];\n\n            required_child_blocks.forEach(required_child_block_name => {\n                const child_block = this.workspace.newBlock(required_child_block_name);\n                const last_connection = block.getLastConnectionInStatement('STATEMENT');\n\n                last_connection.connect(child_block.previousConnection);\n            });\n\n            const blocks_in_statement = block.getBlocksInStatement('STATEMENT');\n\n            blocks_in_statement.forEach(block_in_statement => {\n                const value_name_mappings = value_input_name_mappings[block_in_statement.type];\n\n                if (value_name_mappings) {\n                    value_name_mappings.forEach(value_name_mapping => {\n                        const el_value = block_node.querySelector(`value[name=\"${value_name_mapping.old}\"]`);\n\n                        if (el_value) {\n                            const value_input = block_in_statement.getInput(value_name_mapping.new);\n\n                            Array.from(el_value.children).forEach(el_value_child => {\n                                const converted_block = this.convertBlockNode(el_value_child, block);\n                                const input_child_type = el_value_child.tagName.toLowerCase();\n\n                                if (input_child_type === 'shadow') {\n                                    converted_block.setShadow(true);\n                                }\n\n                                value_input.connection.connect(converted_block.outputConnection);\n                            });\n\n                            el_value.parentNode.removeChild(el_value);\n                        }\n                    });\n                }\n            });\n\n            // Return variable block instead of statement.\n            const variable = this.generateUniqueVariable(variable_name);\n            const variable_block = this.workspace.newBlock('variables_get');\n\n            variable_block.setFieldValue(variable.getId(), 'VAR');\n            block.setFieldValue(variable.getId(), 'VARIABLE');\n\n            return {\n                block_to_attach: variable_block,\n                statement_blocks: [block],\n            };\n        };\n        const tradeOptions = (block_node, is_symbol_type = false) => {\n            const block = this.workspace.newBlock('trade_definition_tradeoptions');\n            const block_node_to_use = block_node;\n\n            // Legacy symbol blocks used a statement \"CONDITION\" populated with a trade type block.\n            // This trade type block has the same structure as tradeOptions, hence we can use it here.\n            if (is_symbol_type) {\n                return false;\n            }\n\n            const fields = [\n                'DURATIONTYPE_LIST',\n                'CURRENCY_LIST',\n                'BARRIEROFFSETTYPE_LIST',\n                'SECONDBARRIEROFFSETTYPE_LIST',\n            ];\n            const block_child_nodes = Array.from(block_node_to_use.children);\n\n            let barrier_inputs = 0;\n            let has_prediction = false;\n\n            block_child_nodes\n                .filter(block_child_node => block_child_node.tagName.toLowerCase() === 'value')\n                .forEach(block_child_node => {\n                    const value_input_name = block_child_node.getAttribute('name');\n\n                    if (value_input_name === 'BARRIEROFFSET' || value_input_name === 'SECONDBARRIEROFFSET') {\n                        barrier_inputs++;\n                    } else if (value_input_name === 'PREDICTION') {\n                        has_prediction = true;\n                    }\n                });\n\n            if (barrier_inputs > 0) {\n                block.createBarrierInputs({\n                    allow_both_types: true,\n                    values: [1, -1],\n                });\n            }\n\n            if (has_prediction) {\n                block.createPredictionInput([0]);\n            }\n\n            fields.forEach(field_name => {\n                const field = block.getField(field_name);\n                if (field) {\n                    field.setValue(this.getFieldValue(block_node_to_use, field_name));\n                }\n            });\n\n            return { block_to_attach: block };\n        };\n        const conversions = {\n            bb: block_node => generateIndicatorBlock(block_node, 'bb_statement', 'bb'),\n            bba: block_node => generateIndicatorBlock(block_node, 'bba_statement', 'bba'),\n            ema: block_node => generateIndicatorBlock(block_node, 'ema_statement', 'ema'),\n            emaa: block_node => generateIndicatorBlock(block_node, 'emaa_statement', 'emaa'),\n            lists_create_with: block_node =>\n                generateGrowingListBlock(block_node, 'lists_create_with', localize('list'), 'VALUE'),\n            macda: block_node => generateIndicatorBlock(block_node, 'macda_statement', 'macda'),\n            market: block_node => {\n                this.has_market_block = true;\n                return tradeOptions(block_node);\n            },\n            rsi: block_node => generateIndicatorBlock(block_node, 'rsi_statement', 'rsi'),\n            rsia: block_node => generateIndicatorBlock(block_node, 'rsia_statement', 'rsia'),\n            sma: block_node => generateIndicatorBlock(block_node, 'sma_statement', 'sma'),\n            smaa: block_node => generateIndicatorBlock(block_node, 'smaa_statement', 'smaa'),\n            text_join: block_node => generateGrowingListBlock(block_node, 'text_join', localize('text'), 'TEXT'),\n            trade: block_node => {\n                const block = this.workspace.newBlock('trade_definition');\n                const block_fields = {\n                    trade_definition_market: ['MARKET_LIST', 'SUBMARKET_LIST', 'SYMBOL_LIST'],\n                    trade_definition_tradetype: ['TRADETYPECAT_LIST', 'TRADETYPE_LIST'],\n                    trade_definition_contracttype: ['TYPE_LIST'],\n                    trade_definition_candleinterval: ['CANDLEINTERVAL_LIST'],\n                    trade_definition_restartbuysell: ['TIME_MACHINE_ENABLED'],\n                    trade_definition_restartonerror: ['RESTARTONERROR'],\n                };\n\n                const blocks_to_connect = {};\n\n                Object.keys(block_fields).forEach(child_block_name => {\n                    const child_block = this.workspace.newBlock(child_block_name);\n\n                    block_fields[child_block_name].forEach(field_name => {\n                        child_block.setFieldValue(this.getFieldValue(block_node, field_name), field_name);\n                    });\n\n                    blocks_to_connect[child_block_name] = child_block;\n                });\n\n                Object.values(blocks_to_connect).forEach(child_block => {\n                    const last_connection = block.getLastConnectionInStatement('TRADE_OPTIONS');\n                    last_connection.connect(child_block.previousConnection);\n                });\n\n                return { block_to_attach: block };\n            },\n            tradeOptions,\n        };\n\n        return conversions;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getIllegalBlocks() {\n        const illegal_blocks = [];\n\n        // Legacy symbol + trade_type blocks are special cases, they are turned into multiple blocks.\n        // We don't convert these atm, as a workaround users can import to BBot, then export and load\n        // into DBot.\n        const { active_symbols } = ApiHelpers.instance.active_symbols;\n        const { opposites } = config;\n\n        active_symbols.forEach(active_symbol => {\n            const symbol_name = active_symbol.symbol.toLowerCase();\n            if (!illegal_blocks.includes(symbol_name)) {\n                illegal_blocks.push(symbol_name);\n            }\n        });\n\n        // All trade types blocks cannot be converted at this time.\n        Object.keys(opposites).forEach(opposites_name => illegal_blocks.push(opposites_name));\n\n        return illegal_blocks;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    createWorkspace() {\n        const options = new Blockly.Options({ media: `${__webpack_public_path__}media/` });\n        const el_injection_div = new DocumentFragment();\n        const workspace = Blockly.createVirtualWorkspace_(el_injection_div, options, false, false);\n\n        return workspace;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFieldValue(el_block, field_name) {\n        const el_field = el_block.querySelector(`field[name=\"${field_name}\"]`);\n        return el_field ? el_field.textContent : '';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getFirstBlockInStack(block) {\n        let current_previous_connection = block.previousConnection;\n        let previous_block = block.getPreviousBlock();\n\n        if (!current_previous_connection) {\n            return block;\n        }\n\n        while (previous_block) {\n            if (previous_block === block.getSurroundParent()) {\n                break;\n            }\n\n            current_previous_connection = previous_block.previousConnection;\n            previous_block = previous_block.getPreviousBlock();\n        }\n\n        return current_previous_connection.sourceBlock_;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    updateRenamedFields(xml) {\n        const renamed_fields = {\n            MARKET_LIST: {\n                volidx: 'synthetic_index',\n            },\n            TRADETYPECAT_LIST: {\n                endsinout: 'inout',\n                staysinout: 'inout',\n                callputequal: 'callput',\n            },\n            TRADETYPE_LIST: {\n                risefall: 'callput',\n                risefallequals: 'callputequal',\n            },\n        };\n\n        Object.keys(renamed_fields).forEach(field_name => {\n            const el_field = xml.querySelector(`field[name=\"${field_name}\"]`);\n\n            if (el_field) {\n                const value = el_field.innerText;\n\n                Object.keys(renamed_fields[field_name]).forEach(old_name => {\n                    if (value === old_name) {\n                        el_field.innerText = renamed_fields[field_name][old_name];\n                    }\n                });\n            }\n        });\n\n        return xml;\n    }\n\n    naivelyFixLegacyStrategyAfterConversion() {\n        // For old \"market\" blocks, move everything in \"Trade options\" except \"DURATION\"\n        // to \"Run once at start\". Legacy \"market\" blocks had no such thing as \"Run once at start\"\n        // not moving everything would kill Martingale strategies as they'd be reinitialised each run.\n        const trade_definition_block = this.workspace.getTradeDefinitionBlock();\n        const has_initialization_block = trade_definition_block.getBlocksInStatement('INITIALIZATION').length > 0;\n        if (trade_definition_block) {\n            trade_definition_block.getBlocksInStatement('SUBMARKET').forEach(block => {\n                if (\n                    block.type !== 'trade_definition_tradeoptions' &&\n                    this.has_market_block &&\n                    !has_initialization_block\n                ) {\n                    const last_connection = trade_definition_block.getLastConnectionInStatement('INITIALIZATION');\n                    block.unplug(true);\n                    last_connection.connect(block.previousConnection);\n                }\n            });\n        }\n    }\n\n    generateUniqueVariable(variable_name) {\n        let current_name = variable_name;\n        let counter = 0;\n\n        while (Object.values(this.workspace_variables).includes(current_name)) {\n            counter++;\n            current_name = variable_name + counter;\n        }\n\n        const ws_variable = Blockly.Variables.getOrCreateVariablePackage(this.workspace, '', current_name, '');\n        this.workspace_variables[ws_variable.id_] = current_name; // eslint-disable-line\n\n        return ws_variable;\n    }\n\n    convertStrategy(strategy_node, showIncompatibleStrategyDialog) {\n        // Disable events (globally) to suppress block onchange listeners from firing.\n        Blockly.Events.disable();\n\n        // We only want to update renamed fields for modern strategies.\n        const xml = this.updateRenamedFields(strategy_node);\n\n        // Don't convert already compatible strategies.\n        if (strategy_node.hasAttribute('is_dbot') && strategy_node.getAttribute('is_dbot') === 'true') {\n            Blockly.Events.enable();\n            return xml;\n        }\n\n        const has_illegal_block = this.getIllegalBlocks().some(illegal_block_type => {\n            if (!this.exception_blocks.includes(illegal_block_type)) {\n                return !!xml.querySelector(`block[type=\"${illegal_block_type}\"]`);\n            }\n        });\n\n        if (has_illegal_block) {\n            if (showIncompatibleStrategyDialog) {\n                showIncompatibleStrategyDialog();\n            }\n            Blockly.Events.enable();\n            return Blockly.Xml.textToDom('<xml />');\n        }\n\n        const variable_nodes = [];\n        const block_nodes = [];\n\n        Array.from(xml.children).forEach(strategy_child_node => {\n            const tag_name = strategy_child_node.nodeName.toLowerCase();\n\n            switch (tag_name) {\n                case 'block':\n                case 'shadow': {\n                    block_nodes.push(strategy_child_node);\n                    break;\n                }\n                case 'variables': {\n                    variable_nodes.push(...strategy_child_node.children);\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        const registerVariables = el_variables => {\n            el_variables.forEach(el_variable => {\n                const variable_id = el_variable.getAttribute('id');\n                const variable_name = el_variable.textContent;\n\n                if (!this.workspace_variables[variable_id]) {\n                    const variable = Blockly.Variables.getOrCreateVariablePackage(\n                        this.workspace,\n                        variable_id,\n                        variable_name,\n                        ''\n                    );\n                    this.workspace_variables[variable.id_] = variable.name;\n                }\n            });\n        };\n\n        // Register pre-existing variables taken from XML file. Users may register variables\n        // but not use them, we should not delete them nor create only the ones used in the strategy.\n        registerVariables(variable_nodes);\n\n        // Collection strategies don't pre-register variables, find these and register\n        // variable instances for them if they don't exist yet.\n        registerVariables(xml.querySelectorAll('field[name=\"VAR\"]'));\n\n        block_nodes.forEach(block_node => this.convertBlockNode(block_node));\n\n        // Re-connect blocks that have been transformed into multiples. i.e. in the case\n        // of old multiline blocks converted to statement blocks.\n        Object.keys(this.blocks_pending_reconnect).forEach(previous_sibling_id => {\n            const previous_sibling_block = this.workspace.getBlockById(previous_sibling_id);\n            const child_blocks = this.blocks_pending_reconnect[previous_sibling_id];\n            const sibling_previous_connection = previous_sibling_block.previousConnection;\n\n            if (sibling_previous_connection) {\n                const sibling_previous_target_connection = sibling_previous_connection.targetConnection;\n                let highest_previous_connection = sibling_previous_connection;\n\n                // Connect all the blocks to be connected in reverse, we do this to maintain\n                // the original order of statement blocks, although the order mostly doesn't\n                // matter. (This may change, it may matter for other statement blocks.)\n                child_blocks.reverse().forEach(child_block => {\n                    highest_previous_connection.connect(child_block.nextConnection);\n                    highest_previous_connection = child_block.previousConnection;\n                });\n\n                if (sibling_previous_target_connection) {\n                    // Reconnect the first block in this statement to the original parent connection.\n                    let current_previous_connection = previous_sibling_block.previousConnection;\n                    let previous_block = previous_sibling_block.getPreviousBlock();\n\n                    while (previous_block) {\n                        if (previous_block === previous_block.getSurroundParent()) {\n                            break;\n                        }\n\n                        current_previous_connection = previous_block.previousConnection;\n                        previous_block = previous_block.getPreviousBlock();\n                    }\n\n                    sibling_previous_target_connection.connect(current_previous_connection);\n                }\n            }\n        });\n\n        this.naivelyFixLegacyStrategyAfterConversion();\n\n        this.workspace.getAllBlocks(true).forEach(block => {\n            block.initSvg();\n            block.render();\n        });\n\n        this.workspace.cleanUp();\n\n        const converted_xml = Blockly.Xml.workspaceToDom(this.workspace);\n\n        if (strategy_node.hasAttribute('collection') && strategy_node.getAttribute('collection') === 'true') {\n            converted_xml.setAttribute('collection', 'true');\n        }\n\n        converted_xml.setAttribute('is_dbot', 'true');\n\n        this.workspace = null;\n\n        Blockly.Events.enable();\n\n        return converted_xml;\n    }\n\n    convertBlockNode(el_block, parent_block = null) {\n        const conversions = this.getConversions();\n        const block_type = el_block.getAttribute('type');\n        const is_old_block = Object.keys(conversions).includes(block_type);\n        let block = null;\n\n        const is_collapsed = el_block.getAttribute('collapsed') && el_block.getAttribute('collapsed') === 'true';\n        const is_immovable = el_block.getAttribute('movable') && el_block.getAttribute('movable') === 'false';\n        const is_undeletable = el_block.getAttribute('deletable') && el_block.getAttribute('deletable') === 'false';\n        const is_disabled = el_block.getAttribute('disabled') && el_block.getAttribute('disabled') === 'true';\n\n        const setBlockAttributes = b => {\n            b.setCollapsed(is_collapsed);\n            b.setMovable(!is_immovable);\n            b.setDeletable(!is_undeletable);\n            b.setDisabled(is_disabled);\n        };\n\n        if (is_old_block) {\n            const conversion_obj = conversions[block_type](el_block);\n\n            // block is a value block that needs to be reattached. TODO?\n            if (conversion_obj.block_to_attach) {\n                block = conversion_obj.block_to_attach;\n                setBlockAttributes(block);\n            }\n\n            // Statement blocks coming from the conversion_obj need to be attached to the block's previousConnection.\n            if (parent_block && conversion_obj.statement_blocks) {\n                conversion_obj.statement_blocks.forEach(statement_block => {\n                    // Persist block attributes.\n                    setBlockAttributes(statement_block);\n\n                    const previous_connection = this.getClosestLegalPreviousConnection(parent_block);\n\n                    if (previous_connection) {\n                        const target_block = previous_connection.sourceBlock_;\n\n                        if (!this.blocks_pending_reconnect[target_block.id]) {\n                            this.blocks_pending_reconnect[target_block.id] = [];\n                        }\n\n                        this.blocks_pending_reconnect[target_block.id].push(statement_block);\n                    }\n                });\n            }\n        } else {\n            const is_legal_block = Object.keys(Blockly.Blocks).includes(block_type);\n\n            if (is_legal_block) {\n                block = this.workspace.newBlock(block_type);\n                setBlockAttributes(block);\n\n                // Ensure mutations are correctly rendered. This logic happens here because\n                // we should ignore mutations on blocks that are already converted i.e mutations\n                // will be taken care of in conversion, not here.\n                if (block) {\n                    const mutation_dom = Array.from(el_block.children).find(\n                        child_node => child_node.tagName.toLowerCase() === 'mutation'\n                    );\n\n                    if (mutation_dom && block.domToMutation) {\n                        block.domToMutation(mutation_dom);\n                    }\n                }\n            }\n        }\n\n        if (!block) {\n            console.warn('Unrecognised block found.', block_type); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Keep track of parent_block, especially important for blocks\n        // nested in <next> statements. This property is only set during conversion.\n        if (parent_block) {\n            block.conversion_parent = parent_block;\n        }\n\n        Array.from(el_block.children).forEach(el_block_child => {\n            const tag_name = el_block_child.tagName.toLowerCase();\n\n            switch (tag_name) {\n                case 'field': {\n                    const field_name = el_block_child.getAttribute('name');\n                    const field = block.getField(field_name);\n\n                    if (field) {\n                        if (field instanceof Blockly.FieldVariable) {\n                            const variable_id = el_block_child.getAttribute('id');\n                            const variable_name = el_block_child.innerText.trim();\n                            const variable = Blockly.Variables.getOrCreateVariablePackage(\n                                this.workspace,\n                                variable_id,\n                                variable_name,\n                                ''\n                            );\n                            this.workspace_variables[variable.id_] = variable_name;\n                            field.setValue(variable.id_);\n                        } else {\n                            field.setValue(el_block_child.innerText);\n                        }\n                    }\n                    break;\n                }\n                case 'value': {\n                    this.processValueInputs(block, el_block_child);\n                    break;\n                }\n                case 'statement': {\n                    const statement_name = el_block_child.getAttribute('name');\n                    this.processStatementInputs(block, statement_name, el_block_child);\n                    break;\n                }\n                case 'next': {\n                    const closest_statement = el_block_child.closest('statement');\n\n                    if (closest_statement) {\n                        const statement_name = closest_statement.getAttribute('name');\n                        this.processStatementInputs(block, statement_name, el_block_child, block.conversion_parent);\n                    } else if (block.nextConnection) {\n                        Array.from(el_block_child.children).forEach(el_sibling_block => {\n                            const sibling_block = this.convertBlockNode(el_sibling_block);\n                            block.nextConnection.connect(sibling_block.previousConnection);\n                        });\n                    }\n                    break;\n                }\n                case 'comment': {\n                    const is_minimised = el_block_child.getAttribute('pinned') !== 'true';\n                    const comment_text = el_block_child.innerText;\n\n                    block.comment = new Blockly.ScratchBlockComment(block, comment_text, null, 0, 0, is_minimised);\n                    block.comment.iconXY_ = { x: 0, y: 0 };\n                    block.comment.setVisible(true); // Scratch comments are always visible.\n                    break;\n                }\n                default:\n                    break;\n            }\n        });\n\n        return block;\n    }\n\n    // eslint-disable-next-line consistent-return\n    processValueInputs(block, el_input) {\n        const input_name = el_input.getAttribute('name');\n        const input = block.getInput(input_name);\n\n        if (!input) {\n            console.warn('Unrecognised value input', input_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a value node is a shadow or block node. Recursively\n        // convert these block nodes to their new counterpart and re-connect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_input.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block);\n\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Illegal child.', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Set shadow property for shadow blocks.\n            const input_child_type = el_input_child_block.tagName.toLowerCase();\n            if (input_child_type === 'shadow') {\n                input_child_block.setShadow(true);\n            }\n\n            // Re-connect the child block to the value input.\n            input.connection.connect(input_child_block.outputConnection);\n        });\n    }\n\n    // eslint-disable-next-line consistent-return\n    processStatementInputs(block, statement_name, el_node_with_children, block_to_search = null) {\n        const block_to_use = block_to_search || block;\n        const input = block_to_use.getInput(statement_name);\n\n        if (!input) {\n            console.warn('Unrecognised statement input', statement_name); // eslint-disable-line no-console\n            return false;\n        }\n\n        // Each of the children of a statement node is a block node. Recursively\n        // convert these block nodes to their new counterpart and reconnect them.\n        // eslint-disable-next-line consistent-return\n        Array.from(el_node_with_children.children).forEach(el_input_child_block => {\n            const input_child_block = this.convertBlockNode(el_input_child_block, block_to_use);\n            if (!input_child_block) {\n                // eslint-disable-next-line no-console\n                console.warn('Unrecognised child in statement', el_input_child_block.getAttribute('type'));\n                return false;\n            }\n\n            // Note that blocks are connected recursively so more deeply nested blocks\n            // (i.e. nested in <next>) will be connected before less nested blocks.\n            // Luckily Blockly API works in our favour and helps maintain the correct order.\n            const statement_input = block_to_use.getInput(statement_name);\n\n            if (statement_input && input_child_block.previousConnection) {\n                statement_input.connection.connect(input_child_block.previousConnection);\n            }\n        });\n    }\n\n    getClosestLegalPreviousConnection(supposed_parent_block) {\n        // Procedures are a bit special, it's hard to find the correct connection for them so we\n        // generate a (completely useless) filler block and connect it to the procedure's statement\n        // so we can return that useless block's previousConnection.\n        if (config.procedureDefinitionBlocks.includes(supposed_parent_block.type)) {\n            const blocks_in_statement = supposed_parent_block.getBlocksInStatement('STACK');\n\n            if (blocks_in_statement.length === 0) {\n                const input = supposed_parent_block.getInput('STACK');\n                const useless_block = this.workspace.newBlock('useless_block');\n\n                input.connection.connect(useless_block.previousConnection);\n\n                return useless_block.previousConnection;\n            }\n\n            return supposed_parent_block.getInputTargetBlock('STACK').previousConnection;\n        }\n\n        let current_block = this.getFirstBlockInStack(supposed_parent_block);\n        let is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n\n        while (is_protected_statement) {\n            const new_parent = current_block.getParent();\n\n            if (new_parent) {\n                current_block = new_parent;\n                is_protected_statement = this.isConnectedToProtectedStatementInput(current_block);\n            }\n        }\n\n        if (current_block.previousConnection) {\n            return current_block.previousConnection;\n        }\n\n        if (supposed_parent_block.conversion_parent) {\n            return this.getClosestLegalPreviousConnection(supposed_parent_block.conversion_parent);\n        }\n\n        return false;\n    }\n\n    isConnectedToProtectedStatementInput(block) {\n        const first_block = this.getFirstBlockInStack(block);\n        const previous_connection = first_block.previousConnection;\n\n        if (previous_connection) {\n            const target_connection = previous_connection.targetConnection;\n\n            if (target_connection) {\n                const target_block = target_connection.sourceBlock_; // eslint-disable-line\n                const input = target_block.getInputWithConnection(target_connection);\n                const protected_statements = target_block.protected_statements || [];\n\n                if (input && protected_statements.includes(input.name)) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n}\n","import { localize } from '@deriv/translations';\nimport { saveAs } from '../shared';\nimport BlockConversion from '../backward-compatibility';\nimport { config } from '../../constants/config';\nimport { observer as globalObserver } from '../../utils/observer';\nimport { removeLimitedBlocks } from '../../utils/workspace';\nimport { saveWorkspaceToRecent } from '../../utils/local-storage';\nimport DBotStore from '../dbot-store';\nimport { log_types } from '../../constants/messages';\nimport { error_message_map } from '../../utils/error-config';\n\nexport const getSelectedTradeType = (workspace = Blockly.derivWorkspace) => {\n    const trade_type_block = workspace.getAllBlocks(true).find(block => block.type === 'trade_definition_tradetype');\n    const selected_trade_type = trade_type_block?.getFieldValue('TRADETYPE_LIST');\n    const mandatory_tradeoptions_block =\n        selected_trade_type === 'multiplier' ? 'trade_definition_multiplier' : 'trade_definition_tradeoptions';\n    return mandatory_tradeoptions_block;\n};\n\nexport const matchTranslateAttribute = translateString => {\n    const match = translateString.match(/translate\\((-?\\d*\\.?\\d+),(-?\\d*\\.?\\d+)\\)/);\n    if (match && match.length > 2) {\n        const x = parseFloat(match[1]);\n        const y = parseFloat(match[2]);\n        return { x, y };\n    }\n    return null; // Invalid or no match\n};\n\nexport const extractTranslateValues = () => {\n    const transform_value = Blockly?.derivWorkspace?.trashcan?.svgGroup_.getAttribute('transform');\n    const translate_xy = matchTranslateAttribute(transform_value);\n\n    if (!translate_xy) {\n        globalObserver.emit('Error', 'Invalid String');\n    }\n\n    return {\n        translate_X: translate_xy.x,\n        translate_Y: translate_xy.y,\n    };\n};\n\nexport const validateErrorOnBlockDelete = () => {\n    // Get the bounding rectangle of the selected block\n    const { translate_X, translate_Y } = extractTranslateValues();\n    const blockRect = Blockly.selected?.getSvgRoot().getBoundingClientRect();\n    const translate_offset = 200;\n    // Extract coordinates from the bounding rectangles\n    const blockX = blockRect?.left || 0;\n    const blockY = blockRect?.top || 0;\n    const mandatory_trade_option_block = getSelectedTradeType();\n    const required_block_types = [mandatory_trade_option_block, 'trade_definition', 'purchase', 'before_purchase'];\n    if (required_block_types?.includes(Blockly?.selected?.type)) {\n        if (\n            blockY >= translate_Y - translate_offset &&\n            blockY <= translate_Y + translate_offset &&\n            blockX >= translate_X - translate_offset &&\n            blockX <= translate_X + translate_offset\n        ) {\n            globalObserver.emit('ui.log.error', error_message_map[Blockly.selected.category_]?.default);\n        }\n    }\n};\n\nexport const updateWorkspaceName = () => {\n    if (!DBotStore?.instance) return;\n    const { load_modal } = DBotStore.instance;\n    const file_name = load_modal?.dashboard_strategies?.[0]?.name ?? config.default_file_name;\n    if (document.title.indexOf('-') > -1) {\n        const string_to_replace = document.title.substr(document.title.indexOf('-'));\n        const new_document_title = document.title.replace(string_to_replace, `- ${file_name}`);\n\n        document.title = new_document_title;\n    } else {\n        document.title += ` - ${file_name}`;\n    }\n};\n\nexport const isMainBlock = block_type => config.mainBlocks.indexOf(block_type) >= 0;\n\nexport const oppositesToDropdownOptions = opposite_name => {\n    return opposite_name.map(contract_type => {\n        // i.e. [['CALL', localize('Rise')]] becomes [[localize('Rise'), 'CALL']];\n        return Object.entries(contract_type)[0].reverse();\n    });\n};\n\nexport const cleanUpOnLoad = (blocks_to_clean, drop_event, workspace) => {\n    const { clientX = 0, clientY = 0 } = drop_event || {};\n    const toolbar_height = 76;\n    const blockly_metrics = workspace.getMetrics();\n    const scale_cancellation = 1 / workspace.scale;\n    const blockly_left = blockly_metrics.absoluteLeft - blockly_metrics.viewLeft;\n    const blockly_top = document.body.offsetHeight - blockly_metrics.viewHeight - blockly_metrics.viewTop;\n    const cursor_x = clientX ? (clientX - blockly_left) * scale_cancellation : 0;\n    const cursor_y = clientY ? (clientY - blockly_top - toolbar_height) * scale_cancellation : 0;\n\n    workspace.cleanUp(cursor_x, cursor_y, blocks_to_clean);\n};\n\nexport const save = (filename = '@deriv/bot', collection = false, xmlDom) => {\n    xmlDom.setAttribute('is_dbot', 'true');\n    xmlDom.setAttribute('collection', collection ? 'true' : 'false');\n\n    const data = Blockly.Xml.domToPrettyText(xmlDom);\n    saveAs({ data, type: 'text/xml;charset=utf-8', filename: `${filename}.xml` });\n};\n\nconst delayExecution = ms => new Promise(resolve => setTimeout(resolve, ms));\n\nexport const load = async ({\n    block_string,\n    drop_event,\n    file_name,\n    strategy_id,\n    from,\n    workspace,\n    showIncompatibleStrategyDialog,\n}) => {\n    if (!DBotStore?.instance || !workspace) return;\n    const { setLoading } = DBotStore.instance;\n    setLoading(true);\n    // Delay execution to allow fully previewing previous strategy if users quickly switch between strategies.\n    await delayExecution(100);\n    const showInvalidStrategyError = () => {\n        setLoading(false);\n        const error_message = localize('XML file contains unsupported elements. Please check or modify file.');\n        globalObserver.emit('ui.log.error', error_message);\n    };\n\n    // Check if XML can be parsed correctly.\n    try {\n        const xmlDoc = new DOMParser().parseFromString(block_string, 'application/xml');\n\n        if (xmlDoc.getElementsByTagName('parsererror').length) {\n            return showInvalidStrategyError();\n        }\n    } catch (e) {\n        return showInvalidStrategyError();\n    }\n\n    let xml;\n    // Check if XML can be parsed into a strategy.\n    try {\n        xml = Blockly.Xml.textToDom(block_string);\n    } catch (e) {\n        return showInvalidStrategyError();\n    }\n\n    const blockConversion = new BlockConversion();\n    xml = blockConversion.convertStrategy(xml, showIncompatibleStrategyDialog);\n    const blockly_xml = xml.querySelectorAll('block');\n\n    // Check if there are any blocks in this strategy.\n    if (!blockly_xml.length) {\n        return showInvalidStrategyError();\n    }\n\n    // Check if all block types in XML are allowed.\n    const has_invalid_blocks = Array.from(blockly_xml).some(block => {\n        const block_type = block.getAttribute('type');\n        return !Object.keys(Blockly.Blocks).includes(block_type);\n    });\n\n    if (has_invalid_blocks) {\n        return showInvalidStrategyError();\n    }\n\n    try {\n        const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n        const event_group = is_collection ? `load_collection${Date.now()}` : `dbot-load${Date.now()}`;\n\n        Blockly.Events.setGroup(event_group);\n        removeLimitedBlocks(\n            workspace,\n            Array.from(blockly_xml).map(xml_block => xml_block.getAttribute('type'))\n        );\n\n        if (is_collection) {\n            loadBlocks(xml, drop_event, event_group, workspace);\n        } else {\n            await loadWorkspace(xml, event_group, workspace);\n\n            const is_main_workspace = workspace === Blockly.derivWorkspace;\n            if (is_main_workspace) {\n                const { save_modal } = DBotStore.instance;\n\n                save_modal.updateBotName(file_name);\n                workspace.clearUndo();\n                workspace.current_strategy_id = strategy_id || Blockly.utils.genUid();\n                await saveWorkspaceToRecent(xml, from);\n            }\n        }\n\n        // Set user disabled state on all disabled blocks. This ensures we don't change the disabled\n        // state through code, which was implemented for user experience.\n        workspace.getAllBlocks().forEach(block => {\n            if (block.disabled) {\n                block.is_user_disabled_state = true;\n            }\n        });\n\n        if (workspace === Blockly.derivWorkspace) {\n            globalObserver.emit('ui.log.success', { log_type: log_types.LOAD_BLOCK });\n        }\n    } catch (e) {\n        console.error(e); // eslint-disable-line\n        return showInvalidStrategyError();\n    } finally {\n        setLoading(false);\n    }\n};\n\nexport const loadBlocks = (xml, drop_event, event_group, workspace) => {\n    Blockly.Events.setGroup(event_group);\n\n    const block_ids = Blockly.Xml.domToWorkspace(xml, workspace);\n    const added_blocks = block_ids.map(block_id => workspace.getBlockById(block_id));\n\n    if (drop_event && Object.keys(drop_event).length !== 0) {\n        cleanUpOnLoad(added_blocks, drop_event, workspace);\n    } else {\n        workspace.cleanUp();\n    }\n};\n\nexport const loadWorkspace = async (xml, event_group, workspace) => {\n    Blockly.Events.setGroup(event_group);\n    await workspace.asyncClear();\n    Blockly.Xml.domToWorkspace(xml, workspace);\n};\n\nconst loadBlocksFromHeader = (xml_string, block) => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let xml;\n\n        try {\n            xml = Blockly.Xml.textToDom(xml_string);\n        } catch (error) {\n            return reject(localize('Unrecognized file format'));\n        }\n\n        try {\n            const is_collection = xml.hasAttribute('collection') && xml.getAttribute('collection') === 'true';\n\n            if (!is_collection) {\n                reject(localize('Remote blocks to load must be a collection.'));\n            }\n\n            addLoaderBlocksFirst(xml)\n                .then(() => {\n                    Array.from(xml.children).forEach(el_block => addDomAsBlock(el_block, block));\n                    resolve();\n                })\n                .catch(() => {\n                    reject();\n                });\n        } catch (e) {\n            reject(localize('Unable to load the block file.'));\n        }\n    });\n};\n\nexport const loadBlocksFromRemote = block => {\n    // eslint-disable-next-line consistent-return\n    return new Promise((resolve, reject) => {\n        let url = block.getFieldValue('URL');\n\n        if (url.indexOf('http') === -1) {\n            url = `http://${url}`;\n        }\n\n        const url_pattern = /[^/]*\\.[a-zA-Z]{3}$/;\n        const has_possible_missing_index_xml = url.slice(-1)[0] === '/';\n\n        if (!url.match(url_pattern) && !has_possible_missing_index_xml) {\n            return reject(localize('Target must be an XML file'));\n        }\n\n        if (has_possible_missing_index_xml) {\n            url += 'index.xml';\n        }\n\n        if (block.isKnownUrl(url)) {\n            block.setDisabled(true);\n            return reject(localize('This URL is already loaded'));\n        }\n\n        const onFetchError = () => reject(localize('An error occured while trying to load the URL'));\n\n        fetch(url)\n            .then(response => {\n                if (response.ok) {\n                    response.text().then(xml_string => {\n                        loadBlocksFromHeader(xml_string, block)\n                            .then(() => resolve(block))\n                            .catch(onFetchError);\n                    });\n                } else {\n                    onFetchError();\n                }\n            })\n            .catch(onFetchError);\n    });\n};\n\nexport const addLoaderBlocksFirst = xml => {\n    return new Promise((resolve, reject) => {\n        const promises = [];\n\n        Array.from(xml.children).forEach(el_block => {\n            const block_type = el_block.getAttribute('type');\n\n            if (block_type === 'loader') {\n                el_block.remove();\n                const loader = Blockly.Xml.domToBlock(el_block, Blockly.derivWorkspace);\n                promises.push(loadBlocksFromRemote(loader)); // eslint-disable-line no-use-before-define\n            }\n        });\n\n        if (promises.length) {\n            Promise.all(promises).then(resolve, reject);\n        } else {\n            resolve([]);\n        }\n    });\n};\n\nexport const addDomAsBlock = (el_block, parent_block = null) => {\n    if (el_block.tagName.toLowerCase() === 'variables') {\n        return Blockly.Xml.domToVariables(el_block, Blockly.derivWorkspace);\n    }\n\n    const block_type = el_block.getAttribute('type');\n    const block_conversion = new BlockConversion();\n    const block_xml = Blockly.Xml.blockToDom(block_conversion.convertBlockNode(el_block));\n\n    // Fix legacy Blockly `varid` attribute.\n    Array.from(block_xml.getElementsByTagName('arg')).forEach(el => {\n        if (el.hasAttribute('varid')) {\n            el.setAttribute('varId', el.getAttribute('varid'));\n        }\n    });\n\n    removeLimitedBlocks(Blockly.derivWorkspace, block_type);\n\n    const block = Blockly.Xml.domToBlock(block_xml, Blockly.derivWorkspace);\n\n    if (parent_block) {\n        parent_block.blocks_added_by_me.push(block);\n    }\n\n    return block;\n};\n\nconst getAllRequiredBlocks = (workspace, required_block_types) => {\n    return workspace.getAllBlocks().filter(block => {\n        if (required_block_types.includes(block.type)) {\n            return (\n                (block.childBlocks_.length === 0 && required_block_types.includes(block.category_)) ||\n                block.parentBlock_ === null\n            );\n        }\n    });\n};\n\nconst getMissingBlocks = (workspace, required_block_types) => {\n    return required_block_types.filter(blockType => {\n        return !workspace.getAllBlocks().some(block => block.type === blockType);\n    });\n};\n\nconst getDisabledBlocks = required_blocks_check => {\n    return required_blocks_check.filter(block => {\n        const hasDisabledChild =\n            block.childBlocks_ && block.childBlocks_.some(childBlock => childBlock.disabled === true);\n        return block.disabled === true || hasDisabledChild;\n    });\n};\n\nconst throwNewErrorMessage = (error_blocks, key) => {\n    return error_blocks.forEach(block => {\n        if (key === 'misplaced' && block) globalObserver.emit('ui.log.error', error_message_map[block?.type]?.[key]);\n        else if (key === 'missing' && block) globalObserver.emit('ui.log.error', error_message_map[block]?.[key]);\n        else if (key === 'disabled' && block) {\n            let parent_block_error = false;\n            const parent_error_message = error_message_map[block.type]?.[key];\n            if (block.disabled && parent_error_message) {\n                globalObserver.emit('ui.log.error', parent_error_message);\n                parent_block_error = true;\n            } else if (!parent_block_error && block.childBlocks_) {\n                block.childBlocks_.forEach(childBlock => {\n                    const child_error_message = error_message_map[childBlock.type]?.[key];\n                    if (child_error_message) globalObserver.emit('ui.log.error', child_error_message);\n                });\n            }\n        }\n    });\n};\n\nexport const isAllRequiredBlocksEnabled = workspace => {\n    if (!workspace) return false;\n\n    const mandatory_trade_option_block = getSelectedTradeType(workspace);\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = [mandatory_trade_option_block, ...mandatoryMainBlocks];\n\n    const required_blocks_check = getAllRequiredBlocks(workspace, required_block_types);\n\n    const missing_blocks = getMissingBlocks(workspace, required_block_types);\n    const disabled_blocks = getDisabledBlocks(required_blocks_check);\n\n    if (missing_blocks) throwNewErrorMessage(missing_blocks, 'missing');\n    if (disabled_blocks) throwNewErrorMessage(disabled_blocks, 'disabled');\n\n    const error_blocks = [...missing_blocks, ...disabled_blocks];\n    const blocks_required = error_blocks.length === 0;\n\n    return blocks_required;\n};\n\nexport const scrollWorkspace = (workspace, scroll_amount, is_horizontal, is_chronological) => {\n    const ws_metrics = workspace.getMetrics();\n\n    let scroll_x = ws_metrics.viewLeft - ws_metrics.contentLeft;\n    let scroll_y = ws_metrics.viewTop - ws_metrics.contentTop;\n\n    if (is_horizontal) {\n        scroll_x += is_chronological ? scroll_amount : -scroll_amount;\n        scroll_y += -20;\n    } else {\n        scroll_x += -20;\n        scroll_y += is_chronological ? scroll_amount : -scroll_amount;\n    }\n\n    workspace.scrollbar.set(scroll_x, scroll_y);\n};\n\n/**\n * Sets the Blockly.Events.group_ and executes the passed callBackFn. Mainly\n * used to ensure undo/redo actions are executed correctly.\n * @param {Boolean} use_existing_group Uses the existing event group if true.\n * @param {Function} callbackFn Logic to execute as part of this event group.\n */\nexport const runGroupedEvents = (use_existing_group, callbackFn, opt_group_name) => {\n    const group = (use_existing_group && Blockly.Events.getGroup()) || opt_group_name || true;\n\n    Blockly.Events.setGroup(group);\n    callbackFn();\n\n    if (!use_existing_group) {\n        Blockly.Events.setGroup(false);\n    }\n};\n\n/**\n * Sets the recordUndo flag to \"false\" globally, this will ensure any events\n * happening as part of the callbackFn logic cannot be undone.\n * @param {*} callbackFn Logic to execute as part of this event group.\n */\nexport const runIrreversibleEvents = callbackFn => {\n    const { recordUndo } = Blockly.Events;\n    Blockly.Events.recordUndo = false;\n\n    callbackFn();\n\n    Blockly.Events.recordUndo = recordUndo;\n};\n\n/**\n * Disables Blockly Events globally and runs the passed callbackFn.\n * (Preference should be given to runIrreversibleEvents).\n * @param {*} callbackFn Logic to completely hide from Blockly\n */\nexport const runInvisibleEvents = callbackFn => {\n    Blockly.Events.disable();\n    callbackFn();\n    Blockly.Events.enable();\n};\n\nexport const updateDisabledBlocks = (workspace, event) => {\n    if (event.type === Blockly.Events.END_DRAG) {\n        workspace.getAllBlocks().forEach(block => {\n            if (!block.getParent() || block.is_user_disabled_state) {\n                return;\n            }\n\n            const restricted_parents = block.restricted_parents || [];\n            if (restricted_parents.length === 0) {\n                return;\n            }\n\n            const should_disable = !restricted_parents.some(restricted_parent =>\n                block.isDescendantOf(restricted_parent)\n            );\n\n            runGroupedEvents(\n                true,\n                () => {\n                    block.setDisabled(should_disable);\n                },\n                event.group\n            );\n\n            Blockly.Events.setGroup(false);\n        });\n    }\n};\n\nexport const emptyTextValidator = input => {\n    return !input || input === \"''\";\n};\n\n/* eslint-disable no-bitwise */\nexport const isDarkRgbColour = string_rgb => {\n    const values = string_rgb.substring(1);\n    const rgb = parseInt(values, 16);\n    const red = (rgb >> 16) & 0xff;\n    const green = (rgb >> 8) & 0xff;\n    const blue = (rgb >> 0) & 0xff;\n    const luma = 0.2126 * red + 0.7152 * green + 0.0722 * blue;\n    return luma < 160;\n};\n/* eslint-enable */\n","import { localize } from '@deriv/translations';\nimport PendingPromise from '../../utils/pending-promise';\nimport { config } from '../../constants/config';\n\nexport default class ActiveSymbols {\n    constructor(ws, trading_times) {\n        this.active_symbols = [];\n        this.disabled_symbols = config.DISABLED_SYMBOLS;\n        this.disabled_submarkets = config.DISABLED_SUBMARKETS;\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.processed_symbols = {};\n        this.trading_times = trading_times;\n        this.ws = ws;\n    }\n\n    async retrieveActiveSymbols(is_forced_update = false) {\n        await this.trading_times.initialise();\n\n        if (!is_forced_update && this.is_initialised) {\n            await this.init_promise;\n            return this.active_symbols;\n        }\n\n        this.is_initialised = true;\n\n        const { active_symbols } = await this.ws.authorized.activeSymbols();\n\n        this.active_symbols = active_symbols;\n        this.processed_symbols = this.processActiveSymbols();\n        this.trading_times.onMarketOpenCloseChanged = changes => {\n            Object.keys(changes).forEach(symbol_name => {\n                const symbol_obj = this.active_symbols[symbol_name];\n\n                if (symbol_obj) {\n                    symbol_obj.exchange_is_open = changes[symbol_name];\n                }\n            });\n\n            this.changes = changes;\n            this.processActiveSymbols();\n        };\n\n        this.init_promise.resolve();\n\n        return this.active_symbols;\n    }\n\n    processActiveSymbols() {\n        return this.active_symbols.reduce((processed_symbols, symbol) => {\n            if (\n                config.DISABLED_SYMBOLS.includes(symbol.symbol) ||\n                config.DISABLED_SUBMARKETS.includes(symbol.submarket)\n            ) {\n                return processed_symbols;\n            }\n\n            const isExistingValue = (object, prop) => Object.keys(object).findIndex(a => a === symbol[prop]) !== -1;\n\n            if (!isExistingValue(processed_symbols, 'market')) {\n                processed_symbols[symbol.market] = {\n                    display_name: symbol.market_display_name,\n                    submarkets: {},\n                };\n            }\n\n            const { submarkets } = processed_symbols[symbol.market];\n\n            if (!isExistingValue(submarkets, 'submarket')) {\n                submarkets[symbol.submarket] = {\n                    display_name: symbol.submarket_display_name,\n                    symbols: {},\n                };\n            }\n\n            const { symbols } = submarkets[symbol.submarket];\n\n            if (!isExistingValue(symbols, 'symbol')) {\n                symbols[symbol.symbol] = {\n                    display_name: symbol.display_name,\n                    pip_size: `${symbol.pip}`.length - 2,\n                    is_active: !symbol.is_trading_suspended && symbol.exchange_is_open,\n                };\n            }\n\n            return processed_symbols;\n        }, {});\n    }\n\n    /**\n     * Retrieves all symbols and returns an array of symbol objects consisting of symbol and their linked market + submarket.\n     * @returns {Array} Symbols and their submarkets + markets.\n     */\n    getAllSymbols(should_be_open = false) {\n        const all_symbols = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            if (should_be_open && this.isMarketClosed(market_name)) {\n                return;\n            }\n\n            const market = this.processed_symbols[market_name];\n            const { submarkets } = market;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const submarket = submarkets[submarket_name];\n                const { symbols } = submarket;\n\n                Object.keys(symbols).forEach(symbol_name => {\n                    const symbol = symbols[symbol_name];\n\n                    all_symbols.push({\n                        market: market_name,\n                        market_display: market.display_name,\n                        submarket: submarket_name,\n                        submarket_display: submarket.display_name,\n                        symbol: symbol_name,\n                        symbol_display: symbol.display_name,\n                    });\n                });\n            });\n        });\n        this.getSymbolsForBot();\n        return all_symbols;\n    }\n\n    /**\n     *\n     * @returns {Array} Symbols and their submarkets + markets for deriv-bot\n     */\n    getSymbolsForBot() {\n        const { DISABLED } = config.QUICK_STRATEGY;\n        const symbols_for_bot = [];\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            if (this.isMarketClosed(market_name)) return;\n\n            const market = this.processed_symbols[market_name];\n            const { submarkets } = market;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                if (DISABLED.SUBMARKETS.includes(submarket_name)) return;\n                const submarket = submarkets[submarket_name];\n                const { symbols } = submarket;\n\n                Object.keys(symbols).forEach(symbol_name => {\n                    if (DISABLED.SYMBOLS.includes(symbol_name)) return;\n                    const symbol = symbols[symbol_name];\n                    symbols_for_bot.push({\n                        group: submarket.display_name,\n                        text: symbol.display_name,\n                        value: symbol_name,\n                    });\n                });\n            });\n        });\n\n        return symbols_for_bot;\n    }\n\n    getMarketDropdownOptions() {\n        const market_options = [];\n\n        Object.keys(this.processed_symbols).forEach(market_name => {\n            const { display_name } = this.processed_symbols[market_name];\n            const market_display_name =\n                display_name + (this.isMarketClosed(market_name) ? ` ${localize('(Closed)')}` : '');\n            market_options.push([market_display_name, market_name]);\n        });\n\n        if (market_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n        market_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n\n        const has_closed_markets = market_options.some(market_option => this.isMarketClosed(market_option[1]));\n\n        if (has_closed_markets) {\n            const sorted_options = this.sortDropdownOptions(market_options, this.isMarketClosed);\n\n            if (this.isMarketClosed('forex')) {\n                return sorted_options.sort(a => (a[1] === 'synthetic_index' ? -1 : 1));\n            }\n\n            return sorted_options;\n        }\n\n        return market_options;\n    }\n\n    getSubmarketDropdownOptions(market) {\n        const submarket_options = [];\n        const market_obj = this.processed_symbols[market];\n\n        if (market_obj) {\n            const { submarkets } = market_obj;\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                const { display_name } = submarkets[submarket_name];\n                const submarket_display_name =\n                    display_name + (this.isSubmarketClosed(submarket_name) ? ` ${localize('(Closed)')}` : '');\n                submarket_options.push([submarket_display_name, submarket_name]);\n            });\n        }\n\n        if (submarket_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n        if (market === 'synthetic_index') {\n            submarket_options.sort(a => (a[1] === 'random_index' ? -1 : 1));\n        }\n\n        return this.sortDropdownOptions(submarket_options, this.isSubmarketClosed);\n    }\n\n    getSymbolDropdownOptions(submarket) {\n        const symbol_options = Object.keys(this.processed_symbols).reduce((accumulator, market_name) => {\n            const { submarkets } = this.processed_symbols[market_name];\n\n            Object.keys(submarkets).forEach(submarket_name => {\n                if (submarket_name === submarket) {\n                    const { symbols } = submarkets[submarket_name];\n                    Object.keys(symbols).forEach(symbol_name => {\n                        const { display_name } = symbols[symbol_name];\n                        const symbol_display_name =\n                            display_name + (this.isSymbolClosed(symbol_name) ? ` ${localize('(Closed)')}` : '');\n                        accumulator.push([symbol_display_name, symbol_name]);\n                    });\n                }\n            });\n\n            return accumulator;\n        }, []);\n\n        if (symbol_options.length === 0) {\n            return config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n        }\n\n        return this.sortDropdownOptions(symbol_options, this.isSymbolClosed);\n    }\n\n    isMarketClosed(market_name) {\n        const market = this.processed_symbols[market_name];\n\n        if (!market) {\n            return true;\n        }\n\n        return Object.keys(market.submarkets).every(submarket_name => this.isSubmarketClosed(submarket_name));\n    }\n\n    isSubmarketClosed(submarket_name) {\n        const market_name = Object.keys(this.processed_symbols).find(name => {\n            const market = this.processed_symbols[name];\n            return Object.keys(market.submarkets).includes(submarket_name);\n        });\n\n        if (!market_name) {\n            return true;\n        }\n\n        const market = this.processed_symbols[market_name];\n        const submarket = market.submarkets[submarket_name];\n\n        if (!submarket) {\n            return true;\n        }\n\n        const { symbols } = submarket;\n        return Object.keys(symbols).every(symbol_name => this.isSymbolClosed(symbol_name));\n    }\n\n    isSymbolClosed(symbol_name) {\n        return this.active_symbols.some(\n            active_symbol =>\n                active_symbol.symbol === symbol_name &&\n                (!active_symbol.exchange_is_open || active_symbol.is_trading_suspended)\n        );\n    }\n\n    sortDropdownOptions = (dropdown_options, closedFunc) => {\n        const options = [...dropdown_options];\n\n        options.sort((a, b) => {\n            const is_a_closed = closedFunc.call(this, a[1]);\n            const is_b_closed = closedFunc.call(this, b[1]);\n\n            if (is_a_closed && !is_b_closed) {\n                return 1;\n            } else if (is_a_closed === is_b_closed) {\n                return 0;\n            }\n            return -1;\n        });\n\n        return options;\n    };\n}\n","import { datadogLogs } from '@datadog/browser-logs';\nimport { formatDate, formatTime } from '@deriv/shared';\n\nconst DATADOG_CLIENT_TOKEN_LOGS = process.env.DATADOG_CLIENT_TOKEN_LOGS ?? '';\nconst isProduction = process.env.NODE_ENV === 'production';\nconst isStaging = process.env.NODE_ENV === 'staging';\nlet dataDogSessionSampleRate = 0;\n\ndataDogSessionSampleRate = +process.env.DATADOG_SESSION_SAMPLE_RATE_LOGS ?? 1;\nlet dataDogVersion = '';\nlet dataDogEnv = '';\n\nif (isProduction) {\n    dataDogVersion = `deriv-app-${process.env.REF_NAME}`;\n    dataDogEnv = 'production';\n} else if (isStaging) {\n    dataDogVersion = `deriv-app-staging-v${formatDate(new Date(), 'YYYYMMDD')}-${formatTime(Date.now(), 'HH:mm')}`;\n    dataDogEnv = 'staging';\n}\n\nif (DATADOG_CLIENT_TOKEN_LOGS) {\n    datadogLogs.init({\n        clientToken: DATADOG_CLIENT_TOKEN_LOGS,\n        site: 'datadoghq.com',\n        forwardErrorsToLogs: false,\n        service: 'Dbot',\n        sessionSampleRate: dataDogSessionSampleRate,\n        version: dataDogVersion,\n        env: dataDogEnv,\n    });\n}\n\nexport const REQUESTS = [\n    'active_symbols',\n    'authorize',\n    'balance',\n    'buy',\n    'proposal',\n    'proposal_open_contract',\n    'run_proposal_or_direct_buy',\n    'transaction',\n    'ticks_history',\n    'history',\n];\n\nclass APIMiddleware {\n    constructor(config) {\n        this.config = config;\n        this.debounced_calls = {};\n        this.addGlobalMethod();\n    }\n\n    getRequestType = request => {\n        let req_type;\n        REQUESTS.forEach(type => {\n            if (type in request && !req_type) req_type = type;\n        });\n\n        return req_type;\n    };\n\n    log = (measures = [], is_bot_running) => {\n        if (measures && measures.length) {\n            measures.forEach(measure => {\n                datadogLogs.logger.info(measure.name, {\n                    name: measure.name,\n                    startTime: measure.startTimeDate,\n                    duration: measure.duration,\n                    detail: measure.detail,\n                    isBotRunning: is_bot_running,\n                });\n            });\n        }\n    };\n\n    defineMeasure = res_type => {\n        if (res_type) {\n            let measure;\n            if (res_type === 'history') {\n                performance.mark('ticks_history_end');\n                measure = performance.measure('ticks_history', 'ticks_history_start', 'ticks_history_end');\n            } else {\n                performance.mark(`${res_type}_end`);\n                measure = performance.measure(`${res_type}`, `${res_type}_start`, `${res_type}_end`);\n            }\n            return (measure.startTimeDate = new Date(Date.now() - measure.startTime));\n        }\n        return false;\n    };\n\n    sendWillBeCalled({ args: [request] }) {\n        const req_type = this.getRequestType(request);\n        if (req_type === 'buy') {\n            performance.mark('first_proposal_or_run_end');\n            if (performance.getEntriesByName('bot-start', 'mark').length) {\n                performance.measure('run_proposal_or_direct_buy', 'bot-start', 'first_proposal_or_run_end');\n                performance.clearMarks('bot-start');\n            }\n        }\n    }\n\n    sendIsCalled = ({ response_promise, args: [request] }) => {\n        const req_type = this.getRequestType(request);\n        if (req_type) performance.mark(`${req_type}_start`);\n        response_promise\n            .then(res => {\n                const res_type = this.getRequestType(res);\n                if (res_type) {\n                    this.defineMeasure(res_type);\n                }\n            })\n            .catch(() => {});\n        return response_promise;\n    };\n\n    sendRequestsStatistic = is_bot_running => {\n        REQUESTS.forEach(req_type => {\n            const measure = performance.getEntriesByName(req_type);\n            if (measure && measure.length) {\n                if (process.env.DATADOG_CLIENT_TOKEN_LOGS) {\n                    this.log(measure, is_bot_running, req_type);\n                }\n            }\n        });\n        performance.clearMeasures();\n    };\n\n    addGlobalMethod() {\n        if (window) window.sendRequestsStatistic = this.sendRequestsStatistic;\n    }\n}\n\nexport default APIMiddleware;\n","import DerivAPIBasic from '@deriv/deriv-api/dist/DerivAPIBasic';\nimport { getAppId, getSocketURL, website_name } from '@deriv/shared';\nimport { getLanguage } from '@deriv/translations';\nimport APIMiddleware from './api-middleware';\n\nexport const generateDerivApiInstance = () => {\n    const socket_url = `wss://${getSocketURL()}/websockets/v3?app_id=${getAppId()}&l=${getLanguage()}&brand=${website_name.toLowerCase()}`;\n    const deriv_socket = new WebSocket(socket_url);\n    const deriv_api = new DerivAPIBasic({\n        connection: deriv_socket,\n        middleware: new APIMiddleware({}),\n    });\n    return deriv_api;\n};\n\nexport const getLoginId = () => {\n    const login_id = localStorage.getItem('active_loginid');\n    if (login_id && login_id !== 'null') return login_id;\n    return null;\n};\n\nexport const getToken = () => {\n    const active_loginid = getLoginId();\n    const client_accounts = JSON.parse(localStorage.getItem('client.accounts')) || undefined;\n    const active_account = (client_accounts && client_accounts[active_loginid]) || {};\n    return {\n        token: active_account?.token || undefined,\n        account_id: active_loginid || undefined,\n    };\n};\n","import { observer as globalObserver } from '../../utils/observer';\nimport { doUntilDone, socket_state } from '../tradeEngine/utils/helpers';\nimport { generateDerivApiInstance, getLoginId, getToken } from './appId';\n\nclass APIBase {\n    api;\n    token;\n    account_id;\n    pip_sizes = {};\n    account_info = {};\n    is_running = false;\n    subscriptions = [];\n    time_interval = null;\n    has_activeSymbols = false;\n\n    init(force_update = false) {\n        if (getLoginId()) {\n            this.toggleRunButton(true);\n            if (force_update) this.terminate();\n            this.api = generateDerivApiInstance();\n            this.initEventListeners();\n            this.authorizeAndSubscribe();\n            if (this.time_interval) clearInterval(this.time_interval);\n            this.time_interval = null;\n            this.getTime();\n        }\n    }\n\n    getConnectionStatus() {\n        if (this.api?.connection) {\n            const ready_state = this.api.connection.readyState;\n            return socket_state[ready_state] || 'Unknown';\n        }\n        return 'Socket not initialized';\n    }\n\n    terminate() {\n        // eslint-disable-next-line no-console\n        console.log('connection terminated');\n        if (this.api) this.api.disconnect();\n    }\n\n    initEventListeners() {\n        if (window) {\n            window.addEventListener('online', this.reconnectIfNotConnected);\n            window.addEventListener('focus', this.reconnectIfNotConnected);\n        }\n    }\n\n    createNewInstance(account_id) {\n        if (this.account_id !== account_id) {\n            this.init(true);\n        }\n    }\n\n    reconnectIfNotConnected = () => {\n        // eslint-disable-next-line no-console\n        console.log('connection state: ', this.api.connection.readyState);\n        if (this.api.connection.readyState !== 1) {\n            // eslint-disable-next-line no-console\n            console.log('Info: Connection to the server was closed, trying to reconnect.');\n            this.init();\n        }\n    };\n\n    authorizeAndSubscribe() {\n        const { token, account_id } = getToken();\n        if (token) {\n            this.token = token;\n            this.account_id = account_id;\n            this.api.authorize(this.token);\n            this.api\n                .expectResponse('authorize')\n                .then(({ authorize }) => {\n                    if (this.has_activeSymbols) {\n                        this.toggleRunButton(false);\n                    } else {\n                        this.getActiveSymbols();\n                    }\n                    this.subscribe();\n                    this.account_info = authorize;\n                })\n                .catch(e => {\n                    globalObserver.emit('Error', e);\n                });\n        }\n    }\n\n    subscribe() {\n        doUntilDone(() => this.api.send({ balance: 1, subscribe: 1 }));\n        doUntilDone(() => this.api.send({ transaction: 1, subscribe: 1 }));\n        doUntilDone(() => this.api.send({ proposal_open_contract: 1, subscribe: 1 }));\n    }\n\n    getActiveSymbols = async () => {\n        doUntilDone(() => this.api.send({ active_symbols: 'brief' })).then(({ active_symbols = [] }) => {\n            const pip_sizes = {};\n            if (active_symbols.length) this.has_activeSymbols = true;\n            active_symbols.forEach(({ symbol, pip }) => {\n                pip_sizes[symbol] = +(+pip).toExponential().substring(3);\n            });\n            this.pip_sizes = pip_sizes;\n            this.toggleRunButton(false);\n        });\n    };\n\n    toggleRunButton = toggle => {\n        const run_button = document.querySelector('#db-animation__run-button');\n        if (!run_button) return;\n        run_button.disabled = toggle;\n    };\n\n    setIsRunning(toggle = false) {\n        this.is_running = toggle;\n    }\n\n    pushSubscription(subscription) {\n        this.subscriptions.push(subscription);\n    }\n\n    clearSubscriptions() {\n        this.subscriptions.forEach(s => s.unsubscribe());\n        this.subscriptions = [];\n\n        // Resetting timeout resolvers\n        const global_timeouts = globalObserver.getState('global_timeouts') ?? [];\n\n        global_timeouts.forEach((_, i) => {\n            clearTimeout(i);\n        });\n    }\n\n    getTime() {\n        if (!this.time_interval) {\n            this.time_interval = setInterval(() => {\n                this.api.send({ time: 1 });\n            }, 30000);\n        }\n    }\n}\n\nexport const api_base = new APIBase();\n","export default class AccountLimits {\n    constructor(store) {\n        this.ws = store.ws;\n    }\n    getStakePayoutLimits(currency = 'AUD', landing_company_shortcode = 'svg', selected_market) {\n        return this.ws\n            .send({\n                landing_company_details: landing_company_shortcode,\n            })\n            .then(landing_company => {\n                const currency_config = landing_company?.landing_company_details?.currency_config[selected_market];\n                return currency_config ? currency_config[currency] : {};\n            });\n    }\n}\n","import TradingTimes from './trading-times';\nimport ContractsFor from './contracts-for';\nimport ActiveSymbols from './active-symbols';\nimport AccountLimits from './account-limits';\n\nclass ApiHelpers {\n    static singleton = null;\n\n    constructor(api_helpers_store) {\n        this.trading_times = new TradingTimes(api_helpers_store);\n        this.contracts_for = new ContractsFor(api_helpers_store);\n        this.active_symbols = new ActiveSymbols(api_helpers_store.ws, this.trading_times);\n        this.account_limits = new AccountLimits(api_helpers_store);\n    }\n\n    static setInstance(api_helpers_store) {\n        if (!this.singleton) {\n            this.singleton = new ApiHelpers(api_helpers_store);\n        }\n\n        return this.instance;\n    }\n\n    static get instance() {\n        return this.singleton;\n    }\n}\n\nexport default ApiHelpers;\n","import { config } from '../../constants/config';\nimport PendingPromise from '../../utils/pending-promise';\n\nexport default class ContractsFor {\n    constructor({ ws, server_time }) {\n        this.cache_age_in_min = 10;\n        this.contracts_for = {};\n        this.ws = ws;\n        this.server_time = server_time;\n        // Below you can disable specific trade types and trade type categories, you may specify\n        // market, submarket, symbol, trade_type, and trade_type_category. If one of\n        // the props is left omitted, the rule applies to each of the values of the omitted prop.\n        // e.g. if market omitted, rule will apply to all markets.\n        this.disabled_options = [\n            {\n                submarket: 'forex_basket',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'minor_pairs',\n                trade_type: 'higherlower',\n            },\n            {\n                submarket: 'metals',\n                trade_type: 'callputequal',\n            },\n            {\n                market: 'indices',\n                trade_type: 'callputequal',\n            },\n            {\n                symbol: 'OTC_AS51',\n                trade_type_category: 'inout',\n            },\n            { trade_type_category: 'lookback' },\n            { trade_type_category: 'callputspread' },\n        ];\n        this.retrieving_contracts_for = {};\n    }\n\n    async getBarriers(symbol, trade_type, duration, barrier_types) {\n        const barriers = { values: [] };\n\n        if (!config.BARRIER_TRADE_TYPES.includes(trade_type)) {\n            return barriers;\n        }\n\n        const barrier_props = ['high_barrier', 'low_barrier'];\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = await this.getDurations(symbol, trade_type, false);\n        const offset_regexp = new RegExp('^[-|+]([0-9]+.[0-9]+)$');\n        const isOffset = input => input && offset_regexp.test(input.toString());\n\n        let has_absolute_default_value = true;\n\n        if (contracts_for_category.length > 0) {\n            barrier_types.forEach((barrier_type, index) => {\n                const has_selected_offset_type = ['+', '-'].includes(barrier_type);\n                const real_trade_type = this.getContractCategoryByTradeType(trade_type);\n\n                let contract = contracts_for_category.find(c => {\n                    const { BARRIER_CATEGORIES } = config;\n                    const barrier_category = Object.keys(BARRIER_CATEGORIES).find(b =>\n                        BARRIER_CATEGORIES[b].includes(trade_type)\n                    );\n\n                    const has_matching_category = c.contract_category === real_trade_type;\n                    const has_matching_duration = durations.findIndex(d => d.unit === duration) !== -1;\n                    const has_matching_barrier_category = c.barrier_category === barrier_category;\n                    const has_matching_barrier_type =\n                        // Match offset type barriers.\n                        (has_selected_offset_type && isOffset(c.barrier || c[barrier_props[index]])) ||\n                        // Match absolute type barriers.\n                        (!has_selected_offset_type && !isOffset(c.barrier || c[barrier_props[index]]));\n\n                    return (\n                        has_matching_category &&\n                        has_matching_duration &&\n                        has_matching_barrier_category &&\n                        has_matching_barrier_type\n                    );\n                });\n\n                // Fallback to smallest available barriers if no contract could be found.\n                if (!contract) {\n                    contract = contracts_for_category\n                        // Retrieve contracts with barriers.\n                        .filter(c => c.barrier || c.high_barrier)\n                        // Get contract with smallest barriers.\n                        .sort((a, b) => {\n                            const c = a.barrier || a.high_barrier;\n                            const d = b.barrier || b.high_barrier;\n                            return parseFloat(c) - parseFloat(d);\n                        })\n                        .shift();\n\n                    if (contract && !has_selected_offset_type) {\n                        has_absolute_default_value = false;\n                    }\n                }\n\n                if (contract) {\n                    const barrier_prop_name = contract.barriers === 1 ? 'barrier' : barrier_props[index];\n\n                    if (contract[barrier_prop_name]) {\n                        const barrier_match = `${contract[barrier_prop_name]}`.match(offset_regexp);\n                        barriers.values[index] = barrier_match ? barrier_match[1] : contract[barrier_prop_name];\n                    }\n\n                    Object.assign(barriers, {\n                        allow_both_types:\n                            ['intraday', 'tick'].includes(contract.expiry_type) &&\n                            isOffset(contract[barrier_prop_name]),\n                        allow_absolute_type: barrier_type === 'absolute' && !isOffset(contract[barrier_prop_name]),\n                    });\n\n                    // Finish this loop prematurely if we only have a single barrier.\n                    if (contract.barriers === 1) {\n                        barrier_types.splice(index + 1, 1);\n                    }\n                }\n            });\n\n            if (!has_absolute_default_value) {\n                barriers.values = barriers.values.map(() => false);\n            } else if (\n                barriers.values.length === 2 &&\n                barrier_types.every(barrier_type => barrier_type === barrier_types[0]) &&\n                barriers.values.every(barrier => barrier === barriers.values[0])\n            ) {\n                barriers.values[1] = (barriers.values[0] * 0.95).toFixed(1);\n            }\n        }\n\n        return barriers;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getContractCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING } = config;\n\n        return (\n            Object.keys(TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING).find(category =>\n                TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING[category].includes(trade_type)\n            ) || trade_type\n        );\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getTradeTypeCategoryByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORIES } = config;\n        const trade_type_category = Object.keys(TRADE_TYPE_CATEGORIES).find(t =>\n            TRADE_TYPE_CATEGORIES[t].includes(trade_type)\n        );\n\n        return trade_type_category || trade_type;\n    }\n\n    getTradeTypeCategoryNameByTradeType(trade_type) {\n        const { TRADE_TYPE_CATEGORY_NAMES } = config;\n        const trade_type_category = this.getTradeTypeCategoryByTradeType(trade_type);\n\n        return TRADE_TYPE_CATEGORY_NAMES[trade_type_category];\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getBarrierCategoryByTradeType(trade_type) {\n        const { BARRIER_CATEGORIES } = config;\n        return Object.keys(BARRIER_CATEGORIES).find(barrier_category =>\n            BARRIER_CATEGORIES[barrier_category].includes(trade_type)\n        );\n    }\n\n    async getContractsByTradeType(symbol, trade_type) {\n        const contracts = await this.getContractsFor(symbol);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        const barrier_category = this.getBarrierCategoryByTradeType(trade_type);\n\n        return contracts.filter(contract => {\n            const has_matching_category = contract.contract_category === contract_category;\n            const has_matching_barrier = contract.barrier_category === barrier_category;\n\n            return has_matching_category && has_matching_barrier;\n        });\n    }\n\n    async getContractsFor(symbol) {\n        if (!symbol || symbol === 'na') {\n            return [];\n        }\n\n        const getContractsForFromApi = async () => {\n            if (this.retrieving_contracts_for[symbol]) {\n                await this.retrieving_contracts_for[symbol];\n                return this.contracts_for[symbol].contracts;\n            }\n\n            this.retrieving_contracts_for[symbol] = new PendingPromise();\n            const response = await this.ws.send({ contracts_for: symbol });\n\n            if (response.error) {\n                return [];\n            }\n\n            const {\n                contracts_for: { available: contracts },\n            } = response;\n\n            // We don't offer forward-starting contracts in bot.\n            const filtered_contracts = contracts.filter(c => c.start_type !== 'forward');\n\n            this.contracts_for[symbol] = {\n                contracts: filtered_contracts,\n                timestamp: this.server_time.unix(),\n            };\n\n            this.retrieving_contracts_for[symbol].resolve();\n            delete this.retrieving_contracts_for[symbol];\n\n            return filtered_contracts;\n        };\n\n        if (this.contracts_for[symbol]) {\n            const { contracts, timestamp } = this.contracts_for[symbol];\n            const is_expired = this.server_time.unix() - timestamp > this.cache_age_in_min * 60;\n\n            if (is_expired) {\n                getContractsForFromApi();\n            }\n\n            return contracts;\n        }\n\n        return getContractsForFromApi();\n    }\n\n    async getDurations(symbol, trade_type, convert_day_to_hours = true) {\n        if (trade_type === 'multiplier') {\n            return [];\n        }\n\n        const contracts = await this.getContractsFor(symbol);\n        const { NOT_AVAILABLE_DURATIONS, DEFAULT_DURATION_DROPDOWN_OPTIONS } = config;\n\n        if (contracts.length === 0) {\n            return NOT_AVAILABLE_DURATIONS;\n        }\n\n        const contracts_for_category = await this.getContractsByTradeType(symbol, trade_type);\n        const durations = [];\n        const getDurationIndex = input =>\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(d => d[1] === input.replace(/\\d+/g, ''));\n        // convert 'duration' to 'unit_to_convert' e.g : convertDuration('10h', 's') will return 10*60*60s\n        const convertDuration = (duration, unit_to_convert) => {\n            const duration_value = duration.replace(/\\D/g, '');\n            const duration_index = getDurationIndex(duration);\n            const target_index = DEFAULT_DURATION_DROPDOWN_OPTIONS.findIndex(\n                default_duration => default_duration[1] === unit_to_convert\n            );\n\n            let converted_duration = parseInt(duration_value);\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(target_index + 1, duration_index + 1)\n                .reverse()\n                .forEach(default_duration => {\n                    switch (default_duration[1]) {\n                        case 'm':\n                        case 'h':\n                            converted_duration *= 60;\n                            break;\n                        case 'd':\n                            converted_duration *= 24;\n                            break;\n                        default:\n                            break;\n                    }\n                });\n\n            return converted_duration;\n        };\n\n        contracts_for_category.forEach(contract => {\n            if (!contract.min_contract_duration || !contract.max_contract_duration) {\n                return;\n            }\n\n            const start_index = getDurationIndex(contract.min_contract_duration);\n            const end_index = getDurationIndex(\n                contract.max_contract_duration === '1d' && convert_day_to_hours ? '24h' : contract.max_contract_duration\n            );\n\n            DEFAULT_DURATION_DROPDOWN_OPTIONS.slice(start_index, end_index + 1).forEach((default_duration, index) => {\n                const is_existing_duration = durations.findIndex(d => d.unit === default_duration[1]) !== -1;\n\n                if (!is_existing_duration) {\n                    durations.push({\n                        display: default_duration[0],\n                        unit: default_duration[1],\n                        min: index === 0 ? parseInt(contract.min_contract_duration.replace(/\\D/g, '')) : 1,\n                        max: convertDuration(contract.max_contract_duration, default_duration[1]),\n                    });\n                }\n            });\n        });\n\n        // If only intraday contracts available, remove day durations\n        if (contracts_for_category.every(contract => contract.expiry_type === 'intraday')) {\n            const day_duration_index = durations.findIndex(d => d[1] === 'd');\n\n            if (day_duration_index !== -1) {\n                durations.splice(day_duration_index, 1);\n            }\n        }\n\n        if (durations.length === 0) {\n            return NOT_AVAILABLE_DURATIONS;\n        }\n\n        // Maintain order based on duration unit\n        return durations.sort((a, b) => getDurationIndex(a.unit) - getDurationIndex(b.unit));\n    }\n\n    async getPredictionRange(symbol, trade_type) {\n        const contracts = await this.getContractsByTradeType(symbol, trade_type);\n        const contract_category = this.getContractCategoryByTradeType(trade_type);\n        const prediction_range = [];\n        const { DIGIT_CATEGORIES, opposites } = config;\n\n        if (DIGIT_CATEGORIES.includes(contract_category) && trade_type !== 'evenodd') {\n            const contract = contracts.find(c => {\n                const categories = Object.keys(opposites);\n\n                return categories.some(category =>\n                    opposites[category].map(subcategory => Object.keys(subcategory)[0]).includes(c.contract_type)\n                );\n            });\n\n            if (contract && contract.last_digit_range) {\n                prediction_range.push(...contract.last_digit_range);\n            } else {\n                prediction_range.push(1, 2, 3, 4, 5, 6, 7, 8);\n            }\n        }\n\n        return prediction_range;\n    }\n\n    async getMultiplierRange(symbol, trade_type) {\n        const contracts = await this.getContractsByTradeType(symbol, trade_type);\n        const multiplier_range = [];\n        const { opposites } = config;\n\n        const contract = contracts.find(c => {\n            return Object.keys(opposites).some(category => {\n                return opposites[category].map(subcategory => Object.keys(subcategory)[0]).includes(c.contract_type);\n            });\n        });\n\n        if (contract?.multiplier_range) {\n            multiplier_range.push(...contract.multiplier_range);\n        }\n\n        return multiplier_range;\n    }\n\n    async getMarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].market;\n    }\n\n    async getSubmarketBySymbol(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n\n        if (!contracts.length) {\n            return 'na';\n        }\n\n        return contracts[0].submarket;\n    }\n\n    async getGroupedTradeTypes(symbol) {\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_options = {};\n\n        for (let i = 0; i < contracts.length; i++) {\n            const market = contracts[i].market;\n            const submarket = contracts[i].submarket;\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contracts[i].contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contracts[i].contract_category);\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    trade_type_options[trade_type_category_name] = trade_types;\n                }\n            }\n        }\n\n        return trade_type_options;\n    }\n\n    async getTradeTypeByTradeCategory(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config;\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n        const dropdown_options = [];\n\n        if (subcategories && subcategories.length) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    dropdown_options.push({\n                        name: types.map(type => type[Object.keys(type)[0]]).join('/'),\n                        value: trade_type,\n                        icon: [Object.keys(types[0])[0], Object.keys(types[1])[0]],\n                    });\n                }\n            }\n        }\n\n        return dropdown_options;\n    }\n\n    getHiddenCategories = trade_types => {\n        // TODO: Temporary filtering of barrier + prediction types. Should later\n        // render more inputs for these types. We should only filter out trade type\n        // categories which only feature prediction/barrier trade types. e.g.\n        // in Digits category, users can still purchase Even/Odd types.\n        let hidden_categories = 0;\n\n        for (let j = 0; j < trade_types.length; j++) {\n            const trade_type = trade_types[j];\n            const has_barrier = config.QUICK_STRATEGY.DISABLED.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config.QUICK_STRATEGY.DISABLED.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n\n            if (has_barrier || has_prediction) {\n                hidden_categories++;\n            }\n        }\n\n        return hidden_categories;\n    };\n\n    getTradeTypeOptions = (trade_types, trade_type_category) => {\n        const trade_type_options = [];\n        trade_types.forEach(trade_type => {\n            const has_barrier = config.QUICK_STRATEGY.DISABLED.BARRIER_TRADE_TYPES.includes(trade_type.value);\n            const has_prediction = config.QUICK_STRATEGY.DISABLED.PREDICTION_TRADE_TYPES.includes(trade_type.value);\n            const is_muliplier = ['multiplier'].includes(trade_type.value);\n\n            // TODO: Render extra inputs for barrier + prediction and multiplier types.\n            if (!has_barrier && !has_prediction && !is_muliplier) {\n                trade_type_options.push({\n                    text: trade_type.name,\n                    value: trade_type.value,\n                    group: trade_type_category[0],\n                    icon: trade_type.icon,\n                });\n            }\n        });\n        return trade_type_options;\n    };\n\n    async getTradeTypesForQuickStrategy(symbol) {\n        const trade_type_options = [];\n        const filtered_trade_type_categories = [];\n        const market = await this.getMarketBySymbol(symbol);\n        const submarket = await this.getSubmarketBySymbol(symbol);\n        const trade_type_categories = await this.getTradeTypeCategories(market, submarket, symbol);\n\n        for (let i = 0; i < trade_type_categories.length; i++) {\n            const trade_type_category = trade_type_categories[i];\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            const hidden_categories = this.getHiddenCategories(trade_types);\n\n            if (hidden_categories < trade_types.length) {\n                filtered_trade_type_categories.push(trade_type_category);\n            }\n        }\n\n        for (let i = 0; i < filtered_trade_type_categories.length; i++) {\n            const trade_type_category = filtered_trade_type_categories[i]; // e.g. ['Up/Down', 'callput']\n            // eslint-disable-next-line no-await-in-loop\n            const trade_types = await this.getTradeTypeByTradeCategory(\n                market,\n                submarket,\n                symbol,\n                trade_type_category[1]\n            );\n\n            trade_type_options.push(...this.getTradeTypeOptions(trade_types, trade_type_category));\n        }\n        return trade_type_options;\n    }\n\n    async getTradeTypeCategories(market, submarket, symbol) {\n        const { TRADE_TYPE_CATEGORY_NAMES, NOT_AVAILABLE_DROPDOWN_OPTIONS } = config;\n        const contracts = await this.getContractsFor(symbol);\n        const trade_type_categories = [];\n\n        contracts.forEach(contract => {\n            const trade_type_category = this.getTradeTypeCategoryByTradeType(contract.contract_category);\n            const trade_type_category_name = this.getTradeTypeCategoryNameByTradeType(contract.contract_category);\n\n            if (trade_type_category_name) {\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                });\n\n                if (!is_disabled) {\n                    const is_existing_category =\n                        trade_type_categories.findIndex(c => c[1] === trade_type_category) !== -1;\n\n                    if (!is_existing_category) {\n                        trade_type_categories.push([trade_type_category_name, trade_type_category]);\n                    }\n                }\n            }\n        });\n\n        if (trade_type_categories.length > 0) {\n            const category_names = Object.keys(TRADE_TYPE_CATEGORY_NAMES);\n\n            return trade_type_categories.sort((a, b) => {\n                const index_a = category_names.findIndex(c => c === a[1]);\n                const index_b = category_names.findIndex(c => c === b[1]);\n                return index_a - index_b;\n            });\n        }\n\n        return NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    async getTradeTypes(market, submarket, symbol, trade_type_category) {\n        const { NOT_AVAILABLE_DURATIONS, TRADE_TYPE_CATEGORIES, opposites } = config;\n        const trade_types = [];\n        const subcategories = TRADE_TYPE_CATEGORIES[trade_type_category];\n\n        if (subcategories) {\n            for (let i = 0; i < subcategories.length; i++) {\n                const trade_type = subcategories[i];\n                const durations = await this.getDurations(symbol, trade_type); // eslint-disable-line no-await-in-loop\n                const has_durations = JSON.stringify(durations) !== JSON.stringify(NOT_AVAILABLE_DURATIONS);\n                const is_disabled = this.isDisabledOption({\n                    market,\n                    submarket,\n                    symbol,\n                    trade_type_category,\n                    trade_type,\n                });\n\n                if (!is_disabled && has_durations) {\n                    const types = opposites[trade_type.toUpperCase()];\n                    // e.g. [['Rise/Fall', 'callput']]\n                    trade_types.push([types.map(type => type[Object.keys(type)[0]]).join('/'), trade_type]);\n                }\n            }\n        }\n\n        return trade_types.length > 0 ? trade_types : config.NOT_AVAILABLE_DROPDOWN_OPTIONS;\n    }\n\n    isDisabledOption(compare_obj) {\n        return this.disabled_options.some(disabled_obj =>\n            Object.keys(disabled_obj).every(prop => compare_obj[prop] === disabled_obj[prop])\n        );\n    }\n\n    disposeCache() {\n        this.contracts_for = {};\n    }\n\n    getContractTypes = trade_type => {\n        const { opposites } = config;\n        const categories = opposites[trade_type.toUpperCase()].map(opposite => ({\n            value: Object.keys(opposite)[0],\n            text: Object.values(opposite)[0],\n        }));\n        return categories;\n    };\n}\n","import PendingPromise from '../../utils/pending-promise';\n\nexport default class TradingTimes {\n    constructor({ ws, server_time }) {\n        this.init_promise = new PendingPromise();\n        this.is_initialised = false;\n        this.trading_times = {};\n        this.ws = ws;\n        this.server_time = server_time.clone();\n    }\n\n    async initialise() {\n        if (this.is_initialised) {\n            return this.init_promise;\n        }\n\n        this.is_initialised = true;\n        this.last_update_moment = this.server_time.local();\n\n        if (!Object.keys(this.trading_times).length) {\n            await this.updateTradingTimes();\n            this.init_promise.resolve();\n\n            const periodicUpdate = async () => {\n                const changes = this.updateMarketOpenClosed();\n\n                if (Object.keys(changes).length > 0 && this.onMarketOpenCloseChanged) {\n                    this.onMarketOpenCloseChanged(changes);\n                }\n\n                let next_update_date = this.nextUpdateDate();\n\n                if (!next_update_date) {\n                    const now_moment = this.server_time.local();\n                    const next_update_moment = this.last_update_moment.clone().add(1, 'days');\n\n                    if (now_moment.isAfter(next_update_moment)) {\n                        this.last_update_moment = now_moment.clone();\n                    } else {\n                        this.last_update_moment = next_update_moment.clone();\n                    }\n\n                    // Retain the current market open close status, because the trade times\n                    // will now be the following day:\n                    const is_open_map = {};\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        is_open_map[symbol_name] = this.trading_times[symbol_name].is_opened;\n                    });\n\n                    await this.updateTradingTimes();\n\n                    Object.keys(this.trading_times).forEach(symbol_name => {\n                        this.trading_times[symbol_name].is_opened = is_open_map[symbol_name];\n                    });\n\n                    // next update date will be 00:00 hours (UTC) of the following day:\n                    next_update_moment.set({ hour: 0, minute: 0, second: 0 });\n                    next_update_date = next_update_moment.toDate();\n                }\n\n                const wait_period = next_update_date - this.server_time.local().toDate();\n                this.update_timer = setTimeout(periodicUpdate, wait_period);\n            };\n\n            await periodicUpdate();\n        }\n\n        return this.init_promise;\n    }\n\n    async updateTradingTimes() {\n        const last_update_date = this.last_update_moment.format('YYYY-MM-DD');\n        const response = await this.ws.tradingTimes(last_update_date);\n\n        if (response.error) {\n            return;\n        }\n\n        this.trading_times = {};\n\n        const now = this.server_time.local().toDate();\n        const date_str = now.toISOString().substring(0, 11);\n        const getUTCDate = hour => new Date(`${date_str}${hour}Z`);\n        const {\n            trading_times: { markets },\n        } = response;\n\n        if (!markets) {\n            return;\n        }\n\n        markets.forEach(market => {\n            const { submarkets } = market;\n\n            submarkets.forEach(submarket => {\n                const { symbols } = submarket;\n\n                symbols.forEach(symbol_obj => {\n                    const { times, symbol } = symbol_obj;\n                    const { open, close } = times;\n                    const is_open_all_day = open.length === 1 && open[0] === '00:00:00' && close[0] === '23:59:59';\n                    const is_closed_all_day = open.length === 1 && open[0] === '--' && close[0] === '--';\n\n                    let processed_times;\n\n                    if (!is_open_all_day && !is_closed_all_day) {\n                        processed_times = open.map((open_time, index) => ({\n                            open: getUTCDate(open_time),\n                            close: getUTCDate(close[index]),\n                        }));\n                    }\n\n                    this.trading_times[symbol] = {\n                        is_open_all_day,\n                        is_closed_all_day,\n                        times: processed_times,\n                    };\n                });\n            });\n        });\n    }\n\n    updateMarketOpenClosed() {\n        const changes = {};\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const is_opened = this.calcIsMarketOpened(symbol_name);\n            const symbol_obj = this.trading_times[symbol_name];\n\n            if (symbol_obj.is_opened !== is_opened) {\n                symbol_obj.is_opened = is_opened;\n                changes[symbol_name] = is_opened;\n            }\n        });\n\n        return changes;\n    }\n\n    calcIsMarketOpened(symbol_name) {\n        const now = this.server_time.local().unix();\n        const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n        if (is_closed_all_day) {\n            return false;\n        }\n\n        if (is_open_all_day) {\n            return true;\n        }\n\n        return times.some(session => {\n            const { open, close } = session;\n            return now >= open && now < close;\n        });\n    }\n\n    nextUpdateDate() {\n        const now = this.server_time.local().toDate();\n\n        let nextDate;\n\n        Object.keys(this.trading_times).forEach(symbol_name => {\n            const { times, is_open_all_day, is_closed_all_day } = this.trading_times[symbol_name];\n\n            if (is_open_all_day || is_closed_all_day) {\n                return;\n            }\n\n            times.forEach(session => {\n                const { open, close } = session;\n\n                if (open > now && (!nextDate || open < nextDate)) {\n                    nextDate = open;\n                }\n                if (close > now && (!nextDate || close < nextDate)) {\n                    nextDate = close;\n                }\n            });\n        });\n\n        return nextDate;\n    }\n\n    isMarketOpened(symbol_name) {\n        const symbol_names = Object.keys(this.trading_times);\n\n        if (!symbol_names.length || !symbol_names.includes(symbol_name)) {\n            return false;\n        }\n\n        return this.trading_times[symbol_name].is_opened;\n    }\n}\n","import { observer as globalObserver } from '../../../utils/observer';\nimport { config } from '../../../constants/config';\n\nexport const contract = c => globalObserver.emit('bot.contract', c);\n\nexport const contractStatus = c => globalObserver.emit('contract.status', c);\n\nexport const info = i => globalObserver.emit('bot.info', i);\n\nexport const notify = (className, message) =>\n    globalObserver.emit('ui.log.notify', { className, message, sound: config.lists.NOTIFICATION_SOUND[0][1] });\n\nexport const log = (log_type, extra) => globalObserver.emit('ui.log.success', { log_type, extra });\n\nexport const error = message => globalObserver.emit('ui.log.error', message);\n","import { formatTime, findValueByKeyRecursively, getRoundedNumber, isEmptyObject } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { error as logError } from './broadcast';\nimport { observer as globalObserver } from '../../../utils/observer';\n\nexport const tradeOptionToProposal = (trade_option, purchase_reference) =>\n    trade_option.contractTypes.map(type => {\n        const proposal = {\n            amount: trade_option.amount,\n            basis: trade_option.basis,\n            contract_type: type,\n            currency: trade_option.currency,\n            duration: trade_option.duration,\n            duration_unit: trade_option.duration_unit,\n            multiplier: trade_option.multiplier,\n            passthrough: {\n                contract_type: type,\n                purchase_reference,\n            },\n            proposal: 1,\n            symbol: trade_option.symbol,\n        };\n        if (trade_option.prediction !== undefined) {\n            proposal.selected_tick = trade_option.prediction;\n        }\n        if (!['TICKLOW', 'TICKHIGH'].includes(type) && trade_option.prediction !== undefined) {\n            proposal.barrier = trade_option.prediction;\n        } else if (trade_option.barrierOffset !== undefined) {\n            proposal.barrier = trade_option.barrierOffset;\n        }\n        if (trade_option.secondBarrierOffset !== undefined) {\n            proposal.barrier2 = trade_option.secondBarrierOffset;\n        }\n        if (['MULTUP', 'MULTDOWN'].includes(type)) {\n            proposal.duration = undefined;\n            proposal.duration_unit = undefined;\n        }\n        if (!isEmptyObject(trade_option.limit_order)) {\n            proposal.limit_order = trade_option.limit_order;\n        }\n        return proposal;\n    });\n\nexport const tradeOptionToBuy = (contract_type, trade_option) => {\n    const buy = {\n        buy: '1',\n        price: trade_option.amount,\n        parameters: {\n            amount: trade_option.amount,\n            basis: trade_option.basis,\n            contract_type,\n            currency: trade_option.currency,\n            duration: trade_option.duration,\n            duration_unit: trade_option.duration_unit,\n            multiplier: trade_option.multiplier,\n            symbol: trade_option.symbol,\n        },\n    };\n    if (trade_option.prediction !== undefined) {\n        buy.parameters.selected_tick = trade_option.prediction;\n    }\n    if (!['TICKLOW', 'TICKHIGH'].includes(contract_type) && trade_option.prediction !== undefined) {\n        buy.parameters.barrier = trade_option.prediction;\n    } else if (trade_option.barrierOffset !== undefined) {\n        buy.parameters.barrier = trade_option.barrierOffset;\n    }\n    if (trade_option.secondBarrierOffset !== undefined) {\n        buy.parameters.barrier2 = trade_option.secondBarrierOffset;\n    }\n    if (!isEmptyObject(trade_option.app_markup_percentage)) {\n        buy.parameters.app_markup_percentage = trade_option.app_markup_percentage;\n    }\n    if (!isEmptyObject(trade_option.barrier_range)) {\n        buy.parameters.barrier_range = trade_option.barrier_range;\n    }\n    if (!isEmptyObject(trade_option.date_expiry)) {\n        buy.parameters.date_expiry = trade_option.date_expiry;\n    }\n    if (!isEmptyObject(trade_option.date_start)) {\n        buy.parameters.date_start = trade_option.date_start;\n    }\n    if (!isEmptyObject(trade_option.product_type)) {\n        buy.parameters.product_type = trade_option.product_type;\n    }\n    if (!isEmptyObject(trade_option.trading_period_start)) {\n        buy.parameters.trading_period_start = trade_option.trading_period_start;\n    }\n    // This will be required only in the case of multiplier & accumulator contracts\n    if (!isEmptyObject(trade_option.limit_order)) {\n        buy.parameters.limit_order = trade_option.limit_order;\n    }\n    // This will be required only in the case of multiplier contracts\n    if (['MULTUP', 'MULTDOWN'].includes(contract_type)) {\n        buy.parameters.duration = undefined;\n        buy.parameters.duration_unit = undefined;\n\n        buy.parameters.multiplier = trade_option.multiplier;\n    }\n    // This will be required only in the case of accumulator contracts\n    if (['ACCU'].includes(contract_type)) {\n        buy.parameters.growth_rate = trade_option.growth_rate;\n    }\n    return buy;\n};\n\nexport const getDirection = ticks => {\n    const { length } = ticks;\n    const [tickOld, tickNew] = ticks.slice(-2);\n\n    let direction = '';\n    if (length >= 2) {\n        direction = tickOld.quote < tickNew.quote ? 'rise' : direction;\n        direction = tickOld.quote > tickNew.quote ? 'fall' : direction;\n    }\n\n    return direction;\n};\n\nexport const getLastDigit = tick => {\n    let number_string = tick;\n    if (typeof number_string === 'number') {\n        number_string = String(number_string);\n    }\n    return Number(number_string[number_string.length - 1]);\n};\n\nexport const getLastDigitForList = (tick, pip_size = 0) => {\n    const value = Number(tick).toFixed(pip_size);\n    return value[value.length - 1];\n};\n\nconst getBackoffDelayInMs = (error, delay_index) => {\n    const base_delay = 2.5;\n    const max_delay = 15;\n    const next_delay_in_seconds = Math.min(base_delay * delay_index, max_delay);\n\n    if (error.error.code === 'RateLimit') {\n        logError(\n            localize('You are rate limited for: {{ message_type }}, retrying in {{ delay }}s (ID: {{ request }})', {\n                message_type: error.msg_type,\n                delay: next_delay_in_seconds,\n                request: error.echo_req.req_id,\n            })\n        );\n    } else if (error.error.code === 'DisconnectError') {\n        logError(\n            localize('You are disconnected, retrying in {{ delay }}s', {\n                delay: next_delay_in_seconds,\n            })\n        );\n    } else if (error.error.code === 'MarketIsClosed') {\n        logError(localize('This market is presently closed.'));\n    } else {\n        logError(\n            localize('Request failed for: {{ message_type }}, retrying in {{ delay }}s', {\n                message_type: error.msg_type || localize('unknown'),\n                delay: next_delay_in_seconds,\n            })\n        );\n    }\n\n    return next_delay_in_seconds * 1000;\n};\n\nexport const updateErrorMessage = error => {\n    if (error.error?.code === 'InputValidationFailed') {\n        if (error.error.details?.duration) {\n            error.error.message = localize('Duration must be a positive integer');\n        }\n        if (error.error.details?.amount) {\n            error.error.message = localize('Amount must be a positive number.');\n        }\n    }\n};\n\nexport const shouldThrowError = (error, errors_to_ignore = []) => {\n    if (!error.error) {\n        return false;\n    }\n\n    const default_errors_to_ignore = [\n        'CallError',\n        'WrongResponse',\n        'GetProposalFailure',\n        'RateLimit',\n        'DisconnectError',\n        'MarketIsClosed',\n    ];\n    updateErrorMessage(error);\n    const is_ignorable_error = errors_to_ignore.concat(default_errors_to_ignore).includes(error.error.code);\n\n    return !is_ignorable_error;\n};\n\nexport const recoverFromError = (promiseFn, recoverFn, errors_to_ignore, delay_index, api_base) => {\n    return new Promise((resolve, reject) => {\n        const promise = promiseFn();\n\n        if (promise) {\n            promise.then(resolve).catch(error => {\n                /**\n                 * if bot is not running there is no point of recovering from error\n                 * `!api_base.is_running` will check the bot status if it is not running it will kick out the control from loop\n                 */\n                if (shouldThrowError(error, errors_to_ignore) || (api_base && !api_base.is_running)) {\n                    reject(error);\n                    return;\n                }\n                recoverFn(\n                    error.error.code,\n                    () =>\n                        new Promise(recoverResolve => {\n                            const getGlobalTimeouts = () => globalObserver.getState('global_timeouts') ?? [];\n\n                            const timeout = setTimeout(() => {\n                                const global_timeouts = getGlobalTimeouts();\n                                delete global_timeouts[timeout];\n                                globalObserver.setState(global_timeouts);\n                                recoverResolve();\n                            }, getBackoffDelayInMs(error, delay_index));\n\n                            const global_timeouts = getGlobalTimeouts();\n                            const cancellable_timeouts = ['buy'];\n                            const msg_type = findValueByKeyRecursively(error, 'msg_type');\n\n                            global_timeouts[timeout] = {\n                                is_cancellable: cancellable_timeouts.includes(msg_type),\n                                msg_type,\n                            };\n\n                            globalObserver.setState({ global_timeouts });\n                        })\n                );\n            });\n        } else {\n            resolve();\n        }\n    });\n};\n\n/**\n * @param {*} promiseFn api call - it could be api call or subscription\n * @param {*} errors_to_ignore list of errors to ignore\n * @param {*} api_base instance of APIBase class to check if the bot is running or not\n * @returns a new promise\n */\nexport const doUntilDone = (promiseFn, errors_to_ignore, api_base) => {\n    let delay_index = 1;\n\n    return new Promise((resolve, reject) => {\n        const recoverFn = (error_code, makeDelay) => {\n            delay_index++;\n            makeDelay().then(repeatFn);\n        };\n\n        const repeatFn = () => {\n            recoverFromError(promiseFn, recoverFn, errors_to_ignore, delay_index, api_base).then(resolve).catch(reject);\n        };\n\n        repeatFn();\n    });\n};\n\nexport const createDetails = contract => {\n    const { sell_price: sellPrice, buy_price: buyPrice, currency } = contract;\n    const profit = getRoundedNumber(sellPrice - buyPrice, currency);\n    const result = profit < 0 ? 'loss' : 'win';\n\n    return [\n        contract.transaction_ids.buy,\n        +contract.buy_price,\n        +contract.sell_price,\n        profit,\n        contract.contract_type,\n        formatTime(parseInt(`${contract.entry_tick_time}000`), 'HH:mm:ss'),\n        +contract.entry_tick,\n        formatTime(parseInt(`${contract.exit_tick_time}000`), 'HH:mm:ss'),\n        +contract.exit_tick,\n        +(contract.barrier ? contract.barrier : 0),\n        result,\n    ];\n};\n\nexport const getUUID = () => `${new Date().getTime() * Math.random()}`;\n\nconst hasBlockOfType = (targetType, workspace) => {\n    const allBlocks = workspace.getAllBlocks();\n    return allBlocks.some(block => block.type === targetType && !!block.parentBlock_);\n};\n\nexport const checkBlocksForProposalRequest = () => {\n    const workspace = Blockly.derivWorkspace;\n    const has_payout_block = hasBlockOfType('payout', workspace);\n\n    // Code for the future for case when basis: 'payout':\n    // * Since basis : '${block.type === 'trade_definition_tradeoptions' ? 'stake' : 'payout'}'\n    // * basis: 'payout' when contract_type: \"MULTUP\"\n    // Uncomment next line later:\n    // const is_basis_payout = !hasBlockOfType('trade_definition_tradeoptions', workspace);\n\n    return {\n        has_payout_block,\n        is_basis_payout: false,\n    };\n};\n\nexport const socket_state = {\n    [WebSocket.CONNECTING]: 'Connecting',\n    [WebSocket.OPEN]: 'Connected',\n    [WebSocket.CLOSING]: 'Closing',\n    [WebSocket.CLOSED]: 'Closed',\n};\n","import { localize } from '@deriv/translations';\n\nconst generateErrorMessage = (block_type, missing_space = localize('workspace')) => {\n    return {\n        missing: localize('The {{block_type}} block is mandatory and cannot be deleted/disabled.', {\n            block_type,\n        }),\n        misplaced: localize('The {{block_type}} block is misplaced from {{missing_space}}.', {\n            block_type,\n            missing_space,\n        }),\n        disabled: localize('The {{block_type}} block is mandatory and cannot be deleted/disabled.', {\n            block_type,\n        }),\n        default: localize('The {{block_type}} block is mandatory and cannot be deleted/disabled.', {\n            block_type,\n        }),\n    };\n};\n\nexport const error_message_map = {\n    trade_definition: generateErrorMessage(localize('Trade parameters')),\n    trade_parameters: generateErrorMessage(localize('Trade parameters')),\n    before_purchase: generateErrorMessage(localize('Purchase conditions')),\n    purchase_conditions: generateErrorMessage(localize('Purchase conditions')),\n    purchase: generateErrorMessage(localize('Purchase'), localize('purchase conditions')),\n    trade_definition_tradeoptions: generateErrorMessage(localize('Trade options'), localize('trade parameters')),\n    trade_definition_multiplier: generateErrorMessage(\n        localize('Trade options multipliers'),\n        localize('trade parameters')\n    ),\n};\n","import { observer as globalObserver } from './observer';\n\nexport const createError = (name, message) => {\n    const e = new Error(message);\n    e.name = name;\n    e.code = name;\n    return e;\n};\n\nexport const trackAndEmitError = (message, object = {}) => {\n    globalObserver.emit('ui.log.error', message);\n    if (window.trackJs) {\n        trackJs.track(`${message} - Error: ${JSON.stringify(object)}`);\n    }\n};\n","import { localize } from '@deriv/translations';\nimport { config } from '../constants/config';\n\n// TODO: use-shared-functions - These functions are duplicates of trader ones, export and use these instead.\nexport const getContractTypeName = contract => {\n    const { opposites } = config;\n    let name = localize('Unknown');\n\n    Object.keys(opposites).forEach(opposites_name => {\n        const contract_type_objs = opposites[opposites_name];\n\n        contract_type_objs.forEach(contract_type_obj => {\n            const contract_type_names = Object.entries(contract_type_obj)[0]; // ['CALL', 'Rise']\n\n            if (contract_type_names[0] === contract.contract_type) {\n                // Extra check for CALL & PUT types to distinguish Rise/Fall & Higher/Lower.\n                if (['CALL', 'PUT'].includes(contract_type_names[0])) {\n                    const shortcode_suffix = contract.shortcode.split('_').slice(-2)[0];\n                    const is_risefall = /^S0P$/.test(shortcode_suffix);\n                    const req_opposite_name = is_risefall ? 'CALLPUT' : 'HIGHERLOWER';\n\n                    if (opposites_name !== req_opposite_name) {\n                        return;\n                    }\n                }\n\n                name = contract_type_names[1];\n            }\n        });\n    });\n\n    return name;\n};\n","export const importExternal = url => {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = url;\n        script.async = true;\n        script.onload = () => resolve(window.external_global_component);\n        script.onerror = reject;\n\n        document.body.appendChild(script);\n    });\n};\n","import { localize } from '@deriv/translations';\n\nexport const timeSince = timestamp => {\n    const now = new Date();\n    const secondPast = (now.getTime() - timestamp) / 1000;\n\n    if (secondPast < 60) {\n        return localize('{{secondPast}}s ago', { secondPast: parseInt(secondPast) });\n    }\n    if (secondPast < 3600) {\n        return localize('{{minutePast}}m ago', { minutePast: parseInt(secondPast / 60) });\n    }\n    if (secondPast <= 86400) {\n        return localize('{{hourPast}}h ago', { hourPast: parseInt(secondPast / 3600) });\n    }\n\n    const timestampDate = new Date(timestamp);\n    const day = timestampDate.getDate();\n    const month = timestampDate\n        .toDateString()\n        .match(/ [a-zA-Z]*/)[0]\n        .replace(' ', '');\n    const year = `${timestampDate.getFullYear() === now.getFullYear() ? '' : ' '}${timestampDate.getFullYear()}`;\n    return `${day} ${month}${year}`;\n};\n","const darkMode = () => {\n    const workspace = Blockly;\n    workspace.Colours.RootBlock = {\n        colour: '#183046',\n        colourSecondary: '#F2F3F5',\n        colourTertiary: '#151717',\n    };\n    workspace.Colours.Base = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#0e0e0e',\n    };\n\n    workspace.Colours.Special1 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special2 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#D27954',\n    };\n\n    workspace.Colours.Special3 = {\n        colour: '#C2C2C2',\n        colourSecondary: '#0e0e0e',\n        colourTertiary: '#D27954',\n    };\n};\n\nconst lightMode = () => {\n    const workspace = Blockly;\n    workspace.Colours.RootBlock = {\n        colour: '#064e72',\n        colourSecondary: '#064e72',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Base = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special1 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special2 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n\n    workspace.Colours.Special3 = {\n        colour: '#e5e5e5',\n        colourSecondary: '#ffffff',\n        colourTertiary: '#6d7278',\n    };\n};\nexport const setColors = is_dark_mode => (is_dark_mode ? darkMode() : lightMode());\n","/** Helper function to perform sequential execution of functions */\nexport const pipe = (...fns) => {\n    return initialValue => {\n        return fns.reduce((nextParam, fn) => fn(nextParam), initialValue);\n    };\n};\n\n/** Helper function to parse block information from XML */\nexport const extractBlocksFromXml = xml => {\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(xml, 'text/xml');\n    const blocks = xmlDoc.getElementsByTagName('block');\n\n    const blocksTypeAndFields = Array.from(blocks).map(block => {\n        const type = block.getAttribute('type');\n        const fields = Array.from(block.getElementsByTagName('field')).map(field => {\n            return {\n                name: field.getAttribute('name'),\n                value: field.textContent.trim(),\n            };\n        });\n        return { type, fields };\n    });\n\n    return blocksTypeAndFields;\n};\n\n/** Helper function to sort block childs based on type or field name */\nexport const sortBlockChild = blocksArray =>\n    blocksArray.sort((a, b) => {\n        if (a.type < b.type) {\n            return -1;\n        }\n        if (a.type > b.type) {\n            return 1;\n        }\n        return JSON.stringify(a.fields) < JSON.stringify(b.fields) ? -1 : 1;\n    });\n\n/** Compare two blocks by field name and value */\nconst areFieldsEqual = (fields1, fields2) => {\n    if (fields1?.length !== fields2?.length) {\n        return false;\n    }\n    for (let i = 0; i < fields1.length; i++) {\n        if (fields1[i]?.name !== fields2[i]?.name || fields1[i]?.value !== fields2[i]?.value) {\n            return false;\n        }\n    }\n    return true;\n};\n\n/** Sanitize XMLs and compare them */\nexport const compareXml = (xml1, xml2) => {\n    // Extract block information from the XMLs and sort the blocks\n    const sortedBlocks1 = pipe(extractBlocksFromXml, sortBlockChild);\n    const sortedBlocks2 = pipe(extractBlocksFromXml, sortBlockChild);\n    const blocks1 = sortedBlocks1(xml1);\n    const blocks2 = sortedBlocks2(xml2);\n\n    // Compare the sorted blocks\n    if (blocks1?.length !== blocks2?.length) {\n        return false;\n    }\n    for (let i = 0; i < blocks1.length; i++) {\n        if (blocks1[i]?.type !== blocks2[i]?.type || !areFieldsEqual(blocks1[i]?.fields, blocks2[i]?.fields)) {\n            return false;\n        }\n    }\n\n    return true;\n};\n","import { error_message_map } from './error-config';\nimport { observer } from './observer';\n\nconst onKeyDownHandleError = event => {\n    if (Blockly.selected !== null && Blockly.selected.parentBlock_ === null) {\n        if (event.key === 'Delete' || event.key === 'Backspace') {\n            handleError('BLOCK_DELETION', observer);\n        }\n    }\n};\n\nexport const removeErrorHandlingEventListener = (type = 'keydown') => {\n    window.removeEventListener(type, onKeyDownHandleError);\n};\n\nexport const initErrorHandlingListener = (type = 'keydown') => {\n    window.addEventListener(type, onKeyDownHandleError);\n};\n\nexport const handleError = (errorCode, observer) => {\n    switch (errorCode) {\n        case 'BLOCK_DELETION':\n            if (error_message_map[Blockly.selected.type]) {\n                observer.emit('ui.log.error', error_message_map[Blockly.selected.type]?.default);\n            }\n            break;\n        default:\n            break;\n    }\n};\n","import LZString from 'lz-string';\nimport localForage from 'localforage';\nimport DBotStore from '../scratch/dbot-store';\nimport { save_types } from '../constants/save-type';\n/**\n * Save workspace to localStorage\n * @param {String} save_type // constants/save_types.js (unsaved, local, googledrive)\n * @param {Blockly.Events} event // Blockly event object\n */\nexport const saveWorkspaceToRecent = async (xml, save_type = save_types.UNSAVED) => {\n    // Ensure strategies don't go through expensive conversion.\n    xml.setAttribute('is_dbot', true);\n    const {\n        load_modal: { updateListStrategies },\n        save_modal,\n    } = DBotStore.instance;\n\n    const workspace_id = Blockly.derivWorkspace.current_strategy_id || Blockly.utils.genUid();\n    const workspaces = await getSavedWorkspaces();\n    const current_xml = Blockly.Xml.domToText(xml);\n    const current_timestamp = Date.now();\n    const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n    if (current_workspace_index >= 0) {\n        const current_workspace = workspaces[current_workspace_index];\n        current_workspace.xml = current_xml;\n        current_workspace.name = save_modal.bot_name;\n        current_workspace.timestamp = current_timestamp;\n        current_workspace.save_type = save_type;\n    } else {\n        workspaces.push({\n            id: workspace_id,\n            timestamp: current_timestamp,\n            name: save_modal.bot_name,\n            xml: current_xml,\n            save_type,\n        });\n    }\n\n    workspaces\n        .sort((a, b) => {\n            return new Date(a.timestamp) - new Date(b.timestamp);\n        })\n        .reverse();\n\n    if (workspaces.length > 10) {\n        workspaces.pop();\n    }\n    updateListStrategies(workspaces);\n    localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n};\n\nexport const getSavedWorkspaces = async () => {\n    try {\n        return JSON.parse(LZString.decompress(await localForage.getItem('saved_workspaces'))) || [];\n    } catch (e) {\n        return [];\n    }\n};\n\nexport const removeExistingWorkspace = async workspace_id => {\n    const workspaces = await getSavedWorkspaces();\n    const current_workspace_index = workspaces.findIndex(workspace => workspace.id === workspace_id);\n\n    if (current_workspace_index >= 0) {\n        workspaces.splice(current_workspace_index, 1);\n    }\n\n    await localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspaces)));\n};\n","import { Map, List } from 'immutable';\n/**\nBelow are the list of events we can register to listen to :\n \n-bot.running : Emitted in trade/index.js, in old Binary Bot this is only used\nto set the label to is running.\n\n-bot.stop: Bot was stopped by the user\n\n-bot.contract: Called in OpenContract.js, object consisting of\naccountID and a proposal_open_contract response, this will\nbe emitted on each POC message from the server.\n\n-bot.info: Emitted in trade/Balance.js, it announces account ID and balance,\nwe don't need this in DerivBot. Can also be emitted during running\ncontract, it then announces an object consisting of accountID,\ntotal_runs, transaction_ids, contract_type, and buy_price.\n\n-contract.status:  First emitted in trade/Purchase.js with an idea that's more\nof a flag e.g. contract_purchase_sent (when buy was sent to\nAPI, or contract_purchase_recieved (when buy was acknowledged\nby API), or contract.sold (when a contract was sold/expired).\n\n-contract.settled: this event was emitted to initiate a\nsettlement of a contract, i.e. it would call proposal_open_contract to retrieve\nlatest values for contract, not required atm by DerivBot\n\n-googledrive.authorise : event to start auturize google flow\n\n-ui.log.success: UI Notifications\n\n-ui.log.error: UI errors\n\n-ui.log.warn: UI warning\n\n-Notify: Server Notifications\n\n-Error : Server errors\n\n */\n\nexport default class Observer {\n    constructor() {\n        this.eam = new Map(); // event action map\n    }\n\n    register(event, _action, once, unregisterIfError, unregisterAllBefore) {\n        if (unregisterAllBefore) {\n            this.unregisterAll(event);\n        }\n        const apiError = error => {\n            if (error.type === unregisterIfError.type) {\n                this.unregister('api.error', apiError);\n                unregisterIfError.unregister.forEach(unreg => {\n                    if (unreg instanceof Array) {\n                        this.unregister(...unreg);\n                    } else {\n                        this.unregisterAll(unreg);\n                    }\n                });\n            }\n        };\n        if (unregisterIfError) {\n            this.register('api.error', apiError);\n        }\n        const action = (...args) => {\n            if (once) {\n                this.unregister(event, _action);\n            }\n            if (unregisterIfError) {\n                this.unregister('api.error', apiError);\n            }\n            _action(...args);\n        };\n\n        const actionList = this.eam.get(event);\n\n        this.eam = actionList\n            ? this.eam.set(event, actionList.push({ action, searchBy: _action }))\n            : this.eam.set(event, new List().push({ action, searchBy: _action }));\n    }\n\n    unregister(event, f) {\n        this.eam = this.eam.set(\n            event,\n            this.eam.get(event).filter(r => r.searchBy !== f)\n        );\n    }\n\n    isRegistered(event) {\n        return this.eam.has(event);\n    }\n\n    unregisterAll(event) {\n        this.eam = this.eam.delete(event);\n    }\n\n    emit(event, data) {\n        if (this.eam.has(event)) {\n            this.eam.get(event).forEach(action => action.action(data));\n        }\n    }\n    setState(state = {}) {\n        this.state = { ...this.state, ...state };\n    }\n    getState(key) {\n        return this.state?.[key];\n    }\n}\n\nexport const observer = new Observer();\n","export default function PendingPromise() {\n    let resolve, reject;\n\n    const promise = new Promise((_resolve, _reject) => {\n        resolve = _resolve;\n        reject = _reject;\n    });\n\n    promise.isPending = true;\n\n    promise.resolve = res => {\n        promise.isPending = false;\n        resolve(res);\n    };\n\n    promise.reject = error => {\n        promise.isPending = false;\n        reject(error);\n    };\n\n    return promise;\n}\n","import { config } from '../constants/config';\n\nexport const hasAllRequiredBlocks = () => {\n    const blocks_in_workspace = Blockly.derivWorkspace.getAllBlocks();\n    const { mandatoryMainBlocks } = config;\n    const required_block_types = ['trade_definition_tradeoptions', ...mandatoryMainBlocks];\n    const all_block_types = blocks_in_workspace.map(block => block.type);\n    const has_all_required_blocks = required_block_types.every(required_block_type =>\n        all_block_types.includes(required_block_type)\n    );\n\n    return has_all_required_blocks;\n};\n\nexport const onWorkspaceResize = () => {\n    const workspace = Blockly.derivWorkspace;\n    if (workspace) {\n        workspace.getAllFields().forEach(field => field.forceRerender());\n\n        const el_scratch_div = document.getElementById('scratch_div');\n        if (el_scratch_div) {\n            el_scratch_div.style.width = 'calc(100vw - 3.2rem)';\n            el_scratch_div.style.height = 'var(--bot-content-height)';\n            Blockly.svgResize(workspace);\n        }\n    }\n};\n\nexport const removeLimitedBlocks = (workspace, block_types) => {\n    const types = Array.isArray(block_types) ? block_types : [block_types];\n\n    types.forEach(block_type => {\n        if (config.single_instance_blocks.includes(block_type)) {\n            workspace.getAllBlocks().forEach(ws_block => {\n                if (ws_block.type === block_type) {\n                    ws_block.dispose();\n                }\n            });\n        }\n    });\n};\n","import { createContext } from 'react';\nimport type { TStores } from '../types';\n\nconst StoreContext = createContext<TStores | null>(null);\n\nexport default StoreContext;\n","import React, { PropsWithChildren, createContext, useCallback, useContext, useEffect, useRef, useState } from 'react';\n// @ts-expect-error `@deriv/deriv-api` is not in TypeScript, Hence we ignore the TS error.\nimport DerivAPIBasic from '@deriv/deriv-api/dist/DerivAPIBasic';\nimport { getAppId, getSocketURL, useWS } from '@deriv/shared';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n\ntype APIContextData = {\n    derivAPI: DerivAPIBasic | null;\n    switchEnvironment: (loginid: string | null | undefined) => void;\n};\n\nconst APIContext = createContext<APIContextData | null>(null);\n\ndeclare global {\n    interface Window {\n        ReactQueryClient?: QueryClient;\n        DerivAPI?: Record<string, DerivAPIBasic>;\n        WSConnections?: Record<string, WebSocket>;\n    }\n}\n\n// This is a temporary workaround to share a single `QueryClient` instance between all the packages.\nconst getSharedQueryClientContext = (): QueryClient => {\n    if (!window.ReactQueryClient) {\n        window.ReactQueryClient = new QueryClient({\n            logger: {\n                log: console.log, // eslint-disable-line no-console\n                warn: console.warn, // eslint-disable-line no-console\n                error: () => null,\n            },\n        });\n    }\n\n    return window.ReactQueryClient;\n};\n\n/**\n * Retrieves the WebSocket URL based on the current environment.\n * @returns {string} The WebSocket URL.\n */\nconst getWebSocketURL = () => {\n    const endpoint = getSocketURL();\n    const app_id = getAppId();\n    const language = localStorage.getItem('i18n_language');\n    const brand = 'deriv';\n    const wss_url = `wss://${endpoint}/websockets/v3?app_id=${app_id}&l=${language}&brand=${brand}`;\n\n    return wss_url;\n};\n\n/**\n * Retrieves or initializes a WebSocket instance based on the provided URL.\n * @param {string} wss_url - The WebSocket URL.\n * @returns {WebSocket} The WebSocket instance associated with the provided URL.\n */\nconst getWebsocketInstance = (wss_url: string, onWSClose: () => void) => {\n    if (!window.WSConnections) {\n        window.WSConnections = {};\n    }\n\n    const existingWebsocketInstance = window.WSConnections[wss_url];\n    if (\n        !existingWebsocketInstance ||\n        !(existingWebsocketInstance instanceof WebSocket) ||\n        [2, 3].includes(existingWebsocketInstance.readyState)\n    ) {\n        window.WSConnections[wss_url] = new WebSocket(wss_url);\n        window.WSConnections[wss_url].addEventListener('close', () => {\n            if (typeof onWSClose === 'function') onWSClose();\n        });\n    }\n\n    return window.WSConnections[wss_url];\n};\n\n/**\n * Retrieves the active WebSocket instance.\n * @returns {WebSocket} The WebSocket instance associated with the provided URL.\n */\nexport const getActiveWebsocket = () => {\n    const wss_url = getWebSocketURL();\n\n    return window?.WSConnections?.[wss_url];\n};\n\n/**\n * Initializes a DerivAPI instance for the global window. This enables a standalone connection\n * without causing race conditions with deriv-app core stores.\n * @returns {DerivAPIBasic} The initialized DerivAPI instance.\n */\nconst initializeDerivAPI = (onWSClose: () => void): DerivAPIBasic => {\n    if (!window.DerivAPI) {\n        window.DerivAPI = {};\n    }\n\n    const wss_url = getWebSocketURL();\n    const websocketConnection = getWebsocketInstance(wss_url, onWSClose);\n\n    if (!window.DerivAPI?.[wss_url] || window.DerivAPI?.[wss_url].isConnectionClosed()) {\n        window.DerivAPI[wss_url] = new DerivAPIBasic({ connection: websocketConnection });\n    }\n\n    return window.DerivAPI?.[wss_url];\n};\n\nconst queryClient = getSharedQueryClientContext();\n\n/**\n * Determines the WS environment based on the login ID and custom server URL.\n * @param {string | null | undefined} loginid - The login ID (can be a string, null, or undefined).\n * @returns {string} Returns the WS environment: 'custom', 'real', or 'demo'.\n */\nconst getEnvironment = (loginid: string | null | undefined) => {\n    const customServerURL = window.localStorage.getItem('config.server_url');\n    if (customServerURL) return 'custom';\n\n    if (loginid && !/^(VRT|VRW)/.test(loginid)) return 'real';\n    return 'demo';\n};\n\ntype TAPIProviderProps = {\n    /** If set to true, the APIProvider will instantiate it's own socket connection. */\n    standalone?: boolean;\n};\n\nconst APIProvider = ({ children, standalone = false }: PropsWithChildren<TAPIProviderProps>) => {\n    const WS = useWS();\n    const [reconnect, setReconnect] = useState(false);\n    const activeLoginid = window.localStorage.getItem('active_loginid');\n    const [environment, setEnvironment] = useState(getEnvironment(activeLoginid));\n    const standaloneDerivAPI = useRef(standalone ? initializeDerivAPI(() => setReconnect(true)) : null);\n\n    const switchEnvironment = useCallback(\n        (loginid: string | null | undefined) => {\n            if (!standalone) return;\n            const currentEnvironment = getEnvironment(loginid);\n            if (currentEnvironment !== 'custom' && currentEnvironment !== environment) {\n                setEnvironment(currentEnvironment);\n            }\n        },\n        [environment, standalone]\n    );\n\n    useEffect(() => {\n        let interval_id: NodeJS.Timer;\n\n        if (standalone) {\n            interval_id = setInterval(() => standaloneDerivAPI.current?.send({ ping: 1 }), 10000);\n        }\n\n        return () => clearInterval(interval_id);\n    }, [standalone]);\n\n    useEffect(() => {\n        let reconnectTimerId: NodeJS.Timeout;\n        if (standalone || reconnect) {\n            standaloneDerivAPI.current = initializeDerivAPI(() => {\n                reconnectTimerId = setTimeout(() => setReconnect(true), 500);\n            });\n            setReconnect(false);\n        }\n\n        return () => clearTimeout(reconnectTimerId);\n    }, [environment, reconnect, standalone]);\n\n    return (\n        <APIContext.Provider value={{ derivAPI: standalone ? standaloneDerivAPI.current : WS, switchEnvironment }}>\n            <QueryClientProvider client={queryClient}>\n                {children}\n                {/* <ReactQueryDevtools /> */}\n            </QueryClientProvider>\n        </APIContext.Provider>\n    );\n};\n\nexport const useAPIContext = () => {\n    const context = useContext(APIContext);\n    if (!context) {\n        throw new Error('useAPIContext must be used within APIProvider');\n    }\n    return context;\n};\n\nexport default APIProvider;\n","import BaseStore from './BaseStore';\n\nconst FLAGS = {\n    wallet: false,\n    next_wallet: false,\n    sharkfin: false,\n    p2p_v2: false,\n    next_tradershub: false,\n} satisfies Record<string, boolean>;\n\nexport default class FeatureFlagsStore extends BaseStore<{ [k in keyof typeof FLAGS]: boolean }> {\n    constructor() {\n        super('FeatureFlagsStore', () => {\n            // Set the default values for the first time.\n            if (!this.data) this.update(FLAGS);\n\n            // Update the store data if a new flag was added or removed.\n            if (this.data && Object.keys(this.data).length !== Object.keys(FLAGS).length) {\n                this.update(old => {\n                    const data = FLAGS;\n\n                    Object.keys(FLAGS).forEach(flag => {\n                        // @ts-expect-error flag key is always present in the object, Hence can ignore the TS error.\n                        if (old[flag] !== undefined) data[flag] = old[flag];\n                    });\n\n                    return data;\n                });\n            }\n        });\n\n        this.data = FLAGS;\n    }\n}\n","import { action, makeObservable, observable } from 'mobx';\nimport { makePersistable, stopPersisting } from 'mobx-persist-store';\n\nexport default class BaseStore<T> {\n    data: T | undefined = undefined;\n\n    constructor(name: string, onHydrationDone?: VoidFunction) {\n        makeObservable(this, {\n            data: observable,\n            update: action.bound,\n            unmount: action.bound,\n        });\n\n        makePersistable(this, { name, properties: ['data'], storage: window.localStorage }).then(() =>\n            onHydrationDone?.()\n        );\n    }\n\n    update(data: NonNullable<T> | ((previous?: T) => NonNullable<T>)) {\n        this.data = data instanceof Function ? data(this.data) : data;\n    }\n\n    unmount() {\n        stopPersisting(this);\n    }\n}\n","import React, { useEffect, useMemo } from 'react';\nimport { APIProvider } from '@deriv/api';\nimport StoreContext from './storeContext';\nimport { FeatureFlagsStore } from './stores';\nimport type { TCoreStores, TStores } from '../types';\n\nconst StoreProvider = ({ children, store }: React.PropsWithChildren<{ store: TCoreStores }>) => {\n    const memoizedValue: TStores = useMemo(() => {\n        // If the store is mocked for testing purposes, then return the mocked value.\n        if ('is_mock' in store && store.is_mock) return store as unknown as TStores;\n\n        // Otherwise, instantiate store and return it.\n        return {\n            ...store,\n            feature_flags: new FeatureFlagsStore(),\n        };\n    }, [store]);\n\n    useEffect(() => {\n        return () => {\n            Object.values(memoizedValue).forEach(value => {\n                if (typeof value === 'object' && 'unmount' in value) value.unmount();\n            });\n        };\n    }, [memoizedValue]);\n\n    return (\n        <APIProvider>\n            <StoreContext.Provider value={memoizedValue}>{children}</StoreContext.Provider>\n        </APIProvider>\n    );\n};\n\nexport default StoreProvider;\n","import { useContext } from 'react';\nimport StoreContext from './storeContext';\n\nconst useStore = () => {\n    const store = useContext(StoreContext);\n\n    if (!store) {\n        throw new Error('useStore must be used within StoreProvider');\n    }\n\n    return store;\n};\n\nexport default useStore;\n","import React, { useState } from 'react';\nimport { Icon, Toast } from '@deriv/components';\n\ntype TBotSnackbar = {\n    className?: string;\n    is_open: boolean;\n    onClick?: React.MouseEventHandler<HTMLDivElement>;\n    handleClose: () => void;\n    type?: 'error' | 'info' | 'notification';\n    timeout?: number;\n    message: JSX.Element;\n};\n\nconst BotSnackbar = ({ message, timeout = 6000, is_open, onClick, handleClose, type, className }: TBotSnackbar) => {\n    const [notification_timer, setNotificationTimer] = useState(timeout);\n\n    React.useEffect(() => {\n        if (is_open) {\n            setNotificationTimer(timeout);\n        }\n    }, [is_open, timeout]);\n\n    return (\n        <div\n            onMouseOver={() => {\n                setNotificationTimer(0);\n            }}\n            onMouseLeave={() => {\n                setNotificationTimer(timeout);\n            }}\n            className={className ?? 'bot-snackbar'}\n            data-testid='bot-snackbar-notification-container'\n        >\n            <Toast is_open={is_open} type={type} timeout={notification_timer} onClick={onClick} onClose={handleClose}>\n                <div>{message}</div>\n                <Icon\n                    icon='IcCross'\n                    className={'notification-close'}\n                    data_testid={'bot-snackbar-notification-close'}\n                    onClick={handleClose}\n                />\n            </Toast>\n        </div>\n    );\n};\nexport default BotSnackbar;\n","import BotSnackbar from './bot-snackbar';\nimport './bot-snackbar.scss';\n\nexport default BotSnackbar;\n","type TTabsTitleProps = {\n    [key: string]: string | number;\n};\n\ntype TDashboardTabsProps = {\n    [key: string]: number;\n};\n\nexport const tabs_title: TTabsTitleProps = Object.freeze({\n    WORKSPACE: 'Workspace',\n    CHART: 'Chart',\n});\n\nexport const DBOT_TABS: TDashboardTabsProps = Object.freeze({\n    DASHBOARD: 0,\n    BOT_BUILDER: 1,\n    CHART: 2,\n    TUTORIAL: 3,\n});\n\nexport const MAX_STRATEGIES = 10;\n\nexport const TAB_IDS = ['id-dbot-dashboard', 'id-bot-builder', 'id-charts', 'id-tutorials'];\n\nexport const DEBOUNCE_INTERVAL_TIME = 300;\n","import { action, makeObservable, reaction, when } from 'mobx';\nimport { ApiHelpers, DBot, runIrreversibleEvents } from '@deriv/bot-skeleton';\nimport { ContentFlag, isEuResidenceWithOnlyVRTC, routes, showDigitalOptionsUnavailableError } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport default class AppStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            onMount: action.bound,\n            onUnmount: action.bound,\n            onBeforeUnload: action.bound,\n            registerReloadOnLanguageChange: action.bound,\n            registerCurrencyReaction: action.bound,\n            registerOnAccountSwitch: action.bound,\n            registerLandingCompanyChangeReaction: action.bound,\n            registerResidenceChangeReaction: action.bound,\n            setDBotEngineStores: action.bound,\n            onClickOutsideBlockly: action.bound,\n            showDigitalOptionsMaltainvestError: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.dbot_store = null;\n        this.api_helpers_store = null;\n        this.timer = null;\n    }\n\n    getErrorForNonEuClients = () => ({\n        text: localize(\n            'Unfortunately, this trading platform is not available for EU Deriv account. Please switch to a non-EU account to continue trading.'\n        ),\n        title: localize('Deriv Bot is unavailable for this account'),\n        link: localize('Switch to another account'),\n    });\n\n    getErrorForEuClients = (is_logged_in = false) => {\n        return {\n            text: ' ',\n            title: is_logged_in\n                ? localize('Deriv Bot is not available for EU clients')\n                : localize('Deriv Bot is unavailable in the EU'),\n            link: is_logged_in && localize(\"Back to Trader's Hub\"),\n            route: routes.traders_hub,\n        };\n    };\n\n    handleErrorForEu = (show_default_error = false) => {\n        const { client, common, ui, traders_hub } = this.core;\n        const toggleAccountsDialog = ui?.toggleAccountsDialog;\n\n        if (!client?.is_logged_in && client?.is_eu_country) {\n            return showDigitalOptionsUnavailableError(common.showError, this.getErrorForEuClients());\n        }\n\n        if (!client.is_landing_company_loaded) {\n            return false;\n        }\n\n        if (window.location.pathname === routes.bot) {\n            if (client.should_show_eu_error) {\n                return showDigitalOptionsUnavailableError(\n                    common.showError,\n                    this.getErrorForEuClients(client.is_logged_in)\n                );\n            }\n\n            if (traders_hub.content_flag === ContentFlag.HIGH_RISK_CR) {\n                return false;\n            }\n\n            if (traders_hub.content_flag === ContentFlag.LOW_RISK_CR_EU && toggleAccountsDialog) {\n                return showDigitalOptionsUnavailableError(\n                    common.showError,\n                    this.getErrorForNonEuClients(),\n                    toggleAccountsDialog,\n                    false,\n                    false\n                );\n            }\n\n            if (\n                ((!client.is_bot_allowed && client.is_eu && client.should_show_eu_error) ||\n                    isEuResidenceWithOnlyVRTC(client.active_accounts) ||\n                    client.is_options_blocked) &&\n                toggleAccountsDialog\n            ) {\n                return showDigitalOptionsUnavailableError(\n                    common.showError,\n                    this.getErrorForNonEuClients(),\n                    toggleAccountsDialog,\n                    false,\n                    false\n                );\n            }\n        }\n\n        if (show_default_error && common.has_error) {\n            common.setError(false, null);\n        }\n        return false;\n    };\n\n    onMount() {\n        const { blockly_store, run_panel } = this.root_store;\n        const { client, ui, traders_hub } = this.core;\n        this.showDigitalOptionsMaltainvestError();\n\n        let timer_counter = 1;\n\n        this.timer = setInterval(() => {\n            if (window.sendRequestsStatistic) {\n                window.sendRequestsStatistic(false);\n                performance.clearMeasures();\n                if (timer_counter === 6 || run_panel?.is_running) {\n                    clearInterval(this.timer);\n                } else {\n                    timer_counter++;\n                }\n            }\n        }, 10000);\n\n        blockly_store.setLoading(true);\n        DBot.initWorkspace(__webpack_public_path__, this.dbot_store, this.api_helpers_store, ui.is_mobile).then(() => {\n            blockly_store.setContainerSize();\n            blockly_store.setLoading(false);\n        });\n        this.registerReloadOnLanguageChange(this);\n        this.registerCurrencyReaction.call(this);\n        this.registerOnAccountSwitch.call(this);\n        this.registerLandingCompanyChangeReaction.call(this);\n        this.registerResidenceChangeReaction.call(this);\n\n        window.addEventListener('click', this.onClickOutsideBlockly);\n        window.addEventListener('beforeunload', this.onBeforeUnload);\n\n        blockly_store.getCachedActiveTab();\n\n        when(\n            () => [client?.should_show_eu_error, client?.is_landing_company_loaded],\n            () => this.showDigitalOptionsMaltainvestError()\n        );\n\n        reaction(\n            () => traders_hub?.content_flag,\n            () => this.showDigitalOptionsMaltainvestError()\n        );\n    }\n\n    onUnmount() {\n        DBot.terminateBot();\n        DBot.terminateConnection();\n        if (Blockly.derivWorkspace) {\n            clearInterval(Blockly.derivWorkspace.save_workspace_interval);\n            Blockly.derivWorkspace.dispose();\n        }\n        if (typeof this.disposeReloadOnLanguageChangeReaction === 'function') {\n            this.disposeReloadOnLanguageChangeReaction();\n        }\n        if (typeof this.disposeCurrencyReaction === 'function') {\n            this.disposeCurrencyReaction();\n        }\n        if (typeof this.disposeSwitchAccountListener === 'function') {\n            this.disposeSwitchAccountListener();\n        }\n        if (typeof this.disposeLandingCompanyChangeReaction === 'function') {\n            this.disposeLandingCompanyChangeReaction();\n        }\n        if (typeof this.disposeResidenceChangeReaction === 'function') {\n            this.disposeResidenceChangeReaction();\n        }\n\n        window.removeEventListener('click', this.onClickOutsideBlockly);\n        window.removeEventListener('beforeunload', this.onBeforeUnload);\n\n        // Ensure account switch is re-enabled.\n        const { ui } = this.core;\n\n        ui.setAccountSwitcherDisabledMessage(false);\n        ui.setPromptHandler(false);\n\n        if (this.timer) clearInterval(this.timer);\n        performance.clearMeasures();\n    }\n\n    onBeforeUnload = event => {\n        const { is_stop_button_visible } = this.root_store.run_panel;\n\n        if (is_stop_button_visible) {\n            event.returnValue = true;\n        }\n    };\n    registerReloadOnLanguageChange() {\n        this.disposeReloadOnLanguageChangeReaction = reaction(\n            () => this.core.common.current_language,\n            () => {\n                // temporarily added this to refresh just dbot in case of changing language,\n                // otherwise it should change language without refresh.\n                const { pathname } = window.location;\n                const is_bot =\n                    /^\\/bot/.test(pathname) || (/^\\/(br_)/.test(pathname) && pathname.split('/')[2] === 'bot');\n                if (is_bot) window.location.reload();\n            }\n        );\n    }\n    registerCurrencyReaction() {\n        // Syncs all trade options blocks' currency with the client's active currency.\n        this.disposeCurrencyReaction = reaction(\n            () => this.core.client.currency,\n            currency => {\n                if (!Blockly.derivWorkspace) return;\n\n                const trade_options_blocks = Blockly.derivWorkspace\n                    .getAllBlocks()\n                    .filter(\n                        b =>\n                            b.type === 'trade_definition_tradeoptions' ||\n                            b.type === 'trade_definition_multiplier' ||\n                            (b.isDescendantOf('trade_definition_multiplier') && b.category_ === 'trade_parameters')\n                    );\n\n                trade_options_blocks.forEach(trade_options_block => trade_options_block.setCurrency(currency));\n            }\n        );\n    }\n\n    registerOnAccountSwitch() {\n        const { client } = this.core;\n\n        this.disposeSwitchAccountListener = reaction(\n            () => client.switch_broadcast,\n            switch_broadcast => {\n                if (!switch_broadcast) return;\n                this.showDigitalOptionsMaltainvestError();\n\n                const { active_symbols, contracts_for } = ApiHelpers.instance;\n\n                if (Blockly.derivWorkspace) {\n                    active_symbols.retrieveActiveSymbols(true).then(() => {\n                        contracts_for.disposeCache();\n                        Blockly.derivWorkspace\n                            .getAllBlocks()\n                            .filter(block => block.type === 'trade_definition_market')\n                            .forEach(block => {\n                                runIrreversibleEvents(() => {\n                                    const fake_create_event = new Blockly.Events.Create(block);\n                                    Blockly.Events.fire(fake_create_event);\n                                });\n                            });\n                    });\n                }\n            }\n        );\n    }\n\n    registerLandingCompanyChangeReaction() {\n        const { client } = this.core;\n\n        this.disposeLandingCompanyChangeReaction = reaction(\n            () => client.landing_company_shortcode,\n            () => this.handleErrorForEu()\n        );\n    }\n\n    registerResidenceChangeReaction() {\n        const { client } = this.core;\n\n        this.disposeResidenceChangeReaction = reaction(\n            () => client.account_settings.country_code,\n            () => this.handleErrorForEu()\n        );\n    }\n\n    setDBotEngineStores() {\n        // DO NOT pass the rootstore in, if you need a prop define it in dbot-skeleton-store ans pass it through.\n        const {\n            flyout,\n            toolbar,\n            save_modal,\n            dashboard,\n            quick_strategy,\n            load_modal,\n            run_panel,\n            blockly_store,\n            summary_card,\n        } = this.root_store;\n        const { client } = this.core;\n        const { handleFileChange } = load_modal;\n        const { loadDataStrategy } = quick_strategy;\n        const { setLoading } = blockly_store;\n        const { setContractUpdateConfig } = summary_card;\n\n        this.dbot_store = {\n            client,\n            flyout,\n            toolbar,\n            save_modal,\n            dashboard,\n            load_modal,\n            run_panel,\n            setLoading,\n            setContractUpdateConfig,\n            loadDataStrategy,\n            handleFileChange,\n        };\n\n        this.api_helpers_store = {\n            server_time: this.core.common.server_time,\n            ws: this.root_store.ws,\n        };\n    }\n\n    onClickOutsideBlockly = event => {\n        if (document.querySelector('.injectionDiv')) {\n            const path = event.path || (event.composedPath && event.composedPath());\n            const is_click_outside_blockly = !path.some(el => el.classList && el.classList.contains('injectionDiv'));\n\n            if (is_click_outside_blockly) {\n                Blockly?.hideChaff(/* allowToolbox */ false);\n            }\n        }\n    };\n\n    showDigitalOptionsMaltainvestError = () => {\n        this.handleErrorForEu(true);\n    };\n}\n","const getSettingsFromLocal = () => {\n    return JSON.parse(localStorage.getItem('dbot_settings'));\n};\n\nexport const getSetting = key => {\n    const settings = getSettingsFromLocal();\n\n    if (!settings) {\n        return null;\n    }\n\n    return settings[key];\n};\n\nexport const storeSetting = (key, value) => {\n    const settings = getSettingsFromLocal() || {};\n\n    settings[key] = value;\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n\nexport const removeKeyValue = key => {\n    const settings = getSettingsFromLocal() || {};\n    delete settings[key];\n\n    localStorage.setItem('dbot_settings', JSON.stringify(settings));\n};\n","import { action, makeObservable, observable } from 'mobx';\nimport { onWorkspaceResize } from '@deriv/bot-skeleton';\nimport { tabs_title } from 'Constants/bot-contents';\nimport { getSetting, storeSetting } from 'Utils/settings';\n\nexport interface IBlocklyStore {\n    is_loading: boolean;\n    active_tab: string;\n    setActiveTab: (tab: string) => void;\n    setContainerSize: () => void;\n    onMount: () => void;\n    onUnmount: () => void;\n    setLoading: () => void;\n    getCachedActiveTab: () => void;\n}\n\nexport default class BlocklyStore implements IBlocklyStore {\n    root_store: any;\n\n    constructor(root_store: any) {\n        makeObservable(this, {\n            is_loading: observable,\n            active_tab: observable,\n            setActiveTab: action.bound,\n            setContainerSize: action.bound,\n            onMount: action.bound,\n            getCachedActiveTab: action.bound,\n            onUnmount: action.bound,\n            setLoading: action.bound,\n        });\n        this.root_store = root_store;\n    }\n\n    is_loading = false;\n\n    active_tab = tabs_title.WORKSPACE;\n\n    setActiveTab(tab: string): void {\n        this.active_tab = tab;\n        storeSetting('active_tab', this.active_tab);\n    }\n\n    setContainerSize(): void {\n        if (this.active_tab === tabs_title.WORKSPACE) {\n            onWorkspaceResize();\n        }\n    }\n\n    onMount(): void {\n        window.addEventListener('resize', this.setContainerSize);\n    }\n\n    getCachedActiveTab(): void {\n        if (getSetting('active_tab')) {\n            this.active_tab = getSetting('active_tab');\n        }\n    }\n\n    onUnmount(): void {\n        window.removeEventListener('resize', this.setContainerSize);\n    }\n\n    setLoading(is_loading: boolean): void {\n        this.is_loading = is_loading;\n    }\n}\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\n// import { tabs_title } from '../constants/bot-contents';\nimport { ServerTime } from '@deriv/bot-skeleton';\nimport { LocalStore } from '@deriv/shared';\n\nconst g_subscribers_map = {};\nlet WS;\n\nexport default class ChartStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            symbol: observable,\n            is_chart_loading: observable,\n            chart_type: observable,\n            granularity: observable,\n            is_contract_ended: computed,\n            onStartBot: action.bound,\n            onStopBot: action.bound,\n            updateSymbol: action.bound,\n            onSymbolChange: action.bound,\n            updateGranularity: action.bound,\n            updateChartType: action.bound,\n            setChartStatus: action.bound,\n            wsSubscribe: action.bound,\n            wsForget: action.bound,\n            wsForgetStream: action.bound,\n            wsSendRequest: action.bound,\n            getMarketsOrder: action.bound,\n        });\n\n        this.root_store = root_store;\n        WS = root_store.ws;\n        const { run_panel } = root_store;\n\n        reaction(\n            () => run_panel.is_running,\n            () => (run_panel.is_running ? this.onStartBot() : this.onStopBot())\n        );\n\n        this.restoreFromStorage();\n    }\n\n    symbol;\n    is_chart_loading;\n    chart_type;\n    granularity;\n\n    get is_contract_ended() {\n        const { transactions } = this.root_store;\n\n        return transactions.contracts.length > 0 && transactions.contracts[0].is_ended;\n    }\n\n    onStartBot() {\n        this.updateSymbol();\n\n        // const { main_content } = this.root_store;\n        // main_content.setActiveTab(tabs_title.CHART);\n    }\n\n    // eslint-disable-next-line\n    onStopBot() {\n        // const { main_content } = this.root_store;\n        // main_content.setActiveTab(tabs_title.WORKSPACE);\n    }\n\n    updateSymbol() {\n        const workspace = Blockly.derivWorkspace;\n        const market_block = workspace.getAllBlocks().find(block => {\n            return block.type === 'trade_definition_market';\n        });\n\n        if (market_block && market_block !== 'na') {\n            const symbol = market_block.getFieldValue('SYMBOL_LIST');\n            this.symbol = symbol;\n        }\n    }\n\n    onSymbolChange(symbol) {\n        this.symbol = symbol;\n        this.saveToLocalStorage();\n    }\n\n    updateGranularity(granularity) {\n        this.granularity = granularity;\n        this.saveToLocalStorage();\n    }\n\n    updateChartType(chart_type) {\n        this.chart_type = chart_type;\n        this.saveToLocalStorage();\n    }\n\n    setChartStatus(status) {\n        this.is_chart_loading = status;\n    }\n\n    saveToLocalStorage() {\n        LocalStore.set(\n            'bot.chart_props',\n            JSON.stringify({\n                symbol: this.symbol,\n                granularity: this.granularity,\n                chart_type: this.chart_type,\n            })\n        );\n    }\n\n    restoreFromStorage() {\n        try {\n            const props = LocalStore.get('bot.chart_props');\n\n            if (props) {\n                const { symbol, granularity, chart_type } = JSON.parse(props);\n                this.symbol = symbol;\n                this.granularity = granularity;\n                this.chart_type = chart_type;\n            } else {\n                this.granularity = 0;\n                this.chart_type = 'line';\n            }\n        } catch {\n            LocalStore.remove('bot.chart_props');\n        }\n    }\n\n    // #region WS\n    wsSubscribe = (req, callback) => {\n        if (req.subscribe === 1) {\n            const key = JSON.stringify(req);\n            const subscriber = WS.subscribeTicksHistory(req, callback);\n            g_subscribers_map[key] = subscriber;\n        }\n    };\n\n    wsForget = req => {\n        const key = JSON.stringify(req);\n        if (g_subscribers_map[key]) {\n            g_subscribers_map[key].unsubscribe();\n            delete g_subscribers_map[key];\n        }\n    };\n\n    wsForgetStream = stream_id => {\n        WS.forgetStream(stream_id);\n    };\n\n    wsSendRequest = req => {\n        if (req.time) {\n            return ServerTime.timePromise().then(() => {\n                return {\n                    msg_type: 'time',\n                    time: ServerTime.get().unix(),\n                };\n            });\n        }\n        if (req.active_symbols) {\n            return WS.activeSymbols();\n        }\n        return WS.storage.send(req);\n    };\n\n    getMarketsOrder = active_symbols => {\n        const synthetic_index = 'synthetic_index';\n\n        const has_synthetic_index = !!active_symbols.find(s => s.market === synthetic_index);\n        return active_symbols\n            .slice()\n            .sort((a, b) => (a.display_name < b.display_name ? -1 : 1))\n            .map(s => s.market)\n            .reduce(\n                (arr, market) => {\n                    if (arr.indexOf(market) === -1) arr.push(market);\n                    return arr;\n                },\n                has_synthetic_index ? [synthetic_index] : []\n            );\n    };\n    // #endregion\n}\n","const getUrlBase = (path = '') => {\n    const l = window.location;\n\n    if (!/^\\/(br_)/.test(l.pathname)) return path;\n\n    const get_path = path.startsWith('/') ? path : `/${path}`;\n\n    return `/${l.pathname.split('/')[1]}${get_path}`;\n};\n\nexport function setBotPublicPath(path: string) {\n    __webpack_public_path__ = path; // eslint-disable-line no-global-assign\n}\n\nexport const getImageLocation = (image_name: string) => getUrlBase(`/public/images/common/${image_name}`);\n\nsetBotPublicPath(getUrlBase('/'));\n","import { getImageLocation } from '../../../../public-path';\nimport { localize } from '@deriv/translations';\n\nexport type TDescription = Pick<TContent, 'type' | 'content' | 'src' | 'imageclass' | 'is_mobile'>;\n\nexport type TFaqContent = Pick<TContent, 'title' | 'description' | 'src' | 'search_id'>;\n\nexport type TGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TUserGuideContent = Omit<TContent, 'title' | 'description'>;\n\nexport type TQuickStrategyContent = {\n    qs_name: string;\n    type: string;\n    content: string[];\n};\n\nexport type TContent = {\n    content?: string;\n    description: TDescription[];\n    id: number;\n    src?: string;\n    subtype?: string;\n    title?: string;\n    type: string;\n    url?: string;\n    imageclass?: string;\n    search_id: string;\n    is_mobile?: boolean;\n};\n\nexport const user_guide_content: TUserGuideContent[] = [\n    {\n        id: 1,\n        type: 'Tour',\n        subtype: 'OnBoard',\n        content: localize('Get started on Deriv Bot'),\n        src: getImageLocation('dbot-onboard-tour.png'),\n        search_id: 'ugc-0',\n    },\n    {\n        id: 2,\n        type: 'Tour',\n        subtype: 'BotBuilder',\n        content: localize('Let’s build a bot!'),\n        src: getImageLocation('bot-builder-tour.png'),\n        search_id: 'ugc-1',\n    },\n];\n\nexport const guide_content: TGuideContent[] = [\n    {\n        id: 1,\n        type: 'DBotVideo',\n        content: localize('Deriv Bot - your automated trading partner'),\n        url: 'https://www.youtube.com/embed/QdI5zCkO4Gk',\n        src: getImageLocation('video_dbot.webp'),\n        search_id: 'gc-0',\n    },\n];\n\nexport const faq_content: TFaqContent[] = [\n    {\n        title: localize('What is Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Deriv Bot is a web-based strategy builder for trading digital options. It’s a platform where you can build your own automated trading bot using drag-and-drop 'blocks'.\"\n                ),\n            },\n        ],\n        search_id: 'faq-0',\n    },\n    {\n        title: localize('Where do I find the blocks I need?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('Follow these steps:'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Bot Builder</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    \"2. Under the <strong>Blocks menu</strong>, you'll see a list of categories. Blocks are grouped within these categories. Choose the block you want and drag them to the workspace.\"\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '3. You can also search for the blocks you want using the search bar above the categories.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('blocks_menu_search.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    'For more info, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on the basics of building a trading bot.'\n                ),\n            },\n        ],\n        search_id: 'faq-1',\n    },\n    {\n        title: localize('How do I remove blocks from the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Click on the block you want to remove and press <strong>Delete</strong> on your keyboard.'\n                ),\n            },\n        ],\n        search_id: 'faq-2',\n    },\n    {\n        title: localize('How do I create variables?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '1. Under the <strong>Blocks</strong> menu, go to <strong>Utility > Variables</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '2. Enter a name for your variable, and hit <strong>Create</strong>. New blocks containing your new variable will appear below.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('3. Choose the block you want and drag it to the workspace.'),\n            },\n        ],\n        search_id: 'faq-3',\n    },\n    {\n        title: localize('Do you offer pre-built trading bots on Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Yes, you can get started with a pre-built bot using the <strong>Quick strategy</strong> feature. You’ll find some of the most popular trading strategies here: Martingale, D'Alembert, and Oscar's Grind. Just select the strategy, enter your trade parameters, and your bot will be created for you. You can always tweak the parameters later.\"\n                ),\n            },\n        ],\n        search_id: 'faq-4',\n    },\n    {\n        title: localize('What is a quick strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"A quick strategy is a ready-made strategy that you can use in Deriv Bot. There are 3 quick strategies you can choose from: Martingale, D'Alembert, and Oscar's Grind.\"\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Using a quick strategy</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize('1. Go to <strong>Quick strategy</strong> and select the strategy you want.'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select the asset and trade type.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Set your trade parameters and hit <strong>Run</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '4. Once the blocks are loaded onto the workspace, tweak the parameters if you want, or hit <strong>Run</strong> to start trading.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '5. Hit <strong>Save</strong> to download your bot. You can choose to download your bot to your device or your Google Drive.'\n                ),\n            },\n        ],\n        search_id: 'faq-5',\n    },\n    {\n        title: localize('How do I save my strategy?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Save</strong> on the toolbar at the top to download your bot. Give your bot a name, and choose to download your bot to your device or Google Drive. Your bot will be downloaded as an XML file.'\n                ),\n            },\n        ],\n        search_id: 'faq-6',\n    },\n    {\n        title: localize('How do I import my own trading bot into Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Just drag the XML file from your computer onto the workspace, and your bot will be loaded accordingly. Alternatively, you can hit <strong>Import</strong> in <strong>Bot Builder</strong>, and choose to import your bot from your computer or from your Google Drive.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your computer</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Local</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Open</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n            {\n                type: 'text',\n                content: localize('<strong>Import from your Google Drive</strong>'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '1. After hitting <strong>Import</strong>, select <strong>Google Drive</strong> and click <strong>Continue</strong>.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('2. Select your XML file and hit <strong>Select</strong>.'),\n            },\n            {\n                type: 'text',\n                content: localize('3. Your bot will be loaded accordingly.'),\n            },\n        ],\n        search_id: 'faq-7',\n    },\n    {\n        title: localize('How do I reset the workspace?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'In <strong>Bot Builder</strong>, hit <strong>Reset</strong> on the toolbar at the top. This will clear the workspace. Please note that any unsaved changes will be lost.'\n                ),\n            },\n        ],\n        search_id: 'faq-8',\n    },\n    {\n        title: localize('How do I clear my transaction log?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('1. Hit <strong>Reset</strong> at the bottom of stats panel.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log.png'),\n            },\n            {\n                type: 'text',\n                content: localize('2. Hit <strong>Ok</strong> to confirm.'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('reset_transaction_log_message.png'),\n            },\n        ],\n        search_id: 'faq-9',\n    },\n    {\n        title: localize('How do I control my losses with Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'There are several ways to control your losses with Deriv Bot. Here’s a simple example of how you can implement loss control in your strategy:'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_all_block.png'),\n                imageclass: 'loss-control',\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '<strong>1.</strong> Create the following variables and place them under <strong>Run once at start</strong>:'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '• <strong>Stop loss threshold</strong>: Use this variable to store your loss limit. You can assign any amount you want. Your bot will stop when your losses hits or exceeds this amount.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('Example:'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_set_stop_loss.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '• <strong>Current stake</strong>: Use this variable to store the stake amount. You can assign any amount you want, but it must be a positive number.'\n                ),\n            },\n            {\n                type: 'text',\n                content: localize('Example:'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_set_current_stake.png'),\n            },\n            {\n                type: 'text',\n                content: localize('This is how your trade parameters, variables, and trade options should look like:'),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_trade_parameters.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '<strong>2.</strong> Set the <strong>Purchase conditions</strong>. In this example, your bot will purchase a <strong>Rise</strong> contract when it starts and after a contract closes.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_purchase_conditions.png'),\n            },\n            {\n                type: 'text',\n                content: localize(\n                    '<strong>3.</strong> Use a logic block to check if <strong>Total profit/loss</strong> is more than the <strong>Stop loss threshold</strong> amount. You can find the <strong>Total profit/loss</strong> variable under <strong>Analysis > Stats</strong> on the <strong>Blocks menu</strong> on the left. Your bot will continue to purchase new contracts until the <strong>Total profit/loss</strong> amount exceeds the <strong>Stop loss threshold</strong> amount.'\n                ),\n            },\n            {\n                type: 'image',\n                src: getImageLocation('loss_control_restart_trade_conditions.png'),\n            },\n        ],\n        search_id: 'faq-10',\n    },\n    {\n        title: localize('Can I run Deriv Bot on multiple tabs in my web browser?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'Yes, you can. However, there are limits on your account, such as maximum number of open positions and maximum aggregate payouts on open positions. So, just keep these limits in mind when opening multiple positions. You can find more info about these limits at <a href=\"https://app.deriv.com/account/account-limits\" target=\"_blank\">Settings > Account limits</a>.'\n                ),\n            },\n        ],\n        search_id: 'faq-11',\n    },\n    {\n        title: localize('Can I trade cryptocurrencies on Deriv Bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\"No, we don't offer cryptocurrencies on Deriv Bot.\"),\n            },\n        ],\n        search_id: 'faq-12',\n    },\n    {\n        title: localize('Do you sell trading bots?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"No, we don't. However, you'll find quick strategies on Deriv Bot that'll help you build your own trading bot for free.\"\n                ),\n            },\n        ],\n        search_id: 'faq-13',\n    },\n    {\n        title: localize('In which countries is Deriv Bot available?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    'We offer our services in all countries, except for the ones <a href=\"https://deriv.com/tnc/general-terms.pdf\" target=\"_blank\">mentioned in our terms and conditions.</a>'\n                ),\n            },\n        ],\n        search_id: 'faq-14',\n    },\n    {\n        title: localize('If I close my web browser, will Deriv Bot continue to run?'),\n        description: [\n            {\n                type: 'text',\n                content: localize('No, Deriv Bot will stop running when your web browser is closed.'),\n            },\n        ],\n        search_id: 'faq-15',\n    },\n    {\n        title: localize('What are the most popular strategies for automated trading?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    \"Three of the most commonly used strategies in automated trading are Martingale, D'Alembert, and Oscar's Grind — you can find them all ready-made and waiting for you in Deriv Bot.\"\n                ),\n            },\n        ],\n        search_id: 'faq-16',\n    },\n    {\n        title: localize('How do I build a trading bot?'),\n        description: [\n            {\n                type: 'text',\n                content: localize(\n                    '<a href=\"https://www.youtube.com/watch?v=QdI5zCkO4Gk&t=203s\" target=\"_blank\">Watch this video</a> to learn how to build a trading bot on Deriv Bot. Also, <a href=\"https://deriv.com/academy/blog/posts/how-to-build-a-basic-trading-bot-with-dbot/\" target=\"_blank\">check out this blog post</a> on building a trading bot.'\n                ),\n            },\n        ],\n        search_id: 'faq-17',\n    },\n];\n\nexport const quick_strategy_content: TQuickStrategyContent[] = [\n    {\n        qs_name: 'MARTINGALE',\n        type: localize('About Martingale'),\n        content: [\n            localize('Exploring the Martingale strategy in Deriv Bot'),\n            localize('An example of Martingale strategy'),\n        ],\n    },\n    {\n        qs_name: 'D_ALEMBERT',\n        type: localize(\"About D'Alembert\"),\n        content: [\n            localize('Exploring the D’Alembert strategy in Deriv Bot'),\n            localize('An example of D’Alembert strategy'),\n        ],\n    },\n    {\n        qs_name: 'OSCARS_GRIND',\n        type: localize(\"About Oscar's Grind\"),\n        content: [\n            localize('Exploring the Oscar’s Grind strategy in Deriv Bot'),\n            localize('An example of Oscar’s Grind strategy'),\n        ],\n    },\n    {\n        qs_name: 'REVERSE_MARTINGALE',\n        type: localize('About Reverse Martingale'),\n        content: [\n            localize('Exploring the Reverse Martingale strategy in Deriv Bot'),\n            localize('An example of Reverse Martingale strategy'),\n        ],\n    },\n];\n","export const tabs_title = Object.freeze({\n    TAB_LOCAL: 'local_tab',\n    TAB_GOOGLE: 'google_tab',\n    TAB_RECENT: 'recent_tab',\n});\n\nexport const clearInjectionDiv = (type, el_ref) => {\n    if (type === 'store') {\n        if (el_ref && el_ref.getElementsByClassName('injectionDiv').length > 1) {\n            el_ref.removeChild(el_ref.getElementsByClassName('injectionDiv')[0]);\n        }\n    } else {\n        el_ref?.current?.removeChild(el_ref?.current?.children[0]);\n    }\n};\n","import { storeSetting } from 'Utils/settings';\n\ntype TTourStatus = {\n    key: string;\n    toggle: string;\n    type: string;\n};\n\ntype TTourList = {\n    [key: number]: string;\n};\n\nexport const tour_type: TTourType = {\n    key: 'onboard_tour',\n};\n\nexport const tour_status_ended: TTourStatus = {\n    key: '',\n    toggle: '',\n    type: `${tour_type.key}_status`,\n};\n\nexport type TTourType = Pick<TTourStatus, 'key'>;\n\nexport const setTourType = (param: string) => {\n    tour_type.key = param;\n};\n\nexport const highlightLoadModalButton = (tour_active: string, step: number) => {\n    const el_ref = document.querySelector('.toolbar__group-btn svg:nth-child(2)');\n    if (tour_active && step === 1) {\n        el_ref?.classList.add('dbot-tour-blink');\n    } else {\n        el_ref?.classList.remove('dbot-tour-blink');\n    }\n};\n\nexport const setTourSettings = (param: number, type: string) => {\n    return storeSetting(type, param);\n};\n\nexport const tour_list: TTourList = Object.freeze({\n    0: 'onboarding',\n    1: 'bot_builder',\n});\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { setColors } from '@deriv/bot-skeleton';\nimport { TStores } from '@deriv/stores/types';\nimport {\n    faq_content,\n    guide_content,\n    TFaqContent,\n    TGuideContent,\n    TUserGuideContent,\n    user_guide_content,\n} from 'Components/dashboard/tutorial-tab/config';\nimport { clearInjectionDiv } from 'Constants/load-modal';\nimport { setTourSettings, tour_type, TTourType } from '../components/dashboard/dbot-tours/utils';\nimport RootStore from './root-store';\n\nexport interface IDashboardStore {\n    active_tab: number;\n    dialog_options: { [key: string]: string };\n    faq_search_value: string | null;\n    has_mobile_preview_loaded: boolean;\n    is_web_socket_intialised: boolean;\n    initInfoPanel: () => void;\n    is_dialog_open: boolean;\n    is_file_supported: boolean;\n    is_info_panel_visible: boolean;\n    is_preview_on_popup: boolean;\n    onCloseDialog: () => void;\n    onCloseTour: (param: Partial<string>) => void;\n    onTourEnd: (step: number, is_tour_active: boolean) => void;\n    setActiveTab: (active_tab: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n    setFAQSearchValue: (faq_search_value: string) => void;\n    setInfoPanelVisibility: (visibility: boolean) => void;\n    setIsFileSupported: (is_file_supported: boolean) => void;\n    setWebSocketState: (is_web_socket_intialised: boolean) => void;\n    setOpenSettings: (toast_message: string, show_toast: boolean) => void;\n    setPreviewOnDialog: (has_mobile_preview_loaded: boolean) => void;\n    setStrategySaveType: (param: string) => void;\n    show_toast: boolean;\n    show_mobile_tour_dialog: boolean;\n    showVideoDialog: (param: { [key: string]: string }) => void;\n    strategy_save_type: string;\n    toast_message: string;\n    is_chart_modal_visible: boolean;\n}\n\nexport default class DashboardStore implements IDashboardStore {\n    root_store: RootStore;\n    core: TStores;\n    tutorials_combined_content: (TFaqContent | TGuideContent | TUserGuideContent)[] = [];\n    combined_search: string[] = [];\n\n    constructor(root_store: RootStore, core: TStores) {\n        makeObservable(this, {\n            active_tab_tutorials: observable,\n            active_tab: observable,\n            dialog_options: observable,\n            faq_search_value: observable,\n            getFileArray: observable,\n            has_file_loaded: observable,\n            has_mobile_preview_loaded: observable,\n            initInfoPanel: action.bound,\n            active_tour: observable,\n            is_dialog_open: observable,\n            is_file_supported: observable,\n            is_info_panel_visible: observable,\n            is_preview_on_popup: observable,\n            is_tour_dialog_visible: observable,\n            is_web_socket_intialised: observable,\n            is_dark_mode: computed,\n            tutorials_combined_content: observable,\n            onCloseDialog: action.bound,\n            onCloseTour: action.bound,\n            onTourEnd: action.bound,\n            setActiveTab: action.bound,\n            setActiveTabTutorial: action.bound,\n            setWebSocketState: action.bound,\n            setFAQSearchValue: action.bound,\n            setFileLoaded: action.bound,\n            setInfoPanelVisibility: action.bound,\n            setIsFileSupported: action.bound,\n            setPreviewOnDialog: action.bound,\n            setPreviewOnPopup: action.bound,\n            setActiveTour: action.bound,\n            setTourDialogVisibility: action.bound,\n            setOpenSettings: action.bound,\n            resetTutorialTabContent: action.bound,\n            filterTuotrialTab: action.bound,\n            show_toast: observable,\n            show_mobile_tour_dialog: observable,\n            showVideoDialog: action.bound,\n            strategy_save_type: observable,\n            toast_message: observable,\n            guide_tab_content: observable,\n            faq_tab_content: observable,\n            video_tab_content: observable,\n            setStrategySaveType: action.bound,\n            setShowMobileTourDialog: action.bound,\n            is_chart_modal_visible: observable,\n        });\n        this.root_store = root_store;\n        this.core = core;\n        const removeHTMLTagsFromString = (param = '') => param.replace(/<.*?>/g, '');\n\n        const getUserGuideContent = [...user_guide_content].map(\n            item => `${item.search_id}# ${item.content.toLowerCase()}`\n        );\n\n        const getVideoContent = [...guide_content].map(item => `${item.search_id}# ${item.content.toLowerCase()}`);\n\n        const getFaqContent = faq_content.map(item => {\n            return `${item.search_id}# ${item.title.toLowerCase()} ${item.description\n                .map(inner_item => {\n                    const itemWithoutHTML = removeHTMLTagsFromString(inner_item.content);\n                    return itemWithoutHTML?.toLowerCase();\n                })\n                .join(' ')}`;\n        });\n\n        this.combined_search = [...getUserGuideContent, ...getVideoContent, ...getFaqContent];\n\n        const {\n            load_modal: { previewRecentStrategy, current_workspace_id },\n        } = this.root_store;\n\n        const refreshBotBuilderTheme = () => {\n            Blockly.derivWorkspace.asyncClear();\n            Blockly.Xml.domToWorkspace(\n                Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                Blockly.derivWorkspace\n            );\n        };\n\n        const setCurrentXML = () => {\n            const xml = Blockly?.Xml.workspaceToDom(Blockly?.derivWorkspace);\n            const current_xml = Blockly?.Xml.domToText(xml);\n            if (Blockly) Blockly.derivWorkspace.strategy_to_load = current_xml;\n        };\n\n        reaction(\n            () => this.is_dark_mode,\n            () => {\n                if (Blockly) setCurrentXML();\n                setColors(this.is_dark_mode);\n                if (this.active_tab === 1) {\n                    refreshBotBuilderTheme();\n                } else {\n                    refreshBotBuilderTheme();\n                    previewRecentStrategy(current_workspace_id);\n                }\n            }\n        );\n        reaction(\n            () => this.is_preview_on_popup,\n            async is_preview_on_popup => {\n                if (is_preview_on_popup) {\n                    this.setPreviewOnPopup(false);\n                }\n            }\n        );\n        this.initInfoPanel();\n    }\n\n    active_tab = 0;\n    active_tab_tutorials = 0;\n    active_tour_step_number = 0;\n    dialog_options = {};\n    faq_search_value = '';\n    getFileArray = [];\n    has_file_loaded = false;\n    has_mobile_preview_loaded = false;\n    active_tour = '';\n    is_dialog_open = false;\n    is_file_supported = false;\n    is_info_panel_visible = false;\n    is_preview_on_popup = false;\n    is_tour_dialog_visible = false;\n    show_toast = false;\n    show_mobile_tour_dialog = false;\n    strategy_save_type = 'unsaved';\n    toast_message = '';\n    is_web_socket_intialised = true;\n    search_param = '';\n    guide_tab_content = user_guide_content;\n    video_tab_content = guide_content;\n    faq_tab_content = faq_content;\n    filtered_tab_list = [];\n    is_chart_modal_visible = false;\n\n    resetTutorialTabContent = () => {\n        this.guide_tab_content = user_guide_content;\n        this.video_tab_content = guide_content;\n        this.faq_tab_content = faq_content;\n    };\n\n    filterTuotrialTab = (search_param: string) => {\n        this.search_param = search_param;\n        const foundItems = this.combined_search.filter(item => {\n            return item.includes(search_param.toLowerCase());\n        });\n\n        const filtered_user_guide: [] = [];\n        const filter_video_guide: [] = [];\n        const filtered_faq_content: [] = [];\n\n        const filtered_tutorial_content = foundItems.map(item => {\n            const identifier = item.split('#')[0];\n            const index: string = identifier.split('-')[1];\n            if (identifier.includes('ugc')) {\n                filtered_user_guide.push(user_guide_content[Number(index)]);\n                return user_guide_content[Number(index)];\n            } else if (identifier.includes('gc')) {\n                filter_video_guide.push(guide_content[Number(index)]);\n                return guide_content[Number(index)];\n            }\n            filtered_faq_content.push(faq_content[Number(index)]);\n            return faq_content[Number(index)];\n        });\n\n        this.guide_tab_content = filtered_user_guide;\n        this.video_tab_content = filter_video_guide;\n        this.faq_tab_content = filtered_faq_content;\n\n        return filtered_tutorial_content;\n    };\n\n    get is_dark_mode() {\n        const {\n            app: {\n                core: {\n                    ui: { is_dark_mode_on },\n                },\n            },\n        } = this.root_store;\n        return is_dark_mode_on;\n    }\n\n    setShowMobileTourDialog = (show_mobile_tour_dialog: boolean) => {\n        this.show_mobile_tour_dialog = show_mobile_tour_dialog;\n    };\n\n    setWebSocketState = (is_web_socket_intialised: boolean) => {\n        this.is_web_socket_intialised = is_web_socket_intialised;\n    };\n\n    setOpenSettings = (toast_message: string, show_toast = true) => {\n        this.toast_message = toast_message;\n        this.show_toast = show_toast;\n    };\n\n    setChartModalVisibility = () => {\n        this.is_chart_modal_visible = !this.is_chart_modal_visible;\n    };\n\n    setIsFileSupported = (is_file_supported: boolean) => {\n        this.is_file_supported = is_file_supported;\n    };\n\n    initInfoPanel() {\n        if (!localStorage.getItem('dbot_should_show_info')) this.is_info_panel_visible = true;\n    }\n\n    setTourActiveStep = (active_tour_step_number: number) => {\n        this.active_tour_step_number = active_tour_step_number;\n    };\n\n    setPreviewOnDialog = (has_mobile_preview_loaded: boolean) => {\n        this.has_mobile_preview_loaded = has_mobile_preview_loaded;\n        const {\n            load_modal: { onLoadModalClose },\n        } = this.root_store;\n        onLoadModalClose();\n    };\n\n    setStrategySaveType = (strategy_save_type: string) => {\n        this.strategy_save_type = strategy_save_type;\n    };\n\n    setPreviewOnPopup = (is_preview_on_popup: boolean): void => {\n        this.is_preview_on_popup = is_preview_on_popup;\n    };\n\n    setTourDialogVisibility = (is_tour_dialog_visible: boolean): void => {\n        this.is_tour_dialog_visible = is_tour_dialog_visible;\n    };\n\n    setActiveTour = (active_tour: string): void => {\n        this.active_tour = active_tour;\n    };\n\n    setFileLoaded = (has_file_loaded: boolean): void => {\n        this.has_file_loaded = has_file_loaded;\n        clearInjectionDiv('store', document.getElementById('load-strategy__blockly-container'));\n    };\n\n    onCloseDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    setActiveTab = (active_tab: number): void => {\n        this.active_tab = active_tab;\n    };\n\n    setActiveTabTutorial = (active_tab_tutorials: number): void => {\n        this.active_tab_tutorials = active_tab_tutorials;\n    };\n\n    setFAQSearchValue = (faq_search_value: string): void => {\n        this.faq_search_value = faq_search_value;\n    };\n\n    showVideoDialog = (param: { [key: string]: string }): void => {\n        const { url, type } = param;\n        const dialog_type = ['google', 'url'];\n        if (dialog_type.includes(type)) {\n            if (type === 'url') {\n                this.dialog_options = {\n                    url,\n                };\n            }\n            this.is_dialog_open = true;\n        } else {\n            this.is_dialog_open = false;\n        }\n    };\n\n    setInfoPanelVisibility = (is_info_panel_visible: boolean): void => {\n        this.is_info_panel_visible = is_info_panel_visible;\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = Blockly.mainWorkspace;\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    onCloseTour = (): void => {\n        setTourSettings(new Date().getTime(), `${tour_type.key}_token`);\n        this.setActiveTour('');\n    };\n    setTourEnd = (param: TTourType): void => {\n        const { key } = param;\n        if (this.core.ui.is_mobile) this.setTourDialogVisibility(true);\n        setTourSettings(new Date().getTime(), `${key}_token`);\n    };\n\n    onTourEnd = (step: number, is_tour_active: boolean): void => {\n        if (step === 8) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n            this.setActiveTour('');\n        }\n        if (!is_tour_active && step === 3) {\n            this.onCloseTour();\n            this.setTourEnd(tour_type);\n            this.setActiveTour('');\n        }\n    };\n}\n","import crc32 from 'crc-32/crc32';\nimport { action, makeObservable, observable, reaction } from 'mobx';\nimport { DBot } from '@deriv/bot-skeleton';\nimport { cloneObject, isProduction } from '@deriv/shared';\n\nexport default class DataCollectionStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            IS_PENDING: observable,\n            IS_PROCESSED: observable,\n            endpoint: observable,\n            run_id: observable,\n            run_start: observable,\n            should_post_xml: observable,\n            strategy_content: observable,\n            transaction_ids: observable,\n            trackRun: action.bound,\n            trackTransaction: action.bound,\n            setRunId: action.bound,\n            setRunStart: action.bound,\n            setStrategyContent: action.bound,\n            cleanXmlDom: action.bound,\n            getHash: action.bound,\n        });\n        this.root_store = root_store;\n        this.core = core;\n        if (isProduction() || /(.*?)\\.binary.sx$/.test(window.location.hostname)) {\n            this.root_store = root_store;\n\n            reaction(\n                () => this.root_store.run_panel.is_running,\n                () => (this.root_store.run_panel.is_running ? this.trackRun() : undefined)\n            );\n            reaction(\n                () => this.root_store.transactions.transactions,\n                transactions => {\n                    if (this.run_id) this.trackTransaction(transactions);\n                }\n            );\n        }\n    }\n\n    // Constants\n    IS_PENDING = false;\n    IS_PROCESSED = true;\n\n    endpoint = 'https://dbot-conf-dot-deriv-bi-reporting.as.r.appspot.com/dbotconf';\n    run_id = '';\n    run_start = 0;\n    should_post_xml = true;\n    strategy_content = '';\n    transaction_ids = {};\n\n    async trackRun() {\n        const xml_dom = this.cleanXmlDom(Blockly.Xml.workspaceToDom(DBot.workspace, /* opt_noId */ true));\n        const xml_string = Blockly.Xml.domToText(xml_dom);\n        const xml_hash = this.getHash(xml_string);\n\n        if (this.getHash(this.strategy_content) !== xml_hash) {\n            this.should_post_xml = true;\n            this.setStrategyContent(xml_string);\n        }\n\n        this.setRunId(this.getHash(xml_hash + this.core.client.loginid + Math.random()));\n        this.setRunStart(this.core.common.server_time.unix());\n    }\n\n    async trackTransaction(contracts) {\n        const pako = await import(/* webpackChunkName: \"dbot-collection\" */ 'pako');\n        const contract = contracts[0]; // Most recent contract.\n\n        if (!contract) {\n            return;\n        }\n\n        const { buy: transaction_id } = contract.data.transaction_ids;\n        const is_known_transaction = Object.keys(this.transaction_ids).includes(transaction_id.toString());\n\n        if (!is_known_transaction) {\n            this.transaction_ids[transaction_id] = this.IS_PENDING;\n\n            const getPayload = () => {\n                const content = pako.gzip(this.strategy_content);\n                return {\n                    body: content,\n                    headers: {\n                        'Content-Encoding': 'gzip',\n                        'Content-Type': 'application/xml',\n                        Referer: window.location.hostname,\n                    },\n                };\n            };\n\n            fetch(\n                `${this.endpoint}/${this.run_id}/${transaction_id}/${this.run_start}/${this.getHash(\n                    this.strategy_content\n                )}`,\n                {\n                    ...(this.should_post_xml ? getPayload() : {}),\n                    method: 'POST',\n                    mode: 'no-cors',\n                }\n            )\n                .then(() => {\n                    this.should_post_xml = false;\n                    this.transaction_ids[transaction_id] = this.IS_PROCESSED;\n                })\n                .catch(() => {\n                    delete this.transaction_ids[transaction_id];\n                });\n        }\n    }\n\n    setRunId(run_id) {\n        this.run_id = run_id;\n    }\n\n    setRunStart(timestamp) {\n        this.run_start = timestamp;\n    }\n\n    setStrategyContent(strategy_content) {\n        this.strategy_content = strategy_content;\n    }\n\n    cleanXmlDom = xml_dom => {\n        const useless_attributes = ['x', 'y', 'id'];\n        const updated_dom = cloneObject(xml_dom);\n        const removeAttributesRecursively = element => {\n            useless_attributes.forEach(useless_attribute => element.removeAttribute(useless_attribute));\n            Array.from(element.children).forEach(child => removeAttributesRecursively(child));\n        };\n\n        removeAttributesRecursively(updated_dom);\n        return updated_dom;\n    };\n\n    getHash = string => btoa(crc32.str(string));\n}\n","import { action, makeObservable } from 'mobx';\n\nimport { log_types } from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\n\nexport default class DownloadStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            onClickDownloadTransaction: action.bound,\n            onClickDownloadJournal: action.bound,\n            getSuccessJournalMessage: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    getSuccessJournalMessage = (message, extra) => {\n        const { profit, sold_for, longcode, transaction_id, current_currency } = extra;\n        switch (message) {\n            case log_types.LOAD_BLOCK: {\n                return localize('Blocks are loaded successfully');\n            }\n            case log_types.NOT_OFFERED: {\n                return localize('Resale of this contract is not offered.');\n            }\n            case log_types.PURCHASE: {\n                return localize('Bought: {{longcode}} (ID: {{transaction_id}})', { longcode, transaction_id });\n            }\n            case log_types.SELL: {\n                return localize('Sold for: {{sold_for}}', { sold_for });\n            }\n            case log_types.PROFIT: {\n                return localize('Profit amount: {{profit}}', { profit });\n            }\n            case log_types.LOST: {\n                return localize('Loss amount: {{profit}}', { profit });\n            }\n            case log_types.WELCOME_BACK: {\n                if (current_currency)\n                    return localize(\n                        'Welcome back! Your messages have been restored. You are using your {{current_currency}} account.',\n                        { current_currency }\n                    );\n                return localize('Welcome back! Your messages have been restored.');\n            }\n            case log_types.WELCOME: {\n                if (current_currency)\n                    return localize('You are using your {{current_currency}} account.', { current_currency });\n                break;\n            }\n            default:\n                return null;\n        }\n    };\n\n    onClickDownloadTransaction = () => {\n        // Transaction Array\n        const transaction_csv_titles = [\n            [\n                localize('Market'),\n                localize('Reference ID (buy)'),\n                localize('Reference ID (sell)'),\n                localize('Barrier'),\n                localize('Start Time'),\n                localize('Entry Spot'),\n                localize('Entry Spot Time'),\n                localize('Exit Spot'),\n                localize('Exit Spot Time'),\n                localize('Buy Price'),\n                localize('Profit/Loss'),\n            ],\n        ];\n        this.root_store.transactions.transactions.forEach(item =>\n            transaction_csv_titles.push([\n                item.data.display_name,\n                item.data.transaction_ids.buy,\n                item.data.transaction_ids.sell,\n                item.data.barrier,\n                item.data.date_start,\n                item.data.entry_tick,\n                item.data.entry_tick_time,\n                item.data.exit_tick,\n                item.data.exit_tick_time,\n                item.data.buy_price,\n                item.data.profit,\n            ])\n        );\n\n        // Push Transaction array to CSV\n        const transaction_csv_content = `data:text/csv;charset=utf-8, ${transaction_csv_titles\n            .map(e => e.join(','))\n            .join('\\n')}`;\n        const transaction_encoded_uri = encodeURI(transaction_csv_content);\n        const transaction_link = document.createElement('a');\n        transaction_link.setAttribute('href', transaction_encoded_uri);\n        transaction_link.setAttribute('download', localize('Transactions.csv'));\n        document.body.appendChild(transaction_link);\n\n        transaction_link.click();\n\n        transaction_link.parentNode.removeChild(transaction_link);\n    };\n\n    onClickDownloadJournal = () => {\n        // Journal Array\n        const journal_csv_titles = [[localize('Date'), localize('Time'), localize('Message')]];\n\n        const journal_messages = this.root_store.journal.filtered_messages;\n\n        journal_messages.map(item => {\n            let array_message;\n            if (item.message_type !== 'success') {\n                array_message = JSON.stringify(item.message);\n            } else {\n                array_message = this.getSuccessJournalMessage(item.message.toString(), item.extra);\n            }\n            const arr = [item.date, item.time, array_message?.replace('&#x2F;', '/')];\n            journal_csv_titles.push(arr);\n        });\n\n        // Push Journal array to CSV\n        const journal_csv_content = `data:text/csv;charset=utf-8, ${journal_csv_titles\n            .map(e => e.join(','))\n            .join('\\n')}`;\n        const journal_encoded_uri = encodeURI(journal_csv_content);\n        const journal_link = document.createElement('a');\n        journal_link.setAttribute('href', journal_encoded_uri);\n        journal_link.setAttribute('download', localize('Journal.csv'));\n        document.body.appendChild(journal_link);\n\n        journal_link.click();\n\n        journal_link.parentNode.removeChild(journal_link);\n    };\n}\n","export const help_content_types = {\n    TEXT: 'text',\n    VIDEO: 'video',\n    IMAGE: 'image',\n    BLOCK: 'block',\n    EXAMPLE: 'example',\n};\n\nconst { TEXT, IMAGE, BLOCK, EXAMPLE } = help_content_types;\n\nexport const help_content_config = public_path => {\n    __webpack_public_path__ = public_path; // eslint-disable-line no-global-assign\n    return {\n        //= ================= Functions ==================\n        procedures_ifreturn: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'if-return' },\n        ],\n        //= ================= Math ==================\n        math_arithmetic: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_single: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        math_constrain: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'constrain' },\n        ],\n        // math_number: [\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/Bb0HnaYNUx4' },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        //     { type: VIDEO, url: 'https://www.youtube.com/embed/mi18spqE7R4?controls=0' },\n        //     { type: BLOCK },\n        //     { type: TEXT },\n        //     { type: IMAGE, url: 'https://d2.alternativeto.net/dist/s/scratch_830736_full.png?format=jpg&width=1600&height=1600&mode=min&upscale=false' },\n        // ],\n        //= ================= Text ==================\n        text_print: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        text_prompt_ext: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        //= ================= Tick analysis ==================\n        tick_analysis: [{ type: TEXT }, { type: BLOCK }],\n        read_details: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        last_digit: [{ type: TEXT }, { type: BLOCK }],\n        read_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'in_candle_list_read' },\n        ],\n        read_ohlc_obj: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'read_candle_value' },\n        ],\n        check_direction: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        get_ohlc: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'get_candle' },\n            { type: TEXT },\n        ],\n        ohlc: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list_1' }],\n        ohlc_values: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'candle_list' }],\n        is_candle_black: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/is_candle_black.jpeg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/is_candle_black_1.jpeg` },\n            { type: TEXT },\n        ],\n        ohlc_values_in_list: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'candle_list_1' },\n        ],\n        //= ================= Variables ==================\n        variables_gets: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        variables_set: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/create_variable.jpg` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/set_variable.png` },\n        ],\n        // =============== Time blocks ============\n        epoch: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'epoch' },\n        ],\n        todatetime: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'todatetime' },\n            { type: TEXT },\n        ],\n        totimestamp: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'totimestamp' },\n            { type: TEXT },\n        ],\n        // =============== Notifications blocks ============\n        notify_telegram: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'notify_telegram' },\n        ],\n        // =============== Misc blocks ============\n        console: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        balance: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        // =============== Indicators blocks ============\n        sma_statement: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: IMAGE, width: '60%', url: `${__webpack_public_path__}media/sma_formula.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_chart_1.png` },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_chart_2.png` },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_block_example_1' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sma_array' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '100%', url: `${__webpack_public_path__}media/sma_array_explanation.jpeg` },\n        ],\n        // =============== Root blocks ============\n        trade_definition: [\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n            { type: BLOCK },\n        ],\n        trade_definition_tradeoptions: [{ type: TEXT }, { type: BLOCK }],\n        trade_definition_multiplier: [{ type: TEXT }, { type: TEXT }, { type: TEXT }, { type: TEXT }],\n        before_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        during_purchase: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        sell_at_market: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'sell_available' },\n        ],\n        after_purchase: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }],\n        trade_again: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'trade_again' }],\n        // =============== Contract ============\n        contract_check_result: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'check_result' },\n        ],\n        sell_price: [{ type: TEXT }, { type: BLOCK }, { type: TEXT }, { type: EXAMPLE, example_id: 'sell_pl' }],\n        // =============== Logic ============\n        controls_if: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_if' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'compare_logic' },\n            { type: EXAMPLE, example_id: 'compare_logic_1' },\n        ],\n        logic_operation: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: IMAGE, width: '40%', url: `${__webpack_public_path__}media/logic.png` },\n        ],\n        // =============== Loops ============\n        controls_whileUntil: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_while' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'repeat_until' },\n        ],\n        controls_for: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_for' },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_forEach: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'controls_forEach' },\n            { type: TEXT },\n            { type: TEXT },\n            { type: TEXT },\n        ],\n        controls_flow_statements: [\n            { type: TEXT },\n            { type: BLOCK },\n            { type: TEXT },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'break_out' },\n            { type: TEXT },\n            { type: EXAMPLE, example_id: 'continue' },\n        ],\n    };\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is mandatory. Here is where you can decide if your bot should continue trading. Only one copy of this block is allowed.'\n        ),\n        localize(\n            'This block is commonly used to adjust the parameters of your next trade and to implement stop loss/take profit logic.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block returns current account balance.'),\n        localize(\n            'The only input parameter determines how block output is going to be formatted. In case if the input parameter is \"string\" then the account currency will be added.'\n        ),\n        localize('Example output of the below example will be:'),\n        localize('1. for \"string\": 1325.68 USD'),\n        localize('2. for \"number\": 1325.68'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is mandatory. Only one copy of this block is allowed. It is added to the canvas by default when you open Deriv Bot.'\n        ),\n        localize(\n            'After defining trade parameters and trade options, you may want to instruct your bot to purchase contracts when specific conditions are met. To do that you can use conditional blocks and indicators blocks to help your bot to make decisions.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to determine if the market price moves in the selected direction or not. It gives you a value of \"True\" or \"False\".'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. If the selected direction is \"Rise\", and the previous tick value is less than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n        localize(\n            '2. If the selected direction is \"Fall\", and the previous tick value is more than the current tick value, the output will be \"True\". Otherwise, the output will be an empty string.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays messages in the developer’s console with an input that can be either a string of text, a number, boolean, or an array of data.'\n        ),\n        localize('There are 4 message types:'),\n        localize(\"1. 'Log' displays a regular message.\"),\n        localize(\"2. 'Warn' displays a message in yellow to highlight something that needs attention.\"),\n        localize(\"3. 'Error' displays a message in red to highlight something that needs to be resolved immediately.\"),\n        localize(\"4. 'Table' takes an array of data, such as a list of candles, and displays it in a table format.\"),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'You can check the result of the last trade with this block. It can only be placed within the \"Restart trading conditions\" root block.'\n        ),\n        localize(\n            'If \"Win\" is selected, it will return \"True\" if your last trade was successful. Otherwise, it will return an empty string.'\n        ),\n        localize(\n            'If \"Loss\" is selected, it will return \"True\" if your last trade was unsuccessful. Otherwise, it will return an empty string.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to either terminate or continue a loop, and can be placed anywhere within a loop block.'\n        ),\n        localize('Examples:'),\n        localize(\n            '1. In the below example the loop is terminated in case \"x\" is \"False\" even though only one iteration is complete'\n        ),\n        localize(\n            '2. In the below example the loop jumps to the next iteration without executing below block in case if \"x\" is \"False\"'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            '\"i\" starts with the value of 1, and it will be increased by 2 at every iteration. The loop will repeat until \"i\" reaches the value of 12, and then the loop is terminated.'\n        ),\n        localize('You can use \"i\" inside the loop, for example to access list items'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block uses the variable \"i\" to control the iterations. With each iteration, the value of \"i\" is determined by the items in a given list.'\n        ),\n        localize('Example:'),\n        localize(\n            'In this example, the loop will repeat three times, as that is the number of items in the given list. During each iteration, the variable \"i\" will be assigned a value from the list. '\n        ),\n        localize('Please note that changing the value of \"i\" won\\'t change the value of the original item in the list'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block evaluates a statement and will perform an action only when the statement is true.'),\n        localize('Click the plus icon to extend the functionality of this block.'),\n        localize('You can also use \"Compare\" and \"Logic operation\" blocks to make test variables.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block repeats instructions as long as a given condition is true.'),\n        localize('Examples:'),\n        localize(\n            '1. In the example below, the instructions are repeated as long as the value of x is less than or equal to 10. Once the value of x exceeds 10, the loop is terminated.'\n        ),\n        localize(\n            '2. In this example, the instructions are repeated as long as the value of x is greater than or equal to 10. Once the value of x drops below 10, the loop is terminated.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Here is where you can decide to sell your contract before it expires. Only one copy of this block is allowed.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('\"Seconds Since Epoch\" block returns the number of seconds since January 1st, 1970.'),\n        localize('Example:'),\n        localize('1551661986 seconds since Jan 01 1970 (UTC) translates to 03/04/2019 @ 1:13am (UTC).'),\n        localize('You might need it when you want to repeat an actions after certain amount of time.'),\n        localize('The example below restarts trading after 30 or more seconds after 1 minute candle was started.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you a specific candle from within the selected time interval.'),\n        localize('In this example, the open price of a candle is assigned to the variable \"candle_open_price\".'),\n        localize(\n            'In the above example it is assumed that variable candle_open_price is processed somewhere within other blocks.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block returns \"True\" if the last candle is black. It can be placed anywhere on the canvas except within the Trade parameters root block.'\n        ),\n        localize(\n            'The term \"candle\" refers to each bar on the candlestick chart. Each candle represents four market prices for the selected time interval:'\n        ),\n        localize('Each candlestick on the chart represents 4 market prices for the selected time interval:'),\n        localize('- Open price: the opening price'),\n        localize('- High price: the highest price'),\n        localize('- Low price: the lowest price'),\n        localize('- Close price: the closing price'),\n        localize(\n            'A black (or red) candle indicates that the open price is higher than the close price. This represents a downward movement of the market price.'\n        ),\n        localize(\n            'A white (or green) candle indicates that the open price is lower than the close price. This represents an upward movement of the market price.'\n        ),\n        localize('The time interval for each candle can be set from one minute to one day.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the last digit of the latest tick value of the selected market. If the latest tick value is 1410.90, this block will return 0. It’s useful for digit-based contracts such as Even/Odd, Matches/Differs, or Higher/Lower.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs the \"AND\" or the \"OR\" logic operation with the given values.'),\n        localize(\n            'In case if the \"AND\" operation is selected, the block returns \"True\" only if both given values are \"True\"'\n        ),\n        localize(\n            'In case if the \"OR\" operation is selected, the block returns \"True\" in case if one or both given values are \"True\"'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs arithmetic operations between two numbers.'),\n        localize('Available operations:'),\n        localize('- Addition'),\n        localize('- Subtraction'),\n        localize('- Multiplication'),\n        localize('- Division'),\n        localize('- Raise the first number to the power of the second number'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block constrains a given number within a set range.'),\n        localize(\n            'In case if the given number is less than the lower boundary of the range, the block returns the lower boundary value. Similarly, if the given number is greater than the higher boundary, the block will return the higher boundary value. In case if the given value is between boundaries, the block will return the given value unchanged.'\n        ),\n        localize(\n            'In the below example the block returns the value of 10 as the given value (5) is less than the lower boundary (10)'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block performs the following operations to a given number'),\n        localize('Available operations are:'),\n        localize('- Square root'),\n        localize('- Absolute'),\n        localize('- Negation'),\n        localize('- Natural log'),\n        localize('- Euler’s number (2.71) to the power of a given number'),\n        localize('- 10 to the power of a given number'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block sends a message to a Telegram channel. You will need to create your own Telegram bot to use this block.'\n        ),\n        localize('Here’s how:'),\n        localize(\n            '1. Create a Telegram bot and get your Telegram API token. Read more on how to create bots in Telegram here: https://core.telegram.org/bots#6-botfather'\n        ),\n        localize(\n            '2. Start a chat with your newly created Telegram bot and make sure to send it some messages before proceeding to the next step. (e.g. Hello Bot!)'\n        ),\n        localize(\n            '3. Get the chat ID using the Telegram REST API (read more: https://core.telegram.org/bots/api#getupdates)'\n        ),\n        localize(\n            '- Visit the following URL, make sure to replace <access_token> with the Telegram API token you created in Step 1: https://api.telegram.org/bot<access_token>/getUpdates'\n        ),\n        localize('- Find the chat ID property in the response, and copy the value of the id property'),\n        localize(\n            '4. Come back to Deriv Bot and add the Notify Telegram block to the workspace. Paste the Telegram API token and chat ID into the block fields accordingly.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you a list of candles within a selected time interval.'),\n        localize(\n            'In this example, this block is used with another block to get the open prices from a list of candles. The open prices are then assigned to the variable called \"cl\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value from a list of candles within the selected time interval. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize(\n            'In this example, the open prices from a list of candles are assigned to a variable called \"candle_list\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value from a list of candles. You can choose from open price, close price, high price, low price, and open time.'\n        ),\n        localize('This block requires a list of candles as an input parameter.'),\n        localize('In this example, the open prices from a list of candles are assigned to a variable called \"cl\".'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('Used within a function block, this block returns a value when a specific condition is true.'),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('This block gives you information about your last contract.'),\n        localize('You can choose to see one of the following:'),\n        localize('- Deal reference ID: the reference ID of the contract'),\n        localize('- Purchase price: the purchase price (stake) of the contract'),\n        localize('- Payout: the payout of the contract'),\n        localize('- Profit: the profit you’ve earned'),\n        localize('- Contract type: the name of the contract type such as Rise, Fall, Touch, No Touch, etс.'),\n        localize('- Entry time: the starting time of the contract'),\n        localize('- Entry value: the value of the first tick of the contract'),\n        localize('- Exit time: the contract expiration time'),\n        localize('- Exit value: the value of the last tick of the contract'),\n        localize(\n            '- Barrier: the barrier value of the contract (applicable to barrier-based trade types such as stays in/out, touch/no touch, etc.)'\n        ),\n        localize('- Result: the result of the last contract: \"win\" or \"loss\"'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the specified candle value for a selected time interval. You can choose which value you want:'\n        ),\n        localize('- Open: the opening price'),\n        localize('- High: the highest price'),\n        localize('- Low: the lowest price'),\n        localize('- Close: the closing price'),\n        localize('- Open time: the opening time stamp'),\n        localize(\n            'In the example below, the opening price is selected, which is then assigned to a variable called \"op\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the selected candle value such as open price, close price, high price, low price, and open time. It requires a candle as an input parameter.'\n        ),\n        localize('In the example below, the open price is assigned to the variable \"op\".'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Use this block to sell your contract at the market price. Selling your contract is optional. You may choose to sell if the market trend is unfavourable.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block gives you the potential profit or loss if you decide to sell your contract. It can only be used within the \"Sell conditions\" root block.'\n        ),\n        localize(\n            'In the example below, the contract will only be sold if the potential profit or loss is more than the stake.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'SMA adds the market price in a list of ticks or candles for a number of time periods, and divides the sum by that number of time periods.'\n        ),\n        localize('The formula for SMA is:'),\n        localize('where n is the number of periods.'),\n        '',\n        localize('What SMA tells you'),\n        localize(\n            'SMA serves as an indicator of the trend. If the SMA points up then the market price is increasing and vice versa. The larger the period number, the smoother SMA line is.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 10 days.'\n        ),\n        localize(\n            'In this example, each point of the SMA line is an arithmetic average of close prices for the last 50 days.'\n        ),\n        '',\n        localize('How to use the SMA block'),\n        localize('Input list accepts a list of ticks or candles, while period is the specified time period.'),\n        localize('Example:'),\n        localize('This will display the SMA for the specified period, using a candle list.'),\n        localize('SMA places equal weight to the entire distribution of values.'),\n        localize('This is the same as the above example, using a tick list.'),\n        localize(\n            'You may compare SMA values calculated on every bot run to identify the market trend direction. Alternatively, you may also use a variation of the SMA block, the Simple Moving Average Array block. '\n        ),\n        localize('This block returns the entire SMA line, containing a list of all values for a given period.'),\n        localize(\n            'If a period of 10 is entered, the Simple Moving Average Array block will return a list of SMA values calculated based on period of 10.'\n        ),\n        localize('The below image illustrates how Simple Moving Average Array block works:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays a dialog box with a customised message. When the dialog box is displayed, your strategy is paused and will only resume after you click \"OK\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block displays a dialog box that uses a customised message to prompt for an input. The input can be either a string of text or a number and can be assigned to a variable. When the dialog box is displayed, your strategy is paused and will only resume after you enter a response and click \"OK\".'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'Any blocks placed within this block will be executed at every tick. If the default candle interval is set to 1 minute in the Trade Parameters root block, the instructions in this block will be executed once every minute. Place this block outside of any root block.'\n        ),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block converts the number of seconds since the Unix Epoch to a date and time format such as 2019-08-01 00:00:00.'\n        ),\n        localize('Example:'),\n        localize('In this example, the date and time will be displayed in a green notification box.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block converts the date and time to the number of seconds since the Unix Epoch (1970-01-01 00:00:00).'\n        ),\n        localize('Example:'),\n        localize('In this example, a Rise contract will be purchased at midnight on 1 August 2019.'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block will transfer the control back to the Purchase conditions block, enabling you to purchase another contract without manually stopping and restarting your bot.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            \"This block is mandatory. It's added to your strategy by default when you create new strategy. You can not add more than one copy of this block to the canvas.\"\n        ),\n        localize('1. Market'),\n        localize('Select your desired market and asset type. For example, Forex > Major pairs > AUD/JPY'),\n        localize('2. Trade Type'),\n        localize('Select your desired trade type. For example, Up/Down > Rise/Fall'),\n        localize('3. Contract Type'),\n        localize(\n            'Choose what type of contract you want to trade. For example, for the Rise/Fall trade type you can choose one of three options: Rise, Fall, or Both. Selected option will determine available options for the Purchase block.'\n        ),\n        localize('4. Default Candle Interval'),\n        localize('Sets the default time interval for blocks that read list of candles.'),\n        localize('5. Restart buy/sell on error'),\n        localize('Restarts the bot when an error is encountered.'),\n        localize('6. Restart last trade on error'),\n        localize('Repeats the previous trade when an error is encountered.'),\n        localize('7. Run Once at Start'),\n        localize('Place blocks here to perform tasks once when your bot starts running.'),\n        localize('8. Trade Options'),\n        localize('The desired duration, stake, prediction, and/or barrier(s) for the contract is defined here.'),\n    ],\n};\n","import React from 'react';\nimport { StaticUrl } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize('Use this block when you want to use multipliers as your trade type.'),\n        localize('Click the multiplier drop-down menu and choose the multiplier value you want to trade with.'),\n        localize('Your potential profit will be multiplied by the multiplier value you’ve chosen.'),\n        <Localize\n            key={0}\n            i18n_default_text='To learn more about multipliers, please go to the <0>Multipliers</0> page.'\n            components={[<StaticUrl key={0} className='link' href='trade-types/multiplier' />]}\n        />,\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\n            'This block is used to define trade options within the Trade parameters root block. Some options are only applicable for certain trade types. Parameters such as duration and stake are common among most trade types. Prediction is used for trade types such as Digits, while barrier offsets are for trade types that involve barriers such as Touch/No Touch, Ends In/Out, etc.'\n        ),\n        localize('Example:'),\n    ],\n};\n","import { localize } from '@deriv/translations';\n\nexport default {\n    text: [\n        localize(\"This block assigns a given value to a variable, creating the variable if it doesn't already exist.\"),\n        localize(\n            'A variable is among the most important and powerful components in creating a bot. It is a way to store information, either as text or numbers. The information stored as a variable can be used and changed according to the given instructions. Variables can be given any name, but usually they are given useful, symbolic names so that it is easier to call them during the execution of instructions.'\n        ),\n        localize('Creating a variable'),\n        localize('1. From the block library, enter a name for the new variable and click Create.'),\n        localize('2. The new variable will appear as a block under Set variable.'),\n    ],\n};\n","import { action, makeObservable, observable, runInAction } from 'mobx';\nimport { config } from '@deriv/bot-skeleton';\nimport { help_content_config } from 'Utils/help-content/help-content.config';\nimport * as help_strings from 'Utils/help-content/help-strings';\n\nexport default class FlyoutHelpStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            block_node: observable,\n            block_type: observable,\n            examples: observable,\n            help_string: observable,\n            title: observable,\n            should_next_disable: observable,\n            should_previous_disable: observable,\n            active_helper: observable,\n            setHelpContent: action.bound,\n            setActiveHelper: action.bound,\n            onBackClick: action.bound,\n            onSequenceClick: action.bound,\n            initFlyoutHelp: action.bound,\n            updateSequenceButtons: action.bound,\n            setExamples: action.bound,\n            getHelpContent: action.bound,\n            getFilledBlocksIndex: action.bound,\n            getNextHelpContentIndex: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    options = {\n        css: false,\n        media: `${__webpack_public_path__}media/`,\n        move: { scrollbars: false, drag: true, wheel: false },\n        zoom: { startScale: config.workspaces.flyoutWorkspacesStartScale },\n        sounds: false,\n    };\n\n    block_node = null;\n    block_type = '';\n    examples = [];\n    help_string = {};\n    title = '';\n    should_next_disable = false;\n    should_previous_disable = false;\n    active_helper = '';\n\n    setHelpContent = async block_node => {\n        const block_type = block_node.getAttribute('type');\n        const title = Blockly.Blocks[block_type].meta().display_name;\n        if (block_type !== '') {\n            this.active_helper = block_type;\n        }\n\n        const { flyout } = this.root_store;\n        this.setExamples(block_type);\n        const example_blocks = this.examples.map(example => example.childNodes[0]);\n        setTimeout(() => flyout.setFlyoutWidth([block_node, ...example_blocks]), 50);\n\n        runInAction(() => {\n            flyout.is_help_content = true;\n            this.block_node = block_node;\n            this.block_type = block_type;\n            this.title = title;\n            this.help_string = help_strings[block_type];\n        });\n\n        if (!flyout.is_search_flyout) {\n            this.updateSequenceButtons();\n        }\n    };\n\n    getHelpContent = async block_node => {\n        let block_content;\n\n        if (block_node) {\n            const target_blocks = this.xml_list_group[block_node];\n            const block_type = target_blocks[0].getAttribute('type');\n            block_content = help_strings[block_type];\n        }\n        return block_content;\n    };\n\n    getFilledBlocksIndex = async blocks_type => {\n        const blocks_content = await Promise.all(blocks_type.map(block => this.getHelpContent(block)));\n        return blocks_content.map((key, index) => (key ? index : null)).filter(value => value !== null);\n    };\n\n    getNextHelpContentIndex = async is_last => {\n        const filled_blocks_index = await this.getFilledBlocksIndex(Object.keys(this.xml_list_group));\n        return is_last ? filled_blocks_index[filled_blocks_index.length - 1] : filled_blocks_index[0];\n    };\n\n    setActiveHelper(active_helper) {\n        this.active_helper = active_helper;\n    }\n\n    onBackClick() {\n        const { toolbox, flyout } = this.root_store;\n\n        if (flyout.is_search_flyout) {\n            const search = document.getElementsByName('search')[0].value;\n            toolbox.onSearch({ search });\n        } else {\n            flyout.refreshCategory();\n        }\n    }\n\n    async onSequenceClick(should_go_next) {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n\n        let current_block_index;\n\n        Object.keys(this.xml_list_group).forEach((key, index) => {\n            if (current_block.getAttribute('type') === key) {\n                current_block_index = index;\n            }\n        });\n\n        const getNextBlock = async (xml, current_index, is_next) => {\n            const next_index = current_index + (is_next ? 1 : -1);\n            const next_blocks_type = Object.keys(xml).filter((key, index) =>\n                is_next ? next_index <= index : next_index >= index\n            );\n            const next_filled_block = await this.getFilledBlocksIndex(next_blocks_type);\n\n            const next_filled_block_index = is_next\n                ? next_filled_block[0]\n                : next_filled_block[next_filled_block.length - 1];\n            const next_block_type = next_blocks_type[next_filled_block_index];\n\n            if (!next_block_type) {\n                return false;\n            }\n\n            try {\n                await import(/* webpackChunkName: `[request]` */ '@deriv/bot-skeleton');\n                return next_block_type;\n            } catch (e) {\n                return getNextBlock(xml, next_index, is_next);\n            }\n        };\n\n        const block_type = await getNextBlock(this.xml_list_group, current_block_index, should_go_next);\n        if (block_type) {\n            const target_blocks = this.xml_list_group[block_type];\n            this.setHelpContent(target_blocks[0]);\n        }\n    }\n\n    initFlyoutHelp(block_node) {\n        const { flyout, toolbox } = this.root_store;\n        this.xml_list = toolbox.getCategoryContents(flyout.selected_category);\n        this.xml_list_group = this.groupBy(this.xml_list, true);\n\n        this.setHelpContent(block_node);\n    }\n\n    async updateSequenceButtons() {\n        const current_block = Array.from(this.xml_list).find(xml => xml.getAttribute('type') === this.block_type);\n        const current_index = Object.keys(this.xml_list_group).findIndex(\n            key => current_block.getAttribute('type') === key\n        );\n\n        const last_filled_content_index = await this.getNextHelpContentIndex(true);\n        const first_filled_content_index = await this.getNextHelpContentIndex(false);\n\n        runInAction(() => {\n            this.should_previous_disable = current_index === 0 || current_index === first_filled_content_index;\n            this.should_next_disable =\n                current_index === Object.keys(this.xml_list_group).length - 1 ||\n                current_index === last_filled_content_index;\n        });\n    }\n\n    // eslint-disable-next-line\n    groupBy(nodes, should_include_block_only = false) {\n        return Array.from(nodes).reduce((block_group, node) => {\n            const type = node.getAttribute('type');\n\n            if (should_include_block_only && type === null) {\n                return block_group;\n            }\n\n            if (!block_group[type]) {\n                block_group[type] = [];\n            }\n\n            if (!should_include_block_only || (should_include_block_only && type !== null)) {\n                block_group[type].push(node);\n            }\n\n            return block_group;\n        }, {});\n    }\n\n    setExamples(block_type) {\n        const { toolbox } = this.root_store;\n        const all_examples = [...toolbox.toolbox_examples.childNodes];\n        const help_content = help_content_config(__webpack_public_path__)[block_type];\n        const examples_ids = help_content.filter(el => el.type === 'example').map(example => example.example_id);\n        const examples = examples_ids.map(id => all_examples.find(example => example.id === id));\n\n        this.examples = examples;\n    }\n}\n","import { reaction } from 'mobx';\n\nconst GTM = (() => {\n    let root_store;\n\n    const getLoginId = () => {\n        return root_store.core.client.loginid;\n    };\n\n    const getServerTime = () => {\n        return root_store?.core?.server_time?.unix() || Date.now();\n    };\n\n    const pushDataLayer = data => {\n        return root_store?.core?.gtm?.pushDataLayer(data);\n    };\n\n    const init = _root_store => {\n        try {\n            root_store = _root_store;\n\n            const { run_panel, transactions } = root_store;\n            const run_statistics = run_panel.statistics;\n\n            reaction(\n                () => run_panel.is_running,\n                () => run_panel.is_running && onRunBot(run_statistics)\n            );\n\n            reaction(\n                () => transactions.contracts,\n                () => onTransactionClosed(transactions.contracts)\n            );\n        } catch (error) {\n            console.warn('Error initializing GTM reactions ', error); // eslint-disable-line no-console\n        }\n    };\n\n    const onRunBot = statistics => {\n        try {\n            const run_id = `${getLoginId()}-${getServerTime()}`;\n            const counters = `tr:${statistics.number_of_runs},\\\n                ts:${statistics.total_stake},\\\n                py:${statistics.total_payout},\\\n                lc:${statistics.lost_contracts},\\\n                wc:${statistics.won_contracts},\\\n                pr:${statistics.total_profit}`;\n\n            const data = {\n                counters: counters.replace(/\\s/g, ''),\n                event: 'dbot_run',\n                run_id,\n            };\n            pushDataLayer(data);\n        } catch (error) {\n            console.warn('Error pushing run data to datalayer', error); // eslint-disable-line no-console\n        }\n    };\n\n    const onTransactionClosed = contracts => {\n        try {\n            const contract = contracts.length > 0 && contracts[0];\n            if (contract && contract.is_completed) {\n                const data = {\n                    event: 'dbot_run_transaction',\n                    reference_id: contract.refrence_id,\n                };\n                pushDataLayer(data);\n            }\n        } catch (error) {\n            console.warn('Error pushing transaction to datalayer', error); // eslint-disable-line no-console\n        }\n    };\n\n    return {\n        init,\n        pushDataLayer,\n    };\n})();\n\nexport default GTM;\n","/* eslint-disable no-underscore-dangle */\nimport { action, computed, makeObservable, observable } from 'mobx';\nimport { config } from '@deriv/bot-skeleton';\nimport GTM from 'Utils/gtm';\n\nexport default class FlyoutStore {\n    block_listeners = [];\n    block_workspaces = [];\n    flyout_min_width = 440;\n    options = {\n        css: false,\n        media: `${__webpack_public_path__}media/`,\n        move: { scrollbars: false, drag: true, wheel: false },\n        zoom: { startScale: config.workspaces.flyoutWorkspacesStartScale },\n        sounds: false,\n    };\n\n    is_help_content = false;\n    flyout_content = [];\n    flyout_width = this.flyout_min_width;\n    is_visible = false;\n    is_search_flyout = false;\n    is_loading = false;\n    search_term = '';\n    selected_category = null;\n\n    constructor(root_store) {\n        makeObservable(this, {\n            is_help_content: observable,\n            flyout_content: observable,\n            flyout_width: observable,\n            is_visible: observable,\n            is_search_flyout: observable,\n            is_loading: observable,\n            search_term: observable,\n            selected_category: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            initFlyout: action.bound,\n            initBlockWorkspace: action.bound,\n            getFlyout: action.bound,\n            setContents: action.bound,\n            setFlyoutWidth: action.bound,\n            setVisibility: action.bound,\n            setIsSearchFlyout: action.bound,\n            setSelectedCategory: action.bound,\n            getSelectedCategory: action.bound,\n            onClickOutsideFlyout: action.bound,\n            refreshCategory: action.bound,\n            variables_blocks_count: computed,\n            first_get_variable_block_index: computed,\n        });\n\n        this.root_store = root_store;\n    }\n\n    onMount() {\n        this.initFlyout();\n        window.addEventListener('click', this.onClickOutsideFlyout);\n    }\n\n    onUnmount() {\n        window.removeEventListener('click', this.onClickOutsideFlyout);\n    }\n\n    initFlyout() {\n        const workspace = Blockly.derivWorkspace;\n        const options = {\n            parentWorkspace: workspace,\n            RTL: workspace.RTL,\n            horizontalLayout: workspace.horizontalLayout,\n        };\n\n        if (workspace.horizontalLayout) {\n            this.flyout = new Blockly.HorizontalFlyout(options);\n        } else {\n            this.flyout = new Blockly.VerticalFlyout(options);\n        }\n\n        this.flyout.targetWorkspace_ = workspace;\n        this.flyout.workspace_.targetWorkspace = workspace;\n\n        // A flyout connected to a workspace doesn't have its own current gesture.\n        this.flyout.workspace_.getGesture = this.flyout.targetWorkspace_.getGesture.bind(this.flyout.targetWorkspace_);\n\n        // Get variables from the main workspace rather than the target workspace.\n        workspace.variableMap_ = this.flyout.targetWorkspace_.getVariableMap();\n\n        this.flyout.workspace_.createPotentialVariableMap();\n\n        workspace.flyout_ = this.flyout;\n    }\n\n    /**\n     * Intialises a workspace unique to the passed block_node\n     * @param {Element} el_block_workspace Element where Blockly.Workspace will be mounted on\n     * @param {Element} block_node DOM of a Blockly.Block\n     * @memberof FlyoutStore\n     */\n    initBlockWorkspace(el_block_workspace, block_node) {\n        const workspace = Blockly.inject(el_block_workspace, this.options);\n\n        workspace.isFlyout = true;\n        workspace.targetWorkspace = Blockly.derivWorkspace;\n\n        const block = Blockly.Xml.domToBlock(block_node, workspace);\n        // Using block.getHeightWidth() here because getDimentions() also calls Blockly.Xml.domToBlock\n        const block_hw = block.getHeightWidth();\n\n        block.isInFlyout = true;\n\n        // Update block workspace widths to accommodate block widths.\n        // addind 1px to highet and then moving the block 1px down to make block top border visible\n        el_block_workspace.style.height = `${Math.ceil(block_hw.height * this.options.zoom.startScale) + 1}px`;\n        el_block_workspace.style.width = `${Math.ceil(block_hw.width * this.options.zoom.startScale) + 1}px`;\n        block.moveBy(1, 1);\n\n        // Use original Blockly flyout functionality to create block on drag.\n        const block_svg_root = block.getSvgRoot();\n\n        this.block_listeners.push(\n            Blockly.bindEventWithChecks_(block_svg_root, 'mousedown', null, event => {\n                GTM.pushDataLayer({\n                    event: 'dbot_drag_block',\n                    block_type: block.type,\n                });\n                this.flyout.blockMouseDown_(block)(event);\n            }),\n            Blockly.bindEvent_(block_svg_root, 'mouseout', block, block.removeSelect),\n            Blockly.bindEvent_(block_svg_root, 'mouseover', block, block.addSelect)\n        );\n\n        this.block_workspaces.push(workspace);\n        Blockly.svgResize(workspace);\n    }\n\n    getFlyout() {\n        return this.flyout;\n    }\n\n    /**\n     * Parses XML contents passed by Blockly.Toolbox. Supports all default\n     * Blockly.Flyout elements i.e. <block>, <label>, <button> in their\n     * original format, e.g. <label text=\"Hello World\" />\n     * @param {Element[]} xml_list list of XML nodes\n     * @memberof FlyoutStore\n     */\n    setContents(xml_list, search_term = '') {\n        const text_limit = 20;\n        const processed_xml = xml_list;\n\n        this.block_listeners.forEach(listener => Blockly.unbindEvent_(listener));\n        this.block_workspaces.forEach(workspace => workspace.dispose());\n        this.block_listeners = [];\n        this.block_workspaces = [];\n\n        this.is_help_content = false;\n        this.search_term = search_term.length > text_limit ? `${search_term.substring(0, text_limit)}...` : search_term;\n        this.flyout_content = xml_list;\n\n        this.setFlyoutWidth(processed_xml);\n        this.setVisibility(true);\n\n        // apparently setFlyoutWidth doesn't calculate blocks dimentions until they're visible\n        // using setTimeout is a workaround to solve this issue\n        setTimeout(() => this.setFlyoutWidth(processed_xml), 50);\n    }\n\n    /**\n     * Walks through xmlList and finds width of the longest block while setting\n     * height and width (in workspace pixels) attributes on each of the block nodes.\n     * @param {Element[]} xmlList\n     * @memberof FlyoutStore\n     */\n    setFlyoutWidth(xmlList) {\n        let longest_block_width = 0;\n\n        xmlList.forEach(node => {\n            const tag_name = node.tagName.toUpperCase();\n\n            if (tag_name === Blockly.Xml.NODE_BLOCK) {\n                const block_hw = Blockly.Block.getDimensions(node);\n\n                node.setAttribute('width', Math.ceil(block_hw.width * this.options.zoom.startScale));\n                node.setAttribute('height', Math.ceil(block_hw.height * this.options.zoom.startScale));\n                longest_block_width = Math.max(\n                    longest_block_width,\n                    Math.ceil(block_hw.width * this.options.zoom.startScale)\n                );\n            }\n        });\n\n        this.flyout_width = Math.max(this.flyout_min_width, longest_block_width + 65);\n    }\n\n    /**\n     * Sets whether the flyout is visible or not.\n     * @param {boolean} is_visible\n     * @memberof FlyoutStore\n     */\n    setVisibility(is_visible) {\n        this.is_visible = is_visible;\n\n        if (!is_visible) {\n            this.setSelectedCategory(null);\n            this.flyout_content = [];\n        }\n    }\n\n    /**\n     * Sets whether the flyout is search or not.\n     * @param {boolean} is_search\n     * @memberof FlyoutStore\n     */\n    setIsSearchFlyout(is_search) {\n        this.is_search_flyout = is_search;\n    }\n\n    setSelectedCategory(selected_category) {\n        this.selected_category = selected_category;\n    }\n\n    getSelectedCategory() {\n        return this.selected_category;\n    }\n\n    /**\n     * Close the flyout on click outside itself or parent toolbox.\n     */\n    onClickOutsideFlyout(event) {\n        if (!this.is_visible || !Blockly.derivWorkspace) {\n            return;\n        }\n\n        const toolbox = document.getElementById('gtm-toolbox');\n        const path = event.path || (event.composedPath && event.composedPath());\n        const is_flyout_click = path.some(el => el.classList && el.classList.contains('flyout'));\n        const is_search_focus = this.root_store.toolbox.is_search_focus;\n        const isToolboxClick = () => toolbox.contains(event.target);\n\n        if (!is_flyout_click && !isToolboxClick() && !is_search_focus) {\n            this.setVisibility(false);\n            this.setSelectedCategory(null);\n        }\n    }\n\n    refreshCategory() {\n        const category = this.getSelectedCategory();\n        const { toolbox } = this.root_store;\n        const flyout_content = toolbox.getCategoryContents(category);\n        this.setContents(flyout_content);\n    }\n\n    get variables_blocks_count() {\n        return this.flyout_content.filter(block => block.getAttribute('type') === 'variables_get').length;\n    }\n\n    get first_get_variable_block_index() {\n        return this.flyout_content.length - this.variables_blocks_count;\n    }\n}\n","export const button_status = Object.freeze({\n    NORMAL: 0,\n    LOADING: 1,\n    COMPLETED: 2,\n});\n","import { action, makeObservable, observable } from 'mobx';\nimport { config, importExternal } from '@deriv/bot-skeleton';\nimport { getLanguage, localize } from '@deriv/translations';\nimport { button_status } from 'Constants/button-status';\n\nexport default class GoogleDriveStore {\n    constructor(root_store) {\n        makeObservable(this, {\n            is_authorised: observable,\n            updateSigninStatus: action.bound,\n            saveFile: action.bound,\n            loadFile: action.bound,\n            setKey: action.bound,\n            initialise: action.bound,\n            signIn: action.bound,\n            signOut: action.bound,\n            getPickerLanguage: action.bound,\n            checkFolderExists: action.bound,\n            createSaveFilePicker: action.bound,\n            createLoadFilePicker: action.bound,\n            showGoogleDriveFilePicker: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.bot_folder_name = `Binary Bot - ${localize('Strategies')}`;\n        this.google_auth = null;\n        this.setKey();\n        this.client = null;\n        this.access_token = localStorage.getItem('google_access_token') || '';\n        importExternal('https://accounts.google.com/gsi/client').then(() => this.initialiseClient());\n        importExternal('https://apis.google.com/js/api.js').then(() => this.initialise());\n    }\n\n    is_authorised = !!localStorage.getItem('google_access_token');\n\n    setKey = () => {\n        const { scope, discovery_docs } = config.gd;\n        this.client_id = process.env.GD_CLIENT_ID;\n        this.app_id = process.env.GD_APP_ID;\n        this.api_key = process.env.GD_API_KEY;\n        this.scope = scope;\n        this.discovery_docs = discovery_docs;\n    };\n\n    initialise = () => {\n        gapi.load('client:picker', () => gapi.client.load(this.discovery_docs));\n    };\n\n    initialiseClient = () => {\n        this.client = google.accounts.oauth2.initTokenClient({\n            client_id: this.client_id,\n            scope: this.scope,\n            callback: response => {\n                this.access_token = response.access_token;\n                this.updateSigninStatus(true);\n                localStorage.setItem('google_access_token', response.access_token);\n            },\n        });\n    };\n\n    updateSigninStatus(is_signed_in) {\n        this.is_authorised = is_signed_in;\n    }\n\n    signIn() {\n        if (!this.is_authorised) {\n            this.client.requestAccessToken();\n        }\n    }\n\n    signOut() {\n        if (this.access_token) {\n            gapi.client.setToken('');\n            google.accounts.oauth2.revoke(this.access_token);\n            localStorage.removeItem('google_access_token');\n            this.access_token = '';\n        }\n        this.updateSigninStatus(false);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getPickerLanguage() {\n        const language = getLanguage();\n\n        if (language === 'zhTw') {\n            return 'zh-TW';\n        } else if (language === 'zhCn') {\n            return 'zh-CN';\n        }\n        return language;\n    }\n\n    async saveFile(options) {\n        try {\n            await this.signIn();\n            if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n            await this.checkFolderExists();\n            await this.createSaveFilePicker('application/vnd.google-apps.folder', localize('Select a folder'), options);\n        } catch (err) {\n            if (err.status === 401) {\n                this.signOut();\n            }\n        }\n    }\n\n    async loadFile() {\n        await this.signIn();\n\n        if (this.access_token) gapi.client.setToken({ access_token: this.access_token });\n        try {\n            await gapi.client.drive.files.list({\n                pageSize: 10,\n                fields: 'files(id, name)',\n            });\n        } catch (err) {\n            if (err?.status === 401) {\n                await this.signOut();\n                setTimeout(() => {\n                    const picker = document.getElementsByClassName('picker-dialog-content')[0];\n                    picker.parentNode.removeChild(picker);\n                    const pickerBackground = document.getElementsByClassName('picker-dialog-bg');\n                    if (pickerBackground.length) {\n                        for (let i = 0; i < pickerBackground.length; i++) {\n                            pickerBackground[i].style.display = 'none';\n                        }\n                    }\n                }, 500);\n            }\n        }\n\n        const xml_doc = await this.createLoadFilePicker(\n            'text/xml,application/xml',\n            localize('Select a Deriv Bot Strategy')\n        );\n\n        return xml_doc;\n    }\n\n    async checkFolderExists() {\n        const { files } = gapi.client.drive;\n        const response = await files.list({ q: 'trashed=false' });\n        const mime_type = 'application/vnd.google-apps.folder';\n        const folder = response.result.files.find(file => file.mimeType === mime_type);\n\n        if (folder) {\n            return;\n        }\n\n        await files.create({\n            resource: {\n                name: this.bot_folder_name,\n                mimeType: mime_type,\n                fields: 'id',\n            },\n        });\n    }\n\n    createSaveFilePicker(mime_type, title, options) {\n        const { setButtonStatus } = this.root_store.save_modal;\n        return new Promise(resolve => {\n            const savePickerCallback = data => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const folder_id = data.docs[0].id;\n                    const strategy_file = new Blob([options.content], { type: options.mimeType });\n                    const strategy_file_metadata = JSON.stringify({\n                        name: options.name,\n                        mimeType: options.mimeType,\n                        parents: [folder_id],\n                    });\n\n                    const form_data = new FormData();\n                    form_data.append('metadata', new Blob([strategy_file_metadata], { type: 'application/json' }));\n                    form_data.append('file', strategy_file);\n\n                    const xhr = new XMLHttpRequest();\n                    xhr.responseType = 'json';\n                    xhr.open('POST', 'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart');\n                    xhr.setRequestHeader('Authorization', `Bearer ${this.access_token}`);\n                    xhr.onload = () => {\n                        if (xhr.status === 401) {\n                            this.signOut();\n                        }\n\n                        setButtonStatus(button_status.NORMAL);\n                        resolve();\n                    };\n                    xhr.send(form_data);\n                } else if (data.action === google.picker.Action.CANCEL) {\n                    setButtonStatus(button_status.NORMAL);\n                }\n            };\n\n            this.showGoogleDriveFilePicker(true, mime_type, title, savePickerCallback);\n        });\n    }\n\n    createLoadFilePicker(mime_type, title) {\n        return new Promise(resolve => {\n            const loadPickerCallback = async data => {\n                if (data.action === google.picker.Action.PICKED) {\n                    const file = data.docs[0];\n                    const file_name = file.name;\n                    const fileId = file.id;\n                    const { files } = gapi.client.drive;\n                    const { setOpenSettings } = this.root_store.dashboard;\n\n                    const response = await files.get({\n                        alt: 'media',\n                        fileId,\n                        mimeType: 'text/plain',\n                    });\n\n                    resolve({ xml_doc: response.body, file_name });\n                    setOpenSettings('import');\n                }\n            };\n\n            this.showGoogleDriveFilePicker(false, mime_type, title, loadPickerCallback);\n        });\n    }\n\n    showGoogleDriveFilePicker(is_save, mime_type, title, callback) {\n        const docs_view = new google.picker.DocsView();\n        docs_view.setIncludeFolders(true);\n        docs_view.setMimeTypes(mime_type);\n\n        if (is_save) {\n            docs_view.setSelectFolderEnabled(true);\n        }\n        const picker = new google.picker.PickerBuilder();\n        picker\n            .setOrigin(`${window.location.protocol}//${window.location.host}`)\n            .setTitle(localize(title))\n            .setLocale(this.getPickerLanguage())\n            .setAppId(this.app_id)\n            .setOAuthToken(this.access_token)\n            .addView(docs_view)\n            .setDeveloperKey(this.api_key)\n            .setSize(1051, 650)\n            .setCallback(callback)\n            .build()\n            .setVisible(true);\n    }\n}\n","import React from 'react';\nimport { Button, ExpansionPanel, Icon } from '@deriv/components';\n\nexport const getIcon = type => {\n    switch (type) {\n        case 'error':\n            return 'IcAlertDanger';\n        case 'warn':\n            return 'IcAlertWarning';\n        case 'info':\n            return 'IcAlertInfo';\n        default:\n            return 'IcAlertWarning';\n    }\n};\n\nexport const messageWithButton = ({ unique_id, type, message, btn_text, onClick }) => (\n    <>\n        <div key={`${unique_id}_message`} className='notify__item-container'>\n            <Icon key={`${unique_id}_icon`} icon={getIcon(type)} size='22' />\n            <div key={`${unique_id}_text`} className='notify__item-message'>\n                {message}\n            </div>\n        </div>\n        <Button\n            key={`${unique_id}_btn`}\n            className='notify__item-button'\n            text={btn_text}\n            onClick={onClick}\n            has_effect\n            secondary\n        />\n    </>\n);\n\nexport const messageWithImage = (message, image) => (\n    <>\n        <div className='notify__item-message'>{message}</div>\n        <img src={image} style={{ width: '100%' }} />\n    </>\n);\n\n// eslint-disable-next-line react/display-name\nexport const arrayAsMessage = parsedArray => measure => <ExpansionPanel message={parsedArray} onResize={measure} />;\n","import { localize } from '@deriv/translations';\nimport { arrayAsMessage, messageWithButton } from '../components/notify-item';\n\nconst showErrorMessageWithButton = (message, block_id, showErrorMessage, centerAndHighlightBlock) => {\n    showErrorMessage(\n        messageWithButton({\n            unique_id: block_id,\n            type: 'error',\n            message,\n            btn_text: localize('Go to block'),\n            onClick: () => {\n                centerAndHighlightBlock();\n            },\n        })\n    );\n};\n\nexport const isCustomJournalMessage = (\n    { message, block_id, variable_name },\n    showErrorMessage,\n    centerAndHighlightBlock,\n    pushMessage\n) => {\n    // notify undefined variable block\n    if (message === undefined && variable_name != null) {\n        showErrorMessageWithButton(\n            localize(\n                \"Variable '{{variable_name}}' has no value. Please set a value for variable '{{variable_name}}' to notify.\",\n                { variable_name }\n            ),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify null variable block\n    if (message === null) {\n        pushMessage('NULL');\n        return true;\n    }\n    // notify NaN variable block\n    if (Object.is(message, NaN)) {\n        showErrorMessageWithButton(\n            localize('Tried to perform an invalid operation.'),\n            block_id,\n            showErrorMessage,\n            centerAndHighlightBlock\n        );\n        return true;\n    }\n    // notify list block\n    if (Array.isArray(message)) {\n        const message_length = message.length;\n        const parsedArray = {\n            header:\n                variable_name !== 'null'\n                    ? `${variable_name}: (${message_length})`\n                    : localize('List: ({{message_length}})', { message_length }),\n            content: parseArray(message),\n        };\n        pushMessage(arrayAsMessage(parsedArray));\n        return true;\n    }\n    // notify boolean results\n    if (typeof message === 'boolean') {\n        pushMessage(message.toString());\n        return true;\n    }\n\n    return false;\n};\n\nconst parseArray = message => {\n    return message.map(item => {\n        return {\n            id: new Date().getTime() * Math.random(),\n            value: item && Array.isArray(item) ? parseArray(item) : item,\n        };\n    });\n};\n","import LZString from 'lz-string';\n\nexport const getStoredItemsByUser = (storage_key, loginid, default_value) => {\n    if (!loginid) {\n        return default_value;\n    }\n\n    const storage = getStoredItemsByKey(storage_key, default_value);\n    return storage[loginid] || default_value;\n};\n\nexport const getStoredItemsByKey = (storage_key, default_value) => {\n    try {\n        const session_storage_item = sessionStorage.getItem(storage_key);\n        const decompressed_item = LZString.decompress(session_storage_item);\n        const stored_items = JSON.parse(decompressed_item);\n\n        if (stored_items) {\n            return stored_items;\n        }\n    } catch (e) {\n        // Do nothing.\n    }\n\n    return default_value;\n};\n\nexport const setStoredItemsByKey = (storage_key, value) => {\n    try {\n        const compressed_value = LZString.compress(JSON.stringify(value));\n        sessionStorage.setItem(storage_key, compressed_value);\n    } catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Could not write to storage.');\n    }\n};\n","import { action, computed, makeObservable, observable, reaction, when } from 'mobx';\n\nimport { log_types, message_types } from '@deriv/bot-skeleton';\nimport { config } from '@deriv/bot-skeleton/src/constants/config';\nimport { formatDate } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nimport { isCustomJournalMessage } from '../utils/journal-notifications';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\nimport { getSetting, storeSetting } from '../utils/settings';\n\nexport default class JournalStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            is_filter_dialog_visible: observable,\n            journal_filters: observable.shallow,\n            filters: observable.shallow,\n            unfiltered_messages: observable.shallow,\n            toggleFilterDialog: action.bound,\n            onLogSuccess: action.bound,\n            onError: action.bound,\n            onNotify: action.bound,\n            pushMessage: action.bound,\n            filtered_messages: computed,\n            getServerTime: action.bound,\n            playAudio: action.bound,\n            checked_filters: computed,\n            filterMessage: action.bound,\n            clear: action.bound,\n            welcomeBackUser: action.bound,\n            welcomeUser: action.bound,\n            registerReactions: action.bound,\n            restoreStoredJournals: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n        this.restoreStoredJournals();\n    }\n\n    JOURNAL_CACHE = 'journal_cache';\n\n    is_filter_dialog_visible = false;\n\n    filters = [\n        { id: message_types.ERROR, label: localize('Errors') },\n        { id: message_types.NOTIFY, label: localize('Notifications') },\n        { id: message_types.SUCCESS, label: localize('System') },\n    ];\n    journal_filters = [];\n    unfiltered_messages = [];\n\n    restoreStoredJournals() {\n        const { loginid } = this.core?.client;\n        this.journal_filters = getSetting('journal_filter') || this.filters.map(filter => filter.id);\n        this.unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, loginid, []);\n    }\n\n    getServerTime() {\n        return this.core?.common.server_time.get();\n    }\n\n    playAudio = sound => {\n        if (sound !== config.lists.NOTIFICATION_SOUND[0][1]) {\n            const audio = document.getElementById(sound);\n            audio.play();\n        }\n    };\n\n    toggleFilterDialog() {\n        this.is_filter_dialog_visible = !this.is_filter_dialog_visible;\n    }\n\n    onLogSuccess(message) {\n        const { log_type, extra } = message;\n        this.pushMessage(log_type, message_types.SUCCESS, '', extra);\n    }\n\n    onError(message) {\n        this.pushMessage(message, message_types.ERROR);\n    }\n\n    onNotify(data) {\n        const { run_panel, dbot } = this.root_store;\n        const { message, className, message_type, sound, block_id, variable_name } = data;\n\n        if (\n            isCustomJournalMessage(\n                { message, block_id, variable_name },\n                run_panel.showErrorMessage,\n                () => dbot.centerAndHighlightBlock(block_id, true),\n                parsed_message => this.pushMessage(parsed_message, message_type || message_types.NOTIFY, className)\n            )\n        ) {\n            this.playAudio(sound);\n            return;\n        }\n        this.pushMessage(message, message_type || message_types.NOTIFY, className);\n        this.playAudio(sound);\n    }\n\n    pushMessage(message, message_type, className, extra = {}) {\n        const { client } = this.core;\n        const { loginid, account_list } = client;\n\n        if (loginid) {\n            const current_account = account_list?.find(account => account?.loginid === loginid);\n            extra.current_currency = current_account?.is_virtual ? 'Demo' : current_account?.title;\n        } else if (message === log_types.WELCOME) {\n            return;\n        }\n\n        const date = formatDate(this.getServerTime());\n        const time = formatDate(this.getServerTime(), 'HH:mm:ss [GMT]');\n        const unique_id = Blockly.utils.genUid();\n\n        this.unfiltered_messages.unshift({ date, time, message, message_type, className, unique_id, extra });\n        this.unfiltered_messages = this.unfiltered_messages.slice(); // force array update\n    }\n\n    get filtered_messages() {\n        return (\n            this.unfiltered_messages\n                // filter messages based on filtered-checkbox\n                .filter(\n                    message =>\n                        this.journal_filters.length &&\n                        this.journal_filters.some(filter => message.message_type === filter)\n                )\n        );\n    }\n\n    get checked_filters() {\n        return this.journal_filters.filter(filter => filter != null);\n    }\n\n    filterMessage(checked, item_id) {\n        if (checked) {\n            this.journal_filters.push(item_id);\n        } else {\n            this.journal_filters.splice(this.journal_filters.indexOf(item_id), 1);\n        }\n\n        storeSetting('journal_filter', this.journal_filters);\n    }\n\n    clear() {\n        this.unfiltered_messages = this.unfiltered_messages.slice(0, 0);\n    }\n\n    welcomeBackUser() {\n        this.pushMessage(log_types.WELCOME_BACK, message_types.SUCCESS, 'journal__text');\n    }\n\n    welcomeUser() {\n        this.pushMessage(log_types.WELCOME, message_types.SUCCESS, 'journal__text');\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n\n        // Write journal messages to session storage on each change in unfiltered messages.\n        const disposeWriteJournalMessageListener = reaction(\n            () => this.unfiltered_messages,\n            unfiltered_messages => {\n                const stored_journals = getStoredItemsByKey(this.JOURNAL_CACHE, {});\n                stored_journals[client.loginid] = unfiltered_messages.slice(0, 5000);\n\n                setStoredItemsByKey(this.JOURNAL_CACHE, stored_journals);\n            }\n        );\n\n        // Attempt to load cached journal messages on client loginid change.\n        const disposeJournalMessageListener = reaction(\n            () => client?.loginid,\n            async loginid => {\n                await when(() => client.account_list?.find(account => account.loginid === loginid)?.title ?? false);\n                this.unfiltered_messages = getStoredItemsByUser(this.JOURNAL_CACHE, loginid, []);\n                if (this.unfiltered_messages.length === 0) {\n                    this.welcomeUser();\n                } else if (this.unfiltered_messages.length > 0) {\n                    this.welcomeBackUser();\n                }\n            },\n            { fireImmediately: true } // For initial welcome message\n        );\n\n        return () => {\n            disposeWriteJournalMessageListener();\n            disposeJournalMessageListener();\n        };\n    }\n}\n","import React from 'react';\nimport { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { config, getSavedWorkspaces, load, removeExistingWorkspace, save_types, setColors } from '@deriv/bot-skeleton';\nimport { TStores } from '@deriv/stores/types';\nimport { localize } from '@deriv/translations';\nimport { clearInjectionDiv, tabs_title } from 'Constants/load-modal';\nimport { TStrategy } from 'Types';\nimport RootStore from './root-store';\n\ninterface ILoadModalStore {\n    active_index: number;\n    is_load_modal_open: boolean;\n    is_explanation_expand: boolean;\n    is_open_button_loading: boolean;\n    is_strategy_loaded: boolean;\n    loaded_local_file: File | null;\n    recent_strategies: TStrategy[];\n    dashboard_strategies: Array<TStrategy>;\n    selected_strategy_id: string | undefined;\n    is_strategy_removed: boolean;\n    is_delete_modal_open: boolean;\n    current_workspace_id: string;\n    getSelectedStrategyID: (current_workspace_id: string) => void;\n    refreshStrategies: () => void;\n    loadStrategyToBuilder: (param: TStrategy) => void;\n    refreshStrategiesTheme: () => void;\n    handleFileChange: (\n        event: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body: boolean\n    ) => boolean;\n    loadFileFromLocal: () => void;\n    onActiveIndexChange: () => void;\n    onDriveConnect: () => void;\n    onDriveOpen: () => void;\n    onEntered: () => void;\n    onLoadModalClose: () => void;\n    onToggleDeleteDialog: (is_delete_modal_open: boolean) => void;\n    onZoomInOutClick: (is_zoom_in: string) => void;\n    previewRecentStrategy: (workspace_id: string) => void;\n    setActiveTabIndex: (index: number) => void;\n    setLoadedLocalFile: (loaded_local_file: File | null) => void;\n    setDashboardStrategies: (strategies: Array<TStrategy>) => void;\n    setRecentStrategies: (recent_strategies: TStrategy[]) => void;\n    setSelectedStrategyId: (selected_strategy_id: string) => void;\n    toggleExplanationExpand: () => void;\n    toggleLoadModal: () => void;\n    toggleTourLoadModal: (toggle: boolean) => void;\n    readFile: (is_preview: boolean, drop_event: DragEvent, file: File) => void;\n    updateListStrategies: (workspaces: Array<TStrategy>) => void;\n    getRecentFileIcon: (save_type: { [key: string]: string } | string) => string;\n    getSaveType: (save_type: { [key: string]: string } | string) => string;\n}\n\nexport default class LoadModalStore implements ILoadModalStore {\n    root_store: RootStore;\n    core: TStores;\n    previewed_strategy_id = '';\n\n    constructor(root_store: RootStore, core: TStores) {\n        makeObservable(this, {\n            active_index: observable,\n            previewed_strategy_id: observable,\n            is_load_modal_open: observable,\n            is_explanation_expand: observable,\n            is_open_button_loading: observable,\n            is_strategy_loaded: observable,\n            is_delete_modal_open: observable,\n            is_strategy_removed: observable,\n            loaded_local_file: observable,\n            recent_strategies: observable,\n            dashboard_strategies: observable,\n            selected_strategy_id: observable,\n            current_workspace_id: observable,\n            preview_workspace: computed,\n            selected_strategy: computed,\n            tab_name: computed,\n            setPreviewedStrategyId: action.bound,\n            getSelectedStrategyID: action.bound,\n            refreshStrategies: action.bound,\n            loadStrategyToBuilder: action.bound,\n            refreshStrategiesTheme: action.bound,\n            handleFileChange: action.bound,\n            loadFileFromRecent: action.bound,\n            loadFileFromLocal: action.bound,\n            onActiveIndexChange: action.bound,\n            onDriveConnect: action.bound,\n            onDriveOpen: action.bound,\n            onEntered: action.bound,\n            onLoadModalClose: action.bound,\n            onZoomInOutClick: action.bound,\n            previewRecentStrategy: action.bound,\n            setActiveTabIndex: action.bound,\n            setLoadedLocalFile: action.bound,\n            setRecentStrategies: action.bound,\n            setSelectedStrategyId: action.bound,\n            toggleExplanationExpand: action.bound,\n            toggleLoadModal: action.bound,\n            toggleTourLoadModal: action.bound,\n            readFile: action.bound,\n            resetBotBuilderStrategy: action.bound,\n            setDashboardStrategies: action.bound,\n            updateListStrategies: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n\n        reaction(\n            () => this.active_index,\n            () => this.onActiveIndexChange()\n        );\n        reaction(\n            () => this.is_load_modal_open,\n            async is_load_modal_open => {\n                if (is_load_modal_open) {\n                    this.setRecentStrategies((await getSavedWorkspaces()) || []);\n                } else {\n                    this.onLoadModalClose();\n                }\n            }\n        );\n    }\n\n    recent_workspace: Blockly.WorkspaceSvg | null = null;\n    local_workspace: Blockly.WorkspaceSvg | null = null;\n    drop_zone: unknown;\n\n    active_index = 0;\n    is_load_modal_open = false;\n    is_explanation_expand = false;\n    is_open_button_loading = false;\n    loaded_local_file: File | null = null;\n    recent_strategies: Array<TStrategy> = [];\n    dashboard_strategies: Array<TStrategy> | [] = [];\n    selected_strategy_id = '';\n    is_strategy_loaded = false;\n    is_delete_modal_open = false;\n    is_strategy_removed = false;\n    current_workspace_id = '';\n\n    get preview_workspace(): Blockly.WorkspaceSvg | null {\n        if (this.tab_name === tabs_title.TAB_LOCAL) return this.local_workspace;\n        if (this.tab_name === tabs_title.TAB_RECENT) return this.recent_workspace;\n        return null;\n    }\n\n    get selected_strategy(): TStrategy {\n        return (\n            this.dashboard_strategies.find((ws: { id: string }) => ws.id === this.selected_strategy_id) ??\n            this.dashboard_strategies[0]\n        );\n    }\n\n    get tab_name() {\n        if (this.core.ui.is_mobile) {\n            if (this.active_index === 0) return tabs_title.TAB_LOCAL;\n            if (this.active_index === 1) return tabs_title.TAB_GOOGLE;\n        }\n        if (this.active_index === 0) return tabs_title.TAB_RECENT;\n        if (this.active_index === 1) return tabs_title.TAB_LOCAL;\n        if (this.active_index === 2) return tabs_title.TAB_GOOGLE;\n        return '';\n    }\n\n    setPreviewedStrategyId = (clicked_id: string) => {\n        this.previewed_strategy_id = clicked_id;\n    };\n\n    getSelectedStrategyID = (current_workspace_id: string) => {\n        this.current_workspace_id = current_workspace_id;\n    };\n\n    setDashboardStrategies(strategies: Array<TStrategy>) {\n        this.dashboard_strategies = strategies;\n        if (!strategies.length) {\n            this.selected_strategy_id = '';\n        }\n    }\n\n    async getDashboardStrategies() {\n        const recent_strategies = await getSavedWorkspaces();\n        this.dashboard_strategies = recent_strategies;\n    }\n\n    handleFileChange = (\n        event: React.MouseEvent | React.FormEvent<HTMLFormElement> | DragEvent,\n        is_body = true\n    ): boolean => {\n        let files;\n        if (event.type === 'drop') {\n            event.stopPropagation();\n            event.preventDefault();\n\n            ({ files } = event.dataTransfer);\n        } else {\n            ({ files } = event.target);\n        }\n\n        const [file] = files;\n\n        if (!is_body) {\n            if (file.name.includes('xml')) {\n                this.setLoadedLocalFile(file);\n                this.getDashboardStrategies();\n            } else {\n                return false;\n            }\n        }\n        this.readFile(!is_body, event, file);\n        event.target.value = '';\n        return true;\n    };\n\n    resetBotBuilderStrategy = () => {\n        const workspace = Blockly.derivWorkspace;\n        if (workspace) {\n            Blockly.derivWorkspace.asyncClear();\n            Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(workspace.cached_xml.main), workspace);\n            Blockly.derivWorkspace.strategy_to_load = workspace.cached_xml.main;\n        }\n    };\n\n    loadStrategyToBuilder = async (strategy: TStrategy) => {\n        if (strategy?.id) {\n            await load({\n                block_string: strategy.xml,\n                strategy_id: strategy.id,\n                file_name: strategy.name,\n                workspace: Blockly?.derivWorkspace,\n                from: strategy.save_type,\n                drop_event: {},\n                showIncompatibleStrategyDialog: false,\n            });\n            Blockly.derivWorkspace.strategy_to_load = strategy.xml;\n        }\n    };\n\n    refreshStrategiesTheme = async () => {\n        await load({\n            block_string: this.selected_strategy?.xml,\n            drop_event: {},\n            workspace: this.recent_workspace,\n            file_name: this.selected_strategy?.name,\n            strategy_id: this.selected_strategy?.id,\n            from: this.selected_strategy?.save_type,\n            showIncompatibleStrategyDialog: false,\n        });\n    };\n\n    loadFileFromRecent = async () => {\n        this.is_open_button_loading = true;\n        if (!this.selected_strategy) {\n            Blockly.derivWorkspace.asyncClear();\n            Blockly.Xml.domToWorkspace(\n                Blockly.Xml.textToDom(Blockly.derivWorkspace.strategy_to_load),\n                Blockly.derivWorkspace\n            );\n            this.is_open_button_loading = false;\n            return;\n        }\n\n        removeExistingWorkspace(this.selected_strategy.id);\n        await load({\n            block_string: this.selected_strategy.xml,\n            strategy_id: this.selected_strategy.id,\n            file_name: this.selected_strategy.name,\n            workspace: Blockly.derivWorkspace,\n            from: this.selected_strategy.save_type,\n            drop_event: {},\n            showIncompatibleStrategyDialog: false,\n        });\n        const recent_files = await getSavedWorkspaces();\n        recent_files.map((strategy: TStrategy) => {\n            const { xml, id } = strategy;\n            if (this.selected_strategy.id === id) {\n                Blockly.derivWorkspace.strategy_to_load = xml;\n            }\n        });\n        this.is_open_button_loading = false;\n    };\n\n    loadFileFromLocal = (): void => {\n        this.is_open_button_loading = true;\n        if (this.loaded_local_file) {\n            this.readFile(false, {} as DragEvent, this.loaded_local_file);\n        }\n        this.is_open_button_loading = false;\n    };\n\n    onActiveIndexChange = (): void => {\n        if (this.tab_name === tabs_title.TAB_RECENT) {\n            this.previewRecentStrategy(this.selected_strategy_id);\n        } else if (this.recent_workspace) {\n            setTimeout(() => {\n                // Dispose of recent workspace when switching away from Recent tab.\n                // Process in next cycle so user doesn't have to wait.\n                this.recent_workspace?.dispose();\n                this.recent_workspace = null;\n            });\n        }\n\n        if (this.tab_name === tabs_title.TAB_LOCAL) {\n            if (!this.drop_zone) {\n                this.drop_zone = document.querySelector('load-strategy__local-dropzone-area');\n\n                if (this.drop_zone) {\n                    this.drop_zone.addEventListener('drop', event => this.handleFileChange(event, false));\n                }\n            }\n        }\n\n        // Dispose of local workspace when switching away from Local tab.\n        else if (this.local_workspace) {\n            setTimeout(() => {\n                this.local_workspace?.dispose();\n                this.local_workspace = null;\n                this.setLoadedLocalFile(null);\n            }, 0);\n        }\n\n        // Forget about drop zone when not on Local tab.\n        if (this.tab_name !== tabs_title.TAB_LOCAL && this.drop_zone) {\n            this.drop_zone.removeEventListener('drop', event => this.handleFileChange(event, false));\n        }\n    };\n\n    onDriveConnect = (): void => {\n        const { google_drive } = this.root_store;\n\n        if (google_drive.is_authorised) {\n            google_drive.signOut();\n        } else {\n            google_drive.signIn();\n        }\n    };\n\n    async onDriveOpen() {\n        const { loadFile } = this.root_store.google_drive;\n        const { xml_doc, file_name } = await loadFile();\n        await load({\n            block_string: xml_doc,\n            file_name,\n            workspace: Blockly.derivWorkspace,\n            from: save_types.GOOGLE_DRIVE,\n            drop_event: null,\n            strategy_id: null,\n            showIncompatibleStrategyDialog: null,\n        });\n\n        const { active_tab } = this.root_store.dashboard;\n        if (active_tab === 1) this.toggleLoadModal();\n\n        this.root_store.dashboard.is_dialog_open = false;\n    }\n\n    onEntered = (): void => {\n        this.previewRecentStrategy(this.selected_strategy_id);\n    };\n\n    onLoadModalClose = (): void => {\n        if (this.recent_workspace) {\n            this.recent_workspace = null;\n        }\n        if (this.local_workspace) {\n            this.local_workspace = null;\n        }\n\n        this.setActiveTabIndex(0); // Reset to first tab.\n        this.setLoadedLocalFile(null);\n    };\n\n    onZoomInOutClick = (is_zoom_in: string): void => {\n        if (this.preview_workspace) {\n            this.preview_workspace.zoomCenter(is_zoom_in ? 1 : -1);\n        }\n    };\n\n    previewRecentStrategy = (workspace_id: string): void => {\n        if (!workspace_id) this.setSelectedStrategyId(this.current_workspace_id);\n        else this.setSelectedStrategyId(workspace_id);\n        if (!this.selected_strategy) {\n            return;\n        }\n        const {\n            dashboard: { active_tab },\n        } = this.root_store;\n        //removed the dispose here so on switch of tab it does not\n        //throw xml error\n        if (active_tab === 1 && !this.is_load_modal_open) {\n            this.recent_workspace = null;\n            this.setLoadedLocalFile(null);\n        }\n\n        const dark_mode = document.body.classList.contains('theme--dark');\n        setColors(dark_mode);\n\n        //to load the bot on first load\n        const ref = document.getElementById('load-strategy__blockly-container');\n        if (!ref) {\n            // eslint-disable-next-line no-console\n            console.warn('Could not find preview workspace element.');\n            return;\n        }\n        if (this.tab_name !== tabs_title.TAB_LOCAL && this.recent_workspace) {\n            clearInjectionDiv('store', ref);\n            this.recent_workspace.dispose();\n            this.recent_workspace = null;\n        }\n        if (!this.recent_workspace?.rendered) {\n            this.recent_workspace = Blockly.inject(ref, {\n                media: `${__webpack_public_path__}media/`,\n                zoom: {\n                    wheel: true,\n                    startScale: config.workspaces.previewWorkspaceStartScale,\n                },\n                readOnly: true,\n                scrollbars: true,\n            });\n        }\n        this.refreshStrategiesTheme();\n    };\n\n    setActiveTabIndex = (index: number): void => {\n        this.active_index = index;\n    };\n\n    setLoadedLocalFile = (loaded_local_file: File | null): void => {\n        this.loaded_local_file = loaded_local_file;\n    };\n\n    setRecentStrategies = (recent_strategies: TStrategy[]): void => {\n        this.recent_strategies = recent_strategies;\n    };\n\n    refreshStrategies = (): void => {\n        this.setRecentStrategies(this.recent_strategies);\n    };\n\n    setSelectedStrategyId = (selected_strategy_id: string): void => {\n        this.selected_strategy_id = selected_strategy_id;\n    };\n\n    toggleExplanationExpand = (): void => {\n        this.is_explanation_expand = !this.is_explanation_expand;\n    };\n\n    toggleLoadModal = (): void => {\n        this.is_load_modal_open = !this.is_load_modal_open;\n        if (this.selected_strategy_id) this.previewRecentStrategy(this.selected_strategy_id);\n    };\n\n    toggleTourLoadModal = (toggle = !this.is_load_modal_open) => {\n        this.is_load_modal_open = toggle;\n    };\n\n    updateListStrategies = (workspaces: Array<TStrategy>): void => {\n        if (workspaces) {\n            (this.dashboard_strategies as Array<TStrategy>) = workspaces;\n        }\n    };\n\n    getRecentFileIcon = (save_type: { [key: string]: string } | string): string => {\n        switch (save_type) {\n            case save_types.UNSAVED:\n                return 'IcReports';\n            case save_types.LOCAL:\n                return 'IcMyComputer';\n            case save_types.GOOGLE_DRIVE:\n                return 'IcGoogleDrive';\n            default:\n                return 'IcReports';\n        }\n    };\n\n    getSaveType = (save_type: { [key: string]: string } | string): string => {\n        switch (save_type) {\n            case save_types.UNSAVED:\n                return localize('Unsaved');\n            case save_types.LOCAL:\n                return localize('Local');\n            case save_types.GOOGLE_DRIVE:\n                return localize('Google Drive');\n            default:\n                return localize('Unsaved');\n        }\n    };\n\n    onToggleDeleteDialog = (is_delete_modal_open: boolean): void => {\n        this.is_delete_modal_open = is_delete_modal_open;\n    };\n\n    readFile = (is_preview: boolean, drop_event: DragEvent, file: File): void => {\n        const file_name = file?.name.replace(/\\.[^/.]+$/, '');\n        const reader = new FileReader();\n        reader.onload = action(e => {\n            const load_options = {\n                block_string: e?.target?.result,\n                drop_event,\n                from: save_types.LOCAL,\n                workspace: null as Blockly.WorkspaceSvg | null,\n                file_name: '',\n                strategy_id: '',\n                showIncompatibleStrategyDialog: false,\n            };\n            const ref = document.getElementById('load-strategy__blockly-container');\n            if (is_preview && ref) {\n                this.local_workspace = Blockly.inject(ref, {\n                    media: `${__webpack_public_path__}media/`, // eslint-disable-line\n                    zoom: {\n                        wheel: false,\n                        startScale: config.workspaces.previewWorkspaceStartScale,\n                    },\n                    readOnly: true,\n                    scrollbars: true,\n                });\n                load_options.workspace = this.local_workspace;\n            } else {\n                load_options.workspace = Blockly.derivWorkspace;\n                load_options.file_name = file_name;\n            }\n            load(load_options);\n        });\n        reader.readAsText(file);\n    };\n}\n","import { getImageLocation } from '../../../public-path';\nimport { localize } from '@deriv/translations';\nimport { TDescriptionItem } from '../types';\n\nexport const D_ALEMBERT: TDescriptionItem[] = [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the D’Alembert strategy in Deriv Bot')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The D'Alembert strategy involves increasing your stake after a losing trade and reducing it after a successful trade by a predetermined number of units.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key Parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used for D’Alembert strategy in Deriv Bot.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Initial stake:</strong> The amount you pay to enter a trade. In this example, we will use 1 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Unit:</strong> The number of units that are added in the event of a trade resulting in loss or the number of units removed in the event of a trade resulting in profit. For example, if the unit is set at 2, the stake increases or decreases by two times the initial stake of 1 USD, meaning it changes by 2 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of D’Alembert strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('dalembert.svg'),\n        alt: localize(\"An example of D’Alembert's Grind strategy\"),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. In this example, we’ll use 1 USD.'),\n            localize('2. Set your preferred unit. In this example, it is 2 units or 2 USD.'),\n            localize(\n                '3. If the first trade results in profit, the stake for the following trade will not reduce but remain at the initial stake. The strategy minimally trades at the initial stake of 1 USD. See A1.'\n            ),\n            localize(\n                '4. If the second trade results in a loss, the Deriv Bot will automatically increase your stake for the next trade by 2 USD. Deriv Bot will continue to add 2 USD to the previous round’s stake after every losing trade. See A2.'\n            ),\n            localize(\n                '5. If the next trades are profitable, the stake for the following trade will be reduced by $2.This can be shown above where the stake of 3 USD is reduced to 1 USD.See A3.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and Loss Thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"With Deriv Bot, traders can set the profit and loss thresholds to secure profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss thresholds are reached. It's a form of risk management that can potentially enhance returns.For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Calculating your risk')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The D’Alembert strategy is less risky than Martingale, but you can still determine how long your funds will last with this strategy before trading. Simply use this formula.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize('B = Loss threshold'),\n            localize('s = initial stake'),\n            localize('R = number of rounds'),\n            localize('f = unit increment'),\n        ],\n        className: 'no-margin',\n    },\n    {\n        type: 'text',\n        content: [\n            localize('B = s*(R+(((R-1)/2)*R*f))'),\n            localize(\n                'For instance, if you have a loss threshold (B) of 100 USD, with an initial stake (s) of 1 USD and 2 units of increment (f), the calculation would be as follows:'\n            ),\n            localize('100= 1*(10+(((10-1)/2)10*2))'),\n            localize(\n                'This means after 10 rounds of consecutive losses, the trader will lose 100 USD. This reaches the loss threshold of 100 USD, stopping the bot.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The D'Alembert system offers more balanced trading through controlled stake progression. With prudent risk management like stake limits, it can be effectively automated in Deriv Bot. However, traders should thoroughly assess their risk appetite, test strategies on a demo account  to align with their trading style before trading with real money. This allows optimising the approach and striking a balance between potential gains and losses whilst managing risk.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle_italic',\n        content: [localize('<i>Disclaimer:</i>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades. Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'The information contained in this article is for educational purposes only and is not intended as financial or investment advice.'\n            ),\n        ],\n    },\n];\n","import { getImageLocation } from '../../../public-path';\nimport { localize } from '@deriv/translations';\nimport { TDescriptionItem } from '../types';\n\nexport const MARTINGALE: TDescriptionItem[] = [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the Martingale strategy in Deriv Bot')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The Martingale strategy involves increasing your stake after each loss to recoup prior losses with a single successful trade.'\n            ),\n            localize(\n                \"This article explores the Martingale strategy integrated into Deriv Bot, a versatile trading bot designed to trade assets such as forex, commodities, and derived indices. We will delve into the strategy's core parameters, its application, and provide essential takeaways for traders looking to use the bot effectively.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key Parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used in Deriv Bot with Martingale strategy.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Initial stake:</strong> The amount you pay to enter a trade. This is the starting point for any changes in stake depending on the dynamic of the strategy being used.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"<strong>Multiplier:</strong> The multiplier used to increase your stake if you're losing a trade. The value must be greater than 1.\"\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Maximum stake:</strong> The maximum amount you are willing to pay to enter a single trade. The stake for your next trade will reset to the initial stake if it exceeds this value. This is an optional risk management parameter.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of Martingale strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('martingale.svg'),\n        alt: localize('An example of Martingale strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. Let’s say $1.'),\n            localize('2. Select your Martingale multiplier. In this example, it is 2.'),\n            localize(\n                '3. If the first trade ends in a loss, Deriv Bot will automatically double your stake for the next trade to $2. Deriv Bot will continue to double the stake after every losing trade.'\n            ),\n            localize(\n                '4. If a trade ends in a profit, the stake for the following trade will be reset to the initial stake amount of $1.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The idea is that successful trades may recoup previous losses. However, it is crucial to exercise caution as the risk can quickly increase with this strategy. With Deriv Bot, you can minimise your risk by setting a maximum stake. This is an optional risk management feature. Let’s say a maximum stake of $3. If your stake for the next trade is set to exceed $3, your stake will reset to the initial stake of $1. If you didn't set a maximum stake, it would have increased beyond $3.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and Loss Thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'Deriv Bot allows setting profit and loss thresholds to manage risk. A profit threshold will automatically stop trading after reaching a preset amount to lock your profits. A loss threshold will stop trading after accumulating a preset loss amount. These thresholds secure profits and limit losses as part of your risk management. For example, with a $10 profit threshold, the bot will stop after exceeding $10 in total profit.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('The Martingale Formula')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"If you're about to start trading and haven't established a Maximum Stake as part of your risk management strategy, you can determine how long your funds will last by employing the Martingale strategy. Simply use this formula.\"\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [localize('R = log(B/s) / log(m)')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize('Where:'),\n            localize('R represents the number of rounds a trader can sustain given a specific loss threshold.'),\n            localize('B is the loss threshold.'),\n            localize('s is the initial stake.'),\n            localize('m is the Martingale multiplier.'),\n        ],\n        className: 'no-margin',\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'For instance, if a trader sets the loss threshold (B) is $1000, initial stake (s) is $1, and the Martingale multiplier (m) is 2, the calculation would be as follows:'\n            ),\n            localize('R = log(1000/1) / log(2)'),\n            localize('R ≈ 9.965'),\n            localize(\n                'This means that after 10 rounds of consecutive losses, this trader will lose $1023 which exceeds the loss threshold of $1000, stopping the bot.'\n            ),\n            localize(\n                'This formula allows you to work backwards based on your available capital and risk tolerance. Determine the Loss Threshold and Initial Stake, which will automatically calculate the number of rounds you can trade. This will give you an insight on stake sizing and expectations.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The Martingale strategy in trading may offer substantial gains but also comes with significant risks. With your selected strategy, Deriv Bot provides automated trading with risk management measures like setting initial stake, stake size, maximum stake, profit threshold and loss threshold. It's crucial for traders to assess their risk tolerance, practice in a demo account, and understand the strategy before trading with real money.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('IMPORTANT:')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a $1 stake does not necessarily equate to a $1 profit in successful trades. Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle_italic',\n        content: [localize('<i>Disclaimer:</i>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'The information contained in this blog article is for educational purposes only and is not intended as financial or investment advice.'\n            ),\n        ],\n    },\n];\n","import { getImageLocation } from '../../../public-path';\nimport { localize } from '@deriv/translations';\nimport { TDescriptionItem } from '../types';\n\nexport const OSCARS_GRIND: TDescriptionItem[] = [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the Oscar’s Grind strategy in Deriv Bot')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The Oscar’s Grind strategy is designed to potentially gain a modest yet steady profit in each trading session. This strategy splits trades into sessions and has three principles.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key Parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used for Oscar’s Grind strategy in Deriv Bot.')],\n    },\n    {\n        type: 'text',\n        content: [localize('<strong>Initial stake:</strong> The amount you pay to enter a trade.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of Oscar’s Grind strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('oscars_grind.png'),\n        alt: localize('An example of Oscar’s Grind strategy'),\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Principle 1: Strategy aims to potentially make one unit of profit per session')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The table above demonstrates this principle by showing that when a successful trade occurs and meets the target of one unit of profit which is 1 USD in this example, the session ends. If trading continues, a new session will begin.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [\n            localize('Principle 2: The stake only increases when a loss trade is followed by a successful trade'),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The table illustrates this principle in the second session. After a trade resulting in loss in round 4 followed by a successful trade in round 5, the stake will increase to 2 USD for round 6. This is in line with the strategy’s rule of raising the stake only after a loss is followed by a successful trade.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [\n            localize(\n                'Principle 3: The stake adjusts to the gap size between current loss and the target profit for the session'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'In round 7, the stake is adjusted downwards from 2 USD to 1 USD, to meet the target profit of $1.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize('The stake adjustment: target session profit (1 USD) - current session profit (0 USD) = 1 USD'),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The second session concludes upon reaching the aim of one unit of profit per session, equivalent to 1 USD. If trading continues, a new session will commence again.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and Loss Thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'With Deriv Bot, traders can set the profit and loss thresholds to secure profits and limit potential losses. This means that the trading bot will automatically stop when either the profit or loss threshold is reached. This is a form of risk management that can potentially boost successful trades whilst limiting the impact of loss. For example, if a trader sets the profit threshold at 100 USD and the strategy exceeds 100 USD of profit from all trades, then the bot will stop running.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The Oscar’s Grind strategy provides a disciplined approach for incremental gains through systematic stake progression. When integrated into Deriv Bot with proper risk management like profit or loss thresholds, it offers traders a potentially powerful automated trading technique. However, traders should first thoroughly assess their risk tolerance and first try trading on a demo account in order to familiarise with the strategy before trading with real funds.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle_italic',\n        content: [localize('<em>Disclaimers:</em>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                '<i>Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades. Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.</i>'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                '<i>The information contained in this article is for educational purposes only and is not intended as financial or investment advice.</i>'\n            ),\n        ],\n    },\n];\n","import { getImageLocation } from '../../../public-path';\nimport { localize } from '@deriv/translations';\nimport { TDescriptionItem } from '../types';\n\nexport const REVERSE_MARTINGALE: TDescriptionItem[] = [\n    {\n        type: 'subtitle',\n        content: [localize('Exploring the Reverse Martingale strategy in Deriv Bot')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The Reverse Martingale strategy involves increasing your stake after each successful trade and resets to the initial stake for every losing trade as it aims to secure potential profits from consecutive wins.'\n            ),\n            localize(\n                \"This article explores the Reverse Martingale strategy integrated into Deriv Bot, a versatile trading bot designed to trade assets such as forex, commodities, and derived indices. We will delve into the strategy's core parameters, its application, and provide essential takeaways for traders looking to use the bot effectively.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Key Parameters')],\n    },\n    {\n        type: 'text',\n        content: [localize('These are the trade parameters used in Deriv Bot with Reverse Martingale strategy.')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Initial stake:</strong> The amount that you are willing to place as a stake to enter a trade. This is the starting point for any changes in stake depending on the dynamic of the strategy being used.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Multiplier:</strong> The multiplier used to increase your stake if your trade is successful. The value must be greater than 1.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Profit threshold:</strong> The bot will stop trading if your total profit exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Loss threshold:</strong> The bot will stop trading if your total loss exceeds this amount.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                '<strong>Maximum stake:</strong> The maximum amount you are willing to pay to enter a single trade. The stake for your next trade will reset to the initial stake if it exceeds this value. This is an optional risk management parameter.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('An example of Reverse Martingale strategy')],\n    },\n    {\n        type: 'media',\n        src: getImageLocation('reverse_martingale.svg'),\n        alt: localize('An example of Martingale strategy'),\n    },\n    {\n        type: 'text',\n        content: [\n            localize('1. Start with the initial stake. Let’s say 1 USD.'),\n            localize('2. Select your Martingale multiplier. In this example, it is 2.'),\n            localize(\n                '3. If the first trade is a successful trade, Deriv Bot will automatically double your stake for the next trade to 2 USD. Deriv Bot will continue to double the stake after every successful trade.'\n            ),\n            localize(\n                '4. If a trade ends in a loss, the stake for the following trade will be reset to the initial stake amount of 1 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'The objective of Martingale strategy is to take advantage of consecutive successful trades and maximise potential profits from them. This strategy is beneficial only if there are consecutive successful trades. Therefore, it is important to set a maximum stake to secure all the potential profits gained from a number of consecutive successful trades, or you could lose all the profits you have accumulated, including your initial stake. For example, if your goal is to maximise profits within 2 consecutive successful trades, you set a maximum stake of 2 USD, given your initial stake is 1 USD. Similarly, if your goal is to maximise profits within 3 consecutive successful trades, you set a maximum stake of 4 USD, given your initial stake is 1 USD.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Profit and Loss Thresholds')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                'Deriv Bot allows setting profit and loss thresholds to manage risk. A profit threshold will automatically stop trading after reaching a preset amount to lock your profits. A loss threshold will stop trading after accumulating a preset loss amount. These thresholds secure profits and limit losses as part of your risk management. For example, with a 100 USD profit threshold, the bot will stop after exceeding 100 USD in total profit.'\n            ),\n        ],\n    },\n    {\n        type: 'subtitle',\n        content: [localize('Summary')],\n    },\n    {\n        type: 'text',\n        content: [\n            localize(\n                \"The Reverse Martingale strategy in trading may offer substantial gains but also comes with significant risks. With your selected strategy, Deriv Bot provides automated trading with risk management measures like setting initial stake, stake size, maximum stake, profit threshold and loss threshold. It's crucial for traders to assess their risk tolerance, practice in a demo account, and understand the strategy before trading with real money.\"\n            ),\n        ],\n    },\n    {\n        type: 'subtitle_italic',\n        content: [localize('<i>Disclaimer:</i>')],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Please be aware that while we may use rounded figures for illustration, a stake of a specific amount does not guarantee an exact amount in successful trades. For example, a 1 USD stake does not necessarily equate to a 1 USD profit in successful trades.'\n            ),\n        ],\n    },\n    {\n        type: 'text_italic',\n        content: [\n            localize(\n                'Trading inherently involves risks, and actual profits can fluctuate due to various factors, including market volatility and other unforeseen variables. As such, exercise caution and conduct thorough research before engaging in any trading activities.'\n            ),\n        ],\n    },\n];\n","import { config as qs_config } from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\nimport { D_ALEMBERT, MARTINGALE, OSCARS_GRIND, REVERSE_MARTINGALE } from './descriptions';\nimport { TConfigItem, TStrategies, TValidationItem } from './types';\n\nexport const FORM_TABS = [\n    {\n        label: localize('Trade Parameters'),\n        value: 'TRADE_PARAMETERS',\n    },\n    {\n        label: localize('Description'),\n        value: 'DESCRIPTION',\n        disabled: true,\n    },\n];\n\nconst NUMBER_DEFAULT_VALIDATION: TValidationItem = {\n    type: 'min',\n    value: 1,\n    getMessage: (min: string | number) => localize('Must be a number higher than {{ min }}', { min: Number(min) - 1 }),\n};\n\nconst LABEL_SYMBOL: TConfigItem = {\n    type: 'label',\n    label: localize('Asset'),\n    description: localize('The underlying market your bot will trade with this strategy.'),\n};\n\nconst SYMBOL: TConfigItem = {\n    type: 'symbol',\n    name: 'symbol',\n};\n\nconst LABEL_TRADETYPE: TConfigItem = {\n    type: 'label',\n    label: localize('Trade Type'),\n    description: localize('Your bot will use this trade type for every run'),\n};\n\nconst TRADETYPE: TConfigItem = {\n    type: 'tradetype',\n    name: 'tradetype',\n    dependencies: ['symbol'],\n};\n\nconst LABEL_PURCHASE_TYPE: TConfigItem = {\n    type: 'label',\n    label: localize('Purchase Condition'),\n    description: localize('Your bot uses a single trade type for each run.'),\n};\n\nconst PURCHASE_TYPE: TConfigItem = {\n    type: 'contract_type',\n    name: 'type',\n    dependencies: ['symbol', 'tradetype'],\n};\n\nconst LABEL_STAKE: TConfigItem = {\n    type: 'label',\n    label: localize('Initial Stake'),\n    description: localize('The amount that you pay to enter a trade.'),\n};\n\nconst STAKE: TConfigItem = {\n    type: 'number',\n    name: 'stake',\n    validation: ['number', 'required', 'ceil', NUMBER_DEFAULT_VALIDATION],\n};\n\nconst LABEL_DURATION: TConfigItem = {\n    type: 'label',\n    label: localize('Duration'),\n    description: localize('How long each trade takes to expire.'),\n};\n\nconst DURATION_TYPE: TConfigItem = {\n    type: 'durationtype',\n    name: 'durationtype',\n    dependencies: ['symbol', 'tradetype'],\n    attached: true,\n};\n\nconst DURATION: TConfigItem = {\n    type: 'number',\n    name: 'duration',\n    attached: true,\n    validation: ['number', 'required', 'min', 'max'],\n};\n\nconst LABEL_PROFIT: TConfigItem = {\n    type: 'label',\n    label: localize('Profit Threshold'),\n    description: localize('The bot will stop trading if your total profit exceeds this amount.'),\n};\n\nconst PROFIT: TConfigItem = {\n    type: 'number',\n    name: 'profit',\n    validation: ['number', 'required', 'ceil', NUMBER_DEFAULT_VALIDATION],\n};\n\nconst LABEL_LOSS: TConfigItem = {\n    type: 'label',\n    label: localize('Loss Threshold'),\n    description: localize('The bot will stop trading if your total loss exceeds this amount.'),\n};\n\nconst LOSS: TConfigItem = {\n    type: 'number',\n    name: 'loss',\n    validation: ['number', 'required', 'ceil', NUMBER_DEFAULT_VALIDATION],\n};\n\nconst LABEL_SIZE: TConfigItem = {\n    type: 'label',\n    label: localize('Size'),\n    description: localize(\n        'The multiplier amount used to increase your stake if you’re losing a trade. Value must be higher than 1.'\n    ),\n};\n\nconst SIZE: TConfigItem = {\n    type: 'number',\n    name: 'size',\n    validation: [\n        'number',\n        'required',\n        'floor',\n        {\n            type: 'min',\n            value: String(qs_config.QUICK_STRATEGY.DEFAULT.size),\n            getMessage: (min: string | number) =>\n                localize('The value must be equal or greater than {{ min }}', { min }),\n        },\n    ],\n};\n\nconst LABEL_DALEMBERT_UNIT: TConfigItem = {\n    type: 'label',\n    label: localize('Unit'),\n    description: localize(\"The amount that you may add to your stake if you're losing a trade.\"),\n};\n\nconst UNIT: TConfigItem = {\n    type: 'number',\n    name: 'unit',\n    validation: ['number', 'required', 'ceil', NUMBER_DEFAULT_VALIDATION],\n};\n\nconst CHECKBOX_MAX_STAKE: TConfigItem = {\n    type: 'checkbox',\n    name: 'boolean_max_stake',\n    label: localize('Max stake'),\n    description: localize('The stake for your next trade will reset to the initial stake if it exceeds this value.'),\n    attached: true,\n};\n\nconst MAX_STAKE: TConfigItem = {\n    type: 'number',\n    name: 'max_stake',\n    validation: ['number', 'required', 'ceil', 'min'],\n    should_have: [{ key: 'boolean_max_stake', value: true }],\n    attached: true,\n};\n\nconst LABEL_LAST_DIGIT_PREDICTION: TConfigItem = {\n    type: 'label',\n    name: 'label_last_digit_prediction',\n    label: localize('Last Digit Prediction'),\n    description: localize('Your prediction of the last digit of the asset price.'),\n    should_have: [{ key: 'tradetype', value: '', multiple: ['matchesdiffers', 'overunder'] }],\n    hide_without_should_have: true,\n};\n\nconst LAST_DIGIT_PREDICTION: TConfigItem = {\n    type: 'number',\n    name: 'last_digit_prediction',\n    validation: ['number', 'required', 'min', 'max', 'integer'],\n    should_have: [{ key: 'tradetype', value: '', multiple: ['matchesdiffers', 'overunder'] }],\n    hide_without_should_have: true,\n};\n\nexport const STRATEGIES: TStrategies = {\n    MARTINGALE: {\n        name: 'martingale_max-stake',\n        label: localize('Martingale'),\n        description: localize(\n            'The Martingale strategy multiplies the stake by the chosen multiplier after every losing trade. The stake for the next trade resets to the initial stake after a successful trade. To manage risk, set the maximum stake for a single trade. The stake for the next trade will reset to the initial stake if it exceeds the maximum stake.'\n        ),\n        long_description: MARTINGALE,\n        fields: [\n            [\n                LABEL_SYMBOL,\n                SYMBOL,\n                LABEL_TRADETYPE,\n                TRADETYPE,\n                LABEL_PURCHASE_TYPE,\n                PURCHASE_TYPE,\n                LABEL_LAST_DIGIT_PREDICTION,\n                LAST_DIGIT_PREDICTION,\n                LABEL_STAKE,\n                STAKE,\n                LABEL_DURATION,\n                DURATION_TYPE,\n                DURATION,\n            ],\n            [LABEL_PROFIT, PROFIT, LABEL_LOSS, LOSS, LABEL_SIZE, SIZE, CHECKBOX_MAX_STAKE, MAX_STAKE],\n        ],\n    },\n    D_ALEMBERT: {\n        name: 'dalembert_max-stake',\n        label: localize('D’Alembert'),\n        description: localize(\n            \"The D'Alembert strategy increases the stake after a losing trade and reduces the stake after a successful trade by the number of units that traders decide. One unit is equal to the amount of the initial stake. To manage risk, set the maximum stake for a single trade. The stake for the next trade will reset to the initial stake if it exceeds the maximum stake.\"\n        ),\n        long_description: D_ALEMBERT,\n        fields: [\n            [\n                LABEL_SYMBOL,\n                SYMBOL,\n                LABEL_TRADETYPE,\n                TRADETYPE,\n                LABEL_PURCHASE_TYPE,\n                PURCHASE_TYPE,\n                LABEL_LAST_DIGIT_PREDICTION,\n                LAST_DIGIT_PREDICTION,\n                LABEL_STAKE,\n                STAKE,\n                LABEL_DURATION,\n                DURATION_TYPE,\n                DURATION,\n            ],\n            [LABEL_PROFIT, PROFIT, LABEL_LOSS, LOSS, LABEL_DALEMBERT_UNIT, UNIT, CHECKBOX_MAX_STAKE, MAX_STAKE],\n        ],\n    },\n    OSCARS_GRIND: {\n        name: 'oscars_grind_max-stake',\n        label: localize('Oscar’s Grind'),\n        description: localize(\n            \"The Oscar's Grind strategy aims to potentially make one unit of profit per session. A new session starts when the target profit is reached. If a losing trade is followed by a successful one, the stake increases by one unit. In every other scenario, the stake for the next trade will be the same as the previous one. If the stake for the next trade exceeds the gap between the target profit and current loss of the session, it adjusts to the gap size. To manage risk, set the maximum stake for a single trade. The stake for the next trade will reset to the initial stake if it exceeds the maximum stake.\"\n        ),\n        long_description: OSCARS_GRIND,\n        fields: [\n            [\n                LABEL_SYMBOL,\n                SYMBOL,\n                LABEL_TRADETYPE,\n                TRADETYPE,\n                LABEL_PURCHASE_TYPE,\n                PURCHASE_TYPE,\n                LABEL_LAST_DIGIT_PREDICTION,\n                LAST_DIGIT_PREDICTION,\n                LABEL_STAKE,\n                STAKE,\n                LABEL_DURATION,\n                DURATION_TYPE,\n                DURATION,\n            ],\n            [LABEL_PROFIT, PROFIT, LABEL_LOSS, LOSS, CHECKBOX_MAX_STAKE, MAX_STAKE],\n        ],\n    },\n    REVERSE_MARTINGALE: {\n        name: 'reverse_martingale',\n        label: localize('Reverse Martingale'),\n        description: localize(\n            'The Reverse Martingale strategy multiplies the stake by the chosen multiplier after every successful trade. The stake for the next trade will reset to the initial stake after a losing trade. To manage risk, set the maximum stake for a single trade. The stake for the next trade will reset to the initial stake if it exceeds the maximum stake.'\n        ),\n        long_description: REVERSE_MARTINGALE,\n        fields: [\n            [\n                LABEL_SYMBOL,\n                SYMBOL,\n                LABEL_TRADETYPE,\n                TRADETYPE,\n                LABEL_PURCHASE_TYPE,\n                PURCHASE_TYPE,\n                LABEL_LAST_DIGIT_PREDICTION,\n                LAST_DIGIT_PREDICTION,\n                LABEL_STAKE,\n                STAKE,\n                LABEL_DURATION,\n                DURATION_TYPE,\n                DURATION,\n            ],\n            [LABEL_PROFIT, PROFIT, LABEL_LOSS, LOSS, LABEL_SIZE, SIZE, CHECKBOX_MAX_STAKE, MAX_STAKE],\n        ],\n    },\n    REVERSE_D_ALEMBERT: {\n        name: 'reverse_dalembert',\n        label: localize('Reverse D’Alembert'),\n        description: localize(\n            \"The Reverse D'Alembert strategy increases the stake after a successful trade and reduces the stake after a losing trade by the number of units that traders decide. One unit is equal to the amount of the initial stake. To manage risk, set the maximum stake for a single trade. The stake for the next trade will reset to the initial stake if it exceeds the maximum stake.\"\n        ),\n        fields: [\n            [\n                LABEL_SYMBOL,\n                SYMBOL,\n                LABEL_TRADETYPE,\n                TRADETYPE,\n                LABEL_PURCHASE_TYPE,\n                PURCHASE_TYPE,\n                LABEL_LAST_DIGIT_PREDICTION,\n                LAST_DIGIT_PREDICTION,\n                LABEL_STAKE,\n                STAKE,\n                LABEL_DURATION,\n                DURATION_TYPE,\n                DURATION,\n            ],\n            [LABEL_PROFIT, PROFIT, LABEL_LOSS, LOSS, LABEL_DALEMBERT_UNIT, UNIT, CHECKBOX_MAX_STAKE, MAX_STAKE],\n        ],\n    },\n    '1_3_2_6': {\n        name: '1_3_2_6',\n        label: localize('1-3-2-6'),\n        description: localize(\n            'The 1-3-2-6 strategy aims to maximise profits with four consecutive wins. One unit is equal to the amount of the initial stake. The stake will adjust from 1 unit to 3 units after the first successful trade, then to 2 units after your second successful trade, and to 6 units after the third successful trade. The stake for the next trade will reset to the initial stake if there is a losing trade or a completion of the trade cycle.'\n        ),\n        fields: [\n            [\n                LABEL_SYMBOL,\n                SYMBOL,\n                LABEL_TRADETYPE,\n                TRADETYPE,\n                LABEL_PURCHASE_TYPE,\n                PURCHASE_TYPE,\n                LABEL_LAST_DIGIT_PREDICTION,\n                LAST_DIGIT_PREDICTION,\n                LABEL_STAKE,\n                STAKE,\n                LABEL_DURATION,\n                DURATION_TYPE,\n                DURATION,\n            ],\n            [LABEL_PROFIT, PROFIT, LABEL_LOSS, LOSS],\n        ],\n    },\n};\n","export const addDynamicBlockToDOM = (\n    name_block: string,\n    strategy_value: string,\n    trade_type_cat: string,\n    strategy_dom: HTMLElement\n) => {\n    if (trade_type_cat === 'digits' || trade_type_cat === 'highlowticks') {\n        const block = document.createElement('value');\n        block.setAttribute('name', name_block);\n        block.setAttribute('strategy_value', strategy_value);\n\n        const shadow_block = document.createElement('shadow');\n        shadow_block.setAttribute('type', 'math_number_positive');\n        shadow_block.setAttribute('id', 'p0O]7-M{ZORlORxGuIEb');\n\n        const field_block = document.createElement('field');\n        field_block.setAttribute('name', 'NUM');\n        field_block.textContent = '0';\n\n        shadow_block.appendChild(field_block);\n        block.appendChild(shadow_block);\n\n        const amount_block = strategy_dom.querySelector('value[name=\"AMOUNT\"]');\n        if (amount_block) {\n            const parent_node = amount_block.parentNode;\n            if (parent_node) {\n                parent_node.insertBefore(block, amount_block.nextSibling);\n            }\n        }\n    }\n    if (name_block === 'PREDICTION' && strategy_dom) {\n        const mutation_element = strategy_dom.querySelector('block[type=\"trade_definition_tradeoptions\"] > mutation');\n        if (mutation_element) {\n            mutation_element.setAttribute('has_prediction', 'true');\n        }\n    }\n};\n","import { action, makeObservable, observable, reaction } from 'mobx';\nimport { ApiHelpers, config as qs_config, load } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { STRATEGIES } from 'Components/quick-strategy/config';\nimport { TFormData } from 'Components/quick-strategy/types';\nimport { addDynamicBlockToDOM } from 'Utils/xml-dom-quick-strategy';\nimport RootStore from './root-store';\n\nexport type TActiveSymbol = {\n    group: string;\n    text: string;\n    value: string;\n};\n\nexport type TLossThresholdWarningData = {\n    show: boolean;\n    loss_amount?: string | number;\n    currency?: string;\n    highlight_field?: Array<string>;\n    already_shown?: boolean;\n};\n\ninterface IQuickStrategyStore {\n    current_duration_min_max: {\n        min: number;\n        max: number;\n    };\n    root_store: RootStore;\n    is_open: boolean;\n    selected_strategy: string;\n    form_data: TFormData;\n    loss_threshold_warning_data: {\n        show: boolean;\n    };\n    is_contract_dialog_open: boolean;\n    is_stop_bot_dialog_open: boolean;\n    setLossThresholdWarningData: (data: TLossThresholdWarningData) => void;\n    setFormVisibility: (is_open: boolean) => void;\n    setSelectedStrategy: (strategy: string) => void;\n    setValue: (name: string, value: string) => void;\n    onSubmit: (data: TFormData) => void;\n    toggleStopBotDialog: () => void;\n    setCurrentDurationMinMax: (min: number, max: number) => void;\n}\n\nexport default class QuickStrategyStore implements IQuickStrategyStore {\n    root_store: RootStore;\n    is_open = false;\n    selected_strategy = 'MARTINGALE';\n    form_data: TFormData = {\n        symbol: qs_config.QUICK_STRATEGY.DEFAULT.symbol,\n        tradetype: qs_config.QUICK_STRATEGY.DEFAULT.tradetype,\n        durationtype: qs_config.QUICK_STRATEGY.DEFAULT.durationtype,\n        action: 'RUN',\n    };\n    is_contract_dialog_open = false;\n    is_stop_bot_dialog_open = false;\n    current_duration_min_max = {\n        min: 0,\n        max: 10,\n    };\n    loss_threshold_warning_data: TLossThresholdWarningData = {\n        show: false,\n    };\n\n    constructor(root_store: RootStore) {\n        makeObservable(this, {\n            current_duration_min_max: observable,\n            form_data: observable,\n            is_contract_dialog_open: observable,\n            is_open: observable,\n            is_stop_bot_dialog_open: observable,\n            initializeLossThresholdWarningData: action,\n            selected_strategy: observable,\n            loss_threshold_warning_data: observable,\n            onSubmit: action,\n            setCurrentDurationMinMax: action,\n            setFormVisibility: action,\n            setSelectedStrategy: action,\n            setLossThresholdWarningData: action,\n            setValue: action,\n            toggleStopBotDialog: action,\n        });\n        this.root_store = root_store;\n        reaction(\n            () => this.is_open,\n            () => {\n                if (!this.is_open) {\n                    this.selected_strategy = 'MARTINGALE';\n                }\n            }\n        );\n    }\n\n    setLossThresholdWarningData = (data: TLossThresholdWarningData) => {\n        this.loss_threshold_warning_data = {\n            ...this.loss_threshold_warning_data,\n            ...data,\n        };\n    };\n\n    initializeLossThresholdWarningData = () => {\n        this.loss_threshold_warning_data = {\n            show: false,\n            highlight_field: [],\n            already_shown: false,\n        };\n    };\n\n    setFormVisibility = (is_open: boolean) => {\n        this.is_open = is_open;\n    };\n\n    setSelectedStrategy = (strategy: string) => {\n        this.selected_strategy = strategy;\n    };\n\n    setValue = (name: string, value: string | number | boolean) => {\n        this.form_data[name as keyof TFormData] = value;\n    };\n\n    setCurrentDurationMinMax = (min = 0, max = 10) => {\n        this.current_duration_min_max = {\n            min,\n            max,\n        };\n    };\n\n    onSubmit = async (data: TFormData) => {\n        const { contracts_for } = ApiHelpers.instance;\n        const market = await contracts_for.getMarketBySymbol(data.symbol);\n        const submarket = await contracts_for.getSubmarketBySymbol(data.symbol);\n        const trade_type_cat = await contracts_for.getTradeTypeCategoryByTradeType(data.tradetype);\n        const selected_strategy = STRATEGIES[this.selected_strategy];\n        const strategy_xml = await import(/* webpackChunkName: `[request]` */ `../xml/${selected_strategy.name}.xml`);\n        const strategy_dom = Blockly.Xml.textToDom(strategy_xml.default);\n        addDynamicBlockToDOM('PREDICTION', 'last_digit_prediction', trade_type_cat, strategy_dom);\n\n        const modifyValueInputs = (key: string, value: number) => {\n            const el_value_inputs = strategy_dom?.querySelectorAll(`value[strategy_value=\"${key}\"]`);\n            el_value_inputs?.forEach((el_value_input: HTMLElement) => {\n                if (key.includes('boolean'))\n                    if (value)\n                        el_value_input.innerHTML = `<block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block>`;\n                    else\n                        el_value_input.innerHTML = `<block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block>`;\n                else\n                    el_value_input.innerHTML = `<shadow type=\"math_number\"><field name=\"NUM\">${value}</field></shadow>`;\n            });\n        };\n\n        const modifyFieldDropdownValues = (name: string, value: string) => {\n            const name_list = `${name.toUpperCase()}_LIST`;\n            const el_blocks = strategy_dom?.querySelectorAll(`field[name=\"${name_list}\"]`);\n\n            el_blocks?.forEach((el_block: HTMLElement) => {\n                el_block.innerHTML = value;\n            });\n        };\n        const { unit, action, ...rest_data } = data;\n        const fields_to_update = {\n            market,\n            submarket,\n            tradetypecat: trade_type_cat,\n            dalembert_unit: unit,\n            oscar_unit: unit,\n            ...rest_data,\n        };\n\n        Object.keys(fields_to_update).forEach(key => {\n            const value = fields_to_update[key as keyof typeof fields_to_update];\n\n            if (!isNaN(value as number)) {\n                modifyValueInputs(key, value as number);\n            } else if (typeof value === 'string') {\n                modifyFieldDropdownValues(key, value);\n            }\n        });\n\n        const { derivWorkspace: workspace } = Blockly;\n\n        if (action === 'RUN') {\n            workspace\n                ?.waitForBlockEvent({\n                    block_type: 'trade_definition',\n                    event_type: Blockly.Events.BLOCK_CREATE,\n                    timeout: 5000,\n                })\n                .then(() => {\n                    this.root_store.run_panel.onRunButtonClick();\n                });\n        }\n\n        this.setFormVisibility(false);\n\n        await load({\n            block_string: Blockly.Xml.domToText(strategy_dom),\n            file_name: selected_strategy.label,\n            workspace,\n            from: save_types.UNSAVED,\n            drop_event: null,\n            strategy_id: null,\n            showIncompatibleStrategyDialog: null,\n        });\n    };\n\n    toggleStopBotDialog = (): void => {\n        this.is_contract_dialog_open = !this.is_contract_dialog_open;\n        this.is_stop_bot_dialog_open = !this.is_stop_bot_dialog_open;\n    };\n}\n","import { action, makeObservable, observable } from 'mobx';\n\nexport default class RoutePromptDialogStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            should_show: observable,\n            is_confirmed: observable,\n            last_location: observable,\n            shouldNavigateAfterPrompt: action.bound,\n            onConfirm: action.bound,\n            onCancel: action.bound,\n            continueRoute: action.bound,\n            setShoudShow: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    should_show = false;\n    is_confirmed = false;\n    last_location = null;\n\n    shouldNavigateAfterPrompt(next_location) {\n        if (!this.is_confirmed) {\n            this.last_location = next_location;\n            if (next_location.pathname !== '/bot') this.should_show = true;\n            return false;\n        }\n\n        return true;\n    }\n\n    setShoudShow(should_show) {\n        this.should_show = should_show;\n    }\n\n    onConfirm() {\n        this.should_show = false;\n        this.is_confirmed = true;\n    }\n\n    onCancel() {\n        this.should_show = false;\n    }\n\n    continueRoute() {\n        const { common } = this.core;\n        if (this.is_confirmed && this.last_location) common.routeTo(this.last_location.pathname);\n    }\n}\n","export const contract_stages = Object.freeze({\n    NOT_RUNNING: 0,\n    STARTING: 1,\n    PURCHASE_SENT: 2,\n    PURCHASE_RECEIVED: 3,\n    IS_STOPPING: 4,\n    CONTRACT_CLOSED: 5,\n});\n","export const run_panel = Object.freeze({\n    SUMMARY: 0,\n    TRANSACTIONS: 1,\n    JOURNAL: 2,\n});\n","import { platform_name } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nexport const switch_account_notification = {\n    key: 'bot_switch_account',\n    header: localize('You have switched accounts.'),\n    message: localize(\n        'Our system will finish any Deriv Bot trades that are running, and Deriv Bot will not place any new trades.'\n    ),\n    type: 'warning',\n    is_persistent: true,\n};\n\nexport const journalError = onClick => {\n    return {\n        key: 'bot_error',\n        header: localize('The bot encountered an error while running.'),\n        action: {\n            text: localize('View in Journal'),\n            onClick,\n        },\n        type: 'danger',\n        platform: [platform_name.DBot],\n        is_disposable: true,\n    };\n};\n","import React from 'react';\nimport { action, computed, makeObservable, observable, reaction, runInAction } from 'mobx';\nimport { error_types, message_types, observer, unrecoverable_errors } from '@deriv/bot-skeleton';\nimport { isSafari, mobileOSDetect } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { run_panel } from 'Constants/run-panel';\nimport { journalError, switch_account_notification } from 'Utils/bot-notifications';\n\nexport default class RunPanelStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            active_index: observable,\n            contract_stage: observable,\n            dialog_options: observable,\n            has_open_contract: observable,\n            is_running: observable,\n            is_statistics_info_modal_open: observable,\n            is_drawer_open: observable,\n            is_dialog_open: observable,\n            is_sell_requested: observable,\n            run_id: observable,\n            error_type: observable,\n            show_bot_stop_message: observable,\n            statistics: computed,\n            is_stop_button_visible: computed,\n            is_stop_button_disabled: computed,\n            is_clear_stat_disabled: computed,\n            onStopButtonClick: action.bound,\n            onStopBotClick: action.bound,\n            stopBot: action.bound,\n            onClearStatClick: action.bound,\n            clearStat: action.bound,\n            toggleStatisticsInfoModal: action.bound,\n            toggleDrawer: action.bound,\n            setActiveTabIndex: action.bound,\n            onCloseDialog: action.bound,\n            performSelfExclusionCheck: action.bound,\n            showStopMultiplierContractDialog: action.bound,\n            showLoginDialog: action.bound,\n            showRealAccountDialog: action.bound,\n            showClearStatDialog: action.bound,\n            showIncompatibleStrategyDialog: action.bound,\n            showContractUpdateErrorDialog: action.bound,\n            onBotSellEvent: action.bound,\n            onBotStopEvent: action.bound,\n            onBotReadyEvent: action.bound,\n            onBotTradeAgain: action.bound,\n            onContractStatusEvent: action.bound,\n            onClickSell: action.bound,\n            onBotContractEvent: action.bound,\n            onError: action.bound,\n            showErrorMessage: action.bound,\n            switchToJournal: action.bound,\n            setContractStage: action.bound,\n            setHasOpenContract: action.bound,\n            setIsRunning: action.bound,\n            setShowBotStopMessage: action.bound,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            handleInvalidToken: action.bound,\n            onRunButtonClick: action.bound,\n            registerBotListeners: action.bound,\n            registerReactions: action.bound,\n            onBotRunningEvent: action.bound,\n            unregisterBotListeners: action.bound,\n            clear: action.bound,\n            preloadAudio: action.bound,\n            stopMyBot: action.bound,\n            closeMultiplierContract: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.dbot = this.root_store.dbot;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n        this.timer = null;\n    }\n\n    active_index = 0;\n    contract_stage = contract_stages.NOT_RUNNING;\n    dialog_options = {};\n    has_open_contract = false;\n    is_running = false;\n    is_statistics_info_modal_open = false;\n    is_drawer_open = true;\n    is_dialog_open = false;\n    is_sell_requested = false;\n    show_bot_stop_message = false;\n\n    run_id = '';\n\n    // when error happens, if it is unrecoverable_errors we reset run-panel\n    // we activate run-button and clear trade info and set the ContractStage to NOT_RUNNING\n    // otherwise we keep opening new contracts and set the ContractStage to PURCHASE_SENT\n    error_type = undefined;\n\n    get statistics() {\n        let total_runs = 0;\n        const { transactions } = this.root_store.transactions;\n        const statistics = transactions.reduce(\n            (stats, { data: trx }) => {\n                if (trx.is_completed) {\n                    if (trx.profit > 0) {\n                        stats.won_contracts += 1;\n                        stats.total_payout += trx.payout;\n                    } else {\n                        stats.lost_contracts += 1;\n                    }\n\n                    stats.total_profit += trx.profit;\n                    stats.total_stake += trx.buy_price;\n                    total_runs += 1;\n                }\n\n                return stats;\n            },\n            {\n                lost_contracts: 0,\n                number_of_runs: 0,\n                total_profit: 0,\n                total_payout: 0,\n                total_stake: 0,\n                won_contracts: 0,\n            }\n        );\n        statistics.number_of_runs = total_runs;\n        return statistics;\n    }\n\n    get is_stop_button_visible() {\n        return this.is_running || this.has_open_contract;\n    }\n\n    get is_stop_button_disabled() {\n        return [contract_stages.PURCHASE_SENT, contract_stages.IS_STOPPING].includes(this.contract_stage);\n    }\n\n    get is_clear_stat_disabled() {\n        const { journal, transactions } = this.root_store;\n\n        return (\n            this.is_running ||\n            this.has_open_contract ||\n            (journal.unfiltered_messages.length === 0 && transactions?.transactions?.length === 0)\n        );\n    }\n\n    setShowBotStopMessage(value) {\n        this.show_bot_stop_message = value;\n    }\n\n    async performSelfExclusionCheck() {\n        const { self_exclusion } = this.root_store;\n        await self_exclusion.checkRestriction();\n    }\n\n    async onRunButtonClick() {\n        let timer_counter = 1;\n        if (window.sendRequestsStatistic) {\n            performance.clearMeasures();\n            performance.mark('bot-start');\n            // Log is sent every 10 seconds for 5 minutes\n            this.timer = setInterval(() => {\n                window.sendRequestsStatistic(true);\n                performance.clearMeasures();\n                if (timer_counter === 12) {\n                    clearInterval(this.timer);\n                } else {\n                    timer_counter++;\n                }\n            }, 10000);\n        }\n        const { summary_card, route_prompt_dialog, self_exclusion } = this.root_store;\n        const { client, ui } = this.core;\n        const is_ios = mobileOSDetect() === 'iOS';\n        this.dbot.saveRecentWorkspace();\n        this.dbot.unHighlightAllBlocks();\n        if (!client.is_logged_in) {\n            this.showLoginDialog();\n            return;\n        }\n\n        /**\n         * Due to Apple's policy on cellular data usage in ios audioElement.play() should be initially called on\n         * user action(e.g click/touch) to be downloaded, otherwise throws an error. Also it should be called\n         * syncronously, so keep above await.\n         */\n        if (is_ios || isSafari()) this.preloadAudio();\n\n        if (!self_exclusion.should_bot_run) {\n            self_exclusion.setIsRestricted(true);\n            return;\n        }\n        self_exclusion.setIsRestricted(false);\n\n        this.registerBotListeners();\n\n        if (!this.dbot.shouldRunBot()) {\n            this.unregisterBotListeners();\n            return;\n        }\n\n        ui.setAccountSwitcherDisabledMessage(\n            localize(\n                'Account switching is disabled while your bot is running. Please stop your bot before switching accounts.'\n            )\n        );\n        runInAction(() => {\n            this.setIsRunning(true);\n            ui.setPromptHandler(true, route_prompt_dialog.shouldNavigateAfterPrompt);\n            this.toggleDrawer(true);\n            this.run_id = `run-${Date.now()}`;\n\n            summary_card.clear();\n            this.setContractStage(contract_stages.STARTING);\n            this.dbot.runBot();\n        });\n        this.setShowBotStopMessage(false);\n    }\n\n    onStopButtonClick() {\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.showStopMultiplierContractDialog();\n        } else {\n            this.stopBot();\n        }\n    }\n\n    onStopBotClick() {\n        const { is_multiplier } = this.root_store.summary_card;\n        const { summary_card } = this.root_store;\n\n        if (is_multiplier) {\n            this.showStopMultiplierContractDialog();\n        } else {\n            this.stopBot();\n            summary_card.clear();\n            this.setShowBotStopMessage(true);\n        }\n    }\n\n    stopBot() {\n        const { ui } = this.core;\n\n        this.dbot.stopBot();\n\n        ui.setPromptHandler(false);\n\n        if (this.error_type) {\n            // when user click stop button when there is a error but bot is retrying\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.setIsRunning(false);\n        } else if (this.has_open_contract) {\n            // when user click stop button when bot is running\n            this.setContractStage(contract_stages.IS_STOPPING);\n        } else {\n            // when user click stop button before bot start running\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            this.unregisterBotListeners();\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.setIsRunning(false);\n        }\n\n        if (this.error_type) {\n            this.error_type = undefined;\n        }\n\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        if (window.sendRequestsStatistic) {\n            window.sendRequestsStatistic(true);\n            performance.clearMeasures();\n        }\n    }\n\n    onClearStatClick() {\n        this.showClearStatDialog();\n    }\n\n    clearStat() {\n        const { summary_card, journal, transactions } = this.root_store;\n\n        this.setIsRunning(false);\n        this.setHasOpenContract(false);\n        this.clear();\n        journal.clear();\n        summary_card.clear();\n        transactions.clear();\n        this.setContractStage(contract_stages.NOT_RUNNING);\n    }\n\n    toggleStatisticsInfoModal() {\n        this.is_statistics_info_modal_open = !this.is_statistics_info_modal_open;\n    }\n\n    toggleDrawer(is_open) {\n        this.is_drawer_open = is_open;\n    }\n\n    setActiveTabIndex(index) {\n        this.active_index = index;\n\n        if (this.active_index !== 1) {\n            this.root_store.transactions.setActiveTransactionId(null);\n        }\n    }\n\n    onCloseDialog() {\n        this.is_dialog_open = false;\n    }\n\n    stopMyBot() {\n        const { summary_card, quick_strategy } = this.root_store;\n        const { ui } = this.core;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        ui.setPromptHandler(false);\n        this.dbot.terminateBot();\n        this.onCloseDialog();\n        summary_card.clear();\n        toggleStopBotDialog();\n        if (this.timer) {\n            clearInterval(this.timer);\n        }\n        if (window.sendRequestsStatistic) {\n            window.sendRequestsStatistic(true);\n            performance.clearMeasures();\n        }\n    }\n\n    closeMultiplierContract() {\n        const { quick_strategy } = this.root_store;\n        const { toggleStopBotDialog } = quick_strategy;\n\n        this.onClickSell();\n        this.stopBot();\n        this.onCloseDialog();\n        toggleStopBotDialog();\n    }\n\n    showStopMultiplierContractDialog() {\n        const { summary_card } = this.root_store;\n        const { ui } = this.core;\n\n        this.onOkButtonClick = () => {\n            ui.setPromptHandler(false);\n            this.dbot.terminateBot();\n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n            if (window.sendRequestsStatistic) {\n                window.sendRequestsStatistic(true);\n                performance.clearMeasures();\n            }\n            this.onCloseDialog();\n            summary_card.clear();\n        };\n        this.onCancelButtonClick = () => {\n            this.onClickSell();\n            this.stopBot();\n            this.onCloseDialog();\n        };\n        this.dialog_options = {\n            title: localize('Keep your current contract?'),\n            message: (\n                <Localize\n                    i18n_default_text='Would you like to keep your current contract or close it? If you decide to keep it running, you can check and close it later on the <0>Reports</0> page.'\n                    components={[\n                        <a\n                            key={0}\n                            className='link'\n                            rel='noopener noreferrer'\n                            target='_blank'\n                            href='/reports/positions'\n                        />,\n                    ]}\n                />\n            ),\n            ok_button_text: localize('Keep my contract'),\n            cancel_button_text: localize('Close my contract'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showLoginDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Please log in'),\n            message: localize('You need to log in to run the bot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showRealAccountDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize(\"Deriv Bot isn't quite ready for real accounts\"),\n            message: localize('Please switch to your demo account to run your Deriv Bot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showClearStatDialog() {\n        this.onOkButtonClick = () => {\n            this.clearStat();\n            this.onCloseDialog();\n        };\n        this.onCancelButtonClick = this.onCloseDialog;\n        this.dialog_options = {\n            title: localize('Are you sure?'),\n            message: localize(\n                'This will clear all data in the summary, transactions, and journal panels. All counters will be reset to zero.'\n            ),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showIncompatibleStrategyDialog() {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Import error'),\n            message: localize('This strategy is currently not compatible with Deriv Bot.'),\n        };\n        this.is_dialog_open = true;\n    }\n\n    showContractUpdateErrorDialog(message) {\n        this.onOkButtonClick = this.onCloseDialog;\n        this.onCancelButtonClick = undefined;\n        this.dialog_options = {\n            title: localize('Contract Update Error'),\n            message: localize(message),\n        };\n        this.is_dialog_open = true;\n    }\n\n    registerBotListeners() {\n        const { summary_card, transactions } = this.root_store;\n\n        observer.register('bot.running', this.onBotRunningEvent);\n        observer.register('bot.sell', this.onBotSellEvent);\n        observer.register('bot.stop', this.onBotStopEvent);\n        observer.register('bot.bot_ready', this.onBotReadyEvent);\n        observer.register('bot.click_stop', this.onStopButtonClick);\n        observer.register('bot.trade_again', this.onBotTradeAgain);\n        observer.register('contract.status', this.onContractStatusEvent);\n        observer.register('bot.contract', this.onBotContractEvent);\n        observer.register('bot.contract', summary_card.onBotContractEvent);\n        observer.register('bot.contract', transactions.onBotContractEvent);\n        observer.register('Error', this.onError);\n    }\n\n    registerReactions() {\n        const { client, common, notifications } = this.core;\n\n        const registerIsSocketOpenedListener = () => {\n            if (common.is_socket_opened) {\n                this.disposeIsSocketOpenedListener = reaction(\n                    () => client.loginid,\n                    loginid => {\n                        if (loginid && this.is_running) {\n                            notifications.addNotificationMessage(switch_account_notification);\n                        }\n                        this.dbot.terminateBot();\n                        this.unregisterBotListeners();\n                    }\n                );\n            } else if (typeof this.disposeLogoutListener === 'function') {\n                this.disposeLogoutListener();\n            }\n        };\n\n        registerIsSocketOpenedListener();\n\n        this.disposeLogoutListener = reaction(\n            () => common.is_socket_opened,\n            () => registerIsSocketOpenedListener()\n        );\n\n        this.disposeStopBotListener = reaction(\n            () => !this.is_running,\n            () => {\n                if (!this.is_running) this.setContractStage(contract_stages.NOT_RUNNING);\n            }\n        );\n\n        return () => {\n            if (typeof this.disposeIsSocketOpenedListener === 'function') {\n                this.disposeIsSocketOpenedListener();\n            }\n\n            if (typeof this.disposeLogoutListener === 'function') {\n                this.disposeLogoutListener();\n            }\n\n            if (typeof this.disposeStopBotListener === 'function') {\n                this.disposeStopBotListener();\n            }\n        };\n    }\n\n    onBotRunningEvent() {\n        this.setHasOpenContract(true);\n\n        // prevent new version update\n        const ignore_new_version = new Event('IgnorePWAUpdate');\n        document.dispatchEvent(ignore_new_version);\n        const { self_exclusion } = this.root_store;\n\n        if (self_exclusion.should_bot_run && self_exclusion.run_limit !== -1) {\n            self_exclusion.run_limit -= 1;\n            if (self_exclusion.run_limit < 0) {\n                this.onStopButtonClick();\n            }\n        }\n    }\n\n    onBotSellEvent() {\n        this.is_sell_requested = true;\n    }\n\n    onBotStopEvent() {\n        const { self_exclusion, summary_card } = this.root_store;\n        const { ui } = this.core;\n        const indicateBotStopped = () => {\n            this.error_type = undefined;\n            this.setContractStage(contract_stages.NOT_RUNNING);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.unregisterBotListeners();\n            self_exclusion.resetSelfExclusion();\n        };\n        if (this.error_type === error_types.RECOVERABLE_ERRORS) {\n            // Bot should indicate it started in below cases:\n            // - When error happens it's a recoverable error\n            const { shouldRestartOnError, timeMachineEnabled } = this.dbot.interpreter.bot.tradeEngine.options;\n            const is_bot_recoverable = shouldRestartOnError || timeMachineEnabled;\n\n            if (is_bot_recoverable) {\n                this.error_type = undefined;\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n            } else {\n                this.setIsRunning(false);\n                indicateBotStopped();\n            }\n        } else if (this.error_type === error_types.UNRECOVERABLE_ERRORS) {\n            // Bot should indicate it stopped in below cases:\n            // - When error happens and it's an unrecoverable error\n            this.setIsRunning(false);\n            indicateBotStopped();\n        } else if (this.has_open_contract) {\n            // Bot should indicate the contract is closed in below cases:\n            // - When bot was running and an error happens\n            this.error_type = undefined;\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n            ui.setAccountSwitcherDisabledMessage(false);\n            this.unregisterBotListeners();\n            self_exclusion.resetSelfExclusion();\n        }\n\n        this.setHasOpenContract(false);\n\n        summary_card.clearContractUpdateConfigValues();\n\n        // listen for new version update\n        const listen_new_version = new Event('ListenPWAUpdate');\n        document.dispatchEvent(listen_new_version);\n    }\n\n    onBotReadyEvent() {\n        this.setIsRunning(false);\n        observer.unregisterAll('bot.bot_ready');\n    }\n\n    onBotTradeAgain(is_trade_again) {\n        if (!is_trade_again) {\n            this.stopBot();\n        }\n    }\n\n    onContractStatusEvent(contract_status) {\n        switch (contract_status.id) {\n            case 'contract.purchase_sent': {\n                this.setContractStage(contract_stages.PURCHASE_SENT);\n                break;\n            }\n            case 'contract.purchase_received': {\n                this.setContractStage(contract_stages.PURCHASE_RECEIVED);\n\n                // Close transaction-specific popover, if any.\n                this.root_store.transactions.setActiveTransactionId(null);\n\n                const { buy } = contract_status;\n                const { is_virtual } = this.core.client;\n\n                if (!is_virtual) {\n                    this.core.gtm.pushDataLayer({ event: 'dbot_purchase', buy_price: buy.buy_price });\n                }\n\n                break;\n            }\n            case 'contract.sold': {\n                this.is_sell_requested = false;\n                this.setContractStage(contract_stages.CONTRACT_CLOSED);\n                break;\n            }\n            default:\n                break;\n        }\n    }\n\n    onClickSell() {\n        const { is_multiplier } = this.root_store.summary_card;\n\n        if (is_multiplier) {\n            this.setContractStage(contract_stages.IS_STOPPING);\n        }\n\n        this.dbot.interpreter.bot.getInterface().sellAtMarket();\n    }\n\n    clear = () => {\n        observer.emit('statistics.clear');\n    };\n\n    onBotContractEvent(data) {\n        if (data?.is_sold) {\n            this.is_sell_requested = false;\n            this.setContractStage(contract_stages.CONTRACT_CLOSED);\n        }\n    }\n\n    onError(data) {\n        // data.error for API errors, data for code errors\n        const error = data.error || data;\n        if (unrecoverable_errors.includes(error.code)) {\n            this.root_store.summary_card.clear();\n            this.error_type = error_types.UNRECOVERABLE_ERRORS;\n        } else {\n            this.error_type = error_types.RECOVERABLE_ERRORS;\n        }\n\n        const error_message = error?.message;\n        this.showErrorMessage(error_message);\n    }\n\n    showErrorMessage(data) {\n        const { journal } = this.root_store;\n        const { notifications, ui } = this.core;\n        journal.onError(data);\n        if (journal.journal_filters.some(filter => filter === message_types.ERROR)) {\n            this.toggleDrawer(true);\n            this.setActiveTabIndex(run_panel.JOURNAL);\n            ui.setPromptHandler(false);\n        } else {\n            notifications.addNotificationMessage(journalError(this.switchToJournal));\n            notifications.removeNotificationMessage({ key: 'bot_error' });\n        }\n    }\n\n    switchToJournal() {\n        const { journal } = this.root_store;\n        const { notifications } = this.core;\n        journal.journal_filters.push(message_types.ERROR);\n        this.setActiveTabIndex(run_panel.JOURNAL);\n        this.toggleDrawer(true);\n        notifications.toggleNotificationsModal();\n        notifications.removeNotificationByKey({ key: 'bot_error' });\n    }\n\n    unregisterBotListeners = () => {\n        observer.unregisterAll('bot.running');\n        observer.unregisterAll('bot.stop');\n        observer.unregisterAll('bot.trade_again');\n        observer.unregisterAll('contract.status');\n        observer.unregisterAll('bot.contract');\n        observer.unregisterAll('Error');\n    };\n\n    setContractStage(contract_stage) {\n        this.contract_stage = contract_stage;\n    }\n\n    setHasOpenContract(has_open_contract) {\n        this.has_open_contract = has_open_contract;\n    }\n\n    setIsRunning(is_running) {\n        this.is_running = is_running;\n    }\n\n    onMount() {\n        const { journal } = this.root_store;\n        observer.register('ui.log.error', this.showErrorMessage);\n        observer.register('ui.log.notify', journal.onNotify);\n        observer.register('ui.log.success', journal.onLogSuccess);\n        observer.register('client.invalid_token', this.handleInvalidToken);\n    }\n\n    onUnmount() {\n        const { journal, summary_card, transactions } = this.root_store;\n\n        if (!this.is_running) {\n            this.unregisterBotListeners();\n            this.disposeReactionsFn();\n            journal.disposeReactionsFn();\n            summary_card.disposeReactionsFn();\n            transactions.disposeReactionsFn();\n        }\n\n        observer.unregisterAll('ui.log.error');\n        observer.unregisterAll('ui.log.notify');\n        observer.unregisterAll('ui.log.success');\n        observer.unregisterAll('client.invalid_token');\n    }\n\n    async handleInvalidToken() {\n        const { client } = this.core;\n        await client.logout();\n        this.setActiveTabIndex(run_panel.SUMMARY);\n    }\n\n    preloadAudio() {\n        const strategy_sounds = this.dbot.getStrategySounds();\n\n        strategy_sounds.forEach(sound => {\n            const audioElement = document.getElementById(sound);\n\n            audioElement.muted = true;\n            audioElement.play().catch(() => {\n                // suppressing abort error, thrown on immediate .pause()\n            });\n            audioElement.pause();\n            audioElement.muted = false;\n        });\n    }\n}\n","import localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { action, makeObservable, observable } from 'mobx';\nimport {\n    getSavedWorkspaces,\n    observer as globalObserver,\n    save,\n    save_types,\n    saveWorkspaceToRecent,\n} from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\nimport { MAX_STRATEGIES } from 'Constants/bot-contents';\nimport { button_status } from 'Constants/button-status';\nimport { TStrategy } from 'Types';\n\ntype IOnConfirmProps = {\n    is_local: boolean;\n    save_as_collection: boolean;\n    bot_name: string;\n};\ninterface ISaveModalStore {\n    is_save_modal_open: boolean;\n    button_status: { [key: string]: string } | number;\n    bot_name: { [key: string]: string } | string;\n    toggleSaveModal: () => void;\n    validateBotName: (values: string) => { [key: string]: string };\n    onConfirmSave: ({ is_local, save_as_collection, bot_name }: IOnConfirmProps) => void;\n    updateBotName: (bot_name: string) => void;\n    setButtonStatus: (status: { [key: string]: string } | string | number) => void;\n}\n\nconst Blockly = window.Blockly;\n\nexport default class SaveModalStore implements ISaveModalStore {\n    root_store: any;\n\n    constructor(root_store: any) {\n        makeObservable(this, {\n            is_save_modal_open: observable,\n            button_status: observable,\n            bot_name: observable,\n            toggleSaveModal: action.bound,\n            validateBotName: action.bound,\n            onConfirmSave: action.bound,\n            updateBotName: action.bound,\n            onDriveConnect: action.bound,\n            setButtonStatus: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n    is_save_modal_open = false;\n    button_status = button_status.NORMAL;\n    bot_name = '';\n\n    toggleSaveModal = (): void => {\n        if (!this.is_save_modal_open) {\n            this.setButtonStatus(button_status.NORMAL);\n        }\n\n        this.is_save_modal_open = !this.is_save_modal_open;\n    };\n\n    validateBotName = (values: string): { [key: string]: string } => {\n        const errors = {};\n\n        if (values.bot_name.trim() === '') {\n            errors.bot_name = localize('Strategy name cannot be empty');\n        }\n\n        return errors;\n    };\n\n    addStrategyToWorkspace = async (\n        workspace_id: string,\n        is_local: boolean,\n        save_as_collection: boolean,\n        bot_name: string,\n        xml: string\n    ) => {\n        try {\n            const workspace = await getSavedWorkspaces();\n            const current_workspace_index = workspace.findIndex((strategy: TStrategy) => strategy.id === workspace_id);\n            const {\n                load_modal: { getSaveType },\n            } = this.root_store;\n            const local_type = is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE;\n            const save_collection = save_as_collection ? save_types.UNSAVED : local_type;\n            const type = save_collection;\n\n            const save_type = getSaveType(type)?.toLowerCase();\n\n            const workspace_structure = {\n                id: workspace_id,\n                xml: Blockly.Xml.domToText(xml),\n                name: bot_name,\n                timestamp: Date.now(),\n                save_type,\n            };\n\n            if (current_workspace_index >= 0) {\n                const current_workspace = workspace_structure;\n                workspace[current_workspace_index] = current_workspace;\n            } else {\n                workspace.push(workspace_structure);\n            }\n\n            workspace\n                .sort((a: TStrategy, b: TStrategy) => {\n                    return new Date(a.timestamp) - new Date(b.timestamp);\n                })\n                .reverse();\n\n            if (workspace.length > MAX_STRATEGIES) {\n                workspace.pop();\n            }\n            const { load_modal } = this.root_store;\n            const { setRecentStrategies } = load_modal;\n            localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(workspace)));\n            const updated_strategies = await getSavedWorkspaces();\n            setRecentStrategies(updated_strategies);\n            const {\n                dashboard: { setStrategySaveType },\n            } = this.root_store;\n            setStrategySaveType(save_type);\n        } catch (error) {\n            globalObserver.emit('Error', error);\n        }\n    };\n\n    async onConfirmSave({ is_local, save_as_collection, bot_name }: IOnConfirmProps) {\n        const { load_modal, dashboard, google_drive } = this.root_store;\n        const { loadStrategyToBuilder, selected_strategy } = load_modal;\n        const { active_tab } = dashboard;\n        this.setButtonStatus(button_status.LOADING);\n        const { saveFile } = google_drive;\n        let xml;\n        let main_strategy = null;\n        if (active_tab === 1) {\n            xml = Blockly?.Xml?.workspaceToDom(Blockly?.derivWorkspace);\n        } else {\n            const recent_files = await getSavedWorkspaces();\n            main_strategy = recent_files.filter((strategy: TStrategy) => strategy.id === selected_strategy.id)?.[0];\n            main_strategy.name = bot_name;\n            main_strategy.save_type = is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE;\n            xml = Blockly?.Xml?.textToDom(main_strategy.xml);\n        }\n        xml?.setAttribute('is_dbot', 'true');\n        xml?.setAttribute('collection', save_as_collection ? 'true' : 'false');\n\n        if (is_local) {\n            save(bot_name, save_as_collection, xml);\n        } else {\n            await saveFile({\n                name: bot_name,\n                content: Blockly?.Xml?.domToPrettyText(xml),\n                mimeType: 'application/xml',\n            });\n            this.setButtonStatus(button_status.COMPLETED);\n        }\n\n        this.updateBotName(bot_name);\n\n        if (active_tab === 0) {\n            const workspace_id = selected_strategy.id ?? Blockly?.utils?.genUid();\n            await this.addStrategyToWorkspace(workspace_id, is_local, save_as_collection, bot_name, xml);\n            if (main_strategy) await loadStrategyToBuilder(main_strategy);\n        } else {\n            await saveWorkspaceToRecent(xml, is_local ? save_types.LOCAL : save_types.GOOGLE_DRIVE);\n        }\n        this.toggleSaveModal();\n    }\n\n    updateBotName = (bot_name: string): void => {\n        this.bot_name = bot_name;\n    };\n\n    async onDriveConnect() {\n        const { google_drive } = this.root_store;\n\n        if (google_drive.is_authorised) {\n            google_drive.signOut();\n        } else {\n            google_drive.signIn();\n        }\n    }\n\n    setButtonStatus = (status: { [key: string]: string } | string | number): void => {\n        this.button_status = status;\n    };\n}\n","import { action, computed, makeObservable, observable } from 'mobx';\n\nexport default class SelfExclusionStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            api_max_losses: observable,\n            run_limit: observable,\n            is_restricted: observable,\n            initial_values: computed,\n            should_bot_run: computed,\n            setIsRestricted: action.bound,\n            setApiMaxLosses: action.bound,\n            setRunLimit: action.bound,\n            resetSelfExclusion: action.bound,\n            checkRestriction: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    api_max_losses = 0;\n    run_limit = -1;\n    is_restricted = false;\n    get initial_values() {\n        return {\n            form_max_losses: this.api_max_losses || '',\n            run_limit: this.run_limit !== -1 ? this.run_limit : '',\n        };\n    }\n\n    get should_bot_run() {\n        const { client } = this.core;\n        if (client.is_eu && !client.is_virtual && (this.api_max_losses === 0 || this.run_limit === -1)) {\n            return false;\n        }\n        return true;\n    }\n\n    setIsRestricted(is_restricted) {\n        this.is_restricted = is_restricted;\n    }\n\n    setApiMaxLosses(api_max_losses) {\n        this.api_max_losses = api_max_losses;\n    }\n\n    setRunLimit(run_limit) {\n        this.run_limit = run_limit;\n    }\n\n    resetSelfExclusion() {\n        this.is_restricted = false;\n        this.api_max_losses = 0;\n        this.form_max_losses = 0;\n        this.run_limit = -1;\n    }\n\n    async checkRestriction() {\n        const { client } = this.core;\n        await client.getSelfExclusion();\n        if (client.self_exclusion.max_losses) {\n            this.setApiMaxLosses(client.self_exclusion.max_losses);\n        }\n    }\n}\n","import { getLimitOrderAmount } from '@deriv/shared';\n\nexport const getBuyPrice = contract_store => {\n    return contract_store.contract_info.buy_price;\n};\n\n/**\n * Set contract update form initial values\n * @param {object} contract_update - contract_update response\n * @param {object} limit_order - proposal_open_contract.limit_order response\n */\nexport const getContractUpdateConfig = ({ contract_update, limit_order }) => {\n    const { stop_loss, take_profit } = getLimitOrderAmount(limit_order || contract_update);\n\n    return {\n        // convert stop_loss, take_profit value to string for validation to work\n        contract_update_stop_loss: stop_loss ? Math.abs(stop_loss).toString() : '',\n        contract_update_take_profit: take_profit ? take_profit.toString() : '',\n        has_contract_update_stop_loss: !!stop_loss,\n        has_contract_update_take_profit: !!take_profit,\n    };\n};\n","import { getTotalProfit } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nimport { getBuyPrice } from 'Utils/multiplier';\n\nexport const getSupportedContracts = is_high_low => ({\n    ASIANU: {\n        name: localize('Asian Up'),\n        position: 'top',\n    },\n    ASIAND: {\n        name: localize('Asian Down'),\n        position: 'bottom',\n    },\n    CALL: {\n        name: is_high_low ? localize('Higher') : localize('Rise'),\n        position: 'top',\n    },\n    PUT: {\n        name: is_high_low ? localize('Lower') : localize('Fall'),\n        position: 'bottom',\n    },\n    CALLE: {\n        name: localize('Rise'),\n        position: 'top',\n    },\n    PUTE: {\n        name: localize('Fall'),\n        position: 'bottom',\n    },\n    CALLSPREAD: {\n        name: localize('Spread Up'),\n        position: 'top',\n    },\n    PUTSPREAD: {\n        name: localize('Spread Down'),\n        position: 'bottom',\n    },\n    DIGITMATCH: {\n        name: localize('Matches'),\n        position: 'top',\n    },\n    DIGITDIFF: {\n        name: localize('Differs'),\n        position: 'bottom',\n    },\n    DIGITEVEN: {\n        name: localize('Even'),\n        position: 'top',\n    },\n    DIGITODD: {\n        name: localize('Odd'),\n        position: 'bottom',\n    },\n    DIGITOVER: {\n        name: localize('Over'),\n        position: 'top',\n    },\n    DIGITUNDER: {\n        name: localize('Under'),\n        position: 'bottom',\n    },\n    EXPIRYMISS: {\n        name: localize('Ends Outside'),\n        position: 'top',\n    },\n    EXPIRYRANGE: {\n        name: localize('Ends Between'),\n        position: 'bottom',\n    },\n    LBFLOATCALL: {\n        name: localize('Close-to-Low'),\n        position: 'top',\n    },\n    LBFLOATPUT: {\n        name: localize('High-to-Close'),\n        position: 'top',\n    },\n    LBHIGHLOW: {\n        name: localize('High-to-Low'),\n        position: 'top',\n    },\n    MULTUP: {\n        name: localize('Up'),\n        position: 'top',\n    },\n    MULTDOWN: {\n        name: localize('Down'),\n        position: 'bottom',\n    },\n    ONETOUCH: {\n        name: localize('Touch'),\n        position: 'top',\n    },\n    NOTOUCH: {\n        name: localize('No Touch'),\n        position: 'bottom',\n    },\n    RANGE: {\n        name: localize('Stays Between'),\n        position: 'top',\n    },\n    UPORDOWN: {\n        name: localize('Goes Outside'),\n        position: 'bottom',\n    },\n    RESETCALL: {\n        name: localize('Reset Call'),\n        position: 'top',\n    },\n    RESETPUT: {\n        name: localize('Reset Put'),\n        position: 'bottom',\n    },\n    RUNHIGH: {\n        name: localize('Only Ups'),\n        position: 'top',\n    },\n    RUNLOW: {\n        name: localize('Only Downs'),\n        position: 'bottom',\n    },\n    TICKHIGH: {\n        name: localize('High Tick'),\n        position: 'top',\n    },\n    TICKLOW: {\n        name: localize('Low Tick'),\n        position: 'bottom',\n    },\n});\n\nexport const getContractConfig = is_high_low => ({\n    ...getSupportedContracts(is_high_low),\n});\n\nexport const getContractTypeDisplay = (type, is_high_low = false) =>\n    getContractConfig(is_high_low)[type] ? getContractConfig(is_high_low)[type.toUpperCase()].name : '';\n\nexport const getValidationRules = () => ({\n    has_contract_update_stop_loss: {\n        trigger: 'contract_update_stop_loss',\n    },\n    contract_update_stop_loss: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_stop_loss,\n                    message: localize('Please enter a stop loss amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit < 0 && -value > profit);\n                    },\n                    message: localize(\"Please enter a stop loss amount that's higher than the current potential loss.\"),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const stake = getBuyPrice(contract_store);\n                        return value < stake + 1;\n                    },\n                    message: localize('Invalid stop loss. Stop loss cannot be more than stake.'),\n                },\n            ],\n        ],\n    },\n    has_contract_update_take_profit: {\n        trigger: 'contract_update_take_profit',\n    },\n    contract_update_take_profit: {\n        rules: [\n            [\n                'req',\n                {\n                    condition: contract_store => !contract_store.contract_update_take_profit,\n                    message: localize('Please enter a take profit amount.'),\n                },\n            ],\n            [\n                'custom',\n                {\n                    func: (value, options, contract_store) => {\n                        const profit = getTotalProfit(contract_store.contract_info);\n                        return !(profit > 0 && +value < profit);\n                    },\n                    message: localize(\n                        \"Please enter a take profit amount that's higher than the current potential profit.\"\n                    ),\n                },\n            ],\n        ],\n    },\n});\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\n\nimport { getIndicativePrice, isEqualObject, isMultiplierContract, Validator } from '@deriv/shared';\n\nimport { getValidationRules } from 'Constants/contract';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { getContractUpdateConfig } from 'Utils/multiplier';\n\nexport default class SummaryCardStore {\n    contract_info = null;\n    indicative_movement = '';\n    profit_movement = '';\n\n    validation_errors = {};\n    validation_rules = getValidationRules();\n\n    // Multiplier contract update config\n    contract_update_take_profit = '';\n    contract_update_stop_loss = '';\n    has_contract_update_take_profit = false;\n    has_contract_update_stop_loss = false;\n    contract_update_config = {};\n\n    contract_id = null;\n    profit = 0;\n    indicative = 0;\n\n    constructor(root_store, core) {\n        makeObservable(this, {\n            contract_info: observable,\n            indicative_movement: observable,\n            profit_movement: observable,\n            validation_errors: observable,\n            validation_rules: observable,\n            contract_update_take_profit: observable,\n            contract_update_stop_loss: observable,\n            has_contract_update_take_profit: observable,\n            has_contract_update_stop_loss: observable,\n            contract_update_config: observable,\n            contract_id: observable,\n            profit: observable,\n            indicative: observable,\n            is_contract_completed: computed,\n            is_contract_loading: computed,\n            is_contract_inactive: computed,\n            is_multiplier: computed,\n            clear: action.bound,\n            clearContractUpdateConfigValues: action.bound,\n            getLimitOrder: action.bound,\n            onBotContractEvent: action.bound,\n            onChange: action.bound,\n            populateContractUpdateConfig: action.bound,\n            setContractUpdateConfig: action.bound,\n            updateLimitOrder: action.bound,\n            setValidationErrorMessages: action,\n            validateProperty: action,\n            registerReactions: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n\n    get is_contract_completed() {\n        return (\n            !!this.contract_info?.is_sold &&\n            this.root_store.run_panel.contract_stage !== contract_stages.PURCHASE_RECEIVED\n        );\n    }\n\n    get is_contract_loading() {\n        return (\n            (this.root_store.run_panel.is_running && this.contract_info === null) ||\n            this.root_store.run_panel.contract_stage === contract_stages.PURCHASE_SENT ||\n            this.root_store.run_panel.contract_stage === contract_stages.STARTING\n        );\n    }\n\n    get is_contract_inactive() {\n        return !this.contract_info && !this.is_loading;\n    }\n\n    get is_multiplier() {\n        return isMultiplierContract(this.contract_info?.contract_type);\n    }\n\n    clear(should_unset_contract = true) {\n        if (should_unset_contract) {\n            this.contract_info = null;\n        }\n\n        this.profit = 0;\n        this.profit_loss = 0;\n        this.indicative = 0;\n        this.indicative_movement = '';\n        this.profit_movement = '';\n    }\n\n    clearContractUpdateConfigValues() {\n        if (this.contract_info) {\n            Object.assign(this, getContractUpdateConfig(this.contract_info));\n        }\n    }\n\n    getLimitOrder() {\n        const limit_order = {};\n\n        // send positive take_profit to update or null to cancel\n        limit_order.take_profit = this.has_contract_update_take_profit ? +this.contract_update_take_profit : null;\n\n        // send positive stop_loss to update or null to cancel\n        limit_order.stop_loss = this.has_contract_update_stop_loss ? +this.contract_update_stop_loss : null;\n\n        return limit_order;\n    }\n\n    onBotContractEvent(contract) {\n        const { profit } = contract;\n        const indicative = getIndicativePrice(contract);\n\n        if (this.contract_id !== contract.id) {\n            this.clear(false);\n            this.contract_id = contract.id;\n            this.profit = profit;\n            this.indicative = indicative;\n        }\n\n        const movements = { profit, indicative };\n\n        Object.keys(movements).forEach(name => {\n            if (movements[name] !== this[name]) {\n                this[`${name}_movement`] = movements[name] > this[name] ? 'profit' : 'loss';\n            } else if (this[`${name}_movement`] !== '') {\n                this.indicative_movement = '';\n            }\n\n            this[name] = movements[name];\n        });\n\n        // TODO only add props that is being used\n        this.contract_info = contract;\n    }\n\n    onChange({ name, value }) {\n        this[name] = value;\n        this.validateProperty(name, this[name]);\n    }\n\n    populateContractUpdateConfig(response) {\n        const contract_update_config = getContractUpdateConfig(response);\n\n        if (!isEqualObject(this.contract_update_config, contract_update_config)) {\n            Object.assign(this, contract_update_config);\n            this.contract_update_config = contract_update_config;\n\n            const { contract_update, error } = response;\n            if (contract_update && !error) {\n                this.contract_info.limit_order = Object.assign(this.contract_info.limit_order || {}, contract_update);\n            }\n        }\n    }\n\n    setContractUpdateConfig(contract_update_take_profit, contract_update_stop_loss) {\n        this.has_contract_update_take_profit = !!contract_update_take_profit;\n        this.has_contract_update_stop_loss = !!contract_update_stop_loss;\n        this.contract_update_take_profit = this.has_contract_update_take_profit ? +contract_update_take_profit : null;\n        this.contract_update_stop_loss = this.has_contract_update_stop_loss ? +contract_update_stop_loss : null;\n    }\n\n    updateLimitOrder() {\n        const limit_order = this.getLimitOrder();\n\n        this.root_store.ws.contractUpdate(this.contract_info.contract_id, limit_order).then(response => {\n            if (response.error) {\n                this.root_store.run_panel.showContractUpdateErrorDialog(response.error.message);\n                return;\n            }\n\n            // Update contract store\n            this.populateContractUpdateConfig(response);\n        });\n    }\n\n    /**\n     * Sets validation error messages for an observable property of the store\n     *\n     * @param {String} propertyName - The observable property's name\n     * @param [{String}] messages - An array of strings that contains validation error messages for the particular property.\n     *\n     */\n    setValidationErrorMessages(propertyName, messages) {\n        const is_different = () =>\n            !!this.validation_errors[propertyName]\n                .filter(x => !messages.includes(x))\n                .concat(messages.filter(x => !this.validation_errors[propertyName].includes(x))).length;\n        if (!this.validation_errors[propertyName] || is_different()) {\n            this.validation_errors[propertyName] = messages;\n        }\n    }\n\n    /**\n     * Validates a particular property of the store\n     *\n     * @param {String} property - The name of the property in the store\n     * @param {object} value    - The value of the property, it can be undefined.\n     *\n     */\n    validateProperty(property, value) {\n        const trigger = this.validation_rules[property].trigger;\n        const inputs = { [property]: value !== undefined ? value : this[property] };\n        const validation_rules = { [property]: this.validation_rules[property].rules || [] };\n\n        if (!!trigger && Object.hasOwnProperty.call(this, trigger)) {\n            inputs[trigger] = this[trigger];\n            validation_rules[trigger] = this.validation_rules[trigger].rules || [];\n        }\n\n        const validator = new Validator(inputs, validation_rules, this);\n\n        validator.isPassed();\n\n        Object.keys(inputs).forEach(key => {\n            this.setValidationErrorMessages(key, validator.errors.get(key));\n        });\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n        this.disposeSwitchAcountListener = reaction(\n            () => client.loginid,\n            () => this.clear()\n        );\n\n        return () => {\n            if (typeof this.disposeSwitchAcountListener === 'function') {\n                this.disposeSwitchAcountListener();\n            }\n        };\n    }\n}\n","export default class SummaryStore {\n    constructor(root_store) {\n        this.root_store = root_store;\n    }\n}\n","import { action, makeObservable, observable } from 'mobx';\nimport { config, load, runGroupedEvents } from '@deriv/bot-skeleton';\n\ninterface IToolbarStore {\n    is_animation_info_modal_open: boolean;\n    is_dialog_open: boolean;\n    file_name: string;\n    has_undo_stack: boolean;\n    has_redo_stack: boolean;\n    is_reset_button_clicked: boolean;\n    onResetClick: () => void;\n    closeResetDialog: () => void;\n    onResetOkButtonClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: (is_redo: boolean) => void;\n    onZoomInOutClick: (is_zoom_in: boolean) => void;\n    resetDefaultStrategy: () => void;\n    setHasUndoStack: () => void;\n    setHasRedoStack: () => void;\n}\n\nconst Blockly = window.Blockly;\nexport default class ToolbarStore implements IToolbarStore {\n    root_store: any;\n\n    constructor(root_store: any) {\n        makeObservable(this, {\n            is_animation_info_modal_open: observable,\n            is_dialog_open: observable,\n            file_name: observable,\n            has_undo_stack: observable,\n            has_redo_stack: observable,\n            is_reset_button_clicked: observable,\n            onResetClick: action.bound,\n            closeResetDialog: action.bound,\n            onResetOkButtonClick: action.bound,\n            onUndoClick: action.bound,\n            resetDefaultStrategy: action.bound,\n            setHasUndoStack: action.bound,\n            setHasRedoStack: action.bound,\n        });\n\n        this.root_store = root_store;\n    }\n\n    is_animation_info_modal_open = false;\n    is_dialog_open = false;\n    file_name = config.default_file_name;\n    has_undo_stack = false;\n    has_redo_stack = false;\n    is_reset_button_clicked = false;\n\n    setResetButtonState = (is_reset_button_clicked: boolean): void => {\n        this.is_reset_button_clicked = is_reset_button_clicked;\n    };\n\n    onResetClick = (): void => {\n        this.is_dialog_open = true;\n    };\n\n    closeResetDialog = (): void => {\n        this.is_dialog_open = false;\n    };\n\n    onResetOkButtonClick = (): void => {\n        runGroupedEvents(\n            false,\n            () => {\n                this.resetDefaultStrategy();\n            },\n            'reset'\n        );\n        this.is_dialog_open = false;\n        const { run_panel } = this.root_store;\n        const { is_running } = run_panel;\n        if (is_running) {\n            this.is_reset_button_clicked = true;\n        }\n    };\n\n    resetDefaultStrategy = async () => {\n        const workspace = Blockly.derivWorkspace;\n        workspace.current_strategy_id = Blockly.utils.genUid();\n        await load({\n            block_string: workspace.cached_xml.main,\n            file_name: config.default_file_name,\n            workspace,\n            drop_event: null,\n            strategy_id: null,\n            from: null,\n            showIncompatibleStrategyDialog: null,\n        });\n        workspace.strategy_to_load = workspace.cached_xml.main;\n    };\n\n    onSortClick = () => {\n        Blockly.derivWorkspace.cleanUp();\n    };\n\n    onUndoClick = (is_redo: boolean): void => {\n        Blockly.Events.setGroup('undo_clicked');\n        Blockly.derivWorkspace.undo(is_redo);\n        Blockly.svgResize(Blockly.derivWorkspace); // Called for CommentDelete event.\n        this.setHasRedoStack();\n        this.setHasUndoStack();\n        Blockly.Events.setGroup(false);\n    };\n\n    onZoomInOutClick = (is_zoom_in: boolean): void => {\n        const workspace = Blockly.derivWorkspace;\n        const metrics = workspace.getMetrics();\n        const addition = is_zoom_in ? 1 : -1;\n\n        workspace.zoom(metrics.viewWidth / 2, metrics.viewHeight / 2, addition);\n    };\n\n    setHasUndoStack = (): void => {\n        this.has_undo_stack = Blockly.derivWorkspace?.hasUndoStack();\n    };\n\n    setHasRedoStack = (): void => {\n        this.has_redo_stack = Blockly.derivWorkspace?.hasRedoStack();\n    };\n}\n","import { action, makeObservable, observable, reaction } from 'mobx';\nimport { scrollWorkspace } from '@deriv/bot-skeleton';\nimport { localize } from '@deriv/translations';\n\nexport default class ToolboxStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            is_toolbox_open: observable,\n            is_search_loading: observable,\n            is_search_focus: observable,\n            sub_category_index: observable,\n            toolbox_dom: observable,\n            toolbox_examples: observable,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            setWorkspaceOptions: action.bound,\n            adjustWorkspace: action.bound,\n            toggleDrawer: action.bound,\n            onToolboxItemClick: action.bound,\n            onToolboxItemExpand: action.bound,\n            getCategoryContents: action.bound,\n            getAllCategories: action.bound,\n            hasSubCategory: action.bound,\n            onSearch: action.bound,\n            onSearchBlur: action.bound,\n            onSearchClear: action.bound,\n            onSearchKeyUp: action.bound,\n            showSearch: action.bound,\n        });\n\n        this.root_store = root_store;\n        this.core = core;\n    }\n\n    is_toolbox_open = true;\n    is_search_loading = false;\n    is_search_focus = false;\n    sub_category_index = [];\n    toolbox_dom = null;\n    toolbox_examples = null;\n\n    onMount(toolbox_ref) {\n        this.adjustWorkspace();\n\n        this.toolbox_dom = Blockly.Xml.textToDom(toolbox_ref?.current);\n        this.toolbox_examples = [...this.toolbox_dom.childNodes].find(el => el.tagName === 'examples');\n        this.setWorkspaceOptions();\n        this.disposeToolboxToggleReaction = reaction(\n            () => this.is_toolbox_open,\n            is_toolbox_open => {\n                if (is_toolbox_open) {\n                    this.adjustWorkspace();\n                    // Emit event to GTM\n                    const { gtm } = this.core;\n                    gtm.pushDataLayer({ event: 'dbot_toolbox_visible', value: true });\n                }\n            }\n        );\n    }\n\n    onUnmount() {\n        if (typeof this.disposeToolboxToggleReaction === 'function') {\n            this.disposeToolboxToggleReaction();\n        }\n    }\n\n    setWorkspaceOptions() {\n        const workspace = Blockly.derivWorkspace;\n        const readOnly = !!workspace.options.readOnly;\n        let languageTree, hasCategories, hasCollapse, hasComments, hasDisable;\n\n        if (readOnly) {\n            languageTree = null;\n            hasCategories = false;\n            hasCollapse = false;\n            hasComments = false;\n            hasDisable = false;\n        } else {\n            languageTree = this.toolbox_dom;\n            hasCategories = Boolean(languageTree && languageTree.getElementsByTagName('category').length);\n            hasCollapse = hasCategories;\n            hasComments = hasCategories;\n            hasDisable = hasCategories;\n        }\n\n        workspace.options.collapse = hasCollapse;\n        workspace.options.comments = hasComments;\n        workspace.options.disable = hasDisable;\n        workspace.options.hasCategories = hasCategories;\n        workspace.options.languageTree = languageTree;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    adjustWorkspace() {\n        const workspace = Blockly.derivWorkspace;\n        const toolbox_width = document.getElementById('gtm-toolbox')?.getBoundingClientRect().width || 0;\n        const block_canvas_rect = workspace.svgBlockCanvas_?.getBoundingClientRect(); // eslint-disable-line\n\n        if (Math.round(block_canvas_rect?.left) <= toolbox_width) {\n            const scroll_distance = this.core.ui.is_mobile\n                ? toolbox_width - block_canvas_rect.left + 20\n                : toolbox_width - block_canvas_rect.left + 36;\n            scrollWorkspace(workspace, scroll_distance, true, false);\n        }\n    }\n\n    toggleDrawer() {\n        this.is_toolbox_open = !this.is_toolbox_open;\n    }\n\n    onToolboxItemClick(category) {\n        const { flyout } = this.root_store;\n        const category_id = category.getAttribute('id');\n        const flyout_content = this.getCategoryContents(category);\n\n        flyout.setIsSearchFlyout(false);\n\n        if (flyout.selected_category?.getAttribute('id') === category_id) {\n            flyout.setVisibility(false);\n        } else {\n            flyout.setSelectedCategory(category);\n            flyout.setContents(flyout_content);\n        }\n    }\n\n    onToolboxItemExpand(index) {\n        if (this.sub_category_index.includes(index)) {\n            const open_ids = this.sub_category_index.filter(open_id => open_id !== index);\n            this.sub_category_index = open_ids;\n        } else {\n            this.sub_category_index = [...this.sub_category_index, index];\n        }\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getCategoryContents(category) {\n        const workspace = Blockly.derivWorkspace;\n        const dynamic = category.getAttribute('dynamic');\n        let xml_list = Array.from(category.childNodes);\n\n        // Dynamic categories\n        if (typeof dynamic === 'string') {\n            const fnToApply = workspace.getToolboxCategoryCallback(dynamic);\n            xml_list = fnToApply(workspace);\n        }\n\n        return xml_list;\n    }\n\n    getAllCategories() {\n        const categories = [];\n        Array.from(this.toolbox_dom.childNodes).forEach(category => {\n            categories.push(category);\n            if (this.hasSubCategory(category.children)) {\n                Array.from(category.children).forEach(subCategory => {\n                    categories.push(subCategory);\n                });\n            }\n        });\n        return categories;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    hasSubCategory(category) {\n        // eslint-disable-next-line consistent-return\n        const subCategory = Object.keys(category).filter(key => {\n            if (category[key].tagName.toUpperCase() === 'CATEGORY') {\n                return category[key];\n            }\n        });\n        if (subCategory.length) {\n            return true;\n        }\n        return false;\n    }\n\n    onSearch({ search }) {\n        this.is_search_focus = true;\n        this.showSearch(search);\n    }\n\n    onSearchBlur() {\n        this.is_search_focus = false;\n    }\n\n    onSearchClear(setFieldValue) {\n        setFieldValue('search', '');\n        this.showSearch('');\n    }\n\n    onSearchKeyUp(submitForm) {\n        this.is_search_loading = true;\n\n        clearTimeout(this.typing_timer);\n        this.typing_timer = setTimeout(\n            action(() => {\n                submitForm();\n                this.is_search_loading = false;\n            }),\n            1000\n        );\n    }\n\n    showSearch(search) {\n        const workspace = Blockly.derivWorkspace;\n        const flyout_content = [];\n        const search_term = search.replace(/\\s+/g, ' ').trim().toUpperCase();\n        const search_words = search_term.split(' ');\n        const all_variables = workspace.getVariablesOfType('');\n        const all_procedures = Blockly.Procedures.allProcedures(workspace);\n        const { flyout } = this.root_store;\n\n        flyout.setVisibility(false);\n\n        // avoid general term which the result will return most of the blocks\n        const general_term = [\n            localize('THE'),\n            localize('OF'),\n            localize('YOU'),\n            localize('IS'),\n            localize('THIS'),\n            localize('THEN'),\n            localize('A'),\n            localize('AN'),\n        ];\n\n        if (search_term.length === 0) {\n            return;\n        } else if (search_term.length <= 1 || search_words.every(term => general_term.includes(term))) {\n            flyout.setIsSearchFlyout(true);\n            flyout.setContents(flyout_content, search);\n            return;\n        }\n\n        const all_categories = this.getAllCategories();\n\n        const block_contents = all_categories\n            .filter(category => !this.hasSubCategory(category.children))\n            .map(category => {\n                const contents = this.getCategoryContents(category);\n\n                const only_block_contents = Array.from(contents).filter(\n                    content => content.tagName.toUpperCase() === 'BLOCK'\n                );\n                return only_block_contents;\n            })\n            .flat();\n\n        const pushIfNotExists = (array, element_to_push) => {\n            if (!array.some(element => element === element_to_push)) {\n                array.push(element_to_push);\n            }\n        };\n\n        const pushBlockWithPriority = priority => {\n            block_contents.forEach(block_content => {\n                const block_type = block_content.getAttribute('type');\n                const block = Blockly.Blocks[block_type];\n                const block_meta = block.meta instanceof Function && block.meta();\n                const block_definitions = block.definition instanceof Function && block.definition();\n                const block_name = block_meta.display_name;\n                const block_type_terms = block_type.toUpperCase().split('_');\n                const block_name_terms = block_name.toUpperCase().split(' ');\n                const definition_key_to_search = /^((message)|(tooltip)|(category))/;\n\n                switch (priority) {\n                    // when the search text match exactly the block's name\n                    case 'exact_block_name': {\n                        if (search_term === block_name.toUpperCase() || search_term === block_type.toUpperCase()) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when there's multiple search text and all the search text match block's name or block type\n                    case 'match_words': {\n                        if (\n                            search_words.every(word => block_name_terms.some(term => term.includes(word))) ||\n                            search_words.every(word => block_type_terms.some(term => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    // when some of search word match block's name or block's type\n                    case 'block_term': {\n                        if (\n                            block_type_terms.some(term => search_words.some(word => term.includes(word))) ||\n                            block_name_terms.some(term => search_words.some(word => term.includes(word)))\n                        ) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    case 'block_definitions': {\n                        // eslint-disable-next-line consistent-return\n                        Object.keys(block_definitions).forEach(key => {\n                            const definition = block_definitions[key];\n\n                            if (\n                                definition_key_to_search.test(key) &&\n                                search_words.some(word => definition.includes(word))\n                            ) {\n                                pushIfNotExists(flyout_content, block_content);\n                            }\n\n                            if (definition instanceof Array) {\n                                definition.forEach(def => {\n                                    const definition_strings = JSON.stringify(def).toUpperCase();\n\n                                    if (\n                                        def.type === 'field_dropdown' &&\n                                        search_term.length > 2 &&\n                                        search_words.some(word => definition_strings.includes(word))\n                                    ) {\n                                        pushIfNotExists(flyout_content, block_content);\n                                    }\n                                });\n                            }\n                        });\n                        break;\n                    }\n                    case 'block_meta': {\n                        // block_meta matched\n                        const matched_meta = Object.keys(block_meta)\n                            .filter(key => key !== 'display_name')\n                            .find(key => {\n                                const block_meta_strings = block_meta[key]\n                                    .toUpperCase()\n                                    .replace(/[^\\w\\s]/gi, '')\n                                    .split(' ');\n\n                                return search_words.some(word => block_meta_strings.some(meta => meta.includes(word)));\n                            });\n\n                        if (matched_meta && matched_meta.length) {\n                            pushIfNotExists(flyout_content, block_content);\n                        }\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            });\n        };\n\n        const priority_order = ['exact_block_name', 'match_words', 'block_term', 'block_definitions', 'block_meta'];\n\n        priority_order.forEach(priority => pushBlockWithPriority(priority));\n\n        // block_variable_name matched\n        const matched_variables = all_variables.filter(variable => variable.name.toUpperCase().includes(search_term));\n        const variables_blocks = Blockly.DataCategory.search(matched_variables);\n        // eslint-disable-next-line consistent-return\n        const unique_var_blocks = variables_blocks.filter(variable_block => {\n            return flyout_content.indexOf(variable_block) === -1;\n        });\n        if (unique_var_blocks && unique_var_blocks.length) {\n            flyout_content.unshift(...unique_var_blocks);\n        }\n\n        // block_procedure_name matched\n        const searched_procedures = { 0: [], 1: [] };\n        const procedures_callnoreturn = all_procedures[0];\n        const procedures_callreturn = all_procedures[1];\n        Object.keys(procedures_callnoreturn).forEach(key => {\n            const procedure = procedures_callnoreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['0'].unshift(procedure);\n            }\n        });\n\n        Object.keys(procedures_callreturn).forEach(key => {\n            const procedure = procedures_callreturn[key];\n\n            if (procedure[0].toUpperCase().includes(search_term)) {\n                searched_procedures['1'].unshift(procedure);\n            }\n        });\n\n        const procedures_blocks = Blockly.Procedures.populateDynamicProcedures(searched_procedures);\n        // eslint-disable-next-line consistent-return\n        const unique_proce_blocks = procedures_blocks.filter(procedure_block => {\n            return flyout_content.indexOf(procedure_block) === -1;\n        });\n        if (unique_proce_blocks.length) {\n            flyout_content.unshift(...unique_proce_blocks);\n        }\n\n        flyout.setIsSearchFlyout(true);\n        flyout.setContents(flyout_content, search);\n    }\n}\n","export const transaction_elements = Object.freeze({\n    CONTRACT: 'contract',\n    DIVIDER: 'divider',\n});\n","import { action, computed, makeObservable, observable, reaction } from 'mobx';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { formatDate, isEnded } from '@deriv/shared';\nimport { transaction_elements } from '../constants/transactions';\nimport { getStoredItemsByKey, getStoredItemsByUser, setStoredItemsByKey } from '../utils/session-storage';\n\nexport default class TransactionsStore {\n    constructor(root_store, core) {\n        makeObservable(this, {\n            elements: observable,\n            active_transaction_id: observable,\n            recovered_completed_transactions: observable,\n            recovered_transactions: observable,\n            is_called_proposal_open_contract: observable,\n            is_transaction_details_modal_open: observable,\n            transactions: computed,\n            onBotContractEvent: action.bound,\n            pushTransaction: action.bound,\n            onClickOutsideTransaction: action.bound,\n            onMount: action.bound,\n            onUnmount: action.bound,\n            clear: action.bound,\n            setActiveTransactionId: action.bound,\n            registerReactions: action.bound,\n            recoverPendingContracts: action.bound,\n            updateResultsCompletedContract: action.bound,\n            sortOutPositionsBeforeAction: action.bound,\n            recoverPendingContractsById: action.bound,\n            toggleTransactionDetailsModal: action.bound,\n        });\n\n        this.is_transaction_details_modal_open = false;\n        this.root_store = root_store;\n        this.core = core;\n        this.disposeReactionsFn = this.registerReactions();\n    }\n    TRANSACTION_CACHE = 'transaction_cache';\n\n    elements = getStoredItemsByUser(this.TRANSACTION_CACHE, this.core?.client?.loginid, []);\n    active_transaction_id = null;\n    recovered_completed_transactions = [];\n    recovered_transactions = [];\n    is_called_proposal_open_contract = false;\n    is_transaction_details_modal_open = false;\n\n    get transactions() {\n        return (\n            this.elements[this.core?.client?.loginid]?.filter(\n                element => element.type === transaction_elements.CONTRACT\n            ) ?? []\n        );\n    }\n\n    toggleTransactionDetailsModal(is_open) {\n        this.is_transaction_details_modal_open = is_open;\n    }\n\n    onBotContractEvent(data) {\n        this.pushTransaction(data);\n    }\n\n    pushTransaction(data) {\n        const is_completed = isEnded(data);\n        const { run_id } = this.root_store.run_panel;\n        const current_account = this.core?.client?.loginid;\n        const contract = {\n            barrier: data.barrier,\n            buy_price: data.buy_price,\n            contract_id: data.contract_id,\n            contract_type: data.contract_type,\n            currency: data.currency,\n            date_start: formatDate(data.date_start, 'YYYY-M-D HH:mm:ss [GMT]'),\n            display_name: data.display_name,\n            entry_tick: data.entry_tick_display_value,\n            entry_tick_time: data.entry_tick_time && formatDate(data.entry_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            exit_tick: data.exit_tick_display_value,\n            exit_tick_time: data.exit_tick_time && formatDate(data.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]'),\n            high_barrier: data.high_barrier,\n            is_completed,\n            low_barrier: data.low_barrier,\n            payout: data.payout,\n            profit: is_completed && data.profit,\n            run_id,\n            shortcode: data.shortcode,\n            tick_count: data.tick_count,\n            transaction_ids: data.transaction_ids,\n            underlying: data.underlying,\n        };\n\n        if (!this.elements[current_account]) {\n            this.elements = {\n                ...this.elements,\n                [current_account]: [],\n            };\n        }\n\n        const same_contract_index = this.elements[current_account]?.findIndex(\n            c =>\n                c.type === transaction_elements.CONTRACT &&\n                c.data.transaction_ids &&\n                c.data.transaction_ids.buy === data.transaction_ids.buy\n        );\n\n        if (same_contract_index === -1) {\n            // Render a divider if the \"run_id\" for this contract is different.\n            if (this.elements[current_account]?.length > 0) {\n                const is_new_run =\n                    this.elements[current_account]?.[0].type === transaction_elements.CONTRACT &&\n                    contract.run_id !== this.elements[current_account]?.[0].data.run_id;\n\n                if (is_new_run) {\n                    this.elements[current_account]?.unshift({\n                        type: transaction_elements.DIVIDER,\n                        data: contract.run_id,\n                    });\n                }\n            }\n\n            this.elements[current_account]?.unshift({\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        } else {\n            // If data belongs to existing contract in memory, update it.\n            this.elements[current_account]?.splice(same_contract_index, 1, {\n                type: transaction_elements.CONTRACT,\n                data: contract,\n            });\n        }\n\n        this.elements = { ...this.elements }; // force update\n    }\n\n    setActiveTransactionId(transaction_id) {\n        // Toggle transaction popover if passed transaction_id is the same.\n        if (transaction_id && this.active_transaction_id === transaction_id) {\n            this.active_transaction_id = null;\n        } else {\n            this.active_transaction_id = transaction_id;\n        }\n    }\n\n    onClickOutsideTransaction(event) {\n        const path = event.path || (event.composedPath && event.composedPath());\n        const is_transaction_click = path.some(\n            el => el.classList && el.classList.contains('transactions__item-wrapper')\n        );\n        if (!is_transaction_click) {\n            this.setActiveTransactionId(null);\n        }\n    }\n\n    onMount() {\n        window.addEventListener('click', this.onClickOutsideTransaction);\n        this.recoverPendingContracts();\n    }\n\n    onUnmount() {\n        window.removeEventListener('click', this.onClickOutsideTransaction);\n    }\n\n    clear() {\n        this.elements[this.core?.client?.loginid] = [];\n        this.recovered_completed_transactions = this.recovered_completed_transactions?.slice(0, 0);\n        this.recovered_transactions = this.recovered_transactions?.slice(0, 0);\n        this.is_transaction_details_modal_open = false;\n    }\n\n    registerReactions() {\n        const { client } = this.core;\n\n        // Write transactions to session storage on each change in transaction elements.\n        const disposeTransactionElementsListener = reaction(\n            () => this.elements[client?.loginid],\n            elements => {\n                const stored_transactions = getStoredItemsByKey(this.TRANSACTION_CACHE, {});\n                stored_transactions[client.loginid] = elements?.slice(0, 5000) ?? [];\n                setStoredItemsByKey(this.TRANSACTION_CACHE, stored_transactions);\n            }\n        );\n\n        // User could've left the page mid-contract. On initial load, try\n        // to recover any pending contracts so we can reflect accurate stats\n        // and transactions.\n        const disposeRecoverContracts = reaction(\n            () => this.transactions.length,\n            () => this.recoverPendingContracts()\n        );\n\n        return () => {\n            disposeTransactionElementsListener();\n            disposeRecoverContracts();\n        };\n    }\n\n    recoverPendingContracts(contract = null) {\n        this.transactions.forEach(({ data: trx }) => {\n            if (trx.is_completed || this.recovered_transactions.includes(trx.contract_id)) return;\n            this.recoverPendingContractsById(trx.contract_id, contract);\n        });\n    }\n\n    updateResultsCompletedContract(contract) {\n        const { journal, summary_card } = this.root_store;\n        const { contract_info } = summary_card;\n        const { currency, profit } = contract;\n\n        if (contract.contract_id !== contract_info?.contract_id) {\n            this.onBotContractEvent(contract);\n\n            if (!this.recovered_transactions.includes(contract.contract_id)) {\n                this.recovered_transactions.push(contract.contract_id);\n            }\n            if (!this.recovered_completed_transactions.includes(contract.contract_id) && isEnded(contract)) {\n                this.recovered_completed_transactions.push(contract.contract_id);\n\n                journal.onLogSuccess({\n                    log_type: profit > 0 ? log_types.PROFIT : log_types.LOST,\n                    extra: { currency, profit },\n                });\n            }\n        }\n    }\n\n    sortOutPositionsBeforeAction(positions, element_id = false) {\n        positions?.forEach(position => {\n            if (!element_id || (element_id && position.id === element_id)) {\n                const contract_details = position.contract_info;\n                this.updateResultsCompletedContract(contract_details);\n            }\n        });\n    }\n\n    recoverPendingContractsById(contract_id, contract = null) {\n        const positions = this.core.portfolio.positions;\n\n        if (contract) {\n            this.is_called_proposal_open_contract = true;\n            if (contract.contract_id === contract_id) {\n                this.updateResultsCompletedContract(contract);\n            }\n        }\n\n        if (!this.is_called_proposal_open_contract) {\n            const current_account = this.core?.client?.loginid;\n            if (!this.elements[current_account]?.length) {\n                this.sortOutPositionsBeforeAction(positions);\n            }\n            if (this.elements[current_account]?.length && !this.elements[current_account]?.[0]?.data?.profit) {\n                const element_id = this.elements[current_account]?.[0].data.contract_id;\n                this.sortOutPositionsBeforeAction(positions, element_id);\n            }\n        }\n    }\n}\n","import { TStores } from '@deriv/stores/types';\nimport type { TDbot, TWebSocket } from 'Types';\nimport AppStore from './app-store';\nimport BlocklyStore from './blockly-store';\nimport ChartStore from './chart-store';\nimport DashboardStore from './dashboard-store';\nimport DataCollectionStore from './data-collection-store';\nimport DownloadStore from './download-store';\nimport FlyoutHelpStore from './flyout-help-store';\nimport FlyoutStore from './flyout-store';\nimport GoogleDriveStore from './google-drive-store';\nimport JournalStore from './journal-store';\nimport LoadModalStore from './load-modal-store';\nimport QuickStrategyStore from './quick-strategy-store';\nimport RoutePromptDialogStore from './route-prompt-dialog-store';\nimport RunPanelStore from './run-panel-store';\nimport SaveModalStore from './save-modal-store';\nimport SelfExclusionStore from './self-exclusion-store';\nimport SummaryCardStore from './summary-card-store';\nimport SummaryStore from './summary-store';\nimport ToolbarStore from './toolbar-store';\nimport ToolboxStore from './toolbox-store';\nimport TransactionsStore from './transactions-store';\n\n// TODO: need to write types for the individual classes and convert them to ts\nexport default class RootStore {\n    public ws: TWebSocket;\n    public dbot: TDbot;\n    public app: AppStore;\n    public summary_card: SummaryCardStore;\n    public download: DownloadStore;\n    public flyout: FlyoutStore;\n    public flyout_help: FlyoutHelpStore;\n    public google_drive: GoogleDriveStore;\n    public journal: JournalStore;\n    public load_modal: LoadModalStore;\n    public run_panel: RunPanelStore;\n    public save_modal: SaveModalStore;\n    public summary: SummaryStore;\n    public transactions: TransactionsStore;\n    public toolbar: ToolbarStore;\n    public toolbox: ToolboxStore;\n    public quick_strategy: QuickStrategyStore;\n    public route_prompt_dialog: RoutePromptDialogStore;\n    public self_exclusion: SelfExclusionStore;\n    public dashboard: DashboardStore;\n\n    public chart_store: ChartStore;\n    public blockly_store: BlocklyStore;\n    public data_collection_store: DataCollectionStore;\n\n    constructor(core: TStores, ws: TWebSocket, dbot: TDbot) {\n        this.ws = ws;\n        this.dbot = dbot;\n        this.app = new AppStore(this, core);\n        this.summary_card = new SummaryCardStore(this, core);\n        this.download = new DownloadStore(this);\n        this.flyout = new FlyoutStore(this);\n        this.flyout_help = new FlyoutHelpStore(this);\n        this.google_drive = new GoogleDriveStore(this);\n        this.journal = new JournalStore(this, core);\n        this.load_modal = new LoadModalStore(this, core);\n        this.run_panel = new RunPanelStore(this, core);\n        this.save_modal = new SaveModalStore(this);\n        this.summary = new SummaryStore(this);\n        this.transactions = new TransactionsStore(this, core);\n        this.toolbar = new ToolbarStore(this);\n        this.toolbox = new ToolboxStore(this, core);\n        this.quick_strategy = new QuickStrategyStore(this);\n        this.route_prompt_dialog = new RoutePromptDialogStore(this, core);\n        this.self_exclusion = new SelfExclusionStore(this, core);\n        this.dashboard = new DashboardStore(this, core);\n\n        // need to be at last for dependency\n        this.chart_store = new ChartStore(this);\n        this.blockly_store = new BlocklyStore(this);\n        this.data_collection_store = new DataCollectionStore(this, core);\n    }\n}\n","import React, { createContext, PropsWithChildren, useContext, useMemo } from 'react';\nimport { DBot } from '@deriv/bot-skeleton';\nimport { useStore } from '@deriv/stores';\nimport type { TWebSocket } from 'Types';\nimport RootStore from './root-store';\n\nconst DBotStoreContext = createContext<RootStore | null>(null);\n\nconst DBotStoreProvider = ({ children, ws, mock }: PropsWithChildren<{ ws: TWebSocket; mock?: RootStore }>) => {\n    const stores = useStore();\n    const memoizedValue = useMemo(() => mock || new RootStore(stores, ws, DBot), [mock, stores, ws]);\n\n    return <DBotStoreContext.Provider value={memoizedValue}>{children}</DBotStoreContext.Provider>;\n};\n\nconst useDBotStore = () => {\n    const store = useContext(DBotStoreContext);\n\n    if (!store) {\n        throw new Error('useDBotStore must be used within DBotStoreProvider');\n    }\n\n    return store;\n};\n\nexport { DBotStoreProvider, useDBotStore };\n\nexport const mockDBotStore = (root_store: ReturnType<typeof useStore>, ws: TWebSocket) =>\n    new RootStore(root_store, ws, DBot);\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Button, Icon, StaticUrl } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst GoogleDrive = observer(() => {\n    const { ui } = useStore();\n    const { google_drive, load_modal } = useDBotStore();\n    const { is_authorised } = google_drive;\n    const { is_open_button_loading, onDriveConnect, onDriveOpen } = load_modal;\n    const { is_mobile } = ui;\n\n    return (\n        <div className='load-strategy__container' data-testid='dt_google_drive'>\n            <div className='load-strategy__google-drive'>\n                <Icon\n                    icon={'IcGoogleDrive'}\n                    className={classnames('load-strategy__google-drive-icon', {\n                        'load-strategy__google-drive-icon--disabled': !is_authorised,\n                    })}\n                    size={is_mobile ? 96 : 128}\n                />\n                <div className='load-strategy__google-drive-connected-text'>\n                    {is_authorised ? (\n                        <Localize i18n_default_text='You are connected to Google Drive' />\n                    ) : (\n                        'Google Drive'\n                    )}\n                </div>\n                {is_authorised ? (\n                    <Button.Group>\n                        <Button text={localize('Disconnect')} onClick={onDriveConnect} has_effect secondary large />\n                        <Button\n                            text={localize('Open')}\n                            onClick={() => {\n                                onDriveOpen();\n                            }}\n                            is_loading={is_open_button_loading}\n                            has_effect\n                            primary\n                            large\n                        />\n                    </Button.Group>\n                ) : (\n                    <React.Fragment>\n                        <div className='load-strategy__google-drive-terms'>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize i18n_default_text=\"To import your bot from your Google Drive, you'll need to sign in to your Google account.\" />\n                            </div>\n                            <div className='load-strategy__google-drive-text'>\n                                <Localize\n                                    i18n_default_text='To know how Google Drive handles your data, please review Deriv’s <0>Privacy policy.</0>'\n                                    components={[\n                                        <StaticUrl\n                                            key={0}\n                                            className='link'\n                                            href='tnc/security-and-privacy.pdf'\n                                            is_document\n                                        />,\n                                    ]}\n                                />\n                            </div>\n                        </div>\n                        <Button text={localize('Sign in')} onClick={onDriveConnect} has_effect primary large />\n                    </React.Fragment>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default GoogleDrive;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst LocalFooter = observer(() => {\n    const { ui } = useStore();\n    const { load_modal, dashboard } = useDBotStore();\n    const { is_open_button_loading, loadFileFromLocal, setLoadedLocalFile, toggleLoadModal } = load_modal;\n    const { setOpenSettings, setPreviewOnPopup } = dashboard;\n\n    const { is_mobile } = ui;\n    const Wrapper = is_mobile ? Button.Group : React.Fragment;\n\n    return (\n        <Wrapper>\n            {is_mobile && (\n                <Button text={localize('Cancel')} onClick={() => setLoadedLocalFile(null)} has_effect secondary large />\n            )}\n            <Button\n                text={localize('Open')}\n                onClick={() => {\n                    loadFileFromLocal();\n                    toggleLoadModal();\n                    setPreviewOnPopup(false);\n                    setOpenSettings('import');\n                }}\n                is_loading={is_open_button_loading}\n                has_effect\n                primary\n                large\n            />\n        </Wrapper>\n    );\n});\n\nexport default LocalFooter;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TWorkspaceControlProps = {\n    mockZoomInOut?: (is_zoom_in: boolean) => void;\n};\n\nconst WorkspaceControl = observer(({ mockZoomInOut }: TWorkspaceControlProps) => {\n    const { dashboard } = useDBotStore();\n    const { onZoomInOutClick } = dashboard;\n\n    return (\n        <div className='load-strategy__preview-workspace-controls'>\n            <Icon\n                icon={'IcAddRounded'}\n                className='load-strategy__preview-workspace-icon'\n                onClick={() => {\n                    mockZoomInOut ? mockZoomInOut(true) : onZoomInOutClick(true);\n                }}\n                data_testid='zoom-in'\n            />\n            <Icon\n                icon={'IcMinusRounded'}\n                className='load-strategy__preview-workspace-icon'\n                onClick={() => {\n                    mockZoomInOut ? mockZoomInOut(false) : onZoomInOutClick(false);\n                }}\n                data_testid='zoom-out'\n            />\n        </div>\n    );\n});\n\nexport default WorkspaceControl;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Button, Icon } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport LocalFooter from './local-footer';\nimport WorkspaceControl from './workspace-control';\n\nconst LocalComponent = observer(() => {\n    const { ui } = useStore();\n    const { dashboard, load_modal } = useDBotStore();\n    const { active_tab, active_tour } = dashboard;\n    const { handleFileChange, loaded_local_file, setLoadedLocalFile } = load_modal;\n\n    const file_input_ref = React.useRef<HTMLInputElement>(null);\n    const [is_file_supported, setIsFileSupported] = React.useState(true);\n    const { is_mobile } = ui;\n\n    if (loaded_local_file && is_file_supported) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--active': active_tab === 1 && active_tour,\n                    })}\n                >\n                    <div className='load-strategy__title'>\n                        <Localize i18n_default_text='Preview' />\n                    </div>\n                    <div className='load-strategy__preview-workspace'>\n                        <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                            <div className='load-strategy__local-preview-close'>\n                                <Icon icon='IcCross' onClick={() => setLoadedLocalFile(null)} />\n                            </div>\n                            <WorkspaceControl />\n                        </div>\n                    </div>\n                </div>\n                {is_mobile && (\n                    <div className='load-strategy__local-footer'>\n                        <LocalFooter />\n                    </div>\n                )}\n            </div>\n        );\n    }\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__local-dropzone'>\n                <input\n                    type='file'\n                    ref={file_input_ref}\n                    accept='application/xml, text/xml'\n                    style={{ display: 'none' }}\n                    onChange={e => setIsFileSupported(handleFileChange(e, false))}\n                />\n                <div\n                    className='load-strategy__local-dropzone-area'\n                    onDrop={e => {\n                        handleFileChange(e, false);\n                    }}\n                >\n                    {is_mobile ? (\n                        <Icon icon='IcLocal' className='load-strategy__local-icon' size={is_mobile ? 96 : 128} />\n                    ) : (\n                        <React.Fragment>\n                            <Icon icon='IcPc' className='load-strategy__local-icon' size={is_mobile ? 96 : 128} />\n                            <div className='load-strategy__local-title'>\n                                <Localize i18n_default_text='Drag your XML file here' />\n                            </div>\n                            <div className='load-strategy__local-description'>\n                                <Localize i18n_default_text='or, if you prefer...' />\n                            </div>\n                        </React.Fragment>\n                    )}\n                    <Button\n                        text={\n                            is_file_supported\n                                ? localize('Select an XML file from your device')\n                                : localize('Please upload an XML file')\n                        }\n                        onClick={() => file_input_ref?.current?.click()}\n                        has_effect\n                        primary\n                        large\n                    />\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default LocalComponent;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { timeSince } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TRecentWorkspaceProps = {\n    workspace: { [key: string]: any };\n};\n\nconst RecentWorkspace = observer(({ workspace }: TRecentWorkspaceProps) => {\n    const { load_modal } = useDBotStore();\n    const { getRecentFileIcon, getSaveType, previewRecentStrategy, selected_strategy_id } = load_modal;\n    return (\n        <div\n            className={classnames('load-strategy__recent-item load-dialog', {\n                'load-strategy__recent-item--selected': selected_strategy_id === workspace.id,\n            })}\n            key={workspace.id}\n            onClick={selected_strategy_id === workspace.id ? undefined : () => previewRecentStrategy(workspace.id)}\n            data-testid='dt_recent_workspace_item'\n        >\n            <div className='load-strategy__recent-item-text load-dialog'>\n                <div className='load-strategy__recent-item-title'>{workspace.name}</div>\n                <div className='load-strategy__recent-item-time'>{timeSince(workspace.timestamp)}</div>\n            </div>\n            <div className='load-strategy__recent-item-location load-dialog'>\n                <Icon\n                    icon={getRecentFileIcon(workspace.save_type)}\n                    className={classnames({\n                        'load-strategy__recent-icon--active': workspace.save_type === save_types.GOOGLE_DRIVE,\n                    })}\n                />\n                <div className='load-strategy__recent-item-saved'>{getSaveType(workspace.save_type)}</div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentWorkspace;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Icon } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport RecentWorkspace from './recent-workspace';\nimport WorkspaceControl from './workspace-control';\n\nconst RecentComponent = observer(() => {\n    const { load_modal } = useDBotStore();\n    const { is_explanation_expand, recent_strategies, toggleExplanationExpand } = load_modal;\n    if (recent_strategies.length) {\n        return (\n            <div className='load-strategy__container load-strategy__container--has-footer'>\n                <div className='load-strategy__recent'>\n                    <div className='load-strategy__recent-files'>\n                        <div className='load-strategy__title'>\n                            <Localize i18n_default_text='Recent' />\n                        </div>\n                        <div className='load-strategy__recent-files-list'>\n                            {recent_strategies.map(workspace => (\n                                <RecentWorkspace key={workspace.id} workspace={workspace} />\n                            ))}\n                        </div>\n                    </div>\n                    <div className='load-strategy__recent-preview'>\n                        <div className='load-strategy__title load-strategy__recent-preview-title'>\n                            <Localize i18n_default_text='Preview' />\n                        </div>\n                        <div className='load-strategy__preview-workspace'>\n                            <div id='load-strategy__blockly-container' style={{ height: '100%' }}>\n                                <WorkspaceControl />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className='load-strategy__container'>\n            <div className='load-strategy__recent-empty'>\n                <Icon icon='IcEmptyFolder' className='load-strategy__recent-empty-icon' size={128} />\n                <div className='load-strategy__recent-empty-title'>\n                    <Localize i18n_default_text='You do not have any recent bots' />\n                </div>\n                <div className='load-strategy__recent-empty-description'>\n                    <Localize i18n_default_text='Create one or upload one from your local drive or Google Drive.' />\n                </div>\n                <div className='load-strategy__recent-empty-expand' onClick={toggleExplanationExpand}>\n                    <Localize i18n_default_text=\"Why can't I see my recent bots?\" />\n                </div>\n                <div\n                    className={classnames('load-strategy__recent-empty-explanation', {\n                        'load-strategy__recent-empty-explanation--show': is_explanation_expand,\n                    })}\n                >\n                    <div>\n                        <Localize i18n_default_text=\"If you've recently used bots but don't see them in this list, it may be because you:\" />\n                    </div>\n                    <ol className='load-strategy__recent-empty-explanation-list'>\n                        <li>\n                            <Localize i18n_default_text='1. Logged in from a different device' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='2. Logged in from a different browser' />\n                        </li>\n                        <li>\n                            <Localize i18n_default_text='3. Cleared your browser cache' />\n                        </li>\n                    </ol>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentComponent;\n","import React from 'react';\nimport { Button } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst RecentFooter = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { is_open_button_loading, loadFileFromRecent, toggleLoadModal } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    return (\n        <Button\n            text={localize('Open')}\n            onClick={() => {\n                loadFileFromRecent();\n                toggleLoadModal();\n                setOpenSettings('import');\n            }}\n            is_loading={is_open_button_loading}\n            has_effect\n            primary\n            large\n        />\n    );\n});\n\nexport default RecentFooter;\n","import React from 'react';\nimport { MobileFullPageModal, Modal, Tabs } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { tabs_title } from 'Constants/load-modal';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport GoogleDrive from '../dashboard/dashboard-component/load-bot-preview/google-drive';\nimport Local from './local';\nimport LocalFooter from './local-footer';\nimport Recent from './recent';\nimport RecentFooter from './recent-footer';\n\nconst LoadModal = observer(() => {\n    const { ui } = useStore();\n    const { load_modal, dashboard } = useDBotStore();\n    const {\n        active_index,\n        is_load_modal_open,\n        loaded_local_file,\n        onEntered,\n        recent_strategies,\n        setActiveTabIndex,\n        toggleLoadModal,\n        tab_name,\n    } = load_modal;\n    const { setPreviewOnPopup } = dashboard;\n    const { is_mobile } = ui;\n    const header_text = localize('Load strategy');\n\n    if (is_mobile) {\n        return (\n            <MobileFullPageModal\n                is_modal_open={is_load_modal_open}\n                className='load-strategy__wrapper'\n                header={localize('Load strategy')}\n                onClickClose={() => {\n                    setPreviewOnPopup(false);\n                    toggleLoadModal();\n                }}\n                height_offset='80px'\n                page_overlay\n            >\n                <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </MobileFullPageModal>\n        );\n    }\n\n    const has_loaded_file = loaded_local_file && tab_name === tabs_title.TAB_LOCAL;\n    const has_recent_strategies = recent_strategies.length > 0 && tab_name === tabs_title.TAB_RECENT;\n\n    return (\n        <Modal\n            title={header_text}\n            className='load-strategy'\n            width='1000px'\n            height='80vh'\n            is_open={is_load_modal_open}\n            toggleModal={toggleLoadModal}\n            onEntered={onEntered}\n            elements_to_ignore={[document.querySelector('.injectionDiv')]}\n        >\n            <Modal.Body>\n                <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top header_fit_content>\n                    <div label={localize('Recent')}>\n                        <Recent />\n                    </div>\n                    <div label={localize('Local')}>\n                        <Local />\n                    </div>\n                    <div label='Google Drive'>\n                        <GoogleDrive />\n                    </div>\n                </Tabs>\n            </Modal.Body>\n            {has_recent_strategies && (\n                <Modal.Footer has_separator>\n                    <RecentFooter />\n                </Modal.Footer>\n            )}\n            {has_loaded_file && (\n                <Modal.Footer has_separator>\n                    <LocalFooter />\n                </Modal.Footer>\n            )}\n        </Modal>\n    );\n});\n\nexport default LoadModal;\n","import LoadModal from './load-modal';\nimport './load-modal.scss';\n\nexport default LoadModal;\n","import React, { KeyboardEvent } from 'react';\nimport classNames from 'classnames';\nimport { Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { FORM_TABS } from '../config';\nimport { TDescriptionItem } from '../types';\n\ntype TFormTabs = {\n    active_tab: string;\n    onChange: (tab: string) => void;\n    description?: TDescriptionItem[];\n};\n\nconst FormTabs: React.FC<TFormTabs> = observer(({ active_tab, onChange, description }) => (\n    <div className='qs__body__content__head'>\n        <div className='qs__body__content__head__tabs'>\n            {FORM_TABS.map((tab, index) => {\n                const active = tab.value === active_tab;\n                const cs = 'qs__body__content__head__tabs__tab';\n                return (\n                    <span\n                        tabIndex={index}\n                        className={classNames(cs, {\n                            active,\n                            disabled: !description ? tab?.disabled : false,\n                        })}\n                        key={tab.value}\n                        onClick={() => onChange(tab.value)}\n                        onKeyDown={(e: KeyboardEvent) => {\n                            if (e.key === 'Enter') {\n                                onChange(tab.value);\n                            }\n                        }}\n                    >\n                        <Text size='xs' weight={active ? 'bold' : 'lighter'}>\n                            {tab.label}\n                        </Text>\n                    </span>\n                );\n            })}\n        </div>\n    </div>\n));\n\nexport default FormTabs;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Text } from '@deriv/components';\nimport { TDescriptionItem } from '../types';\n\ntype TStrategyDescription = {\n    data: TDescriptionItem;\n    font_size: string;\n};\n\nconst StrategyDescription: React.FC<TStrategyDescription> = ({ data, font_size }) => {\n    const descriptionContent = () => {\n        switch (data.type) {\n            case 'subtitle':\n                return data?.content?.map(text => (\n                    <div className='qs__long_description__title' key={text}>\n                        <Text size={font_size} weight='bold' dangerouslySetInnerHTML={{ __html: text }} />\n                    </div>\n                ));\n            case 'text': {\n                const class_names = classNames(`qs__long_description__content ${data?.className ?? ''}`);\n                return data?.content?.map(text => (\n                    <div className={class_names} key={text}>\n                        <Text size={font_size} dangerouslySetInnerHTML={{ __html: text }} />\n                    </div>\n                ));\n            }\n            case 'subtitle_italic':\n                return data?.content?.map(text => (\n                    <div className='qs__long_description__title italic' key={text}>\n                        <Text size={font_size} weight='bold' dangerouslySetInnerHTML={{ __html: text }} />\n                    </div>\n                ));\n            case 'text_italic': {\n                const class_names = classNames(`qs__long_description__content italic ${data?.className ?? ''}`);\n                return data?.content?.map(text => (\n                    <div className={class_names} key={text}>\n                        <Text size={font_size} dangerouslySetInnerHTML={{ __html: text }} />\n                    </div>\n                ));\n            }\n            case 'media':\n                return (\n                    <div>\n                        <img className='qs__long_description__image' src={data.src} alt={data.alt} />\n                    </div>\n                );\n            default:\n                return null;\n        }\n    };\n\n    return <div>{descriptionContent()}</div>;\n};\n\nexport default StrategyDescription;\n","import React from 'react';\nimport { Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { STRATEGIES } from '../config';\nimport StrategyDescription from '../descriptions/strategy-description';\n\ntype TStrategyTabContent = Partial<{\n    formfields: React.ReactNode;\n    active_tab: string;\n    tutorial_selected_strategy: string;\n}>;\n\nconst StrategyTabContent: React.FC<TStrategyTabContent> = observer(\n    ({ formfields, active_tab, tutorial_selected_strategy }) => {\n        const { ui } = useStore();\n        const { quick_strategy } = useDBotStore();\n        const { selected_strategy } = quick_strategy;\n        const { is_mobile } = ui;\n        const strategy = STRATEGIES[tutorial_selected_strategy || (selected_strategy as keyof typeof STRATEGIES)];\n        const desktop_font_size = tutorial_selected_strategy ? 's' : 'xs';\n        const font_size: string = React.useMemo<string>(() => (is_mobile ? 'xxs' : desktop_font_size), [is_mobile]);\n\n        return (\n            <>\n                {active_tab === 'TRADE_PARAMETERS' ? (\n                    <>\n                        {strategy.description && (\n                            <div className='qs__body__content__description'>\n                                <div>\n                                    <Text size={font_size}>{strategy.description}</Text>\n                                </div>\n                            </div>\n                        )}\n                        <div className='qs__body__content__form'>{formfields}</div>\n                    </>\n                ) : (\n                    <div className='qs__body__content__description'>\n                        <div>\n                            {strategy?.long_description?.map((data, index) => (\n                                <StrategyDescription key={index} data={data} font_size={font_size} />\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </>\n        );\n    }\n);\n\nexport default StrategyTabContent;\n","import { useFormikContext } from 'formik';\nimport { Analytics } from '@deriv/analytics';\nimport { useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TFormData } from '../types';\n\nconst useQsSubmitHandler = () => {\n    const { client } = useStore();\n    const { currency, balance, is_logged_in } = client;\n    const { submitForm, setFieldValue, values } = useFormikContext<TFormData>();\n    const { quick_strategy, run_panel } = useDBotStore();\n    const { toggleStopBotDialog, setLossThresholdWarningData, loss_threshold_warning_data } = quick_strategy;\n\n    const handleSubmit = async () => {\n        const loss_amount = Number(values?.loss ?? 0);\n        const profit_threshold = Number(values?.profit ?? 0);\n        const stored_dont_show_warning_value = localStorage?.getItem('qs-dont-show-loss-threshold-warning');\n        const dont_show_warning = JSON.parse(stored_dont_show_warning_value ?? 'false');\n        if (\n            !loss_threshold_warning_data.already_shown &&\n            (loss_amount > 0.5 * Number(balance ?? 0) || loss_amount > 2 * profit_threshold) &&\n            is_logged_in &&\n            !dont_show_warning\n        ) {\n            setLossThresholdWarningData({\n                show: true,\n                loss_amount,\n                currency,\n                already_shown: true,\n            });\n        } else {\n            proceedFormSubmission();\n        }\n    };\n\n    const proceedFormSubmission = async () => {\n        if (run_panel.is_running) {\n            await setFieldValue('action', 'EDIT');\n            submitForm();\n            toggleStopBotDialog();\n        } else {\n            Analytics.trackEvent('ce_bot_quick_strategy_form', {\n                action: 'run_strategy',\n                form_source: 'ce_bot_quick_strategy_form',\n            });\n            await setFieldValue('action', 'RUN');\n            submitForm();\n        }\n    };\n\n    return { handleSubmit, proceedFormSubmission };\n};\n\nexport default useQsSubmitHandler;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { useFormikContext } from 'formik';\nimport { Analytics } from '@deriv/analytics';\nimport { Button, Text, ThemedScrollbars } from '@deriv/components';\nimport Icon from '@deriv/components/src/components/icon/icon';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { STRATEGIES } from '../config';\nimport FormTabs from './form-tabs';\nimport StrategyTabContent from './strategy-tab-content';\nimport useQsSubmitHandler from './useQsSubmitHandler';\nimport '../quick-strategy.scss';\n\ntype TDesktopFormWrapper = {\n    children: React.ReactNode;\n};\n\nconst FormWrapper: React.FC<TDesktopFormWrapper> = observer(({ children }) => {\n    const [activeTab, setActiveTab] = React.useState('TRADE_PARAMETERS');\n    const { submitForm, isValid, setFieldValue, validateForm } = useFormikContext();\n    const { quick_strategy } = useDBotStore();\n    const { selected_strategy, setSelectedStrategy, setFormVisibility } = quick_strategy;\n    const strategy = STRATEGIES[selected_strategy as keyof typeof STRATEGIES];\n    const { handleSubmit } = useQsSubmitHandler();\n    const handleClose = () => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'close',\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n        setFormVisibility(false);\n    };\n\n    React.useEffect(() => {\n        validateForm();\n    }, [selected_strategy, validateForm]);\n\n    const onChangeStrategy = (strategy: string) => {\n        setSelectedStrategy(strategy);\n        setActiveTab('TRADE_PARAMETERS');\n        // on strategy selection\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'choose_strategy',\n            strategy_type: strategy,\n        });\n    };\n\n    const handleTabChange = (tab: string) => {\n        setActiveTab(tab);\n    };\n\n    const onEdit = async () => {\n        await setFieldValue('action', 'EDIT');\n        submitForm();\n    };\n\n    return (\n        <div className='qs'>\n            <div className='qs__head'>\n                <div className='qs__head__title'>\n                    <Text weight='bold'>{localize('Quick Strategy')}</Text>\n                </div>\n                <div className='qs__head__action'>\n                    <span data-testid='qs-desktop-close-button' onClick={() => handleClose()}>\n                        <Icon icon='IcCross' />\n                    </span>\n                </div>\n            </div>\n            <div className='qs__body'>\n                <div className='qs__body__sidebar'>\n                    <div className='qs__body__sidebar__subtitle'>\n                        <Text size='xs'>{localize('Choose a template below and set your trade parameters.')}</Text>\n                    </div>\n                    <div className='qs__body__sidebar__items'>\n                        <ul>\n                            {(Object.keys(STRATEGIES) as (keyof typeof STRATEGIES)[]).map(key => {\n                                const str = STRATEGIES[key];\n                                const active = key === selected_strategy;\n                                return (\n                                    <li\n                                        className={classNames({ active })}\n                                        key={key}\n                                        onClick={() => onChangeStrategy(String(key))}\n                                    >\n                                        <Text size='xs' weight={active ? 'bold' : 'normal'}>\n                                            {str.label}\n                                        </Text>\n                                    </li>\n                                );\n                            })}\n                        </ul>\n                    </div>\n                </div>\n                <div className='qs__body__content'>\n                    <ThemedScrollbars\n                        className={classNames('qs__form__container', {\n                            'qs__form__container--no-footer': activeTab !== 'TRADE_PARAMETERS',\n                        })}\n                        autohide={false}\n                    >\n                        <FormTabs\n                            active_tab={activeTab}\n                            onChange={handleTabChange}\n                            description={strategy?.long_description}\n                        />\n                        <StrategyTabContent formfields={children} active_tab={activeTab} />\n                    </ThemedScrollbars>\n                    {activeTab === 'TRADE_PARAMETERS' && (\n                        <div className='qs__body__content__footer'>\n                            <Button secondary disabled={!isValid} onClick={onEdit}>\n                                {localize('Edit')}\n                            </Button>\n                            <Button data-testid='qs-run-button' primary onClick={handleSubmit} disabled={!isValid}>\n                                {localize('Run')}\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default React.memo(FormWrapper);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { useFormikContext } from 'formik';\nimport { Button, SelectNative, Text, ThemedScrollbars } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { STRATEGIES } from '../config';\nimport FormTabs from './form-tabs';\nimport StrategyTabContent from './strategy-tab-content';\nimport useQsSubmitHandler from './useQsSubmitHandler';\nimport '../quick-strategy.scss';\n\ntype TMobileFormWrapper = {\n    children: React.ReactNode;\n};\n\nconst MobileFormWrapper: React.FC<TMobileFormWrapper> = observer(({ children }) => {\n    const [active_tab, setActiveTab] = React.useState('TRADE_PARAMETERS');\n    const { isValid, validateForm } = useFormikContext();\n    const { quick_strategy } = useDBotStore();\n    const { selected_strategy, setSelectedStrategy } = quick_strategy;\n    const { handleSubmit } = useQsSubmitHandler();\n    const strategy = STRATEGIES[selected_strategy as keyof typeof STRATEGIES];\n\n    React.useEffect(() => {\n        validateForm();\n    }, [selected_strategy, validateForm]);\n\n    const onChangeStrategy = (strategy: string) => {\n        setSelectedStrategy(strategy);\n        setActiveTab('TRADE_PARAMETERS');\n    };\n\n    const handleTabChange = (tab: string) => {\n        setActiveTab(tab);\n    };\n\n    const dropdown_list = Object.keys(STRATEGIES).map(key => ({\n        value: key,\n        text: STRATEGIES[key as keyof typeof STRATEGIES].label,\n        description: STRATEGIES[key as keyof typeof STRATEGIES].description,\n    }));\n\n    return (\n        <div className='qs'>\n            <div className='qs__body'>\n                <div className='qs__body__content'>\n                    <ThemedScrollbars\n                        className={classNames('qs__form__container', {\n                            'qs__form__container--no-footer': active_tab !== 'TRADE_PARAMETERS',\n                        })}\n                        autohide={false}\n                    >\n                        <div className='qs__body__content__title'>\n                            <div className='qs__body__content__description'>\n                                <Text size='xxs'>\n                                    {localize('Choose a template below and set your trade parameters.')}\n                                </Text>\n                            </div>\n                            <div className='qs__body__content__select'>\n                                <SelectNative\n                                    list_items={dropdown_list}\n                                    value={selected_strategy}\n                                    label={localize('Strategy')}\n                                    should_show_empty_option={false}\n                                    onChange={(e: React.ChangeEvent<HTMLSelectElement>) => {\n                                        onChangeStrategy(e.target.value);\n                                    }}\n                                />\n                            </div>\n                        </div>\n                        <FormTabs\n                            active_tab={active_tab}\n                            onChange={handleTabChange}\n                            description={strategy?.long_description}\n                        />\n                        <StrategyTabContent formfields={children} active_tab={active_tab} />\n                    </ThemedScrollbars>\n                    {active_tab === 'TRADE_PARAMETERS' && (\n                        <div className='qs__body__content__footer'>\n                            <Button\n                                primary\n                                data-testid='qs-run-button'\n                                type='submit'\n                                onClick={handleSubmit}\n                                disabled={!isValid}\n                            >\n                                {localize('Run')}\n                            </Button>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default MobileFormWrapper;\n","import React from 'react';\nimport { Checkbox, Dialog } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport useQsSubmitHandler from '../form-wrappers/useQsSubmitHandler';\nimport './loss-threshold-warning-dialog.scss';\n\nconst base_classname = 'loss-threshold-warning-dialog';\n\nconst LossThresholdWarningDialog = observer(() => {\n    const { quick_strategy } = useDBotStore();\n    const { loss_threshold_warning_data, setLossThresholdWarningData, initializeLossThresholdWarningData } =\n        quick_strategy;\n    const { proceedFormSubmission } = useQsSubmitHandler();\n\n    const handleAmountEdit = () => {\n        setLossThresholdWarningData({\n            show: false,\n            highlight_field: ['loss'],\n        });\n    };\n\n    const handleContinueBot = () => {\n        initializeLossThresholdWarningData();\n        proceedFormSubmission();\n    };\n\n    const handleDontShowAgain = () => {\n        const stored_dont_show_warning_value = localStorage?.getItem('qs-dont-show-loss-threshold-warning');\n        const dont_show_warning = JSON.parse(stored_dont_show_warning_value ?? 'false');\n        localStorage?.setItem('qs-dont-show-loss-threshold-warning', `${!dont_show_warning}`);\n    };\n\n    return (\n        <Dialog\n            portal_element_id='modal_root_absolute'\n            title={localize('Are you sure you want to continue?')}\n            is_visible={loss_threshold_warning_data.show}\n            confirm_button_text={localize('Yes, continue')}\n            onConfirm={handleContinueBot}\n            cancel_button_text={localize('Edit the amount')}\n            onCancel={handleAmountEdit}\n            is_mobile_full_width={false}\n            has_close_icon={false}\n            className={base_classname}\n        >\n            <div className={`${base_classname}__body-text`}>\n                <Localize\n                    i18n_default_text={`Please confirm that your loss threshold amount is {{loss_amount}} {{currency}}.`}\n                    values={{\n                        loss_amount: loss_threshold_warning_data?.loss_amount,\n                        currency: loss_threshold_warning_data?.currency,\n                    }}\n                />\n            </div>\n            <Checkbox\n                defaultChecked={false}\n                label={localize('Do not show this message again.')}\n                onChange={handleDontShowAgain}\n            />\n        </Dialog>\n    );\n});\n\nexport default LossThresholdWarningDialog;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { Analytics } from '@deriv/analytics';\nimport { ApiHelpers } from '@deriv/bot-skeleton';\nimport { Autocomplete, Icon, Text } from '@deriv/components';\nimport { TItem } from '@deriv/components/src/components/dropdown-list';\nimport { useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TFormData } from '../types';\n\ntype TSymbol = {\n    component?: React.ReactNode;\n    text: string;\n    value: string;\n    group: string;\n};\n\ntype TMarketOption = {\n    symbol: TSymbol;\n};\n\nconst MarketOption: React.FC<TMarketOption> = ({ symbol }) => (\n    <div key={symbol.value} className='qs__select__option'>\n        <Icon data_testid='dt_symbol_icon' icon={`IcUnderlying${symbol.value}`} size={32} />\n        <Text className='qs__select__option__text' size='xs' color='prominent'>\n            {symbol.text}\n        </Text>\n    </div>\n);\n\nconst SymbolSelect: React.FC = () => {\n    const { quick_strategy } = useDBotStore();\n    const {\n        ui: { is_mobile, is_desktop },\n    } = useStore();\n    const { setValue } = quick_strategy;\n    const [active_symbols, setActiveSymbols] = React.useState([]);\n    const [is_input_started, setIsInputStarted] = useState(false);\n    const [input_value, setInputValue] = useState({ text: '', value: '' });\n    const [last_selected_symbol, setLastSelectedSymbol] = useState({ text: '', value: '' });\n    const { setFieldValue, values } = useFormikContext<TFormData>();\n\n    const symbols = useMemo(\n        () =>\n            active_symbols.map((symbol: TSymbol) => ({\n                component: <MarketOption key={symbol.text} symbol={symbol} />,\n                ...symbol,\n            })),\n        [active_symbols]\n    );\n\n    useEffect(() => {\n        const { active_symbols } = ApiHelpers.instance;\n        const symbols = active_symbols.getSymbolsForBot();\n\n        setActiveSymbols(symbols);\n\n        if (values?.symbol) {\n            const has_symbol = !!symbols.find((symbol: { [key: string]: string }) => symbol.value === values.symbol);\n            if (!has_symbol) {\n                setFieldValue('symbol', symbols?.[0]?.value);\n                setValue('symbol', symbols?.[0]?.value);\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        const selected_symbol = symbols.find(symbol => symbol.value === values.symbol);\n        if (selected_symbol) {\n            setInputValue({ text: selected_symbol.text, value: selected_symbol.value });\n        }\n    }, [symbols, values.symbol, setInputValue]);\n\n    const sendAssetValueToRudderStack = (item: string) => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'choose_asset',\n            asset_type: item,\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n    };\n\n    const handleFocus = () => {\n        if (is_desktop && !is_input_started) {\n            setIsInputStarted(true);\n            setInputValue({ text: '', value: '' });\n        }\n    };\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setInputValue({ ...input_value, text: e.target.value });\n    };\n\n    const handleItemSelection = (item: TItem) => {\n        if (item) {\n            const { value } = item as TSymbol;\n            sendAssetValueToRudderStack(item.text);\n            setFieldValue('symbol', value);\n            setValue('symbol', value);\n            setIsInputStarted(false);\n        }\n    };\n\n    const handleHideDropdownList = () => {\n        if (is_desktop) {\n            const selectedSymbol = symbols.find(symbol => symbol.value === values.symbol);\n            if (selectedSymbol && selectedSymbol.text !== input_value.text) {\n                setInputValue({ text: selectedSymbol.text, value: selectedSymbol.value });\n                setLastSelectedSymbol({ text: selectedSymbol.text, value: selectedSymbol.value });\n                setIsInputStarted(false);\n            }\n            if (!selectedSymbol) {\n                setInputValue({ text: last_selected_symbol.text, value: last_selected_symbol.value });\n                setIsInputStarted(false);\n            }\n        }\n    };\n\n    return (\n        <div className='qs__form__field qs__form__field__input'>\n            <Field name='symbol' key='asset' id='asset'>\n                {({ field: { value, ...rest_field } }: FieldProps) => (\n                    <>\n                        <Autocomplete\n                            {...rest_field}\n                            readOnly={is_mobile}\n                            inputMode='none'\n                            data-testid='qs_autocomplete_symbol'\n                            autoComplete='off'\n                            className='qs__autocomplete'\n                            value={input_value.text}\n                            list_items={symbols}\n                            onItemSelection={handleItemSelection}\n                            onChange={handleInputChange}\n                            onFocus={handleFocus}\n                            onHideDropdownList={handleHideDropdownList}\n                            leading_icon={<Icon icon={`IcUnderlying${input_value.value}`} size={24} />}\n                        />\n                    </>\n                )}\n            </Field>\n        </div>\n    );\n};\n\nexport default SymbolSelect;\n","import React from 'react';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport debounce from 'lodash.debounce';\nimport { Analytics } from '@deriv/analytics';\nimport { ApiHelpers } from '@deriv/bot-skeleton';\nimport { Autocomplete, IconTradeTypes, Text } from '@deriv/components';\nimport { TItem } from '@deriv/components/src/components/dropdown-list';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TFormData } from '../types';\n\ntype TTradeType = {\n    component?: React.ReactNode;\n    text: string;\n    value: string;\n    group: string;\n    icon: string[];\n};\n\ntype TTradeTypeOption = {\n    trade_type: TTradeType;\n};\n\nconst TradeTypeOption: React.FC<TTradeTypeOption> = ({ trade_type }: TTradeTypeOption) => (\n    <div key={trade_type.value} className='qs__select__option'>\n        <IconTradeTypes type={trade_type.icon[0]} className='qs__select__option__icon' />\n        <IconTradeTypes type={trade_type.icon[1]} className='qs__select__option__icon' />\n        <Text className='qs__select__option__text' size='xs' color='prominent'>\n            {trade_type.text}\n        </Text>\n    </div>\n);\n\nconst TradeTypeSelect: React.FC = () => {\n    const [trade_types, setTradeTypes] = React.useState([]);\n    const { setFieldValue, values, validateForm } = useFormikContext<TFormData>();\n    const { quick_strategy } = useDBotStore();\n    const { setValue } = quick_strategy;\n    const selected = values?.tradetype;\n    const sendTradeTypeToRudderStack = (item: string) => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'choose_trade_type',\n            trade_type: item,\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n    };\n\n    React.useEffect(() => {\n        const first_time_user_data = !(JSON.parse(localStorage?.getItem('qs-fields') as string) as TFormData);\n        if (first_time_user_data) {\n            setFieldValue?.('tradetype', (trade_types?.[0] as TTradeType)?.value);\n            validateForm();\n            setValue('tradetype', (trade_types?.[0] as TTradeType)?.value);\n        }\n    }, []);\n\n    React.useEffect(() => {\n        if (values?.symbol && selected !== '') {\n            const { contracts_for } = ApiHelpers.instance;\n            const getTradeTypes = async () => {\n                const trade_types = await contracts_for.getTradeTypesForQuickStrategy(values?.symbol);\n                setTradeTypes(trade_types);\n                const has_selected = trade_types?.some((trade_type: TTradeType) => trade_type.value === selected);\n                if (!has_selected && trade_types?.[0]?.value !== selected) {\n                    await setFieldValue?.('tradetype', trade_types?.[0].value || '');\n                    await validateForm();\n                    setValue('tradetype', trade_types?.[0].value);\n                }\n            };\n            debounce(async () => {\n                getTradeTypes();\n            }, 100)();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [values?.symbol, selected]);\n\n    const trade_type_dropdown_options = React.useMemo(\n        () =>\n            trade_types.map((trade_type: TTradeType) => ({\n                component: <TradeTypeOption key={trade_type.text} trade_type={trade_type} />,\n                ...trade_type,\n            })),\n        [trade_types]\n    );\n\n    return (\n        <div className='qs__form__field qs__form__field__input qs__form__field__group-icons'>\n            <Field name='tradetype' key='tradetype' id='tradetype'>\n                {({ field }: FieldProps) => {\n                    const selected_trade_type = trade_type_dropdown_options?.find(\n                        (trade_type: TTradeType) => trade_type.value === field.value\n                    );\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='qs_autocomplete_tradetype'\n                            autoComplete='off'\n                            className='qs__autocomplete'\n                            value={selected_trade_type?.text || ''}\n                            list_items={trade_type_dropdown_options}\n                            onItemSelection={(item: TItem) => {\n                                if ((item as TTradeType)?.value) {\n                                    sendTradeTypeToRudderStack(item.text);\n                                    setFieldValue?.('tradetype', (item as TTradeType)?.value as string);\n                                    setValue('tradetype', (item as TTradeType)?.value as string);\n                                }\n                            }}\n                            leading_icon={\n                                <Text>\n                                    <IconTradeTypes type={selected_trade_type?.icon?.[0] || 'CALL'} />\n                                    <IconTradeTypes type={selected_trade_type?.icon?.[1] || 'PUT'} />\n                                </Text>\n                            }\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n};\n\nexport default TradeTypeSelect;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { Analytics } from '@deriv/analytics';\nimport { ApiHelpers } from '@deriv/bot-skeleton';\nimport { Autocomplete, Text } from '@deriv/components';\nimport { TItem } from '@deriv/components/src/components/dropdown-list';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TFormData } from '../types';\n\ntype TContractTypesItem = {\n    text: string;\n    value: string;\n};\n\ntype TContractTypes = {\n    name: string;\n    attached?: boolean;\n};\n\nconst ContractTypes: React.FC<TContractTypes> = observer(({ name }) => {\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const [list, setList] = React.useState<TContractTypesItem[]>([]);\n    const { quick_strategy } = useDBotStore();\n    const { setValue } = quick_strategy;\n    const { setFieldValue, validateForm, values } = useFormikContext<TFormData>();\n    const { symbol, tradetype } = values;\n    const selected = values?.type;\n\n    const sendTradeTypeToRudderStack = (item: string) => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'choose_trade_type',\n            trade_type: item,\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n    };\n\n    const sendTradeTypeValueToRudderStack = (item: string) => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'choose_trade_type_mode',\n            trade_type_mode: item,\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n    };\n\n    React.useEffect(() => {\n        if (tradetype && symbol && selected !== '') {\n            const getContractTypes = async () => {\n                const { contracts_for } = ApiHelpers.instance;\n                const categories = await contracts_for.getContractTypes(tradetype);\n                setList(categories);\n                const has_selected = categories?.some((contract: TContractTypesItem) => contract.value === selected);\n                if (!has_selected) {\n                    setFieldValue?.(name, categories?.[0]?.value);\n                    setValue(name, categories?.[0]?.value);\n                    validateForm();\n                }\n            };\n            getContractTypes();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [symbol, tradetype, selected]);\n\n    const handleChange = (value: string) => {\n        setFieldValue?.(name, value);\n        setValue(name, value);\n    };\n\n    const key = `qs-contract-type-${name}`;\n\n    return (\n        <div className='qs__form__field qs__form__field__input no-top-spacing'>\n            <Field name={name} key={key} id={key}>\n                {({ field }: FieldProps) => {\n                    const selected_item = list?.find((item: TContractTypesItem) => item.value === field.value);\n                    if (is_mobile) {\n                        return (\n                            <ul className='qs__form__field__list' data-testid='dt-qs-contract-types'>\n                                {list.map((item: TContractTypesItem) => {\n                                    const is_active = selected_item?.value === item.value;\n                                    return (\n                                        <li\n                                            key={item.value}\n                                            className={classNames('qs__form__field__list__item', {\n                                                'qs__form__field__list__item--active': is_active,\n                                            })}\n                                            onClick={() => {\n                                                sendTradeTypeValueToRudderStack(item.text);\n                                                handleChange(item.value);\n                                            }}\n                                        >\n                                            <Text size='xs' color='prominent' weight={is_active ? 'bold ' : 'normal'}>\n                                                {item.text}\n                                            </Text>\n                                        </li>\n                                    );\n                                })}\n                            </ul>\n                        );\n                    }\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='qs_autocomplete_contract_type'\n                            autoComplete='off'\n                            className='qs__select contract-type'\n                            value={selected_item?.text || ''}\n                            list_items={list}\n                            onItemSelection={(item: TItem) => {\n                                if ((item as TContractTypesItem)?.value) {\n                                    handleChange((item as TContractTypesItem)?.value as string);\n                                    sendTradeTypeToRudderStack(item?.text);\n                                }\n                            }}\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n});\n\nexport default ContractTypes;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { Analytics } from '@deriv/analytics';\nimport { ApiHelpers } from '@deriv/bot-skeleton';\nimport { Autocomplete } from '@deriv/components';\nimport { TItem } from '@deriv/components/src/components/dropdown-list';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TDurationItemRaw, TFormData } from '../types';\n\ntype TDurationUnitItem = {\n    text: string;\n    value: string;\n    min: number;\n    max: number;\n};\n\ntype TDurationUnit = {\n    attached?: boolean;\n};\n\nconst DurationUnit: React.FC<TDurationUnit> = ({ attached }: TDurationUnit) => {\n    const [list, setList] = React.useState<TDurationUnitItem[]>([]);\n    const { quick_strategy } = useDBotStore();\n    const { setValue, setCurrentDurationMinMax } = quick_strategy;\n    const { setFieldValue, validateForm, values } = useFormikContext<TFormData>();\n    const { symbol, tradetype } = values;\n    const selected = values?.durationtype;\n\n    const sendDurationTypeToRudderStack = (item: string) => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'choose_duration',\n            duration_type: item,\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n    };\n\n    React.useEffect(() => {\n        if (tradetype && symbol) {\n            const getDurationUnits = async () => {\n                const { contracts_for } = ApiHelpers.instance;\n                const durations = await contracts_for.getDurations(symbol, tradetype);\n                const duration_units = durations?.map((duration: TDurationItemRaw) => ({\n                    text: duration.display,\n                    value: duration.unit,\n                    min: duration.min,\n                    max: duration.max,\n                }));\n                setList(duration_units);\n                const has_selected = duration_units?.some((duration: TDurationUnitItem) => duration.value === selected);\n                if (!has_selected) {\n                    setFieldValue?.('durationtype', durations?.[0]?.unit);\n                    setFieldValue?.('duration', durations?.[0]?.min).then(() => {\n                        validateForm();\n                    });\n                    setValue('durationtype', durations?.[0]?.unit);\n                    setCurrentDurationMinMax(durations?.[0]?.min, durations?.[0]?.max);\n                } else {\n                    const duration = duration_units?.find((duration: TDurationUnitItem) => duration.value === selected);\n                    setFieldValue?.('duration', duration?.min).then(() => {\n                        validateForm();\n                    });\n                    setValue('duration', duration?.min);\n                    setCurrentDurationMinMax(duration?.min, duration?.max);\n                }\n            };\n            getDurationUnits();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [symbol, tradetype]);\n\n    return (\n        <div\n            className={classNames('qs__form__field qs__form__field__input', {\n                'no-top-border-radius': attached,\n            })}\n        >\n            <Field name='durationtype' key='durationtype' id='durationtype'>\n                {({ field }: FieldProps) => {\n                    const selected_item = list?.find(item => item.value === field.value);\n                    return (\n                        <Autocomplete\n                            {...field}\n                            readOnly\n                            inputMode='none'\n                            data-testid='qs_autocomplete_durationtype'\n                            autoComplete='off'\n                            className='qs__select'\n                            value={selected_item?.text || ''}\n                            list_items={list}\n                            onItemSelection={(item: TItem) => {\n                                sendDurationTypeToRudderStack(item?.text);\n                                if ((item as TDurationUnitItem)?.value) {\n                                    setCurrentDurationMinMax(\n                                        (item as TDurationUnitItem)?.min,\n                                        (item as TDurationUnitItem)?.max\n                                    );\n                                    setFieldValue?.('durationtype', (item as TDurationUnitItem)?.value as string);\n                                    setValue('durationtype', (item as TDurationUnitItem)?.value as string);\n                                    setFieldValue?.('duration', (item as TDurationUnitItem)?.min).then(() => {\n                                        validateForm();\n                                    });\n                                    setValue('duration', (item as TDurationUnitItem)?.min);\n                                }\n                            }}\n                        />\n                    );\n                }}\n            </Field>\n        </div>\n    );\n};\n\nexport default DurationUnit;\n","import React, { MouseEvent } from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport debounce from 'lodash.debounce';\nimport { Analytics } from '@deriv/analytics';\nimport { Input, Popover } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { DEBOUNCE_INTERVAL_TIME } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TQSInput = {\n    name: string;\n    onChange: (key: string, value: string | number | boolean) => void;\n    type?: string;\n    attached?: boolean;\n    should_have?: { key: string; value: string | number | boolean }[];\n    disabled?: boolean;\n    min?: number;\n    max?: number;\n};\n\nconst QSInput: React.FC<TQSInput> = observer(\n    ({ name, onChange, type = 'text', attached = false, disabled = false, min, max }: TQSInput) => {\n        const {\n            ui: { is_mobile },\n        } = useStore();\n        const { quick_strategy } = useDBotStore();\n        const { loss_threshold_warning_data } = quick_strategy;\n\n        const [has_focus, setFocus] = React.useState(false);\n        const { setFieldValue, setFieldTouched } = useFormikContext();\n        const is_number = type === 'number';\n\n        const sendPlusValueToRudderstack = (value: string) => {\n            Analytics.trackEvent('ce_bot_quick_strategy_form', {\n                action: 'change_parameter_value',\n                parameter_value: value,\n                plus_push_amount: value,\n            });\n        };\n\n        const sendMinusValueToRudderstack = (value: string) => {\n            Analytics.trackEvent('ce_bot_quick_strategy_form', {\n                action: 'change_parameter_value',\n                parameter_value: value,\n                minus_push_amount: value,\n            });\n        };\n\n        const debounceChangePlus = React.useCallback(\n            debounce(sendPlusValueToRudderstack, DEBOUNCE_INTERVAL_TIME, {\n                trailing: true,\n                leading: false,\n            }),\n            []\n        );\n\n        const debounceChangeMinus = React.useCallback(\n            debounce(sendMinusValueToRudderstack, DEBOUNCE_INTERVAL_TIME, {\n                trailing: true,\n                leading: false,\n            }),\n            []\n        );\n\n        const handleChange = (e: MouseEvent<HTMLButtonElement>, value: string) => {\n            e?.preventDefault();\n            onChange(name, value);\n            setFieldTouched(name, true, true);\n            setFieldValue(name, value);\n        };\n\n        const handleOnChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n            const input_value = e.target.value;\n            const value = is_number ? Number(input_value) : input_value;\n            onChange(name, value);\n        };\n\n        return (\n            <Field name={name} key={name} id={name}>\n                {({ field, meta }: FieldProps) => {\n                    const { error } = meta;\n                    const has_error = error;\n                    return (\n                        <div\n                            className={classNames('qs__form__field qs__form__field__input', {\n                                'no-top-spacing': attached,\n                                'no-border-top': attached,\n                            })}\n                        >\n                            <div\n                                data-testid='qs-input-container'\n                                onMouseEnter={() => setFocus(true)}\n                                onMouseLeave={() => setFocus(false)}\n                            >\n                                <Popover\n                                    alignment='bottom'\n                                    message={error}\n                                    is_open={is_mobile ? !!error : !!error && has_focus}\n                                    zIndex='9999'\n                                    classNameBubble='qs__warning-bubble'\n                                    has_error\n                                    should_disable_pointer_events\n                                >\n                                    <Input\n                                        data_testId='qs-input'\n                                        className={classNames(\n                                            'qs__input',\n                                            { error: has_error },\n                                            { highlight: loss_threshold_warning_data?.highlight_field?.includes(name) }\n                                        )}\n                                        type={type}\n                                        leading_icon={\n                                            is_number ? (\n                                                <button\n                                                    disabled={!!min && field.value <= min}\n                                                    data-testid='qs-input-decrease'\n                                                    onClick={(e: MouseEvent<HTMLButtonElement>) => {\n                                                        const value = Number(field.value) - 1;\n                                                        handleChange(e, String(value % 1 ? value.toFixed(2) : value));\n                                                        debounceChangeMinus(\n                                                            String(value % 1 ? value.toFixed(2) : value)\n                                                        );\n                                                    }}\n                                                >\n                                                    -\n                                                </button>\n                                            ) : undefined\n                                        }\n                                        trailing_icon={\n                                            is_number ? (\n                                                <button\n                                                    disabled={!!max && field.value >= max}\n                                                    data-testid='qs-input-increase'\n                                                    onClick={(e: MouseEvent<HTMLButtonElement>) => {\n                                                        const value = Number(field.value) + 1;\n                                                        handleChange(e, String(value % 1 ? value.toFixed(2) : value));\n                                                        debounceChangePlus(\n                                                            String(value % 1 ? value.toFixed(2) : value)\n                                                        );\n                                                    }}\n                                                >\n                                                    +\n                                                </button>\n                                            ) : null\n                                        }\n                                        {...field}\n                                        disabled={disabled}\n                                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => handleOnChange(e)}\n                                    />\n                                </Popover>\n                            </div>\n                        </div>\n                    );\n                }}\n            </Field>\n        );\n    }\n);\n\nexport default QSInput;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, FieldProps, useFormikContext } from 'formik';\nimport { Checkbox, Popover } from '@deriv/components';\nimport { TFormData } from '../types';\n\ntype TQSCheckbox = {\n    name: string;\n    children?: React.ReactNode;\n    label: string;\n    description?: string;\n    attached?: boolean;\n};\n\nconst QSCheckbox: React.FC<TQSCheckbox> = ({ name, label, description, attached = false }) => {\n    const { values, setFieldValue, validateForm } = useFormikContext<TFormData>();\n\n    const handleChange = () => {\n        setFieldValue(name, !values?.[name]).finally(() => {\n            validateForm();\n        });\n    };\n\n    return (\n        <Field name={name}>\n            {({ field }: FieldProps) => {\n                return (\n                    <div\n                        className={classNames('qs__form__field qs__form__field__input', {\n                            'no-border-bottom-radius': attached,\n                        })}\n                    >\n                        <div className='qs__checkbox'>\n                            <div className='qs__checkbox__container'>\n                                <Checkbox {...field} label={label} onChange={handleChange} data-testid='qs-checkbox' />\n                                <span>\n                                    <Popover\n                                        classNameTargetIcon='qs__checkbox__info'\n                                        message={description}\n                                        zIndex='9999'\n                                        alignment='top'\n                                        icon='info'\n                                    />\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                );\n            }}\n        </Field>\n    );\n};\n\nexport default QSCheckbox;\n","import React from 'react';\nimport { Analytics } from '@deriv/analytics';\nimport { Popover, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\n\ntype TQSInputLabel = {\n    children?: React.ReactNode;\n    label?: string;\n    description?: string;\n};\n\nconst QSInputLabel: React.FC<TQSInputLabel> = observer(({ label, description }) => {\n    const sendEventToRudderstack = () => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'info_popup_open',\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n    };\n\n    return (\n        <div className='qs__form__field'>\n            <div className='qs__input-label'>\n                <Text weight='bold' className='qs__input-label__wrapper' size='xs'>\n                    {label}\n                </Text>\n                <span>\n                    <Popover\n                        onClick={sendEventToRudderstack}\n                        message={description}\n                        zIndex='9999'\n                        alignment='top'\n                        icon='info'\n                    />\n                </span>\n            </div>\n        </div>\n    );\n});\n\nexport default QSInputLabel;\n","/* eslint-disable simple-import-sort/imports */\nimport React from 'react';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { observer, useStore } from '@deriv/stores';\nimport './quick-strategy.scss';\nimport SymbolSelect from './selects/symbol';\nimport TradeTypeSelect from './selects/trade-type';\nimport ContractTypeSelect from './selects/contract-type';\nimport DurationTypeSelect from './selects/duration-type';\nimport QSInput from './inputs/qs-input';\nimport QSCheckbox from './inputs/qs-checkbox';\nimport QSInputLabel from './inputs/qs-input-label';\nimport { STRATEGIES } from './config';\nimport { TConfigItem, TFormData, TShouldHave } from './types';\nimport { useFormikContext } from 'formik';\nimport debounce from 'lodash.debounce';\nimport { Analytics } from '@deriv/analytics';\nimport { DEBOUNCE_INTERVAL_TIME } from 'Constants/bot-contents';\n\nconst QuickStrategyForm = observer(() => {\n    const { ui } = useStore();\n    const { quick_strategy } = useDBotStore();\n    const { selected_strategy, setValue, form_data } = quick_strategy;\n    const config: TConfigItem[][] = STRATEGIES[selected_strategy]?.fields;\n    const { is_mobile } = ui;\n    const { values, setFieldTouched, setFieldValue } = useFormikContext<TFormData>();\n    const { current_duration_min_max } = quick_strategy;\n\n    const sendInitialStakeValueToruddetack = (key: string, value: string | number | boolean) => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'change_parameter_value',\n            parameter_value: value,\n            parameter_type: key,\n        });\n    };\n\n    const debounceChange = React.useCallback(\n        debounce(sendInitialStakeValueToruddetack, DEBOUNCE_INTERVAL_TIME, {\n            trailing: true,\n            leading: false,\n        }),\n        []\n    );\n\n    React.useEffect(() => {\n        window.addEventListener('keydown', handleEnter);\n        return () => {\n            window.removeEventListener('keydown', handleEnter);\n        };\n    }, []);\n\n    const onChange = async (key: string, value: string | number | boolean) => {\n        setValue(key, value);\n        await setFieldTouched(key, true, true);\n        await setFieldValue(key, value);\n        debounceChange(key, value);\n    };\n\n    const handleEnter = (event: KeyboardEvent) => {\n        if (event?.key && event.key == 'Enter') {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    };\n\n    const shouldEnable = (should_have: TShouldHave[]) =>\n        should_have.every(item => {\n            const item_value = values?.[item.key]?.toString();\n            if (item.multiple) return item.multiple.includes(item_value);\n            return values[item.key as keyof TFormData] === item.value;\n        });\n\n    const renderForm = () => {\n        return config.map((group, group_index) => {\n            if (!group?.length) return null;\n            return (\n                <div className='qs__body__content__form__group' key={group_index}>\n                    {group.map((field, field_index) => {\n                        const key = `${field.name || field.type} + ${field_index}`;\n\n                        if (\n                            (is_mobile && field.hide?.includes('mobile')) ||\n                            (!is_mobile && field.hide?.includes('desktop'))\n                        ) {\n                            return null;\n                        }\n\n                        switch (field.type) {\n                            // Generic or common fields\n                            case 'number': {\n                                if (!field.name) return null;\n                                const { should_have = [], hide_without_should_have = false } = field;\n                                const should_enable = shouldEnable(should_have);\n                                const initial_stake = 1;\n                                let min = 1;\n                                let max;\n                                if (field.name === 'duration' && current_duration_min_max) {\n                                    min = current_duration_min_max.min;\n                                    max = current_duration_min_max.max;\n                                }\n                                const should_validate = field.should_have;\n                                if (should_validate && field.name === 'max_stake') {\n                                    min = +form_data?.stake;\n                                    if (isNaN(min)) {\n                                        min = +initial_stake;\n                                    }\n                                }\n                                if (should_validate && field.name === 'last_digit_prediction') {\n                                    if (\n                                        isNaN(+form_data?.last_digit_prediction) ||\n                                        +form_data?.last_digit_prediction === 1\n                                    ) {\n                                        min = 0;\n                                    }\n                                    if (+form_data?.last_digit_prediction > 0) {\n                                        min = +form_data?.last_digit_prediction - 1;\n                                    }\n                                    max = 9;\n                                }\n                                if (should_have?.length) {\n                                    if (!should_enable && (is_mobile || hide_without_should_have)) {\n                                        return null;\n                                    }\n                                    return (\n                                        <QSInput\n                                            {...field}\n                                            key={key}\n                                            name={field.name as string}\n                                            disabled={!should_enable}\n                                            onChange={onChange}\n                                            min={min}\n                                            max={max}\n                                        />\n                                    );\n                                }\n                                return (\n                                    <QSInput\n                                        {...field}\n                                        onChange={onChange}\n                                        key={key}\n                                        name={field.name as string}\n                                        min={min}\n                                        max={max}\n                                    />\n                                );\n                            }\n                            case 'label': {\n                                if (!field.label) return null;\n                                const { should_have = [], hide_without_should_have = false } = field;\n                                const should_enable = shouldEnable(should_have);\n                                if (!should_enable && hide_without_should_have) {\n                                    return null;\n                                }\n                                return (\n                                    <QSInputLabel key={key} label={field.label} description={field.description || ''} />\n                                );\n                            }\n                            case 'checkbox':\n                                return (\n                                    <QSCheckbox\n                                        {...field}\n                                        key={key}\n                                        name={field.name as string}\n                                        label={field.label as string}\n                                    />\n                                );\n                            // Dedicated components only for Quick-Strategy\n                            case 'symbol':\n                                return <SymbolSelect {...field} key={key} />;\n                            case 'tradetype':\n                                return <TradeTypeSelect {...field} key={key} />;\n                            case 'durationtype':\n                                return <DurationTypeSelect {...field} key={key} />;\n                            case 'contract_type':\n                                return <ContractTypeSelect {...field} key={key} name={field.name as string} />;\n                            default:\n                                return null;\n                        }\n                    })}\n                </div>\n            );\n        });\n    };\n\n    return <div>{renderForm()}</div>;\n});\n\nexport default QuickStrategyForm;\n","import React, { useState } from 'react';\nimport { Form as FormikForm, Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { config as qs_config } from '@deriv/bot-skeleton';\nimport { MobileFullPageModal, Modal } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport DesktopFormWrapper from './form-wrappers/desktop-form-wrapper';\nimport MobileFormWrapper from './form-wrappers/mobile-form-wrapper';\nimport LossThresholdWarningDialog from './parts/loss-threshold-warning-dialog';\nimport { STRATEGIES } from './config';\nimport Form from './form';\nimport { TConfigItem, TFormData } from './types';\nimport './quick-strategy.scss';\nimport { Analytics } from '@deriv/analytics';\n\ntype TFormikWrapper = {\n    children: React.ReactNode;\n};\n\nconst getErrorMessage = (dir: 'MIN' | 'MAX', value: number, type = 'DEFAULT') => {\n    const errors: { [key: string]: { MIN: string; MAX: string } } = {\n        DURATION: {\n            MIN: localize('Minimum duration: {{ value }}', { value }),\n            MAX: localize('Maximum duration: {{ value }}', { value }),\n        },\n        LAST_DIGIT_PREDICTION: {\n            MIN: localize('Enter a value from {{ value }} to 9.', { value }),\n            MAX: localize('Enter a value from 0 to {{ value }}.', { value }),\n        },\n        DEFAULT: {\n            MIN: localize('The value must be equal or greater than {{ value }}', { value }),\n            MAX: localize('The value must be equal or less than {{ value }}', { value }),\n        },\n    };\n    return errors[type][dir];\n};\n\nconst FormikWrapper: React.FC<TFormikWrapper> = observer(({ children }) => {\n    const { quick_strategy } = useDBotStore();\n    const {\n        selected_strategy,\n        form_data,\n        onSubmit,\n        setValue,\n        current_duration_min_max,\n        initializeLossThresholdWarningData,\n    } = quick_strategy;\n    const config: TConfigItem[][] = STRATEGIES[selected_strategy]?.fields;\n    const [dynamic_schema, setDynamicSchema] = useState(Yup.object().shape({}));\n\n    const initial_value: TFormData = {\n        symbol: qs_config.QUICK_STRATEGY.DEFAULT.symbol,\n        tradetype: '',\n        durationtype: qs_config.QUICK_STRATEGY.DEFAULT.durationtype,\n        stake: '1',\n        loss: '0',\n        profit: '0',\n        size: String(qs_config.QUICK_STRATEGY.DEFAULT.size),\n        duration: '1',\n        unit: String(qs_config.QUICK_STRATEGY.DEFAULT.unit),\n        action: 'RUN',\n        max_stake: 10,\n        boolean_max_stake: false,\n        last_digit_prediction: 1,\n    };\n\n    React.useEffect(() => {\n        const data = JSON.parse(localStorage.getItem('qs-fields') || '{}');\n        Object.keys(data).forEach(key => {\n            initial_value[key as keyof TFormData] = data[key];\n            setValue(key, data[key]);\n        });\n        initializeLossThresholdWarningData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const getErrors = (formikData: TFormData) => {\n        const sub_schema: Record<string, any> = {};\n        config.forEach(group => {\n            if (!group?.length) return null;\n            group.forEach(field => {\n                if (field?.validation?.length && field?.name) {\n                    if (field.validation.includes('number')) {\n                        let schema: Record<string, any> = Yup.number().typeError(localize('Must be a number'));\n                        let min = 0;\n                        let max = 10;\n                        let min_error = getErrorMessage('MIN', min);\n                        let max_error = getErrorMessage('MAX', max);\n                        let integer_error_message = '';\n                        if (field.name === 'duration' && current_duration_min_max) {\n                            min = current_duration_min_max.min;\n                            max = current_duration_min_max.max;\n                            min_error = getErrorMessage('MIN', min, 'DURATION');\n                            max_error = getErrorMessage('MAX', max, 'DURATION');\n                        }\n                        const should_validate = field.should_have\n                            ? field.should_have?.every(item => {\n                                  const item_value = formikData?.[item.key]?.toString();\n                                  if (item.multiple) return item.multiple.includes(item_value);\n                                  return formikData?.[item.key] === item.value;\n                              })\n                            : true;\n                        if (should_validate && field.name === 'max_stake') {\n                            min = +form_data?.stake;\n                            if (isNaN(min)) {\n                                min = +initial_value.stake;\n                            }\n                            min_error = getErrorMessage('MIN', min);\n                        }\n                        if (should_validate && field.name === 'last_digit_prediction') {\n                            min = 0;\n                            max = 9;\n                            max_error = getErrorMessage('MAX', max, 'LAST_DIGIT_PREDICTION');\n                            integer_error_message = 'Enter a value from 0 to 9.';\n                        }\n                        if (should_validate) {\n                            field.validation.forEach(validation => {\n                                if (typeof validation === 'string') {\n                                    switch (validation) {\n                                        case 'required':\n                                            schema = schema.required(localize('Field cannot be empty'));\n                                            break;\n                                        case 'min':\n                                            schema = schema.min(min, min_error);\n                                            break;\n                                        case 'max':\n                                            schema = schema.max(max, max_error);\n                                            break;\n                                        case 'ceil':\n                                            schema = schema.round('ceil');\n                                            break;\n                                        case 'floor':\n                                            schema = schema.round('floor');\n                                            break;\n                                        case 'integer':\n                                            schema = schema.integer(integer_error_message);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                } else if (typeof validation === 'object') {\n                                    if (validation?.type) {\n                                        schema = schema[validation.type](\n                                            validation.value,\n                                            localize(validation.getMessage(validation.value))\n                                        );\n                                    }\n                                }\n                            });\n                        }\n                        sub_schema[field.name] = schema;\n                    }\n                }\n            });\n        });\n        setDynamicSchema(Yup.object().shape(sub_schema));\n    };\n\n    const handleSubmit = (form_data: TFormData) => {\n        onSubmit(form_data); // true to load and run the bot\n        localStorage?.setItem('qs-fields', JSON.stringify(form_data));\n    };\n\n    return (\n        <Formik\n            initialValues={initial_value}\n            validationSchema={dynamic_schema}\n            onSubmit={handleSubmit}\n            validate={values => getErrors(values)}\n            validateOnBlur\n            validateOnChange\n            validateOnMount\n        >\n            {children}\n        </Formik>\n    );\n});\n\nconst QuickStrategy = observer(() => {\n    const { quick_strategy } = useDBotStore();\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const { is_open, setFormVisibility } = quick_strategy;\n\n    React.useEffect(() => {\n        if (is_open) {\n            Analytics.trackEvent('ce_bot_quick_strategy_form', {\n                action: 'open',\n                form_source: 'ce_bot_quick_strategy_form',\n            });\n        }\n    }, [is_open]);\n\n    const handleClose = () => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'close',\n            form_source: 'ce_bot_quick_strategy_form',\n        });\n        setFormVisibility(false);\n    };\n\n    return (\n        <FormikWrapper>\n            <FormikForm>\n                <LossThresholdWarningDialog />\n                {is_mobile ? (\n                    <MobileFullPageModal\n                        is_modal_open={is_open}\n                        className='quick-strategy__wrapper'\n                        header={localize('Quick Strategy')}\n                        onClickClose={handleClose}\n                        height_offset='8rem'\n                    >\n                        <MobileFormWrapper>\n                            <Form />\n                        </MobileFormWrapper>\n                    </MobileFullPageModal>\n                ) : (\n                    <Modal className='modal--strategy' is_open={is_open} width='72rem'>\n                        <DesktopFormWrapper>\n                            <Form />\n                        </DesktopFormWrapper>\n                    </Modal>\n                )}\n            </FormikForm>\n        </FormikWrapper>\n    );\n});\n\nexport default QuickStrategy;\n","import QuickStrategy from './quick-strategy';\n\nexport default QuickStrategy;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\ntype TIconRadio = {\n    google_drive_connected?: boolean;\n    icon: React.ReactElement<{ className: string }, string>;\n    text: string;\n    onDriveConnect?: () => void;\n};\nconst IconRadio = ({ icon, text, google_drive_connected, onDriveConnect }: TIconRadio) => {\n    const is_drive_radio = text === 'Google Drive';\n\n    return (\n        <div className='save-type__container'>\n            <div className='save-type__radio'>\n                {icon &&\n                    React.cloneElement(icon, {\n                        className: classNames(\n                            'save-type__icon',\n                            {\n                                'save-type__icon--active': is_drive_radio && google_drive_connected,\n                                'save-type__icon--disabled': is_drive_radio && !google_drive_connected,\n                            },\n                            icon.props.className\n                        ),\n                    })}\n                <Text\n                    as='p'\n                    align='center'\n                    size='xxs'\n                    color={is_drive_radio && !google_drive_connected ? 'disabled' : 'prominent'}\n                    line_height='s'\n                    className='save-type__radio-text'\n                >\n                    {localize(text)}\n                </Text>\n            </div>\n            {is_drive_radio && (\n                <Text\n                    as='p'\n                    align='center'\n                    size='xs'\n                    weight='bold'\n                    styles={{ color: 'var(--brand-red-coral)' }}\n                    className='save-type__drive-status'\n                    onClick={onDriveConnect}\n                >\n                    {localize(google_drive_connected ? localize('Disconnect') : localize('Connect'))}\n                </Text>\n            )}\n        </div>\n    );\n};\n\nexport default IconRadio;\n","import React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport { config, save_types } from '@deriv/bot-skeleton';\nimport { Button, Icon, Input, MobileFullPageModal, Modal, RadioGroup, Text, ThemedScrollbars } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport IconRadio from './icon-radio';\n\ntype TSaveModalForm = {\n    bot_name: string;\n    button_status: number;\n    google_drive_connected?: boolean;\n    is_authorised: boolean;\n    is_mobile?: boolean;\n    is_onscreen_keyboard_active?: boolean;\n    is_save_modal_open?: boolean;\n    icon?: string;\n    text?: string;\n    onConfirmSave: () => void;\n    onDriveConnect: () => void;\n    toggleSaveModal: () => void;\n    setCurrentFocus: () => void;\n    validateBotName: () => void;\n};\n\nconst SaveModalForm = ({\n    bot_name,\n    button_status,\n    is_authorised,\n    onConfirmSave,\n    onDriveConnect,\n    validateBotName,\n    toggleSaveModal,\n    is_mobile,\n    is_onscreen_keyboard_active,\n    setCurrentFocus,\n}: TSaveModalForm) => (\n    <Formik\n        initialValues={{\n            is_local: true,\n            save_as_collection: false,\n            bot_name: bot_name === config.default_file_name ? '' : bot_name,\n        }}\n        validate={validateBotName}\n        onSubmit={onConfirmSave}\n    >\n        {({ values: { is_local }, setFieldValue, touched, errors }) => {\n            const content_height = !is_mobile ? '500px' : `calc(100%)`;\n            return (\n                <ThemedScrollbars height={content_height} autohide>\n                    <Form className={classNames({ 'form--active-keyboard': is_onscreen_keyboard_active })}>\n                        <div className='modal__content'>\n                            <Text size='xs' line_height='l'>\n                                {localize(\n                                    'Enter your bot name, choose to save on your computer or Google Drive, and hit '\n                                )}\n                                <strong>{localize('Save.')}</strong>\n                            </Text>\n                            <div className='modal__content-row'>\n                                <Field name='bot_name'>\n                                    {({ field }) => (\n                                        <Input\n                                            className='save-type__input'\n                                            type='text'\n                                            placeholder={localize('Untitled Strategy')}\n                                            error={touched[field.name] && errors[field.name]}\n                                            label={localize('Bot name')}\n                                            onFocus={e => setCurrentFocus(e.currentTarget.name)}\n                                            onBlur={() => setCurrentFocus(null)}\n                                            {...field}\n                                        />\n                                    )}\n                                </Field>\n                            </div>\n                            <div className='modal__content-row'>\n                                <RadioGroup\n                                    className='radio-group__save-type'\n                                    name='is_local'\n                                    selected={() => {\n                                        if (is_authorised && !is_local) return save_types.GOOGLE_DRIVE;\n                                        return save_types.LOCAL;\n                                    }}\n                                    onToggle={() => setFieldValue('is_local', !is_local)}\n                                >\n                                    <RadioGroup.Item\n                                        id='local'\n                                        label={\n                                            <IconRadio\n                                                text={localize('Local')}\n                                                icon={<Icon icon={is_mobile ? 'IcLocal' : 'IcMyComputer'} size={48} />}\n                                            />\n                                        }\n                                        value={save_types.LOCAL}\n                                    />\n                                    <RadioGroup.Item\n                                        id='drive'\n                                        label={\n                                            <IconRadio\n                                                text={'Google Drive'}\n                                                icon={<Icon icon={'IcGoogleDrive'} size={48} />}\n                                                google_drive_connected={is_authorised}\n                                                onDriveConnect={onDriveConnect}\n                                            />\n                                        }\n                                        value={save_types.GOOGLE_DRIVE}\n                                        disabled={!is_authorised}\n                                        className={classNames({\n                                            'dc-radio-group__item-disabled': !is_authorised,\n                                        })}\n                                    />\n                                </RadioGroup>\n                            </div>\n                            {/* removed this from the save modal popup because it is not there in the design */}\n                            {/* <>\n                                <Field name='save_as_collection'>\n                                    {({ field }) => (\n                                        <Checkbox\n                                            onChange={() => setFieldValue('save_as_collection', !save_as_collection)}\n                                            defaultChecked={save_as_collection}\n                                            label={\n                                                <Text size='xs' line_height='s' weight='bold'>\n                                                    <Localize i18n_default_text='Save as collection' />\n                                                </Text>\n                                            }\n                                            classNameLabel='save-type__checkbox-text'\n                                            {...field}\n                                        />\n                                    )}\n                                </Field>\n                                <div className='save-type__checkbox-description'>\n                                    {localize(\n                                        'Enabling this allows you to save your blocks as one collection which can be easily integrated into other bots.'\n                                    )}\n                                </div>\n                            </> */}\n                        </div>\n                        <div\n                            className={classNames('modal__footer', {\n                                'modal__footer--active-keyboard': is_onscreen_keyboard_active,\n                            })}\n                        >\n                            <Button\n                                type='button'\n                                className='modal__footer--button'\n                                text={localize('Cancel')}\n                                onClick={toggleSaveModal}\n                                secondary\n                            />\n                            <Button\n                                className='modal__footer--button'\n                                type='submit'\n                                is_loading={button_status === 1}\n                                is_submit_success={button_status === 2}\n                                text={localize('Continue')}\n                                primary\n                            />\n                        </div>\n                    </Form>\n                </ThemedScrollbars>\n            );\n        }}\n    </Formik>\n);\nconst SaveModal = observer(() => {\n    const { save_modal, google_drive, dashboard, load_modal } = useDBotStore();\n    const { ui } = useStore();\n    const { dashboard_strategies } = load_modal;\n    const {\n        button_status,\n        bot_name,\n        is_save_modal_open,\n        onConfirmSave,\n        onDriveConnect,\n        toggleSaveModal,\n        updateBotName,\n        validateBotName,\n    } = save_modal;\n    const { is_authorised } = google_drive;\n    const { is_onscreen_keyboard_active, setCurrentFocus, is_mobile } = ui;\n    const { active_tab } = dashboard;\n\n    useEffect(() => {\n        if (active_tab === 1) {\n            updateBotName(dashboard_strategies?.[0]?.name ?? '');\n        }\n    }, [active_tab, dashboard_strategies, updateBotName]);\n\n    return is_mobile ? (\n        <MobileFullPageModal\n            is_modal_open={is_save_modal_open}\n            className='save-modal__wrapper'\n            header={localize('Save strategy')}\n            onClickClose={toggleSaveModal}\n            height_offset='80px'\n            page_overlay\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                is_mobile={is_mobile}\n                is_onscreen_keyboard_active={is_onscreen_keyboard_active}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </MobileFullPageModal>\n    ) : (\n        <Modal\n            title={localize('Save Strategy')}\n            className='modal--save'\n            width='32.8rem'\n            height='50rem'\n            is_open={is_save_modal_open}\n            toggleModal={toggleSaveModal}\n        >\n            <SaveModalForm\n                bot_name={bot_name}\n                button_status={button_status}\n                is_authorised={is_authorised}\n                onConfirmSave={onConfirmSave}\n                onDriveConnect={onDriveConnect}\n                validateBotName={validateBotName}\n                toggleSaveModal={toggleSaveModal}\n                setCurrentFocus={setCurrentFocus}\n            />\n        </Modal>\n    );\n});\n\nexport default SaveModal;\n","import React from 'react';\nimport ReactJoyride, { CallBackProps, Step, Styles } from 'react-joyride';\n\nimport { localize } from '@deriv/translations';\n\nconst common_tour_button_properties = {\n    fontWeight: '700',\n    fontSize: '1.4rem',\n    height: '4rem',\n    padding: '1rem 1.6rem',\n};\n\ninterface IReactJoyrideWrapperProps {\n    steps: Step[];\n    styles: Styles;\n    handleCallback: (data: CallBackProps) => void;\n}\n\nconst ReactJoyrideWrapper: React.FC<IReactJoyrideWrapperProps> = ({ steps, styles, handleCallback, ...props }) => {\n    return (\n        <ReactJoyride\n            steps={steps}\n            continuous\n            callback={handleCallback}\n            locale={{ back: localize('Previous'), next: localize('Next') }}\n            {...props}\n            styles={{\n                options: {\n                    arrowColor: 'var(--general-main-2)',\n                    backgroundColor: 'var(--general-main-2)',\n                    primaryColor: 'var(--brand-red-coral)',\n                    textColor: 'var(--text-general)',\n                    spotlightShadow: '0 0 15px rgba(0, 0, 0, 0.5)',\n                    width: 440,\n                },\n                buttonBack: {\n                    border: '0.2rem solid var(--text-less-prominent)',\n                    marginRight: '1rem',\n                    borderRadius: '0.4rem',\n                    color: 'var(--text-general)',\n                    ...common_tour_button_properties,\n                },\n                buttonNext: {\n                    ...common_tour_button_properties,\n                },\n                overlay: {\n                    height: '100%',\n                },\n                ...styles,\n            }}\n        />\n    );\n};\n\nexport default ReactJoyrideWrapper;\n","import React from 'react';\nimport { Dialog, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\n\nconst TourEndDialog = observer(() => {\n    const { ui } = useStore();\n    const { dashboard } = useDBotStore();\n    const { is_tour_dialog_visible, setTourDialogVisibility } = dashboard;\n    const { is_mobile } = ui;\n\n    const getTourContent = () => {\n        return (\n            <>\n                <div className='dc-dialog__content__description__text' data-testid='tour-success-message'>\n                    <Localize\n                        key={0}\n                        i18n_default_text={'You have successfully created your bot using a simple strategy.'}\n                    />\n                </div>\n                <div className='dc-dialog__content__description__text'>\n                    <Localize\n                        key={0}\n                        i18n_default_text={'Now, <0>run the bot</0> to test out the strategy.'}\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n                <div className='dc-dialog__content__description__text'>\n                    <Localize\n                        key={0}\n                        i18n_default_text={\n                            'Note: If you wish to learn more about the Bot Builder, you can proceed to the <0>Tutorials</0> tab.'\n                        }\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n            </>\n        );\n    };\n\n    const onHandleConfirm = () => {\n        setTourDialogVisibility(false);\n    };\n\n    return (\n        <div>\n            <Dialog\n                is_visible={is_tour_dialog_visible}\n                confirm_button_text={localize('OK')}\n                onConfirm={onHandleConfirm}\n                is_mobile_full_width\n                className='dc-dialog tour-dialog'\n                has_close_icon={false}\n            >\n                <div className='dc-dialog__content__header'>\n                    <Text weight='bold' color='prominent' size={is_mobile ? 'xs' : 's'}>\n                        {localize('Congratulations')}\n                    </Text>\n                </div>\n                <div className='dc-dialog__content__description'>\n                    <Text size={is_mobile ? 'xxs' : 'xs'} color='prominent'>\n                        {getTourContent()}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default TourEndDialog;\n","import React from 'react';\nimport { getUUID } from '@deriv/bot-skeleton/src/services/tradeEngine/utils/helpers';\nimport { Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\n\ntype TTourSteps = {\n    content: string[] | React.ReactElement[];\n    media?: string;\n    label: string | boolean;\n    step_index: number;\n    show_actions?: boolean;\n    has_localize_component?: boolean;\n};\n\nconst TourSteps = observer(\n    ({ content, media, label, step_index, has_localize_component = false, show_actions = true }: TTourSteps) => {\n        return (\n            <React.Fragment>\n                <div className='onboard'>\n                    {show_actions && (\n                        <div className='onboard__header'>\n                            <Text color='less-prominent' line_height='l'>\n                                {step_index}/6\n                            </Text>\n                        </div>\n                    )}\n                    <div className='onboard__steps'>\n                        <div className='onboard__label'>\n                            <Text as='p' line_height='l' weight='bold'>\n                                {label}\n                            </Text>\n                        </div>\n\n                        {media && (\n                            <video\n                                autoPlay={true}\n                                loop\n                                controls\n                                preload='auto'\n                                playsInline\n                                disablePictureInPicture\n                                controlsList='nodownload'\n                                style={{ width: '100%' }}\n                                src={media}\n                            />\n                        )}\n\n                        <div className='onboard__content'>\n                            <>\n                                {content.map((content_data, index) => {\n                                    return has_localize_component ? (\n                                        content_data\n                                    ) : (\n                                        <div className='onboard__content__block' key={`onboard--${getUUID()}`}>\n                                            <Text align='left' as='p' size='xs' line_height='l'>\n                                                {content_data}\n                                            </Text>\n                                        </div>\n                                    );\n                                })}\n                            </>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n);\n\nexport default TourSteps;\n","import { getImageLocation } from '../../../public-path';\nimport React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { getUrlBase } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport TourSteps from './common/tour-steps';\n\ntype TJoyrideConfig = Record<\n    'showProgress' | 'spotlightClicks' | 'disableBeacon' | 'disableOverlay' | 'disableCloseOnEsc',\n    boolean\n>;\n\nconst joyride_props: TJoyrideConfig = {\n    showProgress: false,\n    spotlightClicks: false,\n    disableBeacon: true,\n    disableOverlay: true,\n    disableCloseOnEsc: true,\n};\n\nexport const DBOT_ONBOARDING = [\n    {\n        target: '#id-bot-builder',\n        content: (\n            <TourSteps\n                label={localize('Build from scratch')}\n                content={[\n                    localize(\n                        'Create your bot using our drag-and-drop blocks or click Quick Strategy to choose from the ready-to-use bot templates.'\n                    ),\n                    localize(\n                        'We also provide a guide on the Tutorial tab to show you how you can build and execute a simple strategy.'\n                    ),\n                ]}\n                media={getUrlBase('/public/videos/dbot-onboarding-tour-step-1.mp4')}\n                step_index={1}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-charts',\n        content: (\n            <TourSteps\n                label={localize('Monitor the market')}\n                content={[localize('View the market price of your favourite assets.')]}\n                media={getUrlBase('/public/videos/dbot-onboarding-tour-step-2.mp4')}\n                step_index={2}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-tutorials',\n        content: (\n            <TourSteps\n                label={localize('Learn more with our tutorials')}\n                content={[localize('Explore the video guides and FAQs to build your bot in the tutorials tab.')]}\n                media={getUrlBase('/public/videos/dbot-onboarding-tour-step-3.mp4')}\n                step_index={3}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#tab__dashboard__table__tiles',\n        content: (\n            <TourSteps\n                label={localize('Use these shortcuts')}\n                content={[localize('You can also import or build your bot using any of these shortcuts.')]}\n                step_index={4}\n            />\n        ),\n        placement: 'right',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '.dc-drawer__container',\n        content: (\n            <TourSteps\n                label={localize('Check your bot’s performance')}\n                content={[localize('See how your bot is doing in real-time.')]}\n                media={getUrlBase('/public/videos/dbot-onboarding-tour-step-5.mp4')}\n                step_index={5}\n            />\n        ),\n        placement: 'left',\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '.animation__wrapper',\n        content: (\n            <TourSteps\n                label={localize('Run your bot')}\n                content={[\n                    <Localize\n                        key='run your bot'\n                        i18n_default_text='Click <0>Run</0> when you want to start trading, and click <0>Stop</0> when you want to stop.'\n                        components={[<strong key={0} />]}\n                    />,\n                ]}\n                media={getUrlBase('/public/videos/dbot-onboarding-tour-step-6.mp4')}\n                step_index={6}\n            />\n        ),\n        ...joyride_props,\n        disableOverlay: false,\n    },\n    {\n        target: '#id-tutorials',\n        content: (\n            <TourSteps\n                label={localize('Want to retake the tour?')}\n                content={[\n                    <Text key={`${0}-id-tutorials`} as='p'>\n                        <Localize i18n_default_text={`Head to the Tutorials tab to do so.`} />\n                    </Text>,\n                ]}\n                step_index={7}\n                show_actions={false}\n                has_localize_component\n            />\n        ),\n        locale: { last: localize('Got it, thanks!') },\n        ...joyride_props,\n        hideBackButton: true,\n        disableOverlay: false,\n    },\n];\n\nconst Step1 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 1 :' />\n            </div>\n        )}\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text={'First, set the <0>Trade parameters</0> block.'}\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>1. Trade parameters:<0>' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='First, set <0>Market</0> to Derived > Continuous Indices > Volatility 100 (1s) Index.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, set <0>Trade type</0> to Up/Down > Rise/Fall.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Contract type,</0> set it to Both.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='For <0>Default candle interval,</0> set it to 1 minute'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step1A = () => (\n    <div className='joyride-content'>\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='For <0>Trade options</0>, set it as below:'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Duration</0>: Ticks 1' components={[<strong key={0} />]} />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='<0>Stake: USD</0> 10 (min: 0.35 - max: 50000)'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step2 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 2 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Then, set the <0>Purchase conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left joyride-content__sub-title'>\n            <Localize i18n_default_text='<0>2. Purchase conditions</0>:' components={[<strong key={0} />]} />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize i18n_default_text='<0>Purchase</0>: Rise' components={[<strong key={0} />]} />\n                </li>\n            </ul>\n        </div>\n    </div>\n);\n\nconst Step3 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left joyride-content__left__step-three'>\n                <Localize i18n_default_text='Step 3 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='The third block is <0>optional</0>. You may use this block if you want to sell your contract before it expires. For now, leave the block as it is. '\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nconst Step4 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 4 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Next, go to <0>Utility tab</0> under the Blocks menu. Tap the drop-down arrow and hit <0>Loops</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Look for the <0>Repeat While/Until</0>, and click the + icon to add the block to the workspace area.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Choose <0>until</0> as the repeat option.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n            <div className='joyride-content__left joyride-content__with-icon'>\n                <div className='joyride-content__with-icon__left'>\n                    <Icon icon='IcCheckmarkCircle' className='db-contract-card__result-icon' color='green' />\n                </div>\n                <div className='joyride-content__with-icon__right'>\n                    <Localize\n                        i18n_default_text='Pro tip: You can also click and drag out the desired block'\n                        components={[<strong key={0} />]}\n                    />\n                </div>\n            </div>\n        </div>\n        <div>\n            <video autoPlay loop controls playsInline preload='auto' disablePictureInPicture controlsList='nodownload'>\n                <source src={getUrlBase('/public/videos/bot-builder-tour-step-4.mp4')} type='video/mp4' />\n            </video>\n        </div>\n    </div>\n);\n\nconst Step5 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 5 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Now, tap the <0>Analysis</0> drop-down arrow and hit <0>Contract</0>.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n        <div className='joyride-content__left'>\n            <ul>\n                <li>\n                    <Localize\n                        i18n_default_text='Go to the <0>Last trade result</0> block and click + icon to add the <0>Result is Win</0> block to the workspace.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Then, drag the <0>Result is win</0> into the empty slot next to <0>repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Now, go to the <0>Restart trading conditions</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n                <li>\n                    <Localize\n                        i18n_default_text='Drag the <0>Trade again</0> block and add it into the <0>do</0> part of the <0>Repeat until</0> block.'\n                        components={[<strong key={0} />]}\n                    />\n                </li>\n            </ul>\n        </div>\n        <div>\n            <video autoPlay loop controls playsInline preload='auto' disablePictureInPicture controlsList='nodownload'>\n                <source src={getUrlBase('/public/videos/bot-builder-tour-step-5.mp4')} type='video/mp4' />\n            </video>\n        </div>\n    </div>\n);\n\nconst Step6 = ({ show_label = false }) => (\n    <div className='joyride-content'>\n        {show_label && (\n            <div className='joyride-content__left'>\n                <Localize i18n_default_text='Step 6 :' />\n            </div>\n        )}\n\n        <div className='joyride-content__left'>\n            <Localize\n                i18n_default_text='Finally, drag and add the whole <0>Repeat</0> block to the <0>Restart trading conditions</0> block.'\n                components={[<strong key={0} />]}\n            />\n        </div>\n    </div>\n);\n\nexport const BOT_BUILDER_TOUR = [\n    {\n        target: '.animation__wrapper',\n        content: <Step1 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step1A />,\n        placement: 'bottom',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step2 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step3 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step4 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step5 show_label />,\n        placement: 'right',\n        ...joyride_props,\n    },\n    {\n        target: '.animation__wrapper',\n        content: <Step6 show_label />,\n        locale: { last: localize('Next') },\n        ...joyride_props,\n    },\n];\n\nexport type TMobileTourConfig = {\n    header: string;\n    content: Array<React.ReactElement>;\n    tour_step_key: number;\n    img?: string;\n    media?: string;\n};\n\nexport const BOT_BUILDER_MOBILE: TMobileTourConfig[] = [\n    {\n        header: localize('Step 1'),\n        content: [<Localize key='step-1' i18n_default_text={`First, click the Import icon on the tool bar.`} />],\n        tour_step_key: 1,\n    },\n    {\n        header: localize('Step 2'),\n        content: [\n            <Localize\n                key='step-2'\n                i18n_default_text={`Next, import your bot directly from your mobile device or from Google Drive.`}\n            />,\n        ],\n        tour_step_key: 2,\n    },\n    {\n        header: localize('Step 3'),\n        content: [\n            <Localize\n                key='step-3'\n                i18n_default_text={`Once imported, you will see a preview of the bot on the workspace. Click run to start trading with this bot.`}\n            />,\n        ],\n        tour_step_key: 3,\n    },\n];\n\nexport const DBOT_ONBOARDING_MOBILE: TMobileTourConfig[] = [\n    {\n        header: localize('Get started on Deriv Bot'),\n        content: [\n            <Localize\n                key='get-started-on-deriv-bot'\n                i18n_default_text='Hi! Hit <0>Start</0> for a quick tour.'\n                components={[<strong key={0} />]}\n            />,\n        ],\n        tour_step_key: 1,\n    },\n    {\n        header: localize('Import or choose your bot'),\n        content: [\n            <Localize\n                key='import-or-choose-your-bot'\n                i18n_default_text='Import your bot or tap Quick Strategies to choose from the ready-to-use bot templates.'\n            />,\n        ],\n        media: getUrlBase('/public/videos/dbot-mobile-onboarding-step-1.mp4'),\n        tour_step_key: 2,\n    },\n    {\n        header: localize('Monitor the market'),\n        content: [\n            <Localize key='monitor-the-market' i18n_default_text='View the market price of your favourite assets.' />,\n        ],\n        media: getUrlBase('/public/videos/dbot-mobile-onboarding-step-2.mp4'),\n        tour_step_key: 3,\n    },\n    {\n        header: localize('Learn more with our tutorials'),\n        content: [\n            <Localize\n                key='learn-more-with-our-tutorials'\n                i18n_default_text='Explore the video guides and FAQs to build your bot in the tutorials tab.'\n            />,\n        ],\n        media: getUrlBase('/public/videos/dbot-mobile-onboarding-step-3.mp4'),\n        tour_step_key: 4,\n    },\n    {\n        header: localize('Use these shortcuts'),\n        img: getImageLocation('dbot-mobile-onboarding-step-4.png'),\n        content: [\n            <Localize\n                key='use-these-shortcuts'\n                i18n_default_text='You can also import or build your bot using any of these shortcuts.'\n            />,\n        ],\n        tour_step_key: 5,\n    },\n    {\n        header: localize('Check your bot’s performance'),\n        media: getUrlBase('/public/videos/dbot-mobile-onboarding-step-5.mp4'),\n        content: [\n            <Localize key='check-your-bots-performance' i18n_default_text='See how your bot is doing in real-time.' />,\n        ],\n        tour_step_key: 6,\n    },\n    {\n        header: localize('Run your bot'),\n        media: getUrlBase('/public/videos/dbot-mobile-onboarding-step-6.mp4'),\n        content: [\n            <Localize\n                key='run-your-bot'\n                i18n_default_text='Click <0>Run</0> when you want to start trading, and click <0>Stop</0> when you want to stop.'\n                components={[<strong key={0} />]}\n            />,\n        ],\n        tour_step_key: 7,\n    },\n    {\n        header: localize('Want to retake the tour?'),\n        img: getImageLocation('dbot-mobile-onboarding-step-7.png'),\n        content: [<Localize key='want-to-retake-the-tour' i18n_default_text='Head to the Tutorials tab to do so.' />],\n        tour_step_key: 8,\n    },\n];\n\nexport const getTourDialogInfo = (is_mobile: boolean) => {\n    return is_mobile ? (\n        <Localize\n            key='tour-dialog-info-mobile'\n            i18n_default_text='Here’s a quick guide on how to use Deriv Bot on the go.'\n        />\n    ) : (\n        <Localize\n            key='tour-dialog-info-desktop'\n            i18n_default_text='Learn how to build your bot from scratch using a simple strategy.'\n        />\n    );\n};\n\nexport const getTourDialogAction = (is_mobile: boolean) => {\n    if (is_mobile) {\n        return (\n            <Localize\n                key='tour-dialog-action-mobile'\n                i18n_default_text='You can import a bot from your mobile device or from Google drive, see a preview in the bot builder, and start trading by running the bot.'\n            />\n        );\n    }\n    return (\n        <Localize\n            key='tour-dialog-action-desktop'\n            i18n_default_text='Hit the <0>Start</0> button to begin and follow the tutorial.'\n        />\n    );\n};\n\nexport const onboarding_tour_header = (\n    <Localize key='onboarding-tour-header' i18n_default_text='Get started on Deriv Bot' />\n);\n\nexport const getBotBuilderTourHeader = (is_mobile: boolean) => {\n    if (is_mobile) {\n        return <Localize key='tour_header-mobile' i18n_default_text='Bot Builder guide' />;\n    }\n    return <Localize key='tour_header-desktop' i18n_default_text=\"Let's build a Bot!\" />;\n};\n","import React from 'react';\nimport { Dialog, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport {\n    getBotBuilderTourHeader,\n    getTourDialogAction,\n    getTourDialogInfo,\n    onboarding_tour_header,\n} from '../tour-content';\nimport { setTourSettings, tour_list } from '../utils';\n\nconst TourStartDialog = observer(() => {\n    const { ui } = useStore();\n    const { dashboard } = useDBotStore();\n    const { active_tab, is_tour_dialog_visible, setTourDialogVisibility, setActiveTour, setShowMobileTourDialog } =\n        dashboard;\n    const { is_mobile } = ui;\n    const tour_token = active_tab === 0 ? 'onboard_tour_token' : 'bot_builder_token';\n    const toggleTour = () => {\n        if (is_mobile) setShowMobileTourDialog(false);\n        setTourDialogVisibility(false);\n        setActiveTour('');\n        setTourSettings(new Date().getTime(), tour_token);\n    };\n\n    const onboard_tour = active_tab === DBOT_TABS.DASHBOARD;\n    const tour_dialog_info = getTourDialogInfo(is_mobile);\n    const tour_dialog_action = getTourDialogAction(is_mobile);\n\n    const getTourContent = () => {\n        return (\n            <>\n                {onboard_tour ? (\n                    <Localize\n                        key={0}\n                        i18n_default_text='Hi! Hit <0>Start</0> for a quick tour.'\n                        components={[<strong key={0} />]}\n                    />\n                ) : (\n                    <>\n                        <div className='dc-dialog__content__description__text'>{tour_dialog_info}</div>\n                        <div className='dc-dialog__content__description__text'>{tour_dialog_action}</div>\n                        <div className='dc-dialog__content__description__text'>\n                            <Localize\n                                key={0}\n                                i18n_default_text={'Note: You can also find this tutorial in the <0>Tutorials</0> tab.'}\n                                components={[<strong key={0} />]}\n                            />\n                        </div>\n                    </>\n                )}\n            </>\n        );\n    };\n\n    const onHandleConfirm = () => {\n        setActiveTour(tour_list[active_tab]);\n        if (is_mobile) setShowMobileTourDialog(false);\n        setTourDialogVisibility(false);\n        setTourSettings(new Date().getTime(), tour_token);\n    };\n    const header_text_size = is_mobile ? 'xs' : 's';\n    const content_text_size = is_mobile ? 'xxs' : 'xs';\n\n    const tour_headers = active_tab === 0 ? onboarding_tour_header : getBotBuilderTourHeader(is_mobile);\n    return (\n        <div>\n            <Dialog\n                is_visible={is_tour_dialog_visible}\n                cancel_button_text={localize('Skip')}\n                onCancel={() => toggleTour()}\n                confirm_button_text={localize('Start')}\n                onConfirm={onHandleConfirm}\n                is_mobile_full_width\n                className={'dc-dialog tour-dialog'}\n                has_close_icon={false}\n            >\n                <div className='dc-dialog__content__header'>\n                    <Text weight='bold' color='prominent' size={header_text_size}>\n                        {tour_headers}\n                    </Text>\n                </div>\n                <div className='dc-dialog__content__description'>\n                    <Text size={content_text_size} color='prominent'>\n                        {getTourContent()}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default TourStartDialog;\n","import { useState } from 'react';\nimport { CallBackProps } from 'react-joyride';\n\nexport const useTourHandler = () => {\n    const [is_finished, setIsFinished] = useState(false);\n    const [is_close_tour, setIsCloseTour] = useState(false);\n\n    const handleJoyrideCallback = (data: CallBackProps) => {\n        const { action, status } = data;\n        if (status === 'finished') {\n            setIsFinished(true);\n        } else if (action === 'close' || action === 'skip') {\n            setIsCloseTour(true);\n        }\n    };\n\n    return {\n        is_finished,\n        handleJoyrideCallback,\n        setIsFinished,\n        is_close_tour,\n        setIsCloseTour,\n    };\n};\n","import React from 'react';\n\nimport { observer } from '@deriv/stores';\n\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { getSetting } from 'Utils/settings';\n\nimport ReactJoyrideWrapper from '../common/react-joyride-wrapper';\nimport TourEndDialog from '../common/tour-end-dialog';\nimport TourStartDialog from '../common/tour-start-dialog';\nimport { BOT_BUILDER_TOUR } from '../tour-content';\nimport { useTourHandler } from '../hooks/useTourHandler';\n\nconst BotBuilderTourDesktop = observer(() => {\n    const { is_close_tour, is_finished, handleJoyrideCallback, setIsCloseTour } = useTourHandler();\n    const { dashboard } = useDBotStore();\n    const { active_tab, active_tour, setActiveTour, setTourDialogVisibility } = dashboard;\n    const token = getSetting('bot_builder_token');\n    if (!token && active_tab === 1) setTourDialogVisibility(true);\n\n    React.useEffect(() => {\n        if (is_finished) {\n            setTourDialogVisibility(true);\n            setActiveTour('');\n        } else if (is_close_tour) {\n            setActiveTour('');\n            setIsCloseTour(false);\n        }\n    }, [is_close_tour, is_finished, setActiveTour, setIsCloseTour, setTourDialogVisibility]);\n\n    return (\n        <>\n            {!is_finished ? <TourStartDialog /> : <TourEndDialog />}\n            {active_tour && (\n                <ReactJoyrideWrapper\n                    handleCallback={handleJoyrideCallback}\n                    steps={BOT_BUILDER_TOUR}\n                    styles={{\n                        options: {\n                            arrowColor: 'transparent',\n                            backgroundColor: 'var(--general-main-2)',\n                            primaryColor: 'var(--brand-red-coral)',\n                            textColor: 'var(--text-general)',\n                        },\n                    }}\n                />\n            )}\n        </>\n    );\n});\n\nexport default BotBuilderTourDesktop;\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\nimport { TStepMobile } from '../tour-content';\n\ntype TAccordion = {\n    content_data: TStepMobile | null;\n    expanded: boolean;\n    test_id?: string;\n};\n\nconst Accordion = ({ content_data, expanded = false, test_id = 'dbot-acc-id', ...props }: TAccordion) => {\n    const [is_open, setOpen] = React.useState(expanded);\n    if (!content_data) return null;\n    const { content, header } = content_data;\n    return (\n        <div className='dbot-accordion' {...props}>\n            <div>\n                <div className='dbot-accordion__navbar' data-testid={test_id} onClick={() => setOpen(!is_open)}>\n                    <div className='dbot-accordion__header'>\n                        <Text as='span' size='xs' weight='bold'>\n                            {localize(header)}\n                        </Text>\n                    </div>\n                    <div className='dbot-accordion__icon'>\n                        <Icon icon={is_open ? 'IcChevronDownBold' : 'IcChevronUpBold'} />\n                    </div>\n                </div>\n                <div\n                    className={classNames('dbot-accordion__content', {\n                        'dbot-accordion__content--open': is_open,\n                    })}\n                    data-testid='accordion-content'\n                >\n                    <Text as='span' line_height='s' size='xxs'>\n                        {content}\n                    </Text>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Accordion;\n","import React from 'react';\n\nimport { Text } from '@deriv/components';\n\ntype TTourButton = {\n    type?: string;\n    onClick: () => void;\n    label: string;\n};\n\nconst TourButton = ({ label, type = 'default', ...props }: TTourButton) => {\n    if (!label) return null;\n    return (\n        <button className={type} {...props}>\n            <Text color='prominent' align='center' weight='bold' as='span' line_height='s' size='xs'>\n                {label}\n            </Text>\n        </button>\n    );\n};\n\nexport default TourButton;\n","import React from 'react';\nimport { ProgressBarTracker } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { getSetting } from 'Utils/settings';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport Accordion from '../common/accordion';\nimport TourButton from '../common/tour-button';\nimport TourStartDialog from '../common/tour-start-dialog';\nimport { BOT_BUILDER_MOBILE } from '../tour-content';\nimport { highlightLoadModalButton } from '../utils';\n\nconst BotBuilderTourMobile = observer(() => {\n    const { dashboard, load_modal, quick_strategy } = useDBotStore();\n    const { toggleTourLoadModal } = load_modal;\n    const {\n        onTourEnd,\n        setTourActiveStep,\n        active_tour,\n        show_mobile_tour_dialog,\n        active_tab,\n        setShowMobileTourDialog,\n        setTourDialogVisibility,\n    } = dashboard;\n    const { is_open } = quick_strategy;\n    const [tour_step, setTourStep] = React.useState<number>(1);\n    const content_data = BOT_BUILDER_MOBILE.find(({ tour_step_key }) => {\n        return tour_step_key === tour_step;\n    });\n    const test_id = tour_step === 3 ? 'finish-bot-builder-tour' : 'next-bot-builder-tour';\n\n    React.useEffect(() => {\n        setTourActiveStep(tour_step);\n        //component does not rerender so calling this to highlight\n        !show_mobile_tour_dialog && highlightLoadModalButton(active_tour, tour_step);\n        if (tour_step === 2) toggleTourLoadModal(true);\n        else toggleTourLoadModal(false);\n        const token = getSetting('bot_builder_token');\n        if (!token && active_tab === 1) {\n            if (is_open) {\n                setTourDialogVisibility(false);\n            } else {\n                setTourDialogVisibility(true);\n            }\n            setShowMobileTourDialog(true);\n        }\n    }, [tour_step, show_mobile_tour_dialog]);\n\n    const tour_button_text = tour_step === 3 ? localize('Finish') : localize('Next');\n    const is_tour_active = active_tour === 'onboarding';\n    return (\n        <>\n            {show_mobile_tour_dialog && <TourStartDialog />}\n            {active_tour && !show_mobile_tour_dialog && (\n                <div data-testid='botbuilder-tour-mobile' className='dbot-slider dbot-slider__bot-builder-tour'>\n                    {content_data && <Accordion data-testid='bot-builder-acc' content_data={content_data} expanded />}\n                    <div className='dbot-slider__status'>\n                        <div className='dbot-slider__progress-bar'>\n                            {\n                                <ProgressBarTracker\n                                    step={tour_step}\n                                    steps_list={BOT_BUILDER_MOBILE.map(v => v.tour_step_key.toString())}\n                                    onStepChange={setTourStep}\n                                />\n                            }\n                        </div>\n                        <div className='dbot-slider__button-group'>\n                            {tour_step !== 1 && (\n                                <TourButton\n                                    onClick={() => {\n                                        setTourStep(tour_step - 1);\n                                    }}\n                                    label={localize('Previous')}\n                                    data-testid='prev-bot-builder-tour'\n                                />\n                            )}\n                            <TourButton\n                                type='danger'\n                                onClick={() => {\n                                    setTourStep(tour_step + 1);\n                                    onTourEnd(tour_step, is_tour_active);\n                                }}\n                                label={tour_button_text}\n                                data-testid={test_id}\n                            />\n                        </div>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default BotBuilderTourMobile;\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport BotBuilderTourDesktop from './bot-builder-tour-desktop';\nimport BotBuilderTourMobile from './bot-builder-tour-mobile';\n\ntype TBotBuilderTourHandler = {\n    is_mobile: boolean;\n};\n\nconst BotBuilderTourHandler: React.FC<TBotBuilderTourHandler> = observer(({ is_mobile }) => {\n    return <>{is_mobile ? <BotBuilderTourMobile /> : <BotBuilderTourDesktop />};</>;\n});\n\nexport default BotBuilderTourHandler;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype FlyoutBlockProps = {\n    block_node: React.ReactNode;\n    should_hide_display_name: boolean;\n};\n\nconst FlyoutBlock = observer(({ block_node, should_hide_display_name }: FlyoutBlockProps) => {\n    const { flyout } = useDBotStore();\n    const { initBlockWorkspace } = flyout;\n\n    let el_block_workspace = React.useRef();\n\n    React.useEffect(() => {\n        initBlockWorkspace(el_block_workspace, block_node);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <div\n            ref={el => (el_block_workspace = el)}\n            className={classNames({\n                'flyout__block-workspace--center': should_hide_display_name,\n                'flyout__block-workspace--top': !should_hide_display_name,\n            })}\n            data-testid='flyout-block-workspace'\n        />\n    );\n});\n\nexport default FlyoutBlock;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { PropTypes } from 'prop-types';\nimport { Button, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport FlyoutBlock from './flyout-block';\n\nconst FlyoutBlockGroup = ({ onInfoClick, block_node, is_active, should_hide_display_name }) => {\n    const block_type = block_node.getAttribute('type');\n    const block_meta = Blockly.Blocks[block_type].meta();\n    const is_variables_get = block_type === 'variables_get';\n    const is_variables_set = block_type === 'variables_set';\n    const { display_name, description } = block_meta;\n\n    const AddButton = () => (\n        <div className='flyout__item-buttons'>\n            <Button\n                id={`db-flyout__add--${block_type}`}\n                className='flyout__button-add flyout__button-add--hide'\n                has_effect\n                is_plus\n                onClick={() => Blockly.derivWorkspace.addBlockNode(block_node)}\n                type='button'\n            />\n        </div>\n    );\n\n    return (\n        <>\n            {is_variables_set && <div className='flyout__hr' />}\n            <div className={classNames('flyout__item', { 'flyout__item--active': is_active })}>\n                {!should_hide_display_name && (\n                    <>\n                        <div className='flyout__item-header'>\n                            <Text\n                                size={is_variables_get ? 'xs' : 'xsm'}\n                                line_height={is_variables_get ? undefined : 'xl'}\n                                weight={is_variables_get ? undefined : 'bold'}\n                            >\n                                {display_name}\n                            </Text>\n                            {!is_variables_get && <AddButton />}\n                        </div>\n                        <div className='flyout__item-description'>\n                            {description}\n                            {onInfoClick && (\n                                <a\n                                    id={display_name.replace(/\\s/gi, '-')}\n                                    className='flyout__item-info'\n                                    onClick={onInfoClick}\n                                >\n                                    <Localize i18n_default_text='Learn more' />\n                                </a>\n                            )}\n                        </div>\n                    </>\n                )}\n                <div className='flyout__block-workspace__header'>\n                    <FlyoutBlock block_node={block_node} should_hide_display_name />\n                    {is_variables_get && <AddButton />}\n                </div>\n            </div>\n        </>\n    );\n};\n\nFlyoutBlockGroup.propTypes = {\n    block_nodes: PropTypes.array,\n    onInfoClick: PropTypes.func,\n};\n\nexport default FlyoutBlockGroup;\n","import React from 'react';\n\ntype TFlyoutImageProps = {\n    width: string;\n    url: string;\n};\n\nconst FlyoutImage = (props: TFlyoutImageProps) => {\n    const { width, url } = props;\n    const style = { width };\n\n    return (\n        <div className='flyout__item' data-testid='dt_flyout_image'>\n            <img src={url} className='flyout__image' style={style} />\n        </div>\n    );\n};\n\nexport default FlyoutImage;\n","import React from 'react';\nimport { Text } from '@deriv/components';\n\nconst FlyoutText = (props: { text: string }) => {\n    const { text } = props;\n\n    return (\n        <Text as='p' size='xs' styles={{ lineHeight: '1.3em' }}>\n            {text}\n        </Text>\n    );\n};\n\nexport default FlyoutText;\n","import React from 'react';\n\nconst FlyoutVideo = (props: { url: string }) => (\n    <div className='flyout__item' data-testid='dt_flyout_video_container'>\n        <iframe\n            data-testid='dt_flyout_video'\n            className='flyout__video'\n            src={props.url}\n            frameBorder='0'\n            allow='accelerometer; encrypted-media; gyroscope; picture-in-picture'\n            allowFullScreen\n            width='100%'\n        />\n    </div>\n);\n\nexport default FlyoutVideo;\n","import React from 'react';\nimport { Button, Icon, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { help_content_config, help_content_types } from 'Utils/help-content/help-content.config';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport FlyoutBlock from '../flyout-block';\nimport FlyoutImage from './flyout-img';\nimport FlyoutText from './flyout-text';\nimport FlyoutVideo from './flyout-video';\n\nconst HelpBase = observer(() => {\n    const { flyout, flyout_help } = useDBotStore();\n    const {\n        block_node,\n        block_type,\n        examples,\n        help_string,\n        onBackClick,\n        onSequenceClick,\n        should_next_disable,\n        should_previous_disable,\n        title,\n    } = flyout_help;\n    const { is_search_flyout } = flyout;\n\n    const block_help_component = help_string && help_content_config(__webpack_public_path__)[block_type];\n    let text_count = 0;\n\n    return (\n        <React.Fragment>\n            <div className='flyout__help-header'>\n                <button className='dc-btn flyout__button-back' onClick={onBackClick}>\n                    <Icon icon='IcArrowLeft' />\n                </button>\n                <Text weight='bold' className='flyout__help-title'>\n                    {title}\n                </Text>\n                <div className='flyout__item-buttons'>\n                    <Button\n                        className='flyout__button-add'\n                        has_effect\n                        id={`db-flyout-help__add--${block_type}`}\n                        onClick={() => Blockly.derivWorkspace.addBlockNode(block_node)}\n                        primary\n                        text={localize('Add')}\n                        type='button'\n                    />\n                </div>\n            </div>\n            <div className='flyout__help-content'>\n                {block_help_component &&\n                    block_help_component.map((component, index) => {\n                        const { type, width, url, example_id } = component;\n                        const { text } = help_string;\n                        const example_node = examples.find(example => example.id === example_id);\n                        switch (type) {\n                            case help_content_types.TEXT:\n                                if (text_count < text.length) {\n                                    return <FlyoutText key={`${block_type}_${index}`} text={text[text_count++]} />;\n                                }\n                                return null;\n                            case help_content_types.VIDEO:\n                                return <FlyoutVideo key={`${block_type}_${index}`} url={url} />;\n                            case help_content_types.IMAGE:\n                                return <FlyoutImage key={`${block_type}_${index}`} width={width} url={url} />;\n                            case help_content_types.BLOCK: {\n                                return <FlyoutBlock key={`${block_type}_${index}`} block_node={block_node} />;\n                            }\n                            case help_content_types.EXAMPLE:\n                                if (example_node) {\n                                    return (\n                                        <FlyoutBlock\n                                            key={`${block_type}_${index}`}\n                                            block_node={example_node.childNodes[0]}\n                                        />\n                                    );\n                                }\n                                return null;\n                            default:\n                                return null;\n                        }\n                    })}\n            </div>\n            {!is_search_flyout && !(should_previous_disable && should_next_disable) && (\n                <div className='flyout__help-footer'>\n                    <Button\n                        className='flyout__button-previous'\n                        secondary\n                        onClick={() => onSequenceClick(false)}\n                        text={localize('Previous')}\n                        type='button'\n                        is_disabled={should_previous_disable}\n                        renderText={text =>\n                            should_previous_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                    <Button\n                        className='flyout__button-next'\n                        secondary\n                        onClick={() => onSequenceClick(true)}\n                        text={localize('Next')}\n                        type='button'\n                        is_disabled={should_next_disable}\n                        renderText={text =>\n                            should_next_disable && (\n                                <Text size='xs' weight='bold' align='center' color='disabled'>\n                                    {text}\n                                </Text>\n                            )\n                        }\n                    />\n                </div>\n            )}\n        </React.Fragment>\n    );\n});\n\nexport default HelpBase;\n","import HelpBase from './flyout-help-base.jsx';\n\nexport default HelpBase;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Input, Text, ThemedScrollbars } from '@deriv/components';\nimport { getPlatformSettings } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { help_content_config } from 'Utils/help-content/help-content.config';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport FlyoutBlockGroup from './flyout-block-group.jsx';\nimport HelpBase from './help-contents';\n\nconst SearchResult = ({ search_term, total_result }) => (\n    <div className='flyout__search-header'>\n        <Text weight='bold' className='flyout__search-header-text'>\n            {localize('Results for \"{{ search_term }}\"', {\n                search_term,\n                interpolation: { escapeValue: false },\n            })}\n        </Text>\n        <Text weight='bold' color='profit-success' className='flyout__search-header-text'>\n            {`${total_result} ${total_result > 1 ? localize('results') : localize('result')}`}\n        </Text>\n    </div>\n);\n\nconst FlyoutContent = props => {\n    const flyout_ref = React.useRef();\n    const {\n        flyout_content,\n        active_helper,\n        setHelpContent,\n        initFlyoutHelp,\n        is_empty,\n        is_search_flyout,\n        selected_category,\n        first_get_variable_block_index,\n    } = props;\n\n    return (\n        <div\n            ref={flyout_ref}\n            className={classNames('flyout__content', { 'flyout__normal-content': !is_search_flyout })}\n        >\n            <ThemedScrollbars className='flyout__content-scrollbar'>\n                {selected_category?.getAttribute('id') === 'indicators' && (\n                    <div className='flyout__content-disclaimer'>\n                        <span className='flyout__content-disclaimer-icon'>\n                            <Icon\n                                icon='IcBlackWarning'\n                                custom_color='#000000'\n                                className='flyout__content-disclaimer__warning-icon'\n                            />\n                        </span>\n                        <span className='flyout__content-disclaimer-text'>\n                            {localize(\n                                'Indicators on the chart tab are for indicative purposes only and may vary slightly from the ones on the {{platform_name_dbot}} workspace.',\n                                { platform_name_dbot: getPlatformSettings('dbot').name }\n                            )}\n                        </span>\n                    </div>\n                )}\n                {is_empty ? (\n                    <div className='flyout__search-empty'>\n                        <Text as='h2' weight='bold' line_height='xxs'>\n                            {localize('No results found')}\n                        </Text>\n                    </div>\n                ) : (\n                    flyout_content.map((node, index) => {\n                        const tag_name = node.tagName.toUpperCase();\n\n                        switch (tag_name) {\n                            case Blockly.Xml.NODE_BLOCK: {\n                                const block_type = node.getAttribute('type');\n\n                                return (\n                                    <FlyoutBlockGroup\n                                        key={`${node.getAttribute('type')}${Blockly.utils.genUid()}`}\n                                        id={`flyout__item-workspace--${index}`}\n                                        block_node={node}\n                                        should_hide_display_name={\n                                            block_type === 'variables_get'\n                                                ? index !== first_get_variable_block_index\n                                                : false\n                                        }\n                                        onInfoClick={\n                                            help_content_config(__webpack_public_path__)[block_type] &&\n                                            (is_search_flyout\n                                                ? () => setHelpContent(node)\n                                                : () => initFlyoutHelp(node, block_type))\n                                        }\n                                        is_active={active_helper === block_type}\n                                    />\n                                );\n                            }\n                            case Blockly.Xml.NODE_LABEL: {\n                                return (\n                                    <div\n                                        key={`${node.getAttribute('text')}${index}`}\n                                        className='flyout__item-label-bold'\n                                    >\n                                        {node.getAttribute('text')}\n                                    </div>\n                                );\n                            }\n                            case Blockly.Xml.NODE_INPUT: {\n                                return (\n                                    <Input\n                                        key={`${node.getAttribute('name')}${index}`}\n                                        className={`${node.getAttribute('className')}`}\n                                        type={`${node.getAttribute('type')}`}\n                                        name={`${node.getAttribute('name')}`}\n                                        placeholder={`${node.getAttribute('placeholder')}`}\n                                        autoComplete='off'\n                                    />\n                                );\n                            }\n                            case Blockly.Xml.NODE_BUTTON: {\n                                const callback_key = node.getAttribute('callbackKey');\n                                const callback_id = node.getAttribute('id');\n\n                                return (\n                                    <button\n                                        id={callback_id}\n                                        key={`${callback_key}${index}`}\n                                        className={classNames(\n                                            'dc-btn',\n                                            'dc-btn-effect',\n                                            'dc-btn--primary',\n                                            `${node.getAttribute('className')}`\n                                        )}\n                                        onClick={button => {\n                                            const workspace = Blockly.derivWorkspace;\n                                            const button_cb = workspace.getButtonCallback(callback_key);\n                                            const callback = button_cb || (() => {});\n\n                                            // Workaround for not having a flyout workspace.\n                                            // eslint-disable-next-line no-underscore-dangle\n                                            button.targetWorkspace_ = workspace;\n                                            button.getTargetWorkspace = () => {\n                                                // eslint-disable-next-line no-underscore-dangle\n                                                return button.targetWorkspace_;\n                                            };\n\n                                            callback(button);\n                                        }}\n                                    >\n                                        {node.getAttribute('text')}\n                                    </button>\n                                );\n                            }\n                            default:\n                                return null;\n                        }\n                    })\n                )}\n            </ThemedScrollbars>\n        </div>\n    );\n};\n\nconst Flyout = observer(() => {\n    const { flyout, flyout_help } = useDBotStore();\n    const { gtm } = useStore();\n    const { active_helper, initFlyoutHelp, setHelpContent } = flyout_help;\n    const {\n        flyout_content,\n        flyout_width,\n        is_help_content,\n        is_search_flyout,\n        is_visible,\n        onMount,\n        onUnmount,\n        search_term,\n        selected_category,\n        first_get_variable_block_index,\n    } = flyout;\n    const { pushDataLayer } = gtm;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    if (is_visible && is_search_flyout) {\n        pushDataLayer({ event: 'dbot_search_results', value: true });\n    }\n\n    const total_result = Object.keys(flyout_content).length;\n    const is_empty = total_result === 0;\n\n    return (\n        is_visible && (\n            <div\n                id='gtm-search-results'\n                className={classNames('flyout', {\n                    flyout__search: is_search_flyout,\n                    flyout__help: is_help_content,\n                    flyout__normal: !is_help_content && !is_search_flyout,\n                })}\n                style={{ width: `${flyout_width}px` }}\n            >\n                {is_search_flyout && !is_help_content && (\n                    <SearchResult search_term={search_term} total_result={total_result} />\n                )}\n                {is_help_content ? (\n                    <HelpBase />\n                ) : (\n                    <FlyoutContent\n                        is_empty={is_empty}\n                        flyout_content={flyout_content}\n                        active_helper={active_helper}\n                        setHelpContent={setHelpContent}\n                        initFlyoutHelp={initFlyoutHelp}\n                        is_search_flyout={is_search_flyout}\n                        selected_category={selected_category}\n                        first_get_variable_block_index={first_get_variable_block_index}\n                    />\n                )}\n            </div>\n        )\n    );\n});\n\nexport default Flyout;\n","import Flyout from './flyout.jsx';\nimport './flyout.scss';\n\nexport default Flyout;\n","import React from 'react';\nimport { Dialog, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\nexport type TStopBotModalContent = {\n    is_running: boolean;\n    is_dialog_open: boolean;\n    is_contract_dialog_open: boolean;\n    is_stop_bot_dialog_open: boolean;\n    is_multiplier: boolean;\n    closeMultiplierContract: () => void;\n    onOkButtonClick: () => void;\n    toggleStopBotDialog: () => void;\n};\n\nconst StopBotModalContent = ({\n    is_running,\n    is_multiplier,\n    is_contract_dialog_open,\n    is_stop_bot_dialog_open,\n    closeMultiplierContract,\n    onOkButtonClick,\n    toggleStopBotDialog,\n}: TStopBotModalContent) => {\n    const confirm_button_text = is_running && is_multiplier ? localize('Keep my contract') : localize('Stop my bot');\n    const cancel_button_text = is_running && is_multiplier ? localize('Close my contract') : localize('Back');\n    const title_text =\n        is_running && is_multiplier ? localize('Keep your current contract?') : localize('Stop your current bot?');\n    const toggle_dialog_or_stop = is_running && is_multiplier ? closeMultiplierContract : toggleStopBotDialog;\n\n    return (\n        <React.Fragment>\n            <Dialog\n                portal_element_id='modal_root'\n                title={title_text}\n                is_visible={is_running ? is_stop_bot_dialog_open : is_contract_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={toggle_dialog_or_stop}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running && is_multiplier ? (\n                    <>\n                        <Text as='p' line_height='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            {localize(\n                                'Close your contract now or keep it running. If you decide to keep it running, you can check and close it later on the '\n                            )}\n                            <Text as='span' line_height='s' size='xs'>\n                                <strong>{localize('Reports')}</strong>\n                            </Text>\n                            {localize(' page.')}\n                        </Text>\n                        <Text as='p' line_height='s' size='xs'>\n                            {localize('The Quick Strategy you just created will be loaded to the workspace.')}\n                        </Text>\n                    </>\n                ) : (\n                    <>\n                        <Text as='p' line_height='s' size='xs' styles={{ paddingBottom: '2rem', paddingTop: '1rem' }}>\n                            {localize(\n                                'Stopping the current bot will load the Quick Strategy you just created to the workspace.'\n                            )}\n                        </Text>\n                        <Text as='p' line_height='s' size='xs'>\n                            {localize(' Any open contracts can be viewed on the ')}\n                            <Text as='span' line_height='s' size='xs'>\n                                <strong>{localize('Reports')}</strong>\n                            </Text>\n                            {localize(' page.')}\n                        </Text>\n                    </>\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n};\n\nexport default StopBotModalContent;\n","import React from 'react';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport StopBotModalContent from '../stop-bot-modal-content';\n\nconst StopBotModal = observer(() => {\n    const { run_panel, quick_strategy, summary_card } = useDBotStore();\n\n    const { is_contract_dialog_open, is_stop_bot_dialog_open, toggleStopBotDialog } = quick_strategy;\n    const { is_running, closeMultiplierContract, stopMyBot, is_dialog_open } = run_panel;\n    const { is_multiplier } = summary_card;\n\n    return (\n        <StopBotModalContent\n            is_running={is_running}\n            onOkButtonClick={stopMyBot}\n            is_contract_dialog_open={is_contract_dialog_open}\n            is_stop_bot_dialog_open={is_stop_bot_dialog_open}\n            is_multiplier={is_multiplier}\n            closeMultiplierContract={closeMultiplierContract}\n            is_dialog_open={is_dialog_open}\n            toggleStopBotDialog={toggleStopBotDialog}\n        />\n    );\n});\n\nexport default StopBotModal;\n","import React from 'react';\nimport { Button, Popover } from '@deriv/components';\n\ntype TToolbarButton = {\n    popover_message?: string;\n    button_id: string;\n    button_classname: string;\n    buttonOnClick: () => void;\n    icon?: React.ReactElement;\n    button_text: string;\n};\n\nconst ToolbarButton = ({\n    popover_message,\n    button_id,\n    button_classname,\n    buttonOnClick,\n    icon,\n    button_text,\n}: TToolbarButton) => (\n    <Popover alignment='bottom' message={popover_message} should_disable_pointer_events>\n        <Button id={button_id} className={button_classname} has_effect onClick={buttonOnClick} icon={icon} green>\n            {button_text}\n        </Button>\n    </Popover>\n);\n\nexport default ToolbarButton;\n","export const popover_zindex = Object.freeze({\n    QUICK_STRATEGY: 99999,\n    TOOLBAR: 100,\n    TRANSACTION: 10,\n    SUMMARY_TOOLTIPS: 5,\n    RUN_PANEL: 8,\n});\n","import React from 'react';\nimport { DesktopWrapper, Icon, MobileWrapper, Popover } from '@deriv/components';\nimport { popover_zindex } from 'Constants/z-indexes';\n\ntype TToolbarIcon = {\n    popover_message: string;\n    icon: string;\n    icon_id: string;\n    action: () => void;\n    icon_color?: string;\n    data_testid?: string;\n};\n\nconst ToolbarIcon = ({ popover_message, icon, icon_id, icon_color, action, data_testid }: TToolbarIcon) => {\n    const renderIcon = () => (\n        <Icon\n            icon={icon}\n            id={icon_id}\n            className='toolbar__icon'\n            onClick={action}\n            {...(icon_color && { color: icon_color })}\n            data_testid={data_testid}\n        />\n    );\n\n    return (\n        <>\n            <MobileWrapper>{renderIcon()}</MobileWrapper>\n            <DesktopWrapper>\n                <Popover\n                    alignment='bottom'\n                    message={popover_message}\n                    zIndex={String(popover_zindex.TOOLBAR)}\n                    should_disable_pointer_events\n                >\n                    {renderIcon()}\n                </Popover>\n            </DesktopWrapper>\n        </>\n    );\n};\n\nexport default ToolbarIcon;\n","import React from 'react';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { DesktopWrapper } from '@deriv/components';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport ToolbarIcon from './toolbar-icon';\n\ntype TWorkspaceGroup = {\n    has_redo_stack: boolean;\n    has_undo_stack: boolean;\n    onResetClick: () => void;\n    onSortClick: () => void;\n    onUndoClick: (param?: boolean) => void;\n    onZoomInOutClick: (param?: boolean) => void;\n    toggleLoadModal: () => void;\n    toggleSaveModal: () => void;\n};\n\nconst WorkspaceGroup = observer(\n    ({\n        has_redo_stack,\n        has_undo_stack,\n        onResetClick,\n        onSortClick,\n        onUndoClick,\n        onZoomInOutClick,\n        toggleLoadModal,\n        toggleSaveModal,\n    }: TWorkspaceGroup) => {\n        const { dashboard } = useDBotStore();\n        const { setPreviewOnPopup, setChartModalVisibility } = dashboard;\n\n        return (\n            <div className='toolbar__group toolbar__group-btn' data-testid='dt_toolbar_group_btn'>\n                <ToolbarIcon\n                    popover_message={localize('Reset')}\n                    icon='IcReset'\n                    icon_id='db-toolbar__reset-button'\n                    data_testid='dt_toolbar_reset_button'\n                    action={onResetClick}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Import')}\n                    icon='IcFolderOpen'\n                    icon_id='db-toolbar__import-button'\n                    data_testid='dt_toolbar_import_button'\n                    action={() => {\n                        setPreviewOnPopup(true);\n                        toggleLoadModal();\n                    }}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Save')}\n                    icon='IcSave'\n                    icon_id='db-toolbar__save-button'\n                    data_testid='dt_toolbar_save_button'\n                    action={toggleSaveModal}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Sort blocks')}\n                    icon='IcSort'\n                    icon_id='db-toolbar__sort-button'\n                    data_testid='dt_toolbar_sort_button'\n                    action={onSortClick}\n                />\n                <DesktopWrapper>\n                    <ToolbarIcon\n                        popover_message={localize('Charts')}\n                        icon='IcChartsTabDbot'\n                        icon_id='db-toolbar__charts-button'\n                        action={() => setChartModalVisibility()}\n                    />\n                </DesktopWrapper>\n                <div className='vertical-divider' />\n                <ToolbarIcon\n                    popover_message={localize('Undo')}\n                    icon='IcUndo'\n                    icon_id='db-toolbar__undo-button'\n                    data_testid='dt_toolbar_undo_button'\n                    icon_color={has_undo_stack ? undefined : 'disabled'}\n                    action={() => onUndoClick(/* redo */ false)}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Redo')}\n                    icon='IcRedo'\n                    icon_id='db-toolbar__redo-button'\n                    data_testid='dt_toolbar_redo_button'\n                    icon_color={has_redo_stack ? undefined : 'disabled'}\n                    action={() => onUndoClick(/* redo */ true)}\n                />\n                <div className='vertical-divider' />\n                <ToolbarIcon\n                    popover_message={localize('Zoom in')}\n                    icon='IcZoomIn'\n                    icon_id='db-toolbar__zoom-in-button'\n                    data_testid='dt_toolbar_zoom_in_button'\n                    action={() => onZoomInOutClick(/* in */ true)}\n                />\n                <ToolbarIcon\n                    popover_message={localize('Zoom out')}\n                    icon='IcZoomOut'\n                    icon_id='db-toolbar__zoom-out'\n                    data_testid='dt_toolbar_zoom_out_button'\n                    action={() => onZoomInOutClick(/* in */ false)}\n                />\n            </div>\n        );\n    }\n);\n\nexport default WorkspaceGroup;\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport ToolbarButton from './toolbar-button';\nimport WorkspaceGroup from './workspace-group';\n\nconst Toolbar = observer(() => {\n    const { run_panel, save_modal, load_modal, toolbar, quick_strategy } = useDBotStore();\n    const {\n        ui: { is_mobile },\n    } = useStore();\n    const {\n        has_redo_stack,\n        has_undo_stack,\n        is_dialog_open,\n        closeResetDialog,\n        onResetOkButtonClick: onOkButtonClick,\n        onResetClick,\n        onSortClick,\n        onUndoClick,\n        onZoomInOutClick,\n    } = toolbar;\n    const { toggleSaveModal } = save_modal;\n    const { toggleLoadModal } = load_modal;\n    const { is_running } = run_panel;\n    const { setFormVisibility } = quick_strategy;\n    const confirm_button_text = is_running ? localize('Yes') : localize('OK');\n    const cancel_button_text = is_running ? localize('No') : localize('Cancel');\n    const handleQuickStrategyOpen = () => {\n        setFormVisibility(true);\n    };\n    return (\n        <React.Fragment>\n            <div className='toolbar dashboard__toolbar' data-testid='dashboard__toolbar'>\n                <div className='toolbar__section'>\n                    {is_mobile && (\n                        <ToolbarButton\n                            popover_message={localize('Click here to start building your Deriv Bot.')}\n                            button_id='db-toolbar__get-started-button'\n                            button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                            buttonOnClick={handleQuickStrategyOpen}\n                            button_text={localize('Quick strategy')}\n                        />\n                    )}\n                    <WorkspaceGroup\n                        has_redo_stack={has_redo_stack}\n                        has_undo_stack={has_undo_stack}\n                        onResetClick={onResetClick}\n                        onSortClick={onSortClick}\n                        onUndoClick={onUndoClick}\n                        onZoomInOutClick={onZoomInOutClick}\n                        toggleLoadModal={toggleLoadModal}\n                        toggleSaveModal={toggleSaveModal}\n                    />\n                </div>\n            </div>\n            <Dialog\n                portal_element_id='modal_root'\n                title={localize('Are you sure?')}\n                is_visible={is_dialog_open}\n                confirm_button_text={confirm_button_text}\n                onConfirm={onOkButtonClick}\n                cancel_button_text={cancel_button_text}\n                onCancel={closeResetDialog}\n                is_mobile_full_width={false}\n                className={'toolbar__dialog'}\n                has_close_icon\n            >\n                {is_running ? (\n                    <Localize\n                        i18n_default_text='The workspace will be reset to the default strategy and any unsaved changes will be lost. <0>Note: This will not affect your running bot.</0>'\n                        components={[\n                            <div\n                                key={0}\n                                className='toolbar__dialog-text--second'\n                                data-testid='toolbar__dialog-text--second'\n                            />,\n                        ]}\n                    />\n                ) : (\n                    <Localize i18n_default_text='Any unsaved changes will be lost.' />\n                )}\n            </Dialog>\n        </React.Fragment>\n    );\n});\n\nexport default Toolbar;\n","import Toolbar from './toolbar';\nimport './toolbar.scss';\n\nexport default Toolbar;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\nimport debounce from 'lodash.debounce';\nimport { Analytics } from '@deriv/analytics';\nimport { observer } from '@deriv/stores';\n\ntype TSearchIcon = {\n    search: string;\n    is_search_loading: boolean;\n    onClick: () => void;\n};\n\nconst SearchIcon = observer(({ search, is_search_loading, onClick }: TSearchIcon) => {\n    React.useEffect(() => {\n        //this is to check after keup on bot-builder page form sent even to rudderstack\n        debounce(() => {\n            if (search && !is_search_loading) {\n                Analytics.trackEvent('ce_bot_builder_form', {\n                    search_string: search,\n                    action: 'search',\n                });\n            }\n        }, 2000)();\n    }, [is_search_loading]);\n\n    if (!search) return <Icon icon='IcSearch' />;\n    if (is_search_loading) return <div className='loader' data-testid='loader' />;\n    return <Icon icon='IcCloseCircle' onClick={onClick} color='secondary' />;\n});\n\nexport default SearchIcon;\n","import React from 'react';\nimport { Field as FormField, FieldProps, Form, Formik } from 'formik';\nimport { Input } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport SearchIcon from './search-icon';\n\ntype TSearchBox = {\n    is_search_loading: boolean;\n    onSearch: () => void;\n    onSearchBlur: () => void;\n    onSearchClear: (param: (field: string, value: number | string, shouldValidate?: boolean) => void) => void;\n    onSearchKeyUp: (param: () => void) => void;\n};\n\ntype TFormValues = { [key: string]: string };\n\nconst SearchBox = ({ is_search_loading, onSearch, onSearchBlur, onSearchClear, onSearchKeyUp }: TSearchBox) => (\n    <div className='db-toolbox__search'>\n        <Formik initialValues={{ search: '' }} onSubmit={onSearch}>\n            {({ submitForm, values: { search }, setFieldValue }) => (\n                <Form>\n                    <FormField name='search'>\n                        {({ field }: FieldProps<string, TFormValues>) => (\n                            <Input\n                                {...field}\n                                className='db-toolbox__search-field'\n                                type='text'\n                                name='search'\n                                placeholder={localize('Search')}\n                                onKeyUp={() => onSearchKeyUp(submitForm)}\n                                onFocus={submitForm}\n                                onBlur={onSearchBlur}\n                                leading_icon={\n                                    <SearchIcon\n                                        search={search}\n                                        is_search_loading={is_search_loading}\n                                        onClick={() => onSearchClear(setFieldValue)}\n                                    />\n                                }\n                            />\n                        )}\n                    </FormField>\n                </Form>\n            )}\n        </Formik>\n    </div>\n);\n\nexport default SearchBox;\n","import SearchBox from './search-box';\n\nexport default SearchBox;\n","import React from 'react';\nimport ReactDomServer from 'react-dom/server';\nimport { localize } from '@deriv/translations';\n\nconst Arg = ({ ...props }) => {\n    return React.createElement('arg', props);\n};\n\nconst Block = ({ ...props }) => {\n    return React.createElement('block', props);\n};\n\nconst Category = ({ ...props }) => {\n    return React.createElement('category', props);\n};\n\nconst Example = ({ ...props }) => {\n    return React.createElement('example', props);\n};\n\nconst Examples = ({ ...props }) => {\n    return React.createElement('examples', props);\n};\n\nconst Field = ({ ...props }) => {\n    return React.createElement('field', props);\n};\n\nconst Mutation = ({ ...props }) => {\n    return React.createElement('mutation', props);\n};\n\nconst Next = ({ ...props }) => {\n    return React.createElement('next', props);\n};\n\nconst Shadow = ({ ...props }) => {\n    return React.createElement('shadow', props);\n};\n\nconst Statement = ({ ...props }) => {\n    return React.createElement('statement', props);\n};\n\nconst Value = ({ ...props }) => {\n    return React.createElement('value', props);\n};\n\nconst Xml = ({ ...props }) => {\n    return React.createElement('xml', props);\n};\n\nexport const ToolboxItems = ReactDomServer.renderToStaticMarkup(\n    <Xml xmlns='http://www.w3.org/1999/xhtml' id='toolbox'>\n        <Category id='trade_parameters' name={localize('Trade parameters')}>\n            <Block type='trade_definition'>\n                <Statement name='TRADE_OPTIONS'>\n                    <Block type='trade_definition_market' deletable='false' movable='false'>\n                        <Field name='MARKET_LIST' />\n                        <Field name='SUBMARKET_LIST' />\n                        <Field name='SYMBOL_LIST' />\n                        <Next>\n                            <Block type='trade_definition_tradetype' deletable='false' movable='false'>\n                                <Field name='TRADETYPECAT_LIST' />\n                                <Field name='TRADETYPE_LIST' />\n                                <Next>\n                                    <Block type='trade_definition_contracttype' deletable='false' movable='false'>\n                                        <Field name='TYPE_LIST' />\n                                        <Next>\n                                            <Block\n                                                type='trade_definition_candleinterval'\n                                                deletable='false'\n                                                movable='false'\n                                            >\n                                                <Field name='CANDLEINTERVAL_LIST'>60</Field>\n                                                <Next>\n                                                    <Block\n                                                        type='trade_definition_restartbuysell'\n                                                        deletable='false'\n                                                        movable='false'\n                                                    >\n                                                        <Field name='TIME_MACHINE_ENABLED'>FALSE</Field>\n                                                        <Next>\n                                                            <Block\n                                                                type='trade_definition_restartonerror'\n                                                                deletable='false'\n                                                                movable='false'\n                                                            >\n                                                                <Field name='RESTARTONERROR'>TRUE</Field>\n                                                            </Block>\n                                                        </Next>\n                                                    </Block>\n                                                </Next>\n                                            </Block>\n                                        </Next>\n                                    </Block>\n                                </Next>\n                            </Block>\n                        </Next>\n                    </Block>\n                </Statement>\n            </Block>\n            <Block type='trade_definition_tradeoptions'>\n                <Mutation has_first_barrier='false' has_second_barrier='false' has_prediction='false' />\n                <Field name='DURATIONTYPE_LIST' />\n                <Field name='CURRENCY_LIST'>USD</Field>\n                <Value name='DURATION'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Field name='AMOUNT_LIMITS' />\n            </Block>\n            <Block type='trade_definition_multiplier'>\n                <Field name='MULTIPLIERTYPE_LIST' />\n                <Field name='CURRENCY_LIST'>USD</Field>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>1</Field>\n                    </Shadow>\n                </Value>\n                <Field name='AMOUNT_LIMITS' />\n            </Block>\n            <Block type='multiplier_take_profit'>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>0</Field>\n                    </Shadow>\n                </Value>\n            </Block>\n            <Block type='multiplier_stop_loss'>\n                <Value name='AMOUNT'>\n                    <Shadow type='math_number'>\n                        <Field name='NUM'>0</Field>\n                    </Shadow>\n                </Value>\n            </Block>\n        </Category>\n        <Category id='purchase_conditions' name={localize('Purchase conditions')}>\n            <Block type='before_purchase' />\n            <Block type='purchase' />\n        </Category>\n        <Category id='sell_conditions' name={localize('Sell conditions (optional)')}>\n            <Block type='during_purchase' />\n            <Block type='sell_at_market' />\n        </Category>\n        <Category id='trade_results' name={localize('Restart trading conditions')}>\n            <Block type='after_purchase' />\n            <Block type='trade_again' />\n        </Category>\n\n        <Category id='analysis' name={localize('Analysis')}>\n            <Category id='indicators' name={localize('Indicators')}>\n                <Block type='sma_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='smaa_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='bb_statement'>\n                    <Field name='BBRESULT_LIST'>0</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                            <Value name='UPMULTIPLIER'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>5</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='std_dev_multiplier_down'>\n                                                    <Value name='DOWNMULTIPLIER'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>5</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='bba_statement'>\n                    <Field name='BBRESULT_LIST'>0</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='std_dev_multiplier_up' deletable='false' movable='false'>\n                                            <Value name='UPMULTIPLIER'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>5</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='std_dev_multiplier_down'>\n                                                    <Value name='DOWNMULTIPLIER'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>5</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='ema_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='emaa_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='rsi_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='rsia_statement'>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='macda_statement'>\n                    <Field name='MACDFIELDS_LIST'>1</Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST' />\n                            <Next>\n                                <Block type='fast_ema_period' deletable='false' movable='false'>\n                                    <Value name='FAST_EMA_PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>12</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='slow_ema_period' deletable='false' movable='false'>\n                                            <Value name='SLOW_EMA_PERIOD'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>26</Field>\n                                                </Shadow>\n                                            </Value>\n                                            <Next>\n                                                <Block type='signal_ema_period' deletable='false' movable='false'>\n                                                    <Value name='SIGNAL_EMA_PERIOD'>\n                                                        <Shadow type='math_number'>\n                                                            <Field name='NUM'>9</Field>\n                                                        </Shadow>\n                                                    </Value>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Category>\n\n            <Category name={localize('Tick and candle analysis')} id='tick_analysis'>\n                <Block type='tick_analysis' />\n                <Block type='tick' />\n                <Block type='last_digit' />\n                <Block type='ticks' />\n                <Block type='lastDigitList' />\n                <Block type='check_direction' />\n                <Block type='is_candle_black' />\n                <Block type='read_ohlc'>\n                    <Field name='OHLCFIELD_LIST'>open</Field>\n                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                    <Value name='CANDLEINDEX'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='read_ohlc_obj' />\n                <Block type='ohlc_values' />\n                <Block type='ohlc_values_in_list' />\n                <Block type='get_ohlc'>\n                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                    <Value name='CANDLEINDEX'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='ohlc' />\n            </Category>\n\n            <Category name={localize('Contract')} id='contract_details'>\n                <Block type='contract_check_result' />\n                <Block type='read_details' />\n                <Block type='sell_price' />\n                <Block type='check_sell' />\n                <Block type='payout' />\n                <Block type='ask_price' />\n            </Category>\n\n            <Category name={localize('Stats')} id='stats'>\n                <Block type='balance' />\n                <Block type='total_profit' />\n                <Block type='total_runs' />\n            </Category>\n        </Category>\n\n        <Category id='utility' name={localize('Utility')}>\n            <Category name={localize('Custom functions')} id='custom_functions' dynamic='PROCEDURE' />\n\n            <Category name={localize('Variables')} id='variables' dynamic='VARIABLE' />\n\n            <Category name={localize('Notifications')} id='notifications'>\n                <Block type='text_print'>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_prompt_ext'>\n                    <Field name='TYPE'>TEXT</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='notify'>\n                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='notify_telegram'>\n                    <Value name='TELEGRAM_ACCESS_TOKEN'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                    <Value name='TELEGRAM_CHAT_ID'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                    <Value name='TELEGRAM_MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Time')} id='time'>\n                <Block type='epoch' />\n                <Block type='timeout' />\n                <Block type='totimestamp'>\n                    <Value name='DATETIME'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>yyyy-mm-dd hh:mm:ss</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='todatetime'>\n                    <Value name='TIMESTAMP'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Math')} id='math'>\n                <Block type='math_number' />\n                <Block type='math_arithmetic'>\n                    <Field name='OP'>ADD</Field>\n                    <Value name='A'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='B'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_single'>\n                    <Field name='OP'>ROOT</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>9</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_trig'>\n                    <Field name='OP'>SIN</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>45</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_constant' />\n                <Block type='math_number_property'>\n                    <Mutation divisor_input='false' />\n                    <Field name='PROPERTY'>EVEN</Field>\n                    <Value name='NUMBER_TO_CHECK'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_change'>\n                    <Field name='VAR' variabletype=''>\n                        item\n                    </Field>\n                    <Value name='DELTA'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_on_list' />\n                <Block type='math_round'>\n                    <Field name='OP'>ROUND</Field>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>3.1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_modulo'>\n                    <Value name='DIVIDEND'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>64</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='DIVISOR'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_constrain'>\n                    <Value name='Value'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>50</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='LOW'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='HIGH'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>100</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_random_int'>\n                    <Value name='FROM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='TO'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>100</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='math_random_float' />\n            </Category>\n\n            <Category name={localize('Text')} id='text'>\n                <Block type='text'>\n                    <Field name='TEXT'>abc</Field>\n                </Block>\n                <Block type='text_join'>\n                    <Field name='VARIABLE' variabletype=''>\n                        text\n                    </Field>\n                    <Statement name='STACK'>\n                        <Block type='text_statement' movable='false'>\n                            <Value name='TEXT'>\n                                <Shadow type='text'>\n                                    <Field name='TEXT'>abc</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='text_append'>\n                    <Field name='VAR' variabletype=''>\n                        text\n                    </Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_length'>\n                    <Value name='Value'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_isEmpty'>\n                    <Value name='Value'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_indexOf'>\n                    <Field name='END'>FIRST</Field>\n                    <Value name='Value'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                text\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='FIND'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_charAt'>\n                    <Mutation at='true' />\n                    <Field name='WHERE'>FROM_START</Field>\n                    <Value name='Value'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                item\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='AT'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>1</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_getSubstring'>\n                    <Mutation at1='true' at2='true' />\n                    <Field name='WHERE1'>FROM_START</Field>\n                    <Field name='WHERE2'>FROM_START</Field>\n                    <Value name='STRING'>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                text\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='AT1'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>0</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='AT2'>\n                        <Shadow type='math_number_positive'>\n                            <Field name='NUM'>2</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_changeCase'>\n                    <Field name='CASE'>UPPERCASE</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='text_trim'>\n                    <Field name='MODE'>BOTH</Field>\n                    <Value name='TEXT'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n\n            <Category name={localize('Logic')} id='logic'>\n                <Block type='controls_if' />\n                <Block type='logic_compare' />\n                <Block type='logic_operation' />\n                <Block type='logic_negate' />\n                <Block type='logic_boolean' />\n                <Block type='logic_null' />\n                <Block type='logic_ternary' />\n            </Category>\n\n            <Category name={localize('Lists')} id='lists'>\n                <Block type='lists_create_with'>\n                    <Field name='VARIABLE' variabletype=''>\n                        list\n                    </Field>\n                    <Statement name='STACK'>\n                        <Block type='lists_statement' movable='false'>\n                            <Next>\n                                <Block type='lists_statement' movable='false' />\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n                <Block type='lists_repeat'>\n                    <Value name='NUM'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>5</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='lists_length' />\n                <Block type='lists_isEmpty' />\n                <Block type='lists_indexOf' />\n                <Block type='lists_getIndex' />\n                <Block type='lists_setIndex' />\n                <Block type='lists_getSublist' />\n                <Block type='lists_split'>\n                    <Mutation mode='SPLIT' />\n                    <Field name='MODE'>SPLIT</Field>\n                    <Value name='DELIM'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>,</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n                <Block type='lists_sort' />\n            </Category>\n\n            <Category name={localize('Loops')} id='loops'>\n                <Block type='controls_repeat' />\n                <Block type='controls_repeat_ext' />\n                <Block type='controls_whileUntil' />\n                <Block type='controls_for' />\n                <Block type='controls_forEach' />\n                <Block type='controls_flow_statements' />\n            </Category>\n\n            <Category name={localize('Miscellaneous')} id='misc'>\n                <Block type='loader' />\n                <Block type='block_holder' />\n                <Block type='console'>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Category>\n        </Category>\n\n        <Examples id='examples'>\n            <Example id='sell_available'>\n                <Block type='during_purchase'>\n                    <Statement name='DURING_PURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='check_sell' />\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='sell_at_market' />\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='trade_again'>\n                <Block type='after_purchase'>\n                    <Statement name='AFTERPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='total_profit' />\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                target_profit\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_block_example'>\n                <Block type='sma_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        sma\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST'>\n                                <Block type='ohlc_values'>\n                                    <Field name='OHLCFIELD_LIST'>open</Field>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_array'>\n                <Block type='smaa_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        smaa\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sma_block_example_1'>\n                <Block type='sma_statement'>\n                    <Field name='VARIABLE' variabletype=''>\n                        sma\n                    </Field>\n                    <Statement name='STATEMENT'>\n                        <Block type='input_list' deletable='false' movable='false'>\n                            <Value name='INPUT_LIST'>\n                                <Block type='ticks' />\n                            </Value>\n                            <Next>\n                                <Block type='period' deletable='false' movable='false'>\n                                    <Value name='PERIOD'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='in_candle_list_read'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        op\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                            <Value name='CANDLEINDEX'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>1</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='read_candle_value'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        op\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc_obj'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Value name='OHLCOBJ'>\n                                <Block type='read_ohlc'>\n                                    <Field name='OHLCFIELD_LIST'>open</Field>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    <Value name='CANDLEINDEX'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>1</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='candle_list'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle_list\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='ohlc_values'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='candle_list_1'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        cl\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='ohlc_values_in_list'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Value name='OHLCLIST'>\n                                <Block type='ohlc'>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='get_candle'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle_open_price\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc_obj'>\n                            <Field name='OHLCFIELD_LIST'>epoch</Field>\n                            <Value name='OHLCOBJ'>\n                                <Block type='get_ohlc'>\n                                    <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                                    <Value name='CANDLEINDEX'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>2</Field>\n                                        </Shadow>\n                                    </Value>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='check_result'>\n                <Block type='after_purchase'>\n                    <Statement name='AFTERPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='contract_check_result'>\n                                    <Field name='CHECK_RESULT'>win</Field>\n                                </Block>\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='trade_again' />\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='sell_pl'>\n                <Block type='during_purchase'>\n                    <Statement name='DURING_PURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='check_sell' />\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_compare'>\n                                            <Field name='OP'>EQ</Field>\n                                            <Value name='A'>\n                                                <Block type='sell_price' />\n                                            </Value>\n                                            <Value name='B'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        stake\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='sell_at_market' />\n                                    </Statement>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='if-return'>\n                <Block type='procedures_defreturn'>\n                    <Mutation>\n                        <Arg name='x' />\n                    </Mutation>\n                    <Field name='NAME'>do something</Field>\n                    <Statement name='STACK'>\n                        <Block type='procedures_ifreturn'>\n                            <Mutation value='1' />\n                            <Value name='CONDITION'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Value name='VALUE'>\n                                <Block type='text'>\n                                    <Field name='TEXT'>x must be positive or zero</Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                    <Value name='RETURN'>\n                        <Block type='math_single'>\n                            <Field name='OP'>ROOT</Field>\n                            <Value name='NUM'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>9</Field>\n                                </Shadow>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='notify_telegram'>\n                <Block type='notify_telegram'>\n                    <Value name='TELEGRAM_ACCESS_TOKEN'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                access_token\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='TELEGRAM_CHAT_ID'>\n                        <Shadow type='text'>\n                            <Field name='TEXT' />\n                        </Shadow>\n                        <Block type='variables_get'>\n                            <Field name='VAR' variabletype=''>\n                                chat_id\n                            </Field>\n                        </Block>\n                    </Value>\n                    <Value name='TELEGRAM_MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>Enjoy!</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='epoch'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        candle\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='read_ohlc'>\n                            <Field name='OHLCFIELD_LIST'>open</Field>\n                            <Field name='CANDLEINTERVAL_LIST'>default</Field>\n                            <Value name='CANDLEINDEX'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>1</Field>\n                                </Shadow>\n                            </Value>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='variables_set'>\n                            <Field name='VAR' variabletype=''>\n                                Open Time\n                            </Field>\n                            <Value name='VALUE'>\n                                <Block type='read_ohlc_obj'>\n                                    <Field name='OHLCFIELD_LIST'>epoch</Field>\n                                    <Value name='OHLCOBJ'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                candle\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='variables_set'>\n                                    <Field name='VAR' variabletype=''>\n                                        Open Time\n                                    </Field>\n                                    <Value name='VALUE'>\n                                        <Block type='math_arithmetic'>\n                                            <Field name='OP'>MINUS</Field>\n                                            <Value name='A'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>1</Field>\n                                                </Shadow>\n                                                <Block type='epoch' />\n                                            </Value>\n                                            <Value name='B'>\n                                                <Shadow type='math_number'>\n                                                    <Field name='NUM'>1</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        Open Time\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Next>\n                                        <Block type='controls_if'>\n                                            <Value name='IF0'>\n                                                <Block type='logic_compare'>\n                                                    <Field name='OP'>GTE</Field>\n                                                    <Value name='A'>\n                                                        <Block type='variables_get'>\n                                                            <Field name='VAR' variabletype=''>\n                                                                Time Since Candle Opened\n                                                            </Field>\n                                                        </Block>\n                                                    </Value>\n                                                    <Value name='B'>\n                                                        <Block type='math_number'>\n                                                            <Field name='NUM'>30</Field>\n                                                        </Block>\n                                                    </Value>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='totimestamp'>\n                <Block type='before_purchase'>\n                    <Statement name='BEFOREPURCHASE_STACK'>\n                        <Block type='controls_if'>\n                            <Value name='IF0'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='epoch' />\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='totimestamp'>\n                                            <Value name='DATETIME'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>1957-08-31 00:00:00</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO0'>\n                                <Block type='purchase'>\n                                    <Field name='PURCHASE_LIST'>CALL</Field>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='todatetime'>\n                <Block type='notify'>\n                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                    <Field name='NOTIFICATION_SOUND'>silent</Field>\n                    <Value name='MESSAGE'>\n                        <Shadow type='text'>\n                            <Field name='TEXT'>abc</Field>\n                        </Shadow>\n                        <Block type='todatetime'>\n                            <Value name='TIMESTAMP'>\n                                <Shadow type='math_number'>\n                                    <Field name='NUM'>0</Field>\n                                </Shadow>\n                                <Block type='epoch' />\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='constrain'>\n                <Block type='math_constrain'>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>5</Field>\n                        </Block>\n                    </Value>\n                    <Value name='LOW'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Shadow>\n                    </Value>\n                    <Value name='HIGH'>\n                        <Shadow type='math_number'>\n                            <Field name='NUM'>20</Field>\n                        </Shadow>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='controls_if'>\n                <Block type='controls_if'>\n                    <Mutation elseif='1' else='1' />\n                    <Value name='IF0'>\n                        <Block type='logic_compare'>\n                            <Field name='OP'>EQ</Field>\n                            <Value name='A'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var1\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Value name='B'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var2\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                    <Value name='IF1'>\n                        <Block type='logic_compare'>\n                            <Field name='OP'>EQ</Field>\n                            <Value name='A'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var3\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Value name='B'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        var4\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Value>\n                </Block>\n            </Example>\n            <Example id='compare_logic'>\n                <Block type='logic_compare'>\n                    <Field name='OP'>EQ</Field>\n                </Block>\n            </Example>\n            <Example id='compare_logic_1'>\n                <Block type='logic_operation'>\n                    <Field name='OP'>AND</Field>\n                </Block>\n            </Example>\n            <Example id='repeat_while'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_whileUntil'>\n                            <Field name='MODE'>WHILE</Field>\n                            <Value name='BOOL'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>LTE</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='math_change'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                    <Value name='DELTA'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>1</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='repeat_until'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>20</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_whileUntil'>\n                            <Field name='MODE'>UNTIL</Field>\n                            <Value name='BOOL'>\n                                <Block type='logic_compare'>\n                                    <Field name='OP'>EQ</Field>\n                                    <Value name='A'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Value name='B'>\n                                        <Block type='math_number'>\n                                            <Field name='NUM'>10</Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='math_change'>\n                                    <Field name='VAR' variabletype=''>\n                                        x\n                                    </Field>\n                                    <Value name='DELTA'>\n                                        <Shadow type='math_number'>\n                                            <Field name='NUM'>-1</Field>\n                                        </Shadow>\n                                    </Value>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='controls_for'>\n                <Block type='controls_for'>\n                    <Field name='VAR' variabletype=''>\n                        i\n                    </Field>\n                    <Value name='FROM'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>0</Field>\n                        </Block>\n                    </Value>\n                    <Value name='TO'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>10</Field>\n                        </Block>\n                    </Value>\n                    <Value name='BY'>\n                        <Block type='math_number'>\n                            <Field name='NUM'>2</Field>\n                        </Block>\n                    </Value>\n                    <Statement name='DO'>\n                        <Block type='notify'>\n                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                            <Value name='MESSAGE'>\n                                <Shadow type='text'>\n                                    <Field name='TEXT'>abc</Field>\n                                </Shadow>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        i\n                                    </Field>\n                                </Block>\n                            </Value>\n                        </Block>\n                    </Statement>\n                </Block>\n            </Example>\n            <Example id='controls_forEach'>\n                <Block type='lists_create_with'>\n                    <Field name='VARIABLE'>list</Field>\n                    <Statement name='STACK'>\n                        <Block type='lists_statement'>\n                            <Value name='VALUE'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        item1\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Next>\n                                <Block type='lists_statement'>\n                                    <Value name='VALUE'>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                item2\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                    <Next>\n                                        <Block type='lists_statement'>\n                                            <Value name='VALUE'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        item3\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Next>\n                        </Block>\n                    </Statement>\n                    <Next>\n                        <Block type='controls_forEach'>\n                            <Field name='VAR' variabletype=''>\n                                i\n                            </Field>\n                            <Value name='LIST'>\n                                <Block type='variables_get'>\n                                    <Field name='VAR' variabletype=''>\n                                        list\n                                    </Field>\n                                </Block>\n                            </Value>\n                            <Statement name='DO'>\n                                <Block type='notify'>\n                                    <Field name='NOTIFICATION_TYPE'>success</Field>\n                                    <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                    <Value name='MESSAGE'>\n                                        <Shadow type='text'>\n                                            <Field name='TEXT'>abc</Field>\n                                        </Shadow>\n                                        <Block type='variables_get'>\n                                            <Field name='VAR' variabletype=''>\n                                                i\n                                            </Field>\n                                        </Block>\n                                    </Value>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='break_out'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='logic_boolean'>\n                            <Field name='BOOL'>TRUE</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_repeat'>\n                            <Field name='TIMES'>10</Field>\n                            <Statement name='DO'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_negate'>\n                                            <Value name='BOOL'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='controls_flow_statements'>\n                                            <Field name='FLOW'>BREAK</Field>\n                                        </Block>\n                                    </Statement>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n            <Example id='continue'>\n                <Block type='variables_set'>\n                    <Field name='VAR' variabletype=''>\n                        x\n                    </Field>\n                    <Value name='VALUE'>\n                        <Block type='logic_boolean'>\n                            <Field name='BOOL'>FALSE</Field>\n                        </Block>\n                    </Value>\n                    <Next>\n                        <Block type='controls_repeat'>\n                            <Field name='TIMES'>10</Field>\n                            <Statement name='DO'>\n                                <Block type='controls_if'>\n                                    <Value name='IF0'>\n                                        <Block type='logic_negate'>\n                                            <Value name='BOOL'>\n                                                <Block type='variables_get'>\n                                                    <Field name='VAR' variabletype=''>\n                                                        x\n                                                    </Field>\n                                                </Block>\n                                            </Value>\n                                        </Block>\n                                    </Value>\n                                    <Statement name='DO0'>\n                                        <Block type='variables_set'>\n                                            <Field name='VAR' variabletype=''>\n                                                x\n                                            </Field>\n                                            <Value name='VALUE'>\n                                                <Block type='logic_boolean'>\n                                                    <Field name='BOOL'>TRUE</Field>\n                                                </Block>\n                                            </Value>\n                                            <Next>\n                                                <Block type='controls_flow_statements'>\n                                                    <Field name='FLOW'>CONTINUE</Field>\n                                                </Block>\n                                            </Next>\n                                        </Block>\n                                    </Statement>\n                                    <Next>\n                                        <Block type='notify'>\n                                            <Field name='NOTIFICATION_TYPE'>success</Field>\n                                            <Field name='NOTIFICATION_SOUND'>silent</Field>\n                                            <Value name='MESSAGE'>\n                                                <Shadow type='text'>\n                                                    <Field name='TEXT'>abc</Field>\n                                                </Shadow>\n                                            </Value>\n                                        </Block>\n                                    </Next>\n                                </Block>\n                            </Statement>\n                        </Block>\n                    </Next>\n                </Block>\n            </Example>\n        </Examples>\n    </Xml>\n);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from '../../../../stores/useDBotStore';\nimport ToolbarButton from '../toolbar/toolbar-button';\nimport SearchBox from './search-box';\nimport { ToolboxItems } from './toolbox-items';\nimport { Analytics } from '@deriv/analytics';\n\nconst Toolbox = observer(() => {\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const { toolbox, flyout, quick_strategy } = useDBotStore();\n    const {\n        hasSubCategory,\n        is_search_loading,\n        onMount,\n        onSearch,\n        onSearchBlur,\n        onSearchClear,\n        onSearchKeyUp,\n        onToolboxItemClick,\n        onToolboxItemExpand,\n        onUnmount,\n        sub_category_index,\n        toolbox_dom,\n    } = toolbox;\n\n    const { setFormVisibility } = quick_strategy;\n    const { setVisibility, selected_category } = flyout;\n\n    const toolbox_ref = React.useRef(ToolboxItems);\n    const [is_open, setOpen] = React.useState(true);\n\n    React.useEffect(() => {\n        onMount(toolbox_ref);\n        return () => onUnmount();\n    }, []);\n\n    const handleQuickStrategyOpen = () => {\n        setFormVisibility(true);\n        sendToRudderStackOnQuickStrategyIconClick();\n    };\n    // this is check if the user has opened quick strategy model from the dashboard\n    const sendToRudderStackOnQuickStrategyIconClick = () => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            action: 'open',\n            form_source: 'bot_builder_form',\n        });\n    };\n\n    if (!is_mobile) {\n        return (\n            <div className='dashboard__toolbox' data-testid='dashboard__toolbox'>\n                <ToolbarButton\n                    popover_message={localize('Click here to start building your Deriv Bot.')}\n                    button_id='db-toolbar__get-started-button'\n                    button_classname='toolbar__btn toolbar__btn--icon toolbar__btn--start'\n                    buttonOnClick={handleQuickStrategyOpen}\n                    button_text={localize('Quick strategy')}\n                />\n                <div id='gtm-toolbox' className='db-toolbox__content'>\n                    <div className='db-toolbox__header'>\n                        <div\n                            className='db-toolbox__title'\n                            data-testid='db-toolbox__title'\n                            onClick={() => {\n                                setOpen(!is_open);\n                                setVisibility(false);\n                            }}\n                        >\n                            {localize('Blocks menu')}\n                            <span\n                                className={classNames('db-toolbox__title__chevron', {\n                                    'db-toolbox__title__chevron--active': is_open,\n                                })}\n                            >\n                                <Icon icon='IcChevronDownBold' />\n                            </span>\n                        </div>\n                    </div>\n                    <div\n                        className={classNames('db-toolbox__content-wrapper', { active: is_open })}\n                        data-testid='db-toolbox__content-wrapper'\n                    >\n                        <SearchBox\n                            is_search_loading={is_search_loading}\n                            onSearch={onSearch}\n                            onSearchBlur={onSearchBlur}\n                            onSearchClear={onSearchClear}\n                            onSearchKeyUp={onSearchKeyUp}\n                        />\n                        <div className='db-toolbox__category-menu'>\n                            {toolbox_dom &&\n                                Array.from(toolbox_dom.childNodes as HTMLElement[]).map((category, index) => {\n                                    if (category.tagName.toUpperCase() === 'CATEGORY') {\n                                        const has_sub_category = hasSubCategory(category.children);\n                                        const is_sub_category_open = sub_category_index.includes(index);\n                                        return (\n                                            <div\n                                                key={`db-toolbox__row--${category.getAttribute('id')}`}\n                                                className={classNames('db-toolbox__row', {\n                                                    'db-toolbox__row--active':\n                                                        selected_category?.getAttribute('id') === category?.id,\n                                                })}\n                                            >\n                                                <div\n                                                    className='db-toolbox__item'\n                                                    onClick={() => {\n                                                        // eslint-disable-next-line no-unused-expressions\n                                                        has_sub_category\n                                                            ? onToolboxItemExpand(index)\n                                                            : onToolboxItemClick(category);\n                                                    }}\n                                                >\n                                                    <div className='db-toolbox__category-text'>\n                                                        <div className='db-toolbox__label'>\n                                                            {localize(category.getAttribute('name') as string)}\n                                                        </div>\n                                                        {has_sub_category && (\n                                                            <div\n                                                                className={classNames('db-toolbox__category-arrow', {\n                                                                    'db-toolbox__category-arrow--active':\n                                                                        is_sub_category_open,\n                                                                })}\n                                                            >\n                                                                <Icon icon='IcChevronDownBold' />\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                                {has_sub_category &&\n                                                    is_sub_category_open &&\n                                                    (Array.from(category.childNodes) as HTMLElement[]).map(\n                                                        subCategory => {\n                                                            return (\n                                                                <div\n                                                                    key={`db-toolbox__sub-category-row--${subCategory.getAttribute(\n                                                                        'id'\n                                                                    )}`}\n                                                                    className={classNames(\n                                                                        'db-toolbox__sub-category-row',\n                                                                        {\n                                                                            'db-toolbox__sub-category-row--active':\n                                                                                selected_category?.getAttribute(\n                                                                                    'id'\n                                                                                ) === subCategory?.id,\n                                                                        }\n                                                                    )}\n                                                                    onClick={() => {\n                                                                        onToolboxItemClick(subCategory);\n                                                                    }}\n                                                                >\n                                                                    <Text size='xxs'>\n                                                                        {localize(\n                                                                            subCategory.getAttribute('name') as string\n                                                                        )}\n                                                                    </Text>\n                                                                </div>\n                                                            );\n                                                        }\n                                                    )}\n                                            </div>\n                                        );\n                                    }\n                                    return null;\n                                })}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    return null;\n});\n\nexport default Toolbox;\n","import Toolbox from './toolbox';\nimport './toolbox.scss';\n\nexport default Toolbox;\n","import React from 'react';\nimport { observer } from '@deriv/stores';\nimport Flyout from 'Components/flyout';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport StopBotModal from '../dashboard-component/load-bot-preview/stop-bot-modal';\nimport Toolbar from './toolbar';\nimport Toolbox from './toolbox';\nimport './workspace.scss';\n\nconst WorkspaceWrapper = observer(() => {\n    const { blockly_store } = useDBotStore();\n    const { onMount, onUnmount, is_loading } = blockly_store;\n\n    React.useEffect(() => {\n        onMount();\n        return () => {\n            onUnmount();\n        };\n    }, []);\n\n    if (is_loading) return null;\n\n    if (Blockly?.derivWorkspace)\n        return (\n            <React.Fragment>\n                <Toolbox />\n                <Toolbar />\n                <Flyout />\n                <StopBotModal />\n            </React.Fragment>\n        );\n\n    return null;\n});\n\nexport default WorkspaceWrapper;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Analytics } from '@deriv/analytics'; //BotTAction will add ones that PR gets merged\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport BotSnackbar from 'Components/bot-snackbar';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from '../../../stores/useDBotStore';\nimport LoadModal from '../../load-modal';\nimport QuickStrategy1 from '../../quick-strategy';\nimport SaveModal from '../dashboard-component/load-bot-preview/save-modal';\nimport BotBuilderTourHandler from '../dbot-tours/bot-builder-tour';\nimport WorkspaceWrapper from './workspace-wrapper';\n\nconst BotBuilder = observer(() => {\n    const { ui } = useStore();\n    const { dashboard, app, run_panel, toolbar, quick_strategy } = useDBotStore();\n    const { active_tab, active_tour, is_preview_on_popup } = dashboard;\n    const { is_open } = quick_strategy;\n    const { is_running } = run_panel;\n    const is_blockly_listener_registered = React.useRef(false);\n    const [show_snackbar, setShowSnackbar] = React.useState(false);\n    const { is_mobile } = ui;\n\n    React.useEffect(() => {\n        if (active_tab === DBOT_TABS.BOT_BUILDER) {\n            Analytics.trackEvent('ce_bot_builder_form', {\n                action: 'open',\n                form_source: 'ce_bot_builder_form',\n            });\n            return () => {\n                Analytics.trackEvent('ce_bot_builder_form', {\n                    action: 'close',\n                    form_source: 'ce_bot_builder_form',\n                });\n            };\n        }\n    }, [active_tab]);\n\n    const { onMount, onUnmount } = app;\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    const handleBlockChangeOnBotRun = (e: Event) => {\n        const { is_reset_button_clicked, setResetButtonState } = toolbar;\n        if (e.type !== 'ui' && !is_reset_button_clicked) {\n            setShowSnackbar(true);\n            removeBlockChangeListener();\n        } else if (is_reset_button_clicked) {\n            setResetButtonState(false);\n            removeBlockChangeListener();\n        }\n    };\n\n    const removeBlockChangeListener = () => {\n        is_blockly_listener_registered.current = false;\n        window.Blockly?.derivWorkspace?.removeChangeListener(handleBlockChangeOnBotRun);\n    };\n\n    React.useEffect(() => {\n        const workspace = window.Blockly?.derivWorkspace;\n        if (workspace && is_running && !is_blockly_listener_registered.current) {\n            is_blockly_listener_registered.current = true;\n            workspace.addChangeListener(handleBlockChangeOnBotRun);\n        } else {\n            setShowSnackbar(false);\n            removeBlockChangeListener();\n        }\n\n        return () => {\n            if (workspace && is_blockly_listener_registered.current) {\n                removeBlockChangeListener();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [is_running]);\n\n    return (\n        <>\n            <BotSnackbar\n                is_open={show_snackbar}\n                message={<Localize i18n_default_text='Changes you make will not affect your running bot.' />}\n                handleClose={() => setShowSnackbar(false)}\n            />\n            <div\n                className={classNames('bot-builder', {\n                    'bot-builder--active': active_tab === 1 && !is_preview_on_popup,\n                    'bot-builder--inactive': is_preview_on_popup,\n                    'bot-builder--tour-active': active_tour,\n                })}\n            >\n                {is_preview_on_popup ? null : (\n                    <div\n                        id='scratch_div'\n                        ref={el_ref}\n                        style={{\n                            width: 'calc(100vw - 3.2rem)',\n                            height: 'var(--bot-content-height)',\n                        }}\n                    >\n                        <WorkspaceWrapper />\n                    </div>\n                )}\n            </div>\n            {active_tab === 1 && <BotBuilderTourHandler is_mobile={is_mobile} />}\n            {/* removed this outside from toolbar becuase it needs to loaded seperately without dependency */}\n            <LoadModal />\n            <SaveModal />\n            {is_open && <QuickStrategy1 />}\n        </>\n    );\n});\n\nexport default BotBuilder;\n","import BotBuilder from './bot-builder';\nimport './workspace.scss';\n\nexport default BotBuilder;\n","import React from 'react';\nimport { Dialog, Icon, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst BotStopped = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { is_web_socket_intialised } = dashboard;\n    const onClickClose = () => {\n        location.reload();\n    };\n    return (\n        <>\n            <Dialog\n                is_visible={!is_web_socket_intialised}\n                is_mobile_full_width\n                className={'dc-dialog bot-stopped-dialog'}\n                cancel_button_text={localize('Go to Reports')}\n                confirm_button_text={localize('Back to Bot')}\n                onCancel={() => location.replace('reports/positions')}\n                onConfirm={() => location.reload()}\n            >\n                <div className='dc-dialog__content__header'>\n                    <Text data-testid='data-title' weight='bold' as='p' align='left' size='s' color='prominent'>\n                        {localize(\"You're back online\")}\n                    </Text>\n                    <div data-testid='data-close-button' onClick={onClickClose}>\n                        <Icon icon='IcCross' />\n                    </div>\n                </div>\n                <Text as='p' align='left' size='xs' color='prominent'>\n                    {localize(\n                        'The bot has stopped, but your trade may still be running. You can check it on the Reports page.'\n                    )}\n                </Text>\n            </Dialog>\n        </>\n    );\n});\n\nexport default BotStopped;\n","import React, { PropsWithChildren, useState } from 'react';\nimport { Rnd } from 'react-rnd';\nimport { CSSTransition } from 'react-transition-group';\nimport { Icon } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\ntype DraggableProps = {\n    bounds?: string | Element;\n    dragHandleClassName?: string;\n    enableResizing?: boolean;\n    height?: number | string;\n    header_title: string;\n    is_visible: boolean;\n    minWidth?: number | string;\n    onCloseDraggable: () => void;\n    width?: number | string;\n    xaxis?: number;\n    yaxis?: number;\n};\nconst PARENT_CLASS = 'react-rnd-wrapper';\n\nexport default function Draggable({\n    bounds = 'window',\n    children,\n    dragHandleClassName,\n    enableResizing = false,\n    header_title,\n    height = 'fit-content',\n    is_visible,\n    minWidth,\n    onCloseDraggable,\n    width = 'fit-content',\n    xaxis = 0,\n    yaxis = 0,\n}: PropsWithChildren<DraggableProps>) {\n    const [first_drag_x, setFirstDragX] = useState(xaxis);\n    const [first_drag_y, setFirstDragY] = useState(yaxis);\n    const [first_left, setFirstLeft] = useState(0);\n    const [first_top, setFirstTop] = useState(0);\n\n    return is_visible ? (\n        <Rnd\n            bounds={bounds}\n            className='react-rnd-wrapper'\n            data-testid='react-rnd-wrapper'\n            default={{\n                x: xaxis,\n                y: yaxis,\n                width,\n                height,\n            }}\n            style={{\n                left: xaxis,\n                top: yaxis,\n            }}\n            dragHandleClassName={dragHandleClassName}\n            enableResizing={enableResizing}\n            minHeight={height}\n            minWidth={minWidth}\n            onDrag={(e, data) => {\n                //we need these calculations since we no longer use the 'transform: translate(x, y)' property\n                //as it causes unexpected behaviour of Beta Chart styles & helps avoid bounce bug upon the first drag\n                data.node.style.left = `${data.lastX - first_drag_x + first_left + data.deltaX}px`;\n                data.node.style.top = `${data.lastY - first_drag_y + first_top + data.deltaY}px`;\n            }}\n            onDragStart={(e, data) => {\n                setFirstDragX(data.x);\n                setFirstDragY(data.y);\n                setFirstLeft(parseInt(data.node.style.left));\n                setFirstTop(parseInt(data.node.style.top));\n                // on responsive devices touch event is not triggering the close button action\n                // need to handle it manually\n                const parentElement = (e?.target as HTMLDivElement)?.parentElement;\n                if (parentElement?.role === 'button' || parentElement?.tagName === 'svg') {\n                    onCloseDraggable();\n                }\n            }}\n        >\n            <CSSTransition\n                appear\n                in={is_visible}\n                timeout={50}\n                classNames={{\n                    appear: 'dc-dialog__wrapper--enter',\n                    enter: 'dc-dialog__wrapper--enter',\n                    enterDone: 'dc-dialog__wrapper--enter-done',\n                    exit: 'dc-dialog__wrapper--exit',\n                }}\n                unmountOnExit\n            >\n                <>\n                    <div className={`${PARENT_CLASS}-header`}>\n                        <div className={`${PARENT_CLASS}-header__title`}>{localize(header_title)}</div>\n                        <div\n                            role='button'\n                            className={`${PARENT_CLASS}-header__close`}\n                            data-testid='react-rnd-close-modal'\n                            onClick={onCloseDraggable}\n                        >\n                            <Icon icon='IcCross' />\n                        </div>\n                    </div>\n                    {children}\n                </>\n            </CSSTransition>\n        </Rnd>\n    ) : null;\n}\n","import Draggable from './draggable';\nimport './draggable.scss';\n\nexport default Draggable;\n","import React, { ReactElement } from 'react';\nimport classNames from 'classnames';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@deriv/bot-skeleton';\nimport { Icon, IconTradeTypes, Popover } from '@deriv/components';\nimport { convertDateFormat } from '@deriv/shared';\nimport { transaction_elements } from 'Constants/transactions';\nimport { TColumn, TDesktopTransactionTable, TTableCell } from './transaction-details.types';\n\nconst PARENT_CLASS = 'transaction-details-modal-desktop';\n\nconst TableCell = ({ label, extra_classes = [], loader = false }: TTableCell) => {\n    return (\n        <div className={classNames(`${PARENT_CLASS}__table-cell`, ...extra_classes)}>\n            {loader ? <CellLoader /> : label}\n        </div>\n    );\n};\n\nconst TableHeader = ({ columns }: { columns: TColumn[] }) => (\n    <div className={classNames(`${PARENT_CLASS}__table-row`, `${PARENT_CLASS}__table-header`)}>\n        {columns?.map(column => (\n            <TableCell\n                key={column.key}\n                extra_classes={[column.extra_class ? `${PARENT_CLASS}__table-cell${column.extra_class}` : '']}\n                label={column.label}\n                loader={false}\n            />\n        ))}\n    </div>\n);\n\nconst IconWrapper = ({ message, icon }: { message: string; icon: ReactElement }) => (\n    <div className={`${PARENT_CLASS}__icon-wrapper`}>\n        <Popover alignment='left' message={message} zIndex={'9999'}>\n            {icon}\n        </Popover>\n    </div>\n);\n\nconst CellLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        data-testid='transaction_details_table_cell_loader'\n        height={10}\n        width={30}\n        speed={3}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='60' height='12' />\n    </ContentLoader>\n);\n\nexport default function DesktopTransactionTable({\n    result,\n    result_columns,\n    transactions,\n    transaction_columns,\n    account,\n    balance,\n}: TDesktopTransactionTable) {\n    return (\n        <div data-testid='transaction_details_tables'>\n            <div\n                className={classNames(\n                    `${PARENT_CLASS}__table-container`,\n                    `${PARENT_CLASS}__table-container__top-table`\n                )}\n            >\n                <TableHeader columns={transaction_columns} />\n                {transactions?.map(transaction => {\n                    const { data, type } = transaction;\n                    if (type === transaction_elements.CONTRACT) {\n                        return (\n                            <div className={`${PARENT_CLASS}__table-row`} key={data?.transaction_ids?.buy}>\n                                <TableCell\n                                    label={\n                                        data?.date_start &&\n                                        convertDateFormat(\n                                            data?.date_start,\n                                            'YYYY-M-D HH:mm:ss [GMT]',\n                                            'YYYY-MM-DD HH:mm:ss [GMT]'\n                                        )\n                                    }\n                                    extra_classes={[`${PARENT_CLASS}__table-cell--grow-big`]}\n                                />\n                                <TableCell\n                                    label={data?.transaction_ids?.buy}\n                                    extra_classes={[`${PARENT_CLASS}__table-cell--grow-mid`]}\n                                />\n                                <TableCell\n                                    label={\n                                        <IconWrapper\n                                            message={data?.display_name}\n                                            icon={<Icon icon={`IcUnderlying${data?.underlying}`} size={24} />}\n                                        />\n                                    }\n                                />\n                                <TableCell\n                                    label={\n                                        <IconWrapper\n                                            message={getContractTypeName(data)}\n                                            icon={<IconTradeTypes type={data?.contract_type} size={24} />}\n                                        />\n                                    }\n                                />\n                                <TableCell label={data?.entry_tick} loader={!data?.entry_tick} />\n                                <TableCell label={data?.exit_tick} loader={!data.exit_tick} />\n                                <TableCell label={Math.abs(data?.buy_price ?? 0).toFixed(2)} />\n                                <TableCell\n                                    label={\n                                        <div\n                                            className={classNames({\n                                                [`${PARENT_CLASS}__profit--win`]: data?.profit > 0,\n                                                [`${PARENT_CLASS}__profit--loss`]: data?.profit < 0,\n                                            })}\n                                        >\n                                            {Math.abs(data?.profit ?? 0).toFixed(2)}\n                                        </div>\n                                    }\n                                    loader={!data.is_completed}\n                                />\n                            </div>\n                        );\n                    }\n\n                    return (\n                        <div className={`${PARENT_CLASS}__table-row`} key={`transaction-row-divider-${data}`}>\n                            <div className={`${PARENT_CLASS}__divider`}>\n                                <div className='transactions__divider-line' />\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n            <div className={classNames(`${PARENT_CLASS}__table-container`)}>\n                <TableHeader columns={result_columns} />\n                <div className={`${PARENT_CLASS}__table-row`}>\n                    <TableCell label={account} />\n                    <TableCell label={result?.number_of_runs} />\n                    <TableCell label={Math.abs(result?.total_stake ?? 0).toFixed(2)} />\n                    <TableCell label={Math.abs(result?.total_payout ?? 0).toFixed(2)} />\n                    <TableCell label={result?.won_contracts} />\n                    <TableCell label={result?.lost_contracts} extra_classes={[`${PARENT_CLASS}__loss`]} />\n                    <TableCell\n                        label={\n                            <div\n                                className={classNames(\n                                    result?.total_profit && {\n                                        [`${PARENT_CLASS}__profit--win`]: result?.total_profit > 0,\n                                        [`${PARENT_CLASS}__profit--loss`]: result?.total_profit < 0,\n                                    }\n                                )}\n                                data-testid='transaction_details_table_profit'\n                            >\n                                {Math.abs(result?.total_profit ?? 0).toFixed(2)}\n                            </div>\n                        }\n                    />\n                    <TableCell label={balance} />\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport Draggable from 'Components/draggable';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport DesktopTransactionTable from './desktop-transaction-table';\nimport { TColumn, TRunPanelStore, TTransactionStore } from './transaction-details.types';\nimport './transaction-details-desktop.scss';\n\nconst transaction_columns: TColumn[] = [\n    { key: 'timestamp', label: localize('Timestamp'), extra_class: '--grow-big' },\n    { key: 'reference', label: localize('Reference'), extra_class: '--grow-mid' },\n    { key: 'market', label: localize('Market') },\n    { key: 'contract_type', label: localize('Trade type') },\n    { key: 'entry_tick', label: localize('Entry spot') },\n    { key: 'exit_tick', label: localize('Exit spot') },\n    { key: 'buy_price', label: localize('Buy price') },\n    { key: 'profit', label: localize('Profit/Loss') },\n];\n\n/* TODO: Add back account & balance when we have support from transaction store */\nconst result_columns: TColumn[] = [\n    { key: 'account', label: localize('Account') },\n    { key: 'no_of_runs', label: localize('No. of runs') },\n    { key: 'total_stake', label: localize('Total stake') },\n    { key: 'total_payout', label: localize('Total payout') },\n    { key: 'win', label: localize('Win') },\n    { key: 'loss', label: localize('Loss') },\n    { key: 'total_profit', label: localize('Total profit/loss') },\n    { key: 'balance', label: localize('Balance') },\n];\n\nconst TransactionDetailsDesktop = observer(() => {\n    const { client } = useStore();\n    const { loginid, balance } = client;\n    const { transactions, run_panel } = useDBotStore();\n    const {\n        toggleTransactionDetailsModal,\n        is_transaction_details_modal_open,\n        transactions: transaction_list,\n    }: Partial<TTransactionStore> = transactions;\n    const { statistics }: Partial<TRunPanelStore> = run_panel;\n\n    const [screenDimensions, setScreenDimensions] = useState({ width: 0, height: 0 });\n\n    const handleResize = () => {\n        setScreenDimensions({ width: window.innerWidth, height: window.innerHeight });\n    };\n\n    useEffect(() => {\n        window.addEventListener('resize', handleResize);\n        setScreenDimensions({ width: window.innerWidth, height: window.innerHeight });\n\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        };\n    }, []);\n\n    // Calculate xaxis and yaxis to center the modal on open\n    const modalWidth = 1034;\n    const modalHeight = 800;\n    const xaxis = (screenDimensions.width - modalWidth) / 2;\n    const yAxisValue = (screenDimensions.height - modalHeight) / 2;\n    const yaxis = yAxisValue >= 0 ? yAxisValue : 0;\n\n    return (\n        <Draggable\n            bounds='.dashboard__main'\n            dragHandleClassName='react-rnd-wrapper-header'\n            is_visible={is_transaction_details_modal_open}\n            minWidth={modalWidth}\n            onCloseDraggable={() => toggleTransactionDetailsModal(false)}\n            width={modalWidth}\n            xaxis={xaxis}\n            yaxis={yaxis}\n            header_title={'Transactions detailed summary'}\n        >\n            <DesktopTransactionTable\n                transaction_columns={transaction_columns}\n                transactions={transaction_list}\n                result_columns={result_columns}\n                result={statistics}\n                account={loginid ?? ''}\n                balance={balance ?? 0}\n            />\n        </Draggable>\n    );\n});\n\nexport default TransactionDetailsDesktop;\n","import React from 'react';\nimport { Checkbox } from '@deriv/components';\nimport { TFiltersProps } from '../journal.types';\n\nconst Filters = ({\n    wrapper_ref,\n    checked_filters,\n    filters,\n    filterMessage,\n    className,\n    classNameLabel,\n}: TFiltersProps) => (\n    <div ref={wrapper_ref} className={className}>\n        {filters.map(item => {\n            const hasFilter = Array.isArray(checked_filters) && checked_filters.includes(item.id);\n            return (\n                <Checkbox\n                    key={item.id}\n                    classNameLabel={classNameLabel}\n                    value={hasFilter}\n                    defaultChecked={hasFilter}\n                    label={item.label}\n                    onChange={() => filterMessage(!hasFilter, item.id)}\n                />\n            );\n        })}\n    </div>\n);\n\nexport default Filters;\n","import React from 'react';\nimport { useOnClickOutside } from '@deriv/components';\nimport { TFilterDialogProps } from '../journal.types';\nimport Filters from './filters';\n\nconst FilterDialog = ({\n    toggle_ref,\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TFilterDialogProps) => {\n    const wrapper_ref = React.useRef<HTMLDivElement>(null);\n    const validateClickOutside = (event: React.ChangeEvent<HTMLInputElement>) =>\n        is_filter_dialog_visible && !toggle_ref.current?.contains(event.target);\n\n    useOnClickOutside(wrapper_ref, toggleFilterDialog, validateClickOutside);\n\n    return (\n        <Filters\n            wrapper_ref={wrapper_ref}\n            checked_filters={checked_filters}\n            filters={filters}\n            filterMessage={filterMessage}\n            className='filter-dialog'\n        />\n    );\n};\n\nexport default FilterDialog;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { log_types } from '@deriv/bot-skeleton';\nimport { Text } from '@deriv/components';\nimport { formatMoney, getCurrencyDisplayCode } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport { TFormatMessageProps } from '../journal.types';\n\nconst FormatMessage = ({ logType, className, extra }: TFormatMessageProps) => {\n    const getLogMessage = () => {\n        switch (logType) {\n            case log_types.LOAD_BLOCK: {\n                return localize('Blocks are loaded successfully');\n            }\n            case log_types.NOT_OFFERED: {\n                return localize('Resale of this contract is not offered.');\n            }\n            case log_types.PURCHASE: {\n                const { longcode, transaction_id } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Bought</0>: {{longcode}} (ID: {{transaction_id}})'\n                        values={{ longcode, transaction_id }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-info)' }} />]}\n                        options={{ interpolation: { escapeValue: false } }}\n                    />\n                );\n            }\n            case log_types.SELL: {\n                const { sold_for } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='<0>Sold for</0>: {{sold_for}}'\n                        values={{ sold_for }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-warning)' }} />]}\n                    />\n                );\n            }\n            case log_types.PROFIT: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Profit amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-success)' }} />]}\n                    />\n                );\n            }\n            case log_types.LOST: {\n                const { currency, profit } = extra;\n                return (\n                    <Localize\n                        i18n_default_text='Loss amount: <0>{{profit}}</0>'\n                        values={{\n                            profit: `${formatMoney(currency, profit, true)} ${getCurrencyDisplayCode(currency)}`,\n                        }}\n                        components={[<Text key={0} size='xxs' styles={{ color: 'var(--status-danger)' }} />]}\n                    />\n                );\n            }\n            case log_types.WELCOME_BACK: {\n                const { current_currency } = extra;\n                if (current_currency)\n                    return (\n                        <Localize\n                            i18n_default_text='Welcome back! Your messages have been restored. You are using your {{current_currency}} account.'\n                            values={{\n                                current_currency,\n                            }}\n                        />\n                    );\n                return <Localize i18n_default_text='Welcome back! Your messages have been restored.' />;\n            }\n\n            case log_types.WELCOME: {\n                const { current_currency } = extra;\n                if (current_currency)\n                    return (\n                        <Localize\n                            i18n_default_text='You are using your {{current_currency}} account.'\n                            values={{\n                                current_currency,\n                            }}\n                        />\n                    );\n                break;\n            }\n            default:\n                return null;\n        }\n    };\n\n    return <div className={classnames('journal__text', className)}>{getLogMessage()}</div>;\n};\n\nexport default FormatMessage;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { message_types } from '@deriv/bot-skeleton';\nimport { useNewRowTransition } from '@deriv/shared';\nimport { TJournalItemExtra, TJournalItemProps } from '../journal.types';\nimport FormatMessage from './format-message';\nimport DateItem from './date-item';\n\nconst getJournalItemContent = (\n    message: string | ((value: () => void) => string),\n    type: string,\n    className: string,\n    extra: TJournalItemExtra,\n    measure: () => void\n) => {\n    switch (type) {\n        case message_types.SUCCESS: {\n            return <FormatMessage logType={message as string} extra={extra} className={className} />;\n        }\n        case message_types.NOTIFY: {\n            if (typeof message === 'function') {\n                return <div className={classnames('journal__text', className)}>{message(measure)}</div>;\n            }\n            return <div className={classnames('journal__text', className)}>{message}</div>;\n        }\n        case message_types.ERROR: {\n            return <div className='journal__text--error journal__text'>{message as string}</div>;\n        }\n        default:\n            return null;\n    }\n};\n\nconst JournalItem = ({ row, is_new_row, measure }: TJournalItemProps) => {\n    const { in_prop } = useNewRowTransition(is_new_row);\n    const { date, time, message, message_type, className, extra } = row;\n    const date_el = DateItem({ date, time });\n\n    return (\n        <CSSTransition in={in_prop} timeout={500} classNames='list__animation' data-testid='mock-css-transition'>\n            <div className='journal__item'>\n                <div className='journal__item-content'>\n                    {getJournalItemContent(message, message_type, className, extra as TJournalItemExtra, measure)}\n                </div>\n                <div className='journal__text-datetime'>{date_el}</div>\n            </div>\n        </CSSTransition>\n    );\n};\n\nexport default JournalItem;\n","import React from 'react';\nimport { TDateItemProps } from '../journal.types';\n\nconst DateItem = ({ date, time }: TDateItemProps) => (\n    <>\n        <span className='journal__text-date'>{date}</span> | <span className='journal__text-time'>{time}</span>\n    </>\n);\n\nexport default DateItem;\n","import React from 'react';\nimport classnames from 'classnames';\nimport ContentLoader from 'react-content-loader';\n\nconst JournalLoader = ({ is_mobile }: { is_mobile: boolean }) => (\n    <ContentLoader\n        className={classnames('journal__loader', { 'journal__loader--mobile': is_mobile })}\n        speed={3}\n        width={350}\n        height={92}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='15' y='15' rx='5' ry='5' width='320' height='40' />\n        <rect x='15' y='60' rx='5' ry='5' width='180' height='7' />\n    </ContentLoader>\n);\n\nexport default JournalLoader;\n","import React from 'react';\nimport { Button, Icon, Popover } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TDownloadProps = {\n    tab: string;\n};\n\nconst Download = observer(({ tab }: TDownloadProps) => {\n    const { download, run_panel, transactions } = useDBotStore();\n    const { is_clear_stat_disabled, is_running } = run_panel;\n    const { onClickDownloadTransaction, onClickDownloadJournal } = download;\n    const { transactions: transaction_list } = transactions;\n    let disabled = false;\n    let clickFunction, popover_message;\n    if (tab === 'transactions') {\n        clickFunction = onClickDownloadTransaction;\n        disabled = !transaction_list.length || is_running;\n        popover_message = localize('Download your transaction history.');\n        if (!transaction_list.length) popover_message = localize('No transaction or activity yet.');\n    } else if (tab === 'journal') {\n        clickFunction = onClickDownloadJournal;\n        popover_message = localize('Download your journal.');\n        disabled = is_clear_stat_disabled;\n        if (disabled) popover_message = localize('No transaction or activity yet.');\n    }\n    if (is_running) popover_message = localize('Download is unavailable while your bot is running.');\n\n    return (\n        <Popover\n            className='run-panel__info'\n            classNameBubble='run-panel__info--bubble'\n            alignment='bottom'\n            message={popover_message}\n            zIndex='5'\n        >\n            <Button\n                id='download-button'\n                is_disabled={disabled}\n                className='download__button'\n                icon={\n                    <Icon icon='IcDbotDownload' color={disabled ? 'disabled' : undefined} className='download__icon' />\n                }\n                text={localize('Download')}\n                onClick={clickFunction}\n                secondary\n            />\n        </Popover>\n    );\n});\n\nexport default Download;\n","import Download from './download';\nimport './download.scss';\n\nexport default Download;\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { Icon, Text } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport Download from 'Components/download';\nimport { TJournalToolsProps } from '../journal.types';\nimport FilterDialog from './filter-dialog';\n\nconst JournalTools = ({\n    checked_filters,\n    filters,\n    filterMessage,\n    is_filter_dialog_visible,\n    toggleFilterDialog,\n}: TJournalToolsProps) => {\n    const toggle_ref = React.useRef<HTMLDivElement>(null);\n\n    return (\n        <>\n            <div className='journal-tools__container'>\n                <Download tab='journal' />\n                <div ref={toggle_ref} className='journal-tools__container-filter' onClick={toggleFilterDialog}>\n                    <Text size='xs' className='journal-tools__container-filter--label'>\n                        <Localize i18n_default_text='Filters' />\n                    </Text>\n                    <Icon icon='IcFilter' size={16} />\n                </div>\n            </div>\n            <CSSTransition\n                in={is_filter_dialog_visible}\n                classNames={{\n                    enter: 'filter-dialog--enter',\n                    enterDone: 'filter-dialog--enter-done',\n                    exit: 'filter-dialog--exit',\n                }}\n                timeout={150}\n                unmountOnExit\n            >\n                <FilterDialog\n                    toggle_ref={toggle_ref}\n                    checked_filters={checked_filters}\n                    filters={filters}\n                    filterMessage={filterMessage}\n                    is_filter_dialog_visible={is_filter_dialog_visible}\n                    toggleFilterDialog={toggleFilterDialog}\n                />\n            </CSSTransition>\n        </>\n    );\n};\n\nexport default JournalTools;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { DataList, Icon, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TCheckedFilters, TFilterMessageValues, TJournalDataListArgs } from './journal.types';\nimport { JournalItem, JournalLoader, JournalTools } from './journal-components';\n\nconst Journal = observer(() => {\n    const { ui } = useStore();\n    const { journal, run_panel } = useDBotStore();\n    const {\n        checked_filters,\n        filterMessage,\n        filters,\n        filtered_messages,\n        is_filter_dialog_visible,\n        toggleFilterDialog,\n        unfiltered_messages,\n    } = journal;\n    const { is_stop_button_visible, contract_stage } = run_panel;\n\n    const filtered_messages_length = Array.isArray(filtered_messages) && filtered_messages.length;\n    const unfiltered_messages_length = Array.isArray(unfiltered_messages) && unfiltered_messages.length;\n    const { is_mobile } = ui;\n\n    return (\n        <div\n            className={classnames('journal run-panel-tab__content--no-stat', {\n                'run-panel-tab__content': !is_mobile,\n            })}\n        >\n            <JournalTools\n                checked_filters={checked_filters}\n                filters={filters}\n                filterMessage={filterMessage}\n                is_filter_dialog_visible={is_filter_dialog_visible}\n                toggleFilterDialog={toggleFilterDialog}\n            />\n            <div className='journal__item-list'>\n                {filtered_messages_length ? (\n                    <DataList\n                        className='journal'\n                        data_source={filtered_messages}\n                        rowRenderer={(args: TJournalDataListArgs) => <JournalItem {...args} />}\n                        keyMapper={(row: TFilterMessageValues) => row.unique_id}\n                    />\n                ) : (\n                    <>\n                        {contract_stage >= contract_stages.STARTING &&\n                        !!Object.keys(checked_filters as TCheckedFilters).length &&\n                        !unfiltered_messages_length &&\n                        is_stop_button_visible ? (\n                            <JournalLoader is_mobile={is_mobile} />\n                        ) : (\n                            <div className='journal-empty'>\n                                <Icon icon='IcBox' className='journal-empty__icon' size={64} color='secondary' />\n                                <Text\n                                    as='h4'\n                                    size='xs'\n                                    weight='bold'\n                                    align='center'\n                                    color='less-prominent'\n                                    line_height='xxs'\n                                    className='journal-empty__header'\n                                >\n                                    {localize('There are no messages to display')}\n                                </Text>\n                                <div className='journal-empty__message'>\n                                    <Text size='xxs' color='less-prominent'>\n                                        {localize('Here are the possible reasons:')}\n                                    </Text>\n                                    <ul className='journal-empty__list'>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('The bot is not running')}\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('The stats are cleared')}\n                                            </Text>\n                                        </li>\n                                        <li>\n                                            <Text size='xxs' color='less-prominent'>\n                                                {localize('All messages are filtered out')}\n                                            </Text>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default Journal;\n","import Journal from './journal';\nimport './journal.scss';\n\nexport default Journal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Field, Form, Formik } from 'formik';\nimport PropTypes from 'prop-types';\nimport { Button, Div100vhContainer, FadeWrapper, Input, MobileWrapper, Modal, PageOverlay } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst SelfExclusionForm = props => {\n    const [max_losses_error, setMaxLossesError] = React.useState('');\n    const {\n        is_onscreen_keyboard_active,\n        is_logged_in,\n        initial_values,\n        api_max_losses,\n        onRunButtonClick,\n        resetSelfExclusion,\n        updateSelfExclusion,\n        setRunLimit,\n        is_mobile,\n    } = props;\n\n    React.useEffect(() => {\n        if (!is_logged_in) {\n            resetSelfExclusion();\n        }\n    });\n\n    const onSubmitLimits = async values => {\n        if (values.form_max_losses !== api_max_losses) {\n            const set_losses = await updateSelfExclusion({ max_losses: values.form_max_losses });\n            if (set_losses?.error) {\n                setMaxLossesError(localize(set_losses.error.message));\n                return;\n            }\n        }\n        setRunLimit(values.run_limit);\n        onRunButtonClick();\n    };\n    const validateFields = values => {\n        const errors = {};\n        // Regex\n        const is_number = /^\\d+(\\.\\d+)?$/;\n        const is_integer = /^\\d+$/;\n        const max_number = 9999999999999;\n\n        // Messages\n        const requested_field_message = localize('This field is required.');\n        const valid_number_message = localize('Should be a valid number');\n        const max_number_message = localize('Reached maximum number of digits');\n        const max_decimal_message = localize('Reached maximum number of decimals');\n        const max_losses_limit_message = localize('Please enter a number between 0 and {{api_max_losses}}.', {\n            api_max_losses,\n        });\n        const requested_fields = ['run_limit', 'form_max_losses'];\n        const only_numbers = ['run_limit', 'form_max_losses'];\n        const decimal_limit = ['form_max_losses'];\n        const has_max_limit = ['form_max_losses'];\n\n        const only_integers = ['run_limit'];\n\n        requested_fields.forEach(item => {\n            if (!values[item]) {\n                errors[item] = requested_field_message;\n            }\n        });\n\n        only_numbers.forEach(item => {\n            if (values[item]) {\n                if (!is_number.test(values[item])) {\n                    errors[item] = valid_number_message;\n                } else if (+values[item] > max_number) {\n                    errors[item] = max_number_message;\n                }\n            }\n        });\n\n        only_integers.forEach(item => {\n            if (values[item]) {\n                if (!is_integer.test(values[item])) {\n                    errors[item] = valid_number_message;\n                }\n            }\n        });\n\n        decimal_limit.forEach(item => {\n            const amount_decimal_array = values[item].toString().split('.')[1];\n            const amount_decimal_places = amount_decimal_array ? amount_decimal_array.length || 0 : 0;\n            if (amount_decimal_places > 2) {\n                errors[item] = max_decimal_message;\n            }\n        });\n        has_max_limit.forEach(item => {\n            if (api_max_losses !== 0 && api_max_losses !== values[item] && api_max_losses < values[item]) {\n                errors[item] = max_losses_limit_message;\n            } else {\n                setMaxLossesError('');\n            }\n        });\n\n        return errors;\n    };\n\n    return (\n        <div className='db-self-exclusion'>\n            <div className='db-self-exclusion__content'>\n                <div className='db-self-exclusion__info'>\n                    {localize('Enter limits to stop your bot from trading when any of these conditions are met.')}\n                </div>\n                <Formik initialValues={initial_values} validate={validateFields} onSubmit={onSubmitLimits}>\n                    {({ values, touched, errors, isValid, handleChange }) => {\n                        return (\n                            <Form>\n                                <div className='db-self-exclusion__form-group'>\n                                    <Field name='form_max_losses'>\n                                        {({ field }) => (\n                                            <Input\n                                                {...field}\n                                                className='db-self-exclusion__input'\n                                                type='text'\n                                                label={localize('Daily loss limit')}\n                                                value={values.form_max_losses}\n                                                onChange={handleChange}\n                                                error={max_losses_error || (touched[field.name] && errors[field.name])}\n                                                hint={localize(\n                                                    'Limits your potential losses for the day across all Deriv platforms.'\n                                                )}\n                                            />\n                                        )}\n                                    </Field>\n                                </div>\n                                <div className='db-self-exclusion__form-group'>\n                                    <Field name='run_limit'>\n                                        {({ field }) => {\n                                            return (\n                                                <Input\n                                                    {...field}\n                                                    className='db-self-exclusion__input'\n                                                    type='text'\n                                                    label={localize('Maximum consecutive trades')}\n                                                    value={values.run_limit}\n                                                    onChange={handleChange}\n                                                    error={touched[field.name] && errors.run_limit}\n                                                    hint={localize(\n                                                        'Maximum number of trades your bot will execute for this run.'\n                                                    )}\n                                                />\n                                            );\n                                        }}\n                                    </Field>\n                                </div>\n                                <div\n                                    className={classNames('db-self-exclusion__footer', {\n                                        'db-self-exclusion__footer--relative': is_mobile && is_onscreen_keyboard_active,\n                                    })}\n                                >\n                                    <div className='db-self-exclusion__footer-btn-group'>\n                                        <Button\n                                            large\n                                            text={localize('Cancel')}\n                                            onClick={resetSelfExclusion}\n                                            secondary\n                                            type='button'\n                                        />\n                                        <Button\n                                            type='submit'\n                                            large\n                                            text={localize('Apply and run')}\n                                            is_disabled={\n                                                !isValid ||\n                                                !values.run_limit ||\n                                                !values.form_max_losses ||\n                                                max_losses_error !== ''\n                                            }\n                                            primary\n                                        />\n                                    </div>\n                                </div>\n                            </Form>\n                        );\n                    }}\n                </Formik>\n            </div>\n        </div>\n    );\n};\n\nconst SelfExclusion = observer(({ onRunButtonClick }) => {\n    const { self_exclusion } = useDBotStore();\n    const { ui, client } = useStore();\n    const { is_restricted, resetSelfExclusion, initial_values, api_max_losses, run_limit, setRunLimit } =\n        self_exclusion;\n    const { is_onscreen_keyboard_active, is_mobile } = ui;\n    const { is_logged_in, updateSelfExclusion, virtual_account_loginid } = client;\n\n    const self_exclusion_form_props = {\n        is_onscreen_keyboard_active,\n        is_logged_in,\n        initial_values,\n        api_max_losses,\n        onRunButtonClick,\n        resetSelfExclusion,\n        updateSelfExclusion,\n        setRunLimit,\n        virtual_account_loginid,\n        run_limit,\n        is_mobile,\n    };\n\n    return (\n        <>\n            {is_mobile ? (\n                <FadeWrapper is_visible={is_restricted} className='limits__wrapper' keyname='limitis__wrapper'>\n                    <PageOverlay header={localize('Limits')} onClickClose={resetSelfExclusion}>\n                        <MobileWrapper>\n                            <Div100vhContainer className='limits__wrapper--is-mobile'>\n                                <SelfExclusionForm {...self_exclusion_form_props} />\n                            </Div100vhContainer>\n                        </MobileWrapper>\n                    </PageOverlay>\n                </FadeWrapper>\n            ) : (\n                <Modal\n                    is_open={is_restricted}\n                    has_close_icon\n                    width='440px'\n                    height='374px'\n                    toggleModal={resetSelfExclusion}\n                    className='db-self-exclusion__modal'\n                    title={localize('Limits')}\n                >\n                    <SelfExclusionForm {...self_exclusion_form_props} />\n                </Modal>\n            )}\n        </>\n    );\n});\n\nSelfExclusion.propTypes = {\n    onRunButtonClick: PropTypes.func,\n};\n\nexport default SelfExclusion;\n","import SelfExclusion from './self-exclusion';\n\nexport default SelfExclusion;\n","import ContractCardLoader from './contract-card-loading';\n\nexport default ContractCardLoader;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\ntype TContractCardLoader = {\n    speed?: number;\n};\n\nconst ContractCardLoader = ({ speed = 3 }: TContractCardLoader) => (\n    <ContentLoader\n        height={153}\n        width={334}\n        speed={speed}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n        data-testid='contract-card-loader'\n    >\n        <rect x='12' y='15' rx='0' ry='0' width='41' height='25' />\n        <rect x='61' y='24' rx='0' ry='0' width='91' height='8' />\n        <rect x='180' y='15' rx='0' ry='0' width='41' height='25' />\n        <rect x='229' y='24' rx='0' ry='0' width='91' height='8' />\n        <rect x='12' y='48' rx='0' ry='0' width='60' height='8' />\n        <rect x='12' y='64' rx='0' ry='0' width='308' height='8' />\n        <rect x='12' y='80' rx='0' ry='0' width='308' height='1' />\n        <rect x='12' y='89' rx='0' ry='0' width='140' height='8' />\n        <rect x='12' y='105' rx='0' ry='0' width='60' height='8' />\n        <rect x='12' y='121' rx='0' ry='0' width='140' height='8' />\n        <rect x='12' y='137' rx='0' ry='0' width='60' height='8' />\n        <rect x='180' y='89' rx='0' ry='0' width='140' height='8' />\n        <rect x='180' y='105' rx='0' ry='0' width='60' height='8' />\n        <rect x='180' y='121' rx='0' ry='0' width='140' height='8' />\n        <rect x='180' y='137' rx='0' ry='0' width='60' height='8' />\n    </ContentLoader>\n);\n\nexport default ContractCardLoader;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { ContractCard, Text } from '@deriv/components';\nimport { getCardLabels } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport ContractCardLoader from 'Components/contract-card-loading';\nimport { getContractTypeDisplay } from 'Constants/contract';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TSummaryCardProps } from './summary-card.types';\n\nconst SummaryCard = observer(({ contract_info, is_contract_loading }: TSummaryCardProps) => {\n    const { summary_card, run_panel } = useDBotStore();\n    const { ui, common } = useStore();\n    const { is_contract_completed, is_contract_inactive, is_multiplier } = summary_card;\n    const { onClickSell, is_sell_requested } = run_panel;\n    const { addToast, current_focus, removeToast, setCurrentFocus } = ui;\n    const { server_time } = common;\n\n    const { is_mobile } = ui;\n\n    const card_header = (\n        <ContractCard.Header\n            contract_info={contract_info}\n            getCardLabels={getCardLabels}\n            getContractTypeDisplay={getContractTypeDisplay}\n            has_progress_slider={!is_multiplier}\n            is_sold={is_contract_completed}\n            server_time={server_time}\n        />\n    );\n\n    const card_body = (\n        <ContractCard.Body\n            addToast={addToast}\n            contract_info={contract_info}\n            currency={contract_info?.currency ?? ''}\n            current_focus={current_focus}\n            error_message_alignment='left'\n            getCardLabels={getCardLabels}\n            getContractById={() => summary_card}\n            is_mobile={is_mobile}\n            is_multiplier={is_multiplier}\n            is_sold={is_contract_completed}\n            removeToast={removeToast}\n            server_time={server_time}\n            setCurrentFocus={setCurrentFocus}\n        />\n    );\n\n    const card_footer = (\n        <ContractCard.Footer\n            contract_info={contract_info}\n            getCardLabels={getCardLabels}\n            is_multiplier={is_multiplier}\n            is_sell_requested={is_sell_requested}\n            onClickSell={onClickSell}\n        />\n    );\n\n    const contract_el = (\n        <React.Fragment>\n            {card_header}\n            {card_body}\n            {card_footer}\n        </React.Fragment>\n    );\n\n    return (\n        <div\n            className={classNames('db-summary-card', {\n                'db-summary-card--mobile': is_mobile,\n                'db-summary-card--inactive': is_contract_inactive && !is_contract_loading && !contract_info,\n                'db-summary-card--is-loading': is_contract_loading,\n                'db-summary-card--completed': is_contract_completed,\n                'db-summary-card--completed-mobile': is_contract_completed && is_mobile,\n            })}\n        >\n            {is_contract_loading && <ContractCardLoader speed={2} />}\n            {!is_contract_loading && contract_info && (\n                <ContractCard\n                    contract_info={contract_info}\n                    getCardLabels={getCardLabels}\n                    is_multiplier={is_multiplier}\n                    profit_loss={contract_info.profit}\n                    should_show_result_overlay={true}\n                >\n                    <div\n                        className={classNames('dc-contract-card', {\n                            'dc-contract-card--green': contract_info.profit > 0,\n                            'dc-contract-card--red': contract_info.profit < 0,\n                        })}\n                    >\n                        {contract_el}\n                    </div>\n                </ContractCard>\n            )}\n            {!is_contract_loading && !contract_info && (\n                <Text as='p' line_height='s' size='xs'>\n                    {localize('When you’re ready to trade, hit ')}\n                    <strong>{localize('Run')}</strong>\n                    {localize('. You’ll be able to track your bot’s performance here.')}\n                </Text>\n            )}\n        </div>\n    );\n});\n\nexport default SummaryCard;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { ThemedScrollbars } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport SummaryCard from './summary-card';\n\ntype TSummary = {\n    is_drawer_open: boolean;\n};\n\nconst Summary = observer(({ is_drawer_open }: TSummary) => {\n    const { ui } = useStore();\n    const { dashboard, summary_card } = useDBotStore();\n    const { is_contract_loading, contract_info } = summary_card;\n    const { active_tour } = dashboard;\n    const { is_mobile } = ui;\n    return (\n        <div\n            className={classnames({\n                'run-panel-tab__content': !is_mobile,\n                'run-panel-tab__content--mobile': is_mobile && is_drawer_open,\n                'run-panel-tab__content--summary-tab': (!is_mobile && is_drawer_open) || active_tour,\n            })}\n            data-testid='mock-summary'\n        >\n            <ThemedScrollbars\n                className={classnames({\n                    summary: !is_contract_loading && !contract_info,\n                    'summary--loading':\n                        (is_mobile && is_contract_loading) || (is_mobile && !is_contract_loading && contract_info),\n                })}\n            >\n                <SummaryCard is_contract_loading={is_contract_loading} contract_info={contract_info} />\n            </ThemedScrollbars>\n        </div>\n    );\n});\n\nexport default Summary;\n","import Summary from './summary';\nimport './summary.scss';\nimport './summary-card.scss';\n\nexport default Summary;\n","import ContractResultOverlay from './contract-result-overlay';\nimport './contract-result-overlay.scss';\n\nexport default ContractResultOverlay;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\ntype TContractResultOverlayProps = {\n    profit: number;\n    className: string;\n};\n\nconst ContractResultOverlay = ({ profit, className }: TContractResultOverlayProps) => {\n    const has_won_contract = profit >= 0;\n\n    return (\n        <div\n            className={classNames('db-contract-card__result', className, {\n                'db-contract-card__result--won': has_won_contract,\n                'db-contract-card__result--lost': !has_won_contract,\n            })}\n        >\n            <Text weight='bold' className='db-contract-card__result-caption'>\n                {has_won_contract ? (\n                    <React.Fragment>\n                        {localize('Won')}\n                        <Icon icon='IcCheckmarkCircle' className='db-contract-card__result-icon' color='green' />\n                    </React.Fragment>\n                ) : (\n                    <React.Fragment>\n                        {localize('Lost')}\n                        <Icon icon='IcCrossCircle' className='db-contract-card__result-icon' color='red' />\n                    </React.Fragment>\n                )}\n            </Text>\n        </div>\n    );\n};\n\nexport default ContractResultOverlay;\n","import React, { useRef } from 'react';\nimport { observer } from 'mobx-react';\nimport { Icon, Toast } from '@deriv/components';\nimport { Localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst BotStopNotification = observer(() => {\n    const { run_panel } = useDBotStore();\n    const { setShowBotStopMessage } = run_panel;\n    const notification_timer = useRef(6000);\n\n    const notificationTimer = setTimeout(() => {\n        if (notification_timer.current) {\n            setShowBotStopMessage(false);\n        }\n    }, notification_timer.current);\n\n    const resetTimer = () => {\n        setTimeout(() => {\n            setShowBotStopMessage(false);\n        }, 4000);\n    };\n\n    return (\n        <div\n            className='bot-stop-notification'\n            onMouseOver={e => {\n                clearTimeout(notificationTimer);\n            }}\n            onMouseLeave={e => {\n                resetTimer();\n            }}\n            data-testid='bot-stop-notification'\n        >\n            <Toast>\n                <div>\n                    <Localize\n                        i18n_default_text='You’ve just stopped the bot. Any open contracts can be viewed on the <0>Reports</0> page.'\n                        components={[\n                            <a\n                                key={0}\n                                style={{ color: 'var(--general-main-1)' }}\n                                rel='noopener noreferrer'\n                                target='_blank'\n                                href={'/reports'}\n                            />,\n                        ]}\n                    />\n                </div>\n                <Icon\n                    icon='IcCross'\n                    className={'notification-close'}\n                    data_testid={'notification-close'}\n                    onClick={() => setShowBotStopMessage(false)}\n                />\n            </Toast>\n        </div>\n    );\n});\n\nexport default BotStopNotification;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { Button, Icon } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport ContractResultOverlay from 'Components/contract-result-overlay';\nimport BotStopNotification from 'Components/dashboard/bot-stop-notification';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst CircularWrapper = ({ className }) => (\n    <div className={classNames('circular-wrapper', className)}>\n        <span className='static-circle' />\n        <span className='dynamic-circle' />\n    </div>\n);\n\nconst ContractStageText = ({ contract_stage }) => {\n    switch (contract_stage) {\n        case contract_stages.NOT_RUNNING:\n        default:\n            return <Localize i18n_default_text='Bot is not running' />;\n        case contract_stages.STARTING:\n            return <Localize i18n_default_text='Bot is starting' />;\n        case contract_stages.PURCHASE_SENT:\n            return <Localize i18n_default_text='Buying contract' />;\n        case contract_stages.PURCHASE_RECEIVED:\n            return <Localize i18n_default_text='Contract bought' />;\n        case contract_stages.IS_STOPPING:\n            return <Localize i18n_default_text='Bot is stopping' />;\n        case contract_stages.CONTRACT_CLOSED:\n            return <Localize i18n_default_text='Contract closed' />;\n    }\n};\n\nconst TradeAnimation = observer(({ className }) => {\n    const { run_panel, summary_card } = useDBotStore();\n    const { client } = useStore();\n    const { is_contract_completed, profit } = summary_card;\n    const {\n        contract_stage,\n        is_stop_button_visible,\n        is_stop_button_disabled,\n        onRunButtonClick,\n        onStopBotClick,\n        performSelfExclusionCheck,\n        should_show_overlay,\n        show_bot_stop_message,\n    } = run_panel;\n    const { account_status } = client;\n    const cashier_validation = account_status?.cashier_validation;\n    const [is_button_disabled, updateIsButtonDisabled] = React.useState(false);\n    const is_unavailable_for_payment_agent = cashier_validation?.includes('WithdrawServiceUnavailableForPA');\n\n    // perform self-exclusion checks which will be stored under the self-exclusion-store\n    React.useEffect(() => {\n        performSelfExclusionCheck();\n    }, []);\n\n    React.useEffect(() => {\n        if (is_button_disabled) {\n            setTimeout(() => {\n                updateIsButtonDisabled(false);\n            }, 1000);\n        }\n    }, [is_button_disabled]);\n\n    const status_classes = ['', '', ''];\n    let progress_status =\n        contract_stage -\n        (contract_stage === contract_stages.PURCHASE_SENT || contract_stage === contract_stages.PURCHASE_RECEIVED\n            ? 2\n            : 3);\n\n    if (progress_status >= 0) {\n        if (progress_status < status_classes.length) {\n            status_classes[progress_status] = 'active';\n        }\n\n        if (is_contract_completed) {\n            progress_status += 1;\n        }\n\n        for (let i = 0; i < progress_status; i++) {\n            status_classes[i] = 'completed';\n        }\n    }\n\n    return (\n        <div className={classNames('animation__wrapper', className)}>\n            <Button\n                is_disabled={(is_stop_button_disabled || is_button_disabled) && !is_unavailable_for_payment_agent}\n                className='animation__button'\n                id={is_stop_button_visible ? 'db-animation__stop-button' : 'db-animation__run-button'}\n                text={is_stop_button_visible ? localize('Stop') : localize('Run')}\n                icon={<Icon icon={is_stop_button_visible ? 'IcBotStop' : 'IcPlay'} color='active' />}\n                onClick={() => {\n                    updateIsButtonDisabled(true);\n                    if (is_stop_button_visible) {\n                        onStopBotClick();\n                        return;\n                    }\n                    onRunButtonClick();\n                }}\n                has_effect\n                {...(is_stop_button_visible || !is_unavailable_for_payment_agent ? { primary: true } : { green: true })}\n            />\n            {show_bot_stop_message && <BotStopNotification />}\n            <div\n                className={classNames('animation__container', className, {\n                    'animation--running': contract_stage > 0,\n                    'animation--completed': should_show_overlay && is_contract_completed,\n                })}\n            >\n                {should_show_overlay && is_contract_completed && <ContractResultOverlay profit={profit} />}\n                <span className='animation__text'>\n                    <ContractStageText contract_stage={contract_stage} />\n                </span>\n                <div className='animation__progress'>\n                    <div className='animation__progress-line'>\n                        <div className={`animation__progress-bar animation__progress-${contract_stage}`} />\n                    </div>\n                    {status_classes.map((status_class, i) => (\n                        <CircularWrapper key={i} className={status_class} />\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nTradeAnimation.propTypes = {\n    className: PropTypes.string,\n};\n\nexport default TradeAnimation;\n","import TradeAnimation from './trade-animation.jsx';\nimport './trade-animation.scss';\n\nexport default TradeAnimation;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@deriv/bot-skeleton';\nimport { Icon, IconTradeTypes, Money, Popover } from '@deriv/components';\nimport { convertDateFormat } from '@deriv/shared';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { popover_zindex } from 'Constants/z-indexes';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst TransactionIconWithText = ({ icon, title, message, className }) => (\n    <React.Fragment>\n        <Popover\n            className={classNames(className, 'transactions__icon')}\n            alignment='left'\n            message={title}\n            zIndex={popover_zindex.TRANSACTION}\n        >\n            {icon}\n        </Popover>\n        {message}\n    </React.Fragment>\n);\n\nconst TransactionFieldLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        height={10}\n        width={80}\n        speed={3}\n        backgroundColor={'var(--general-section-2)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nconst TransactionIconLoader = () => (\n    <ContentLoader\n        className='transactions__loader-icon'\n        speed={3}\n        width={24}\n        height={24}\n        backgroundColor={'var(--general-section-1)'}\n        foregroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='5' ry='5' width='24' height='24' />\n    </ContentLoader>\n);\n\nconst PopoverItem = ({ icon, title, children }) => (\n    <div className='transactions__popover-item'>\n        {icon && <div className='transaction__popover-icon'>{icon}</div>}\n        <div className='transactions__popover-details'>\n            <div className='transactions__popover-title'>{title}</div>\n            {children}\n        </div>\n    </div>\n);\n\nconst PopoverContent = ({ contract }) => (\n    <div className='transactions__popover-content'>\n        {contract.transaction_ids && (\n            <PopoverItem title={localize('Reference IDs')}>\n                {contract.transaction_ids.buy && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.buy} ${localize('(Buy)')}`}\n                    </div>\n                )}\n                {contract.transaction_ids.sell && (\n                    <div className='transactions__popover-value'>\n                        {`${contract.transaction_ids.sell} ${localize('(Sell)')}`}\n                    </div>\n                )}\n            </PopoverItem>\n        )}\n        {contract.tick_count && (\n            <PopoverItem title={localize('Duration')}>\n                <div className='transactions__popover-value'>{`${contract.tick_count} ${localize('ticks')}`}</div>\n            </PopoverItem>\n        )}\n        {(contract.barrier && (\n            <PopoverItem title={localize('Barrier')}>\n                <div className='transactions__popover-value'>{contract.barrier}</div>\n            </PopoverItem>\n        )) ||\n            (contract.high_barrier && contract.low_barrier && (\n                <PopoverItem title={localize('Barriers')}>\n                    <div className='transactions__popover-value'>{`${contract.high_barrier} ${localize(\n                        '(High)'\n                    )}`}</div>\n                    <div className='transactions__popover-value'>{`${contract.low_barrier} ${localize('(Low)')}`}</div>\n                </PopoverItem>\n            ))}\n        {contract.date_start && (\n            <PopoverItem title={localize('Start time')}>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.date_start, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )}\n        {\n            contract.entry_tick && (\n                <PopoverItem title={localize('Entry spot')}>\n                    <div className='transactions__popover-value'>{contract.entry_tick}</div>\n                    {contract.entry_tick_time && (\n                        <div className='transactions__popover-value'>\n                            {convertDateFormat(\n                                contract.entry_tick_time,\n                                'YYYY-M-D HH:mm:ss [GMT]',\n                                'YYYY-MM-DD HH:mm:ss [GMT]'\n                            )}\n                        </div>\n                    )}\n                </PopoverItem>\n            )\n            // TODO: Durations for non-tick contracts, requires helpers from Trader.\n        }\n        {(contract.exit_tick && contract.exit_tick_time && (\n            <PopoverItem title={localize('Exit spot')}>\n                <div className='transactions__popover-value'>{contract.exit_tick}</div>\n                <div className='transactions__popover-value'>\n                    {convertDateFormat(contract.exit_tick_time, 'YYYY-M-D HH:mm:ss [GMT]', 'YYYY-MM-DD HH:mm:ss [GMT]')}\n                </div>\n            </PopoverItem>\n        )) ||\n            (contract.exit_tick && (\n                <PopoverItem title={localize('Exit time')}>\n                    <div className='transactions__popover-value'>{contract.exit_tick}</div>\n                </PopoverItem>\n            ))}\n    </div>\n);\n\nconst Transaction = observer(({ contract }) => {\n    const { transactions } = useDBotStore();\n    const { active_transaction_id, setActiveTransactionId } = transactions;\n\n    return (\n        <Popover\n            zIndex={popover_zindex.TRANSACTION}\n            alignment='left'\n            className='transactions__item-wrapper'\n            is_open={contract && active_transaction_id === contract.transaction_ids.buy}\n            message={contract && <PopoverContent contract={contract} />}\n        >\n            <div\n                className='transactions__item'\n                onClick={contract && (() => setActiveTransactionId(contract.transaction_ids.buy))}\n            >\n                <div className='transactions__cell transactions__trade-type'>\n                    <div className='transactions__loader-container'>\n                        {contract ? (\n                            <TransactionIconWithText\n                                icon={<Icon icon={`IcUnderlying${contract.underlying}`} size={16} />}\n                                title={contract.display_name}\n                            />\n                        ) : (\n                            <TransactionIconLoader />\n                        )}\n                    </div>\n                    <div className='transactions__loader-container'>\n                        {contract ? (\n                            <TransactionIconWithText\n                                icon={<IconTradeTypes type={contract.contract_type} size={16} />}\n                                title={getContractTypeName(contract)}\n                            />\n                        ) : (\n                            <TransactionIconLoader />\n                        )}\n                    </div>\n                </div>\n                <div className='transactions__cell transactions__entry-spot'>\n                    <TransactionIconWithText\n                        icon={<Icon icon='IcContractEntrySpot' />}\n                        title={localize('Entry spot')}\n                        message={(contract && contract.entry_tick) || <TransactionFieldLoader />}\n                    />\n                </div>\n                <div className='transactions__cell transactions__exit-spot'>\n                    <TransactionIconWithText\n                        icon={<Icon icon='IcContractExitSpot' />}\n                        title={localize('Exit spot')}\n                        message={(contract && contract.exit_tick) || <TransactionFieldLoader />}\n                    />\n                </div>\n                <div className='transactions__cell transactions__stake'>\n                    {contract ? (\n                        <Money amount={contract.buy_price} currency={contract.currency} show_currency />\n                    ) : (\n                        <TransactionFieldLoader />\n                    )}\n                </div>\n                <div className='transactions__cell transactions__profit'>\n                    {contract?.is_completed ? (\n                        <div\n                            className={classNames({\n                                'transactions__profit--win': contract.profit >= 0,\n                                'transactions__profit--loss': contract.profit < 0,\n                            })}\n                        >\n                            <Money amount={Math.abs(contract.profit)} currency={contract.currency} show_currency />\n                        </div>\n                    ) : (\n                        <TransactionFieldLoader />\n                    )}\n                </div>\n            </div>\n        </Popover>\n    );\n});\n\nTransaction.propTypes = {\n    contract: PropTypes.object,\n};\n\nexport default Transaction;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { PropTypes } from 'prop-types';\nimport { CSSTransition } from 'react-transition-group';\nimport { Button, DataList, Icon, Text, ThemedScrollbars } from '@deriv/components';\nimport { useNewRowTransition } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport Download from 'Components/download';\nimport { contract_stages } from 'Constants/contract-stage';\nimport { transaction_elements } from 'Constants/transactions';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport Transaction from './transaction.jsx';\n\nconst TransactionItem = ({ row, is_new_row }) => {\n    const { in_prop } = useNewRowTransition(is_new_row);\n\n    switch (row.type) {\n        case transaction_elements.CONTRACT: {\n            const { data: contract } = row;\n            return (\n                <CSSTransition in={in_prop} timeout={500} classNames='list__animation'>\n                    <Transaction contract={contract} />\n                </CSSTransition>\n            );\n        }\n        case transaction_elements.DIVIDER: {\n            return (\n                <div className='transactions__divider'>\n                    <div className='transactions__divider-line' />\n                </div>\n            );\n        }\n        default: {\n            return null;\n        }\n    }\n};\n\nconst Transactions = observer(({ is_drawer_open }) => {\n    const { ui } = useStore();\n    const { run_panel, transactions } = useDBotStore();\n    const { contract_stage } = run_panel;\n    const { transactions: transaction_list, onMount, onUnmount, toggleTransactionDetailsModal } = transactions;\n    const { is_mobile } = ui;\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    return (\n        <div\n            className={classnames('transactions', {\n                'run-panel-tab__content': !is_mobile,\n                'run-panel-tab__content--mobile': is_mobile && is_drawer_open,\n            })}\n        >\n            <div className='download__container transaction-details__button-container'>\n                <Download tab='transactions' />\n                <Button\n                    id='download__container__view-detail-button'\n                    className='download__container__view-detail-button'\n                    is_disabled={!transaction_list?.length}\n                    text={localize('View Detail')}\n                    onClick={() => {\n                        toggleTransactionDetailsModal(true);\n                    }}\n                    secondary\n                    icon={<Icon icon='IcDbotViewDetail' size={18} />}\n                />\n            </div>\n            <div className='transactions__header'>\n                <span className='transactions__header-column transactions__header-type'>{localize('Type')}</span>\n                <span className='transactions__header-column transactions__header-spot'>\n                    {localize('Entry/Exit spot')}\n                </span>\n                <span className='transactions__header-column transactions__header-profit'>\n                    {localize('Buy price and P/L')}\n                </span>\n            </div>\n            <div\n                className={classnames({\n                    transactions__content: !is_mobile,\n                    'transactions__content--mobile': is_mobile,\n                })}\n            >\n                <div className='transactions__scrollbar'>\n                    {transaction_list?.length ? (\n                        <DataList\n                            className='transactions'\n                            data_source={transaction_list}\n                            rowRenderer={props => <TransactionItem {...props} />}\n                            keyMapper={row => {\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return row.data.transaction_ids.buy;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return row.data;\n                                    }\n                                    default: {\n                                        return null;\n                                    }\n                                }\n                            }}\n                            getRowSize={({ index }) => {\n                                const row = transaction_list?.[index];\n                                switch (row.type) {\n                                    case transaction_elements.CONTRACT: {\n                                        return 50;\n                                    }\n                                    case transaction_elements.DIVIDER: {\n                                        return 21;\n                                    }\n                                    default: {\n                                        return 0;\n                                    }\n                                }\n                            }}\n                        />\n                    ) : (\n                        <>\n                            {contract_stage >= contract_stages.STARTING ? (\n                                <Transaction contract={null} />\n                            ) : (\n                                <ThemedScrollbars>\n                                    <div className='transactions-empty-box'>\n                                        <div className='transactions-empty'>\n                                            <div className='transactions-empty__icon-box'>\n                                                <Icon\n                                                    icon='IcBox'\n                                                    className='transactions-empty__icon'\n                                                    size={64}\n                                                    color='secondary'\n                                                />\n                                            </div>\n                                            <Text\n                                                as='h4'\n                                                size='xs'\n                                                weight='bold'\n                                                align='center'\n                                                color='less-prominent'\n                                                line_height='xxs'\n                                                className='transactions-empty__header'\n                                            >\n                                                {localize('There are no transactions to display')}\n                                            </Text>\n                                            <div className='transactions-empty__message'>\n                                                <Text size='xxs' color='less-prominent'>\n                                                    {localize('Here are the possible reasons:')}\n                                                </Text>\n                                                <ul className='transactions-empty__list'>\n                                                    <li>{localize('The bot is not running')}</li>\n                                                    <li>{localize('The stats are cleared')}</li>\n                                                </ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </ThemedScrollbars>\n                            )}\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nTransactions.propTypes = {\n    is_drawer_open: PropTypes.bool,\n};\n\nexport default Transactions;\n","import Transactions from './transactions.jsx';\nimport './transactions.scss';\n\nexport default Transactions;\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { Button, Drawer, Modal, Money, Tabs, Text, ThemedScrollbars } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\n\nimport Journal from 'Components/journal';\nimport SelfExclusion from 'Components/self-exclusion';\nimport Summary from 'Components/summary';\nimport TradeAnimation from 'Components/trade-animation';\nimport Transactions from 'Components/transactions';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { popover_zindex } from 'Constants/z-indexes';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TStatisticsTile = {\n    content: React.ElementType | string;\n    contentClassName: string;\n    title: string;\n};\n\ntype TStatisticsSummary = {\n    currency: string;\n    is_mobile: boolean;\n    lost_contracts: number;\n    number_of_runs: number;\n    total_stake: number;\n    total_payout: number;\n    toggleStatisticsInfoModal: () => void;\n    total_profit: number;\n    won_contracts: number;\n};\ntype TDrawerHeader = {\n    is_clear_stat_disabled: boolean;\n    is_mobile: boolean;\n    is_drawer_open: boolean;\n    onClearStatClick: () => void;\n};\n\ntype TDrawerContent = {\n    active_index: number;\n    is_drawer_open: boolean;\n    active_tour: string;\n    setActiveTabIndex: () => void;\n};\n\ntype TDrawerFooter = {\n    is_clear_stat_disabled: boolean;\n    onClearStatClick: () => void;\n};\n\ntype TStatisticsInfoModal = {\n    is_mobile: boolean;\n    is_statistics_info_modal_open: boolean;\n    toggleStatisticsInfoModal: () => void;\n};\n\nconst StatisticsTile = ({ content, contentClassName, title }: TStatisticsTile) => (\n    <div className='run-panel__tile'>\n        <div className='run-panel__tile-title'>{title}</div>\n        <div className={classNames('run-panel__tile-content', contentClassName)}>{content}</div>\n    </div>\n);\n\nexport const StatisticsSummary = ({\n    currency,\n    is_mobile,\n    lost_contracts,\n    number_of_runs,\n    total_stake,\n    total_payout,\n    toggleStatisticsInfoModal,\n    total_profit,\n    won_contracts,\n}: TStatisticsSummary) => (\n    <div\n        className={classNames('run-panel__stat', {\n            'run-panel__stat--mobile': is_mobile,\n        })}\n    >\n        <div className='run-panel__stat--info' onClick={toggleStatisticsInfoModal}>\n            <div className='run-panel__stat--info-item'>\n                <Localize i18n_default_text=\"What's this?\" />\n            </div>\n        </div>\n        <div className='run-panel__stat--tiles'>\n            <StatisticsTile\n                title={localize('Total stake')}\n                alignment='top'\n                content={<Money amount={total_stake} currency={currency} show_currency />}\n            />\n            <StatisticsTile\n                title={localize('Total payout')}\n                alignment='top'\n                content={<Money amount={total_payout} currency={currency} show_currency />}\n            />\n            <StatisticsTile title={localize('No. of runs')} alignment='top' content={number_of_runs} />\n            <StatisticsTile title={localize('Contracts lost')} alignment='bottom' content={lost_contracts} />\n            <StatisticsTile title={localize('Contracts won')} alignment='bottom' content={won_contracts} />\n            <StatisticsTile\n                title={localize('Total profit/loss')}\n                content={<Money amount={total_profit} currency={currency} has_sign show_currency />}\n                alignment='bottom'\n                contentClassName={classNames('run-panel__stat-amount', {\n                    'run-panel__stat-amount--positive': total_profit > 0,\n                    'run-panel__stat-amount--negative': total_profit < 0,\n                })}\n            />\n        </div>\n    </div>\n);\n\nconst DrawerHeader = ({ is_clear_stat_disabled, is_mobile, is_drawer_open, onClearStatClick }: TDrawerHeader) =>\n    is_mobile &&\n    is_drawer_open && (\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__clear-button'\n            is_disabled={is_clear_stat_disabled}\n            text={localize('Reset')}\n            onClick={onClearStatClick}\n            secondary\n        />\n    );\n\nconst DrawerContent = ({ active_index, is_drawer_open, active_tour, setActiveTabIndex, ...props }: TDrawerContent) => {\n    return (\n        <>\n            <Tabs active_index={active_index} onTabItemClick={setActiveTabIndex} top>\n                <div id='db-run-panel-tab__summary' label={localize('Summary')}>\n                    <Summary is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__transactions' label={localize('Transactions')}>\n                    <Transactions is_drawer_open={is_drawer_open} />\n                </div>\n                <div id='db-run-panel-tab__journal' label={localize('Journal')}>\n                    <Journal />\n                </div>\n            </Tabs>\n            {((is_drawer_open && active_index !== 2) || active_tour) && <StatisticsSummary {...props} />}\n        </>\n    );\n};\n\nconst DrawerFooter = ({ is_clear_stat_disabled, onClearStatClick }: TDrawerFooter) => (\n    <div className='run-panel__footer'>\n        <Button\n            id='db-run-panel__clear-button'\n            className='run-panel__footer-button'\n            is_disabled={is_clear_stat_disabled}\n            text={localize('Reset')}\n            onClick={onClearStatClick}\n            has_effect\n            secondary\n        />\n    </div>\n);\n\nconst MobileDrawerFooter = () => {\n    return (\n        <div className='controls__section'>\n            <div className='controls__buttons'>\n                <TradeAnimation className='controls__animation' should_show_overlay info_direction={'right'} />\n            </div>\n        </div>\n    );\n};\n\nconst StatisticsInfoModal = ({\n    is_mobile,\n    is_statistics_info_modal_open,\n    toggleStatisticsInfoModal,\n}: TStatisticsInfoModal) => {\n    return (\n        <Modal\n            className={classNames('statistics__modal', { 'statistics__modal--mobile': is_mobile })}\n            title={localize(\"What's this?\")}\n            is_open={is_statistics_info_modal_open}\n            toggleModal={toggleStatisticsInfoModal}\n            width={'440px'}\n        >\n            <Modal.Body>\n                <div className={classNames('statistics__modal-body', { 'statistics__modal-body--mobile': is_mobile })}>\n                    <ThemedScrollbars className='statistics__modal-scrollbar'>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content no-margin'>\n                            {localize('Total stake')}\n                        </Text>\n                        <Text as='p'>{localize('Total stake since you last cleared your stats.')}</Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Total payout')}\n                        </Text>\n                        <Text as='p'>{localize('Total payout since you last cleared your stats.')}</Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('No. of runs')}\n                        </Text>\n                        <Text as='p'>\n                            {localize(\n                                'The number of times your bot has run since you last cleared your stats. Each run includes the execution of all the root blocks.'\n                            )}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Contracts lost')}\n                        </Text>\n                        <Text as='p'>\n                            {localize('The number of contracts you have lost since you last cleared your stats.')}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Contracts won')}\n                        </Text>\n                        <Text as='p'>\n                            {localize('The number of contracts you have won since you last cleared your stats.')}\n                        </Text>\n                        <Text as='p' weight='bold' className='statistics__modal-body--content'>\n                            {localize('Total profit/loss')}\n                        </Text>\n                        <Text as='p'>\n                            {localize(\n                                'Your total profit/loss since you last cleared your stats. It is the difference between your total payout and your total stake.'\n                            )}\n                        </Text>\n                    </ThemedScrollbars>\n                </div>\n            </Modal.Body>\n        </Modal>\n    );\n};\n\nconst RunPanel = observer(() => {\n    const { run_panel, dashboard } = useDBotStore();\n    const {\n        client,\n        ui: { is_mobile },\n    } = useStore();\n    const { currency } = client;\n    const {\n        active_index,\n        is_drawer_open,\n        is_statistics_info_modal_open,\n        is_clear_stat_disabled,\n        onClearStatClick,\n        onMount,\n        onRunButtonClick,\n        onUnmount,\n        setActiveTabIndex,\n        toggleDrawer,\n        toggleStatisticsInfoModal,\n        statistics,\n    } = run_panel;\n    const { active_tour, active_tab } = dashboard;\n    const { total_payout, total_profit, total_stake, won_contracts, lost_contracts, number_of_runs } = statistics;\n    const { BOT_BUILDER, CHART } = DBOT_TABS;\n\n    React.useEffect(() => {\n        onMount();\n        return () => onUnmount();\n    }, [onMount, onUnmount]);\n\n    React.useEffect(() => {\n        if (is_mobile) {\n            toggleDrawer(false);\n        }\n    }, []);\n\n    const content = (\n        <DrawerContent\n            active_index={active_index}\n            currency={currency}\n            is_drawer_open={is_drawer_open}\n            is_mobile={is_mobile}\n            lost_contracts={lost_contracts}\n            number_of_runs={number_of_runs}\n            setActiveTabIndex={setActiveTabIndex}\n            toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            total_payout={total_payout}\n            total_profit={total_profit}\n            total_stake={total_stake}\n            won_contracts={won_contracts}\n            active_tour={active_tour}\n        />\n    );\n\n    const footer = <DrawerFooter is_clear_stat_disabled={is_clear_stat_disabled} onClearStatClick={onClearStatClick} />;\n\n    const header = (\n        <DrawerHeader\n            is_clear_stat_disabled={is_clear_stat_disabled}\n            is_mobile={is_mobile}\n            is_drawer_open={is_drawer_open}\n            onClearStatClick={onClearStatClick}\n        />\n    );\n\n    const show_run_panel = [BOT_BUILDER, CHART].includes(active_tab) || active_tour;\n    if ((!show_run_panel && !is_mobile) || active_tour === 'bot_builder') return null;\n\n    return (\n        <>\n            <div className={is_mobile && is_drawer_open ? 'run-panel__container--mobile' : 'run-panel'}>\n                <Drawer\n                    anchor='right'\n                    className={classNames('run-panel', {\n                        'run-panel__container': !is_mobile,\n                        'run-panel__container--tour-active': !is_mobile && active_tour,\n                    })}\n                    contentClassName='run-panel__content'\n                    header={header}\n                    footer={!is_mobile && footer}\n                    is_open={is_drawer_open}\n                    toggleDrawer={toggleDrawer}\n                    width={366}\n                    zIndex={popover_zindex.RUN_PANEL}\n                >\n                    {content}\n                </Drawer>\n                {is_mobile && <MobileDrawerFooter />}\n            </div>\n            <SelfExclusion onRunButtonClick={onRunButtonClick} />\n            <StatisticsInfoModal\n                is_mobile={is_mobile}\n                is_statistics_info_modal_open={is_statistics_info_modal_open}\n                toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n            />\n        </>\n    );\n});\n\nexport default RunPanel;\n","import React, { ReactElement } from 'react';\nimport classNames from 'classnames';\nimport ContentLoader from 'react-content-loader';\nimport { getContractTypeName } from '@deriv/bot-skeleton';\nimport { Icon, IconTradeTypes, Popover } from '@deriv/components';\nimport { convertDateFormat } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { TTransaction } from './transaction-details.types';\n\nconst PARENT_CLASS = 'transaction-details-modal-mobile';\n\ntype TCardRow = {\n    title: string;\n    label: string | number | ReactElement;\n    right_aligned: boolean;\n    large_title: boolean;\n    loader: boolean;\n};\n\nconst CellLoader = () => (\n    <ContentLoader\n        className='transactions__loader-text'\n        data-testid='transaction_details_card_cell_loader'\n        height={10}\n        width={80}\n        speed={3}\n        foregroundColor={'var(--general-section-2)'}\n        backgroundColor={'var(--general-hover)'}\n    >\n        <rect x='0' y='0' rx='0' ry='0' width='100' height='12' />\n    </ContentLoader>\n);\n\nconst CardColumn = ({\n    label = '',\n    large_title = false,\n    right_aligned = false,\n    title = '',\n    loader = false,\n}: Partial<TCardRow>) => (\n    <div\n        className={classNames(`${PARENT_CLASS}__card__column`, {\n            [`${PARENT_CLASS}__right-align`]: right_aligned,\n        })}\n    >\n        {title && (\n            <div\n                className={classNames({\n                    [`${PARENT_CLASS}__small-title`]: !large_title,\n                    [`${PARENT_CLASS}__large-title`]: large_title,\n                })}\n            >\n                {localize(title)}\n            </div>\n        )}\n        <div className={`${PARENT_CLASS}__label`}>{loader ? <CellLoader /> : label}</div>\n    </div>\n);\n\nconst IconContainer = ({ message, icon }: { message: string; icon: ReactElement }) => (\n    <div className={classNames(`${PARENT_CLASS}__table-cell`, `${PARENT_CLASS}__table-cell__icon-wrapper`)}>\n        {message && (\n            <Popover alignment='right' message={message} zIndex={'7'}>\n                {icon}\n            </Popover>\n        )}\n    </div>\n);\n\nexport default function MobileTransactionCards({ transaction }: { transaction: TTransaction }) {\n    return (\n        <div className={`${PARENT_CLASS}__card`}>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn\n                    label={\n                        <div className={`${PARENT_CLASS}__icon-wrapper`}>\n                            <IconContainer\n                                message={transaction?.display_name}\n                                icon={<Icon icon={`IcUnderlying${transaction?.underlying}`} size={32} />}\n                            />\n                            <IconContainer\n                                message={getContractTypeName(transaction)}\n                                icon={<IconTradeTypes type={transaction?.contract_type} size={24} />}\n                            />\n                        </div>\n                    }\n                />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Ref. ID' label={transaction?.transaction_ids?.buy} />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn\n                    title='Timestamp'\n                    label={convertDateFormat(\n                        transaction?.date_start,\n                        'YYYY-M-D HH:mm:ss [GMT]',\n                        'YYYY-MM-DD HH:mm:ss [GMT]'\n                    )}\n                />\n                <CardColumn\n                    title='Entry Spot'\n                    label={transaction?.entry_tick}\n                    right_aligned\n                    loader={!transaction.entry_tick}\n                />\n            </div>\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Buy Price' label={Math.abs(transaction?.buy_price ?? 0).toFixed(2)} />\n                <CardColumn\n                    title='Exit Spot'\n                    label={transaction?.exit_tick}\n                    right_aligned\n                    loader={!transaction.exit_tick}\n                />\n            </div>\n\n            <div className={`${PARENT_CLASS}__card__row`}>\n                <CardColumn title='Profit / Loss' large_title />\n                <CardColumn\n                    label={\n                        <div\n                            className={classNames({\n                                [`${PARENT_CLASS}__card__profit--win`]: transaction?.profit > 0,\n                                [`${PARENT_CLASS}__card__profit--loss`]: transaction?.profit < 0,\n                            })}\n                        >\n                            {Math.abs(transaction?.profit ?? 0).toFixed(2)}\n                        </div>\n                    }\n                    right_aligned\n                    loader={!transaction.is_completed}\n                />\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\n\nimport { MobileFullPageModal } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\n\nimport { StatisticsSummary } from 'Components/run-panel/run-panel';\nimport { transaction_elements } from 'Constants/transactions';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nimport MobileTransactionCards from './mobile-transaction-card';\nimport { TRunPanelStore, TTransactionStore } from './transaction-details.types';\n\nimport './transaction-details-mobile.scss';\n\nconst TransactionDetailsMobile = observer(() => {\n    const { client } = useStore();\n    const { transactions, run_panel } = useDBotStore();\n    const {\n        toggleTransactionDetailsModal,\n        is_transaction_details_modal_open,\n        transactions: transaction_list,\n    }: Partial<TTransactionStore> = transactions;\n    const { statistics, toggleStatisticsInfoModal }: Partial<TRunPanelStore> = run_panel;\n\n    return (\n        <MobileFullPageModal\n            is_modal_open={is_transaction_details_modal_open}\n            className='transaction-details-modal-mobile'\n            header={localize('Transactions detailed summary')}\n            onClickClose={() => {\n                toggleTransactionDetailsModal(false);\n            }}\n            height_offset='80px'\n        >\n            <div className='transaction-details-modal-mobile__wrapper' data-testid='transaction_details_cards'>\n                {transaction_list?.map(({ data, type }) => {\n                    if (type === transaction_elements.CONTRACT)\n                        return <MobileTransactionCards transaction={data} key={data?.transaction_ids?.buy} />;\n                    return (\n                        <div\n                            className='transaction-details-modal-mobile__divider'\n                            key={`transaction-row-divider-${data}`}\n                        >\n                            <div className='transactions__divider-line' />\n                        </div>\n                    );\n                })}\n            </div>\n            <div className='transaction-details-modal-mobile__card__footer'>\n                <StatisticsSummary\n                    currency={client?.currency}\n                    is_mobile={true}\n                    lost_contracts={statistics?.lost_contracts ?? 0}\n                    number_of_runs={statistics?.number_of_runs ?? 0}\n                    toggleStatisticsInfoModal={toggleStatisticsInfoModal}\n                    total_payout={statistics?.total_payout ?? 0}\n                    total_profit={statistics?.total_profit ?? 0}\n                    total_stake={statistics?.total_stake ?? 0}\n                    won_contracts={statistics?.won_contracts ?? 0}\n                />\n            </div>\n        </MobileFullPageModal>\n    );\n});\n\nexport default TransactionDetailsMobile;\n","import TransactionDetails from './transaction-details';\n\nexport default TransactionDetails;\n","import React, { Suspense } from 'react';\nimport { Loading } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport TransactionDetailsDesktop from './transaction-details-desktop';\nimport TransactionDetailsMobile from './transaction-details-mobile';\n\nexport const TransactionDetails = observer(() => {\n    const {\n        ui: { is_mobile },\n    } = useStore();\n    return (\n        <Suspense fallback={<Loading />}>\n            {is_mobile ? <TransactionDetailsMobile /> : <TransactionDetailsDesktop />}\n        </Suspense>\n    );\n});\n\nexport default TransactionDetails;\n","import Audio from './audio';\n\nexport default Audio;\n","import React from 'react';\n\nconst Audio = () => (\n    <>\n        <audio id='announcement' aria-label='audio' src={`${__webpack_public_path__}media/announcement.mp3`} />\n        <audio id='earned-money' aria-label='audio' src={`${__webpack_public_path__}media/coins.mp3`} />\n        <audio id='job-done' aria-label='audio' src={`${__webpack_public_path__}media/job-done.mp3`} />\n        <audio id='error' aria-label='audio' src={`${__webpack_public_path__}media/out-of-bounds.mp3`} />\n        <audio id='severe-error' aria-label='audio' src={`${__webpack_public_path__}media/i-am-being-serious.mp3`} />\n    </>\n);\n\nexport default Audio;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { observer, useStore } from '@deriv/stores';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst { BOT_BUILDER, CHART } = DBOT_TABS;\n\nconst BotNotificationMessages = observer(() => {\n    const { ui } = useStore();\n    const { run_panel, dashboard } = useDBotStore();\n\n    const { is_drawer_open } = run_panel;\n    const Notifications = ui.notification_messages_ui;\n    const { active_tab, is_info_panel_visible } = dashboard;\n\n    return (\n        <div\n            className={classNames('notifications-container', {\n                'notifications-container__dashboard': active_tab === 0 && is_info_panel_visible,\n                'notifications-container--panel-open': [BOT_BUILDER, CHART].includes(active_tab) && is_drawer_open,\n            })}\n            data-testid='dt_notifications_container'\n        >\n            <Notifications />\n        </div>\n    );\n});\n\nexport default BotNotificationMessages;\n","import BotNotificationMessages from './bot-notification-messages';\nimport './bot-notification-messages.scss';\n\nexport default BotNotificationMessages;\n","import React from 'react';\nimport { getUrlBase, moduleLoader } from '@deriv/shared';\n\nlet module: Promise<any> | undefined;\n\nconst init = () => {\n    module = moduleLoader(() => {\n        // TODO: Proper fix for types in smartcharts\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        return import(/* webpackChunkName: \"smart_chart\" */ '@deriv/deriv-charts');\n    });\n\n    module.then(({ setSmartChartsPublicPath }: { setSmartChartsPublicPath: (path: string) => void }) => {\n        setSmartChartsPublicPath(getUrlBase('/js/smartcharts/'));\n    });\n};\n\n// React.Lazy expects a default export for the component\n// SmartChart library exports many components\nconst load = (component_name: string) => () => {\n    if (!module) {\n        init();\n    }\n    return module!.then(module => {\n        return { default: module[component_name] };\n    });\n};\n\nexport const SmartChart = React.lazy(load('SmartChart'));\nexport const ChartTitle = React.lazy(load('ChartTitle'));\n\nexport const ChartSize = React.lazy(load('ChartSize'));\nexport const ChartMode = React.lazy(load('ChartMode'));\nexport const DrawTools = React.lazy(load('DrawTools'));\nexport const Share = React.lazy(load('Share'));\nexport const StudyLegend = React.lazy(load('StudyLegend'));\nexport const Views = React.lazy(load('Views'));\nexport const ToolbarWidget = React.lazy(load('ToolbarWidget'));\n\nexport const FastMarker = React.lazy(load('FastMarker'));\nexport const RawMarker = React.lazy(load('RawMarker'));\n","import React from 'react';\nimport { isDesktop } from '@deriv/shared';\nimport { ChartMode, DrawTools, Share, StudyLegend, ToolbarWidget, Views } from './v1';\n\ntype TToolbarWidgetsProps = {\n    updateChartType: (chart_type: string) => void;\n    updateGranularity: (updateGranularity: number) => void;\n    position?: string | null;\n};\n\nconst ToolbarWidgets = ({ updateChartType, updateGranularity, position }: TToolbarWidgetsProps) => {\n    return (\n        <ToolbarWidget position={position}>\n            <ChartMode portalNodeId='modal_root' onChartType={updateChartType} onGranularity={updateGranularity} />\n            {isDesktop() && (\n                <>\n                    <StudyLegend portalNodeId='modal_root' searchInputClassName='data-hj-whitelist' />\n                    <Views portalNodeId='modal_root' searchInputClassName='data-hj-whitelist' />\n                    <DrawTools portalNodeId='modal_root' />\n                    <Share portalNodeId='modal_root' />\n                </>\n            )}\n        </ToolbarWidget>\n    );\n};\n\nexport default ToolbarWidgets;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport ToolbarWidgets from './toolbar-widgets';\nimport { ChartTitle, SmartChart } from './v1';\n\nconst Chart = observer(({ show_digits_stats }: { show_digits_stats: boolean }) => {\n    const barriers: [] = [];\n    const { common, ui } = useStore();\n    const { chart_store, run_panel, dashboard } = useDBotStore();\n\n    const {\n        chart_type,\n        getMarketsOrder,\n        granularity,\n        onSymbolChange,\n        setChartStatus,\n        symbol,\n        updateChartType,\n        updateGranularity,\n        wsForget,\n        wsForgetStream,\n        wsSendRequest,\n        wsSubscribe,\n    } = chart_store;\n    const {\n        ui: { is_mobile, is_desktop },\n    } = useStore();\n    const { is_drawer_open } = run_panel;\n    const { is_chart_modal_visible } = dashboard;\n    const is_socket_opened = common.is_socket_opened;\n    const settings = {\n        assetInformation: false, // ui.is_chart_asset_info_visible,\n        countdown: true,\n        isHighestLowestMarkerEnabled: false, // TODO: Pending UI,\n        language: common.current_language.toLowerCase(),\n        position: ui.is_chart_layout_default ? 'bottom' : 'left',\n        theme: ui.is_dark_mode_on ? 'dark' : 'light',\n    };\n\n    return (\n        <div\n            className={classNames('dashboard__chart-wrapper', {\n                'dashboard__chart-wrapper--expanded': is_drawer_open && !is_mobile,\n                'dashboard__chart-wrapper--modal': is_chart_modal_visible && !is_mobile,\n            })}\n        >\n            <SmartChart\n                id='dbot'\n                barriers={barriers}\n                showLastDigitStats={show_digits_stats}\n                chartControlsWidgets={null}\n                enabledChartFooter={false}\n                chartStatusListener={(v: boolean) => setChartStatus(!v)}\n                toolbarWidget={() => (\n                    <ToolbarWidgets\n                        updateChartType={updateChartType}\n                        updateGranularity={updateGranularity}\n                        position={is_mobile ? 'bottom' : null}\n                    />\n                )}\n                chartType={chart_type}\n                isMobile={is_mobile}\n                enabledNavigationWidget={is_desktop}\n                granularity={granularity}\n                requestAPI={wsSendRequest}\n                requestForget={wsForget}\n                requestForgetStream={wsForgetStream}\n                requestSubscribe={wsSubscribe}\n                settings={settings}\n                symbol={symbol}\n                topWidgets={() => <ChartTitle onChange={onSymbolChange} />}\n                isConnectionOpened={is_socket_opened}\n                getMarketsOrder={getMarketsOrder}\n                isLive\n                leftMargin={80}\n            />\n        </div>\n    );\n});\n\nexport default Chart;\n","import Chart from './chart';\nimport './chart.scss';\n\nexport default Chart;\n","export const initTrashCan = (margin = 16, height = 36) => {\n    /**\n     * Distance between trashcan and bottom edge of workspace.\n     * @type {number}\n     * @private\n     */\n    Blockly.Trashcan.prototype.MARGIN_BOTTOM_ = margin * 2 + height; // eslint-disable-line\n\n    /**\n     * Distance between trashcan and right edge of workspace.\n     * @type {number}\n     * @private\n     */\n    Blockly.Trashcan.prototype.MARGIN_SIDE_ = margin; // eslint-disable-line\n\n    /**\n     * Inspect the contents of the trash.\n     * @deriv/bot: Noop for us, restore original functionality when trashcan can be inspected.\n     */\n    Blockly.Trashcan.prototype.click = function () {};\n\n    window.dispatchEvent(new Event('resize')); // trigger UI update\n};\n","import RunPanel from './run-panel';\nimport './run-panel.scss';\n\nexport default RunPanel;\n","import React from 'react';\nimport TradeAnimation from 'Components/trade-animation';\n\nconst RunStrategy = () => (\n    <div className='toolbar__section' data-testid='dt_run_strategy'>\n        <TradeAnimation className='toolbar__animation' should_show_overlay info_direction='left' />\n    </div>\n);\n\nexport default RunStrategy;\n","import React, { useEffect } from 'react';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport Chart from 'Components/chart';\nimport Draggable from '../../../draggable';\nimport { observer } from '@deriv/stores';\n\nconst ChartModalDesktop = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { is_chart_modal_visible, setChartModalVisibility } = dashboard;\n\n    const [screenDimensions, setScreenDimensions] = React.useState({ width: 0, height: 0 });\n\n    const handleResize = () => {\n        setScreenDimensions({ width: window.innerWidth, height: window.innerHeight });\n    };\n\n    useEffect(() => {\n        window.addEventListener('resize', handleResize);\n\n        setScreenDimensions({ width: window.innerWidth, height: window.innerHeight });\n\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        };\n    }, []);\n\n    const modalWidth = 426;\n    const modalHeight = 481;\n\n    const xAxisValue = (screenDimensions.width - modalWidth) / 2;\n    const yAxisValue = (screenDimensions.height - modalHeight) / 2;\n\n    const yaxis = yAxisValue >= 0 ? yAxisValue : 0;\n    const xaxis = xAxisValue >= 0 ? xAxisValue : 0;\n\n    return (\n        <Draggable\n            bounds='.dashboard__main'\n            xaxis={xaxis}\n            yaxis={yaxis}\n            is_visible={is_chart_modal_visible}\n            header_title={localize('Chart')}\n            onCloseDraggable={setChartModalVisibility}\n            minWidth={modalWidth}\n            width={modalWidth}\n            dragHandleClassName='react-rnd-wrapper-header'\n        >\n            <div className='chart-modal-dialog' data-testid='chart-modal-dialog'>\n                <Chart show_digits_stats={false} />\n            </div>\n        </Draggable>\n    );\n});\n\nexport default ChartModalDesktop;\n","import ChartModal from './chart-modal';\nimport './chart-modal.scss';\n\nexport default ChartModal;\n","import React, { Suspense } from 'react';\nimport { Loading } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport ChartModalDesktop from './chart-modal-desktop';\n\nexport const ChartModal = observer(() => {\n    const {\n        ui: { is_desktop },\n    } = useStore();\n    return <Suspense fallback={<Loading />}>{is_desktop && <ChartModalDesktop />}</Suspense>;\n});\n\nexport default ChartModal;\n","import React from 'react';\n\nimport { observer } from '@deriv/stores';\n\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { getSetting } from 'Utils/settings';\n\nimport ReactJoyrideWrapper from '../common/react-joyride-wrapper';\nimport TourStartDialog from '../common/tour-start-dialog';\nimport { DBOT_ONBOARDING } from '../tour-content';\nimport { useTourHandler } from '../hooks/useTourHandler';\n\nconst OnboardingTourDesktop = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { active_tab, active_tour, setActiveTour, setTourDialogVisibility } = dashboard;\n    const { is_close_tour, is_finished, handleJoyrideCallback, setIsCloseTour } = useTourHandler();\n    React.useEffect(() => {\n        if (is_close_tour || is_finished) {\n            setIsCloseTour(false);\n            setActiveTour('');\n        }\n    }, [is_close_tour, is_finished, setActiveTour, setIsCloseTour]);\n\n    const token = getSetting('onboard_tour_token');\n    if (!token && active_tab === 0) setTourDialogVisibility(true);\n\n    return (\n        <>\n            <TourStartDialog />\n            {active_tour && (\n                <ReactJoyrideWrapper handleCallback={handleJoyrideCallback} steps={DBOT_ONBOARDING} spotlightClicks />\n            )}\n        </>\n    );\n});\n\nexport default OnboardingTourDesktop;\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { Icon, ProgressBarTracker, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\n\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { getSetting } from 'Utils/settings';\n\nimport TourButton from '../common/tour-button';\nimport { DBOT_ONBOARDING_MOBILE, TMobileTourConfig } from '../tour-content';\n\nconst default_tour_data = {\n    content: [],\n    header: '',\n    img: '',\n    tour_step_key: 1,\n};\n\ntype TTourData = TMobileTourConfig & {\n    img: string;\n    tour_step_key: number;\n};\n\nconst OnboardingTourMobile = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { onCloseTour, onTourEnd, setTourActiveStep, active_tour, active_tab, setActiveTour } = dashboard;\n    const [tour_step, setStep] = React.useState<number>(1);\n    const [tour_data, setTourData] = React.useState<TTourData>(default_tour_data);\n    const { content, header, img, media, tour_step_key } = tour_data;\n    const start_button = tour_step === 1 ? localize('Start') : localize('Next');\n    const tour_button_text = tour_step === 8 ? localize('Got it, thanks!') : start_button;\n    const test_id = tour_step_key === 8 ? 'finish-onboard-tour' : 'next-onboard-tour';\n    const hide_prev_button = [1, 2, 8];\n    const is_tour_active = active_tour === 'onboarding';\n\n    React.useEffect(() => {\n        DBOT_ONBOARDING_MOBILE.forEach(data => {\n            if (data.tour_step_key === tour_step) {\n                setTourData(data);\n            }\n            setTourActiveStep(tour_step);\n        });\n    }, [tour_step]);\n\n    const token = getSetting('onboard_tour_token');\n    if (!token && active_tab === 0) setActiveTour('onboarding');\n\n    if (!active_tour) {\n        return null;\n    }\n\n    return (\n        <div\n            className={classNames('dbot-slider', {\n                'dbot-slider--active': tour_step === 1,\n                'dbot-slider--tour-position': tour_step !== 1,\n            })}\n            data-testid='onboarding-tour-mobile'\n        >\n            {tour_step_key !== 1 && (\n                <div className='dbot-slider__navbar'>\n                    <Text\n                        color='less-prominent'\n                        weight='less-prominent'\n                        line_height='s'\n                        size='xxs'\n                        data-testid='dbot-onboard-slider__navbar'\n                    >{`${tour_step_key - 1}/7`}</Text>\n                    <span onClick={onCloseTour}>\n                        <Icon\n                            icon='IcCross'\n                            data_testid='exit-onboard-tour'\n                            className='db-contract-card__result-icon'\n                            color='secondary'\n                        />\n                    </span>\n                </div>\n            )}\n            {header && (\n                <Text\n                    color='prominent'\n                    weight='bold'\n                    align='center'\n                    className='dbot-slider__title'\n                    as='span'\n                    line_height='s'\n                    size='xs'\n                >\n                    {localize(header)}\n                </Text>\n            )}\n            {media && (\n                <div className='dbot-slider__media'>\n                    <video\n                        autoPlay={true}\n                        loop\n                        controls\n                        preload='auto'\n                        playsInline\n                        disablePictureInPicture\n                        controlsList='nodownload'\n                        src={media}\n                    />\n                </div>\n            )}\n            {img && (\n                <div className='dbot-slider__image'>\n                    <img src={img} />\n                </div>\n            )}\n\n            {content && (\n                <>\n                    {content.map(data => {\n                        return (\n                            <Text\n                                key={data}\n                                align='center'\n                                color='prominent'\n                                className='dbot-slider__content'\n                                as='div'\n                                line_height='s'\n                                size='xxs'\n                            >\n                                {data}\n                            </Text>\n                        );\n                    })}\n                </>\n            )}\n            <div className='dbot-slider__status'>\n                <div className='dbot-slider__progress-bar'>\n                    <ProgressBarTracker\n                        step={tour_step}\n                        steps_list={DBOT_ONBOARDING_MOBILE.map(v => v.tour_step_key.toString())}\n                        onStepChange={setStep}\n                    />\n                </div>\n                <div className='dbot-slider__button-group'>\n                    {tour_step === 1 && (\n                        <TourButton\n                            onClick={() => {\n                                onCloseTour();\n                            }}\n                            label={localize('Skip')}\n                            data-testid='skip-onboard-tour'\n                        />\n                    )}\n                    {!hide_prev_button.includes(tour_step) && (\n                        <TourButton\n                            onClick={() => {\n                                setStep(tour_step - 1);\n                            }}\n                            label={localize('Previous')}\n                            data-testid='prev-onboard-tour'\n                        />\n                    )}\n                    <TourButton\n                        type='danger'\n                        onClick={() => {\n                            setStep(tour_step + 1);\n                            onTourEnd(tour_step, is_tour_active);\n                        }}\n                        label={tour_button_text}\n                        data-testid={test_id}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default OnboardingTourMobile;\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport OnboardingTourDesktop from './onboarding-tour-desktop';\nimport OnboardingTourMobile from './onboarding-tour-mobile';\n\ntype TOnboardTourHandler = {\n    is_mobile: boolean;\n};\n\nconst OnboardTourHandler: React.FC<TOnboardTourHandler> = observer(({ is_mobile }) => {\n    return <>{is_mobile ? <OnboardingTourMobile /> : <OnboardingTourDesktop />}</>;\n});\n\nexport default OnboardTourHandler;\n","import React, { RefObject } from 'react';\nimport WorkspaceControl from '../../../load-modal/workspace-control';\n\ntype TBotPreview = {\n    id_ref: RefObject<HTMLDivElement>;\n};\n\nconst BotPreview = ({ id_ref }: TBotPreview) => {\n    return (\n        <div className='load-strategy__preview-workspace-container' id='load-strategy__blockly-container' ref={id_ref}>\n            <WorkspaceControl />\n        </div>\n    );\n};\n\nexport default BotPreview;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Analytics } from '@deriv/analytics';\nimport { Dialog, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { clearInjectionDiv } from 'Constants/load-modal';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport BotPreview from './bot-preview';\nimport './index.scss';\n\nconst LocalComponent = observer(() => {\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const { load_modal, save_modal, dashboard } = useDBotStore();\n    const { handleFileChange, loadFileFromRecent, dashboard_strategies } = load_modal;\n    const { onConfirmSave } = save_modal;\n    const { setActiveTab, setPreviewOnDialog, has_mobile_preview_loaded, setActiveTabTutorial } = dashboard;\n\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const el_ref = React.useRef<HTMLInputElement | null>(null);\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n\n    const sendToRudderStackForOpenButton = () => {\n        Analytics.trackEvent('ce_bot_dashboard_form', {\n            action: 'push_open_button',\n            form_source: 'ce_bot_dashboard_form',\n        });\n\n        //this is to track from which open button user has come to bot builder tab\n        Analytics.trackEvent('ce_bot_builder_form', {\n            action: 'open',\n            form_source: 'bot_dashboard_form_open',\n        });\n    };\n\n    const sendToRudderStackForUserGuide = () => {\n        Analytics.trackEvent('ce_bot_dashboard_form', {\n            action: 'push_user_guide',\n            form_source: 'ce_bot_dashboard_form',\n        });\n    };\n\n    React.useEffect(() => {\n        if (el_ref.current?.children.length === 3) {\n            el_ref?.current?.removeChild(el_ref?.current?.children[1]);\n        }\n    }, [el_ref.current?.children.length]);\n\n    const renderOpenButton = () => (\n        <button\n            className='load-strategy__button-group--open'\n            onClick={() => {\n                sendToRudderStackForOpenButton();\n                setPreviewOnDialog(false);\n                loadFileFromRecent();\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n            }}\n        >\n            {localize('Open')}\n        </button>\n    );\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            {is_file_supported && (\n                <div\n                    className={classNames('load-strategy__local-preview', {\n                        'load-strategy__local-preview--listed': has_dashboard_strategies,\n                    })}\n                >\n                    <div className='load-strategy__recent-preview'>\n                        <div\n                            className={classNames('load-strategy__title', 'load-strategy__recent-preview-title', {\n                                'load-strategy__title--listed': has_dashboard_strategies && is_mobile,\n                            })}\n                        >\n                            {!is_mobile && <Localize i18n_default_text='Preview' />}\n                            <div className='tab__dashboard__preview__retrigger'>\n                                <button\n                                    onClick={() => {\n                                        sendToRudderStackForUserGuide();\n                                        setActiveTab(DBOT_TABS.TUTORIAL);\n                                        setActiveTabTutorial(0);\n                                    }}\n                                >\n                                    <Icon\n                                        className='tab__dashboard__preview__retrigger__icon'\n                                        icon={'IcDbotUserGuide'}\n                                    />\n                                    {!is_mobile && (\n                                        <Text\n                                            size='xs'\n                                            line_height='s'\n                                            className={'tab__dashboard__preview__retrigger__text'}\n                                        >\n                                            {localize('User Guide')}\n                                        </Text>\n                                    )}\n                                </button>\n                            </div>\n                        </div>\n\n                        {!is_mobile && (\n                            <>\n                                <div className='load-strategy__preview-workspace'>\n                                    <BotPreview id_ref={el_ref} type={'local'} />\n                                </div>\n                                <div className='load-strategy__button-group'>{renderOpenButton()}</div>\n                            </>\n                        )}\n                        <MobileWrapper>\n                            <Dialog\n                                is_visible={has_mobile_preview_loaded}\n                                onCancel={() => setPreviewOnDialog(false)}\n                                is_mobile_full_width\n                                className='dc-dialog__wrapper--preview'\n                                has_close_icon\n                                title={localize('Preview')}\n                            >\n                                <BotPreview id_ref={el_ref} type='local' />\n                                <div className='load-strategy__button-group'>{renderOpenButton()}</div>\n                            </Dialog>\n                        </MobileWrapper>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n});\n\nexport default LocalComponent;\n","import React from 'react';\nimport localForage from 'localforage';\nimport LZString from 'lz-string';\nimport { Analytics } from '@deriv/analytics';\nimport { getSavedWorkspaces } from '@deriv/bot-skeleton';\nimport { Dialog, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { TStrategy } from 'Types';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst DeleteDialog = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const {\n        is_delete_modal_open,\n        onToggleDeleteDialog,\n        selected_strategy_id,\n        setDashboardStrategies,\n        setSelectedStrategyId,\n        loadStrategyToBuilder,\n        previewed_strategy_id,\n        setPreviewedStrategyId,\n        refreshStrategiesTheme,\n        resetBotBuilderStrategy,\n    } = load_modal;\n    const { setOpenSettings } = dashboard;\n\n    const resetStrategiesAfterDelete = async (deleted_strategy_id: string, updated_workspaces: Array<TStrategy>) => {\n        if (updated_workspaces.length) {\n            const current_previewed_strategy = updated_workspaces?.filter(\n                (strategy: TStrategy) => strategy.id === previewed_strategy_id\n            );\n            if (selected_strategy_id === deleted_strategy_id) {\n                setSelectedStrategyId(updated_workspaces?.[0]?.id);\n                // Change bot builder strategy to the first strategy in the list\n                await loadStrategyToBuilder(updated_workspaces?.[0]);\n            }\n            if (current_previewed_strategy.length) {\n                setPreviewedStrategyId(previewed_strategy_id);\n                setSelectedStrategyId(previewed_strategy_id);\n            } else {\n                setPreviewedStrategyId(updated_workspaces?.[0]?.id);\n            }\n            // Change preview strategy to the one that was previously previewed\n            await refreshStrategiesTheme();\n        } else {\n            resetBotBuilderStrategy();\n        }\n    };\n\n    const removeBotStrategy = async (strategy_id: string) => {\n        const workspaces = await getSavedWorkspaces();\n        const updated_workspaces = workspaces.filter(\n            (strategy_from_workspace: TStrategy) => strategy_from_workspace.id !== strategy_id\n        );\n        setDashboardStrategies(updated_workspaces);\n        localForage.setItem('saved_workspaces', LZString.compress(JSON.stringify(updated_workspaces)));\n        await resetStrategiesAfterDelete(strategy_id, updated_workspaces);\n        onToggleDeleteDialog(false);\n    };\n\n    //this is to check after click of yes ir no on delete dailog send event to rudderstck\n    const sentToRudderStack = (param: string) => {\n        Analytics.trackEvent('ce_bot_builder_form', {\n            delete_popup_respond: param,\n            form_source: 'ce_bot_dashboard_form',\n        });\n    };\n\n    const onHandleChange = (type: string, param: boolean) => {\n        if (type === 'confirm') {\n            removeBotStrategy(selected_strategy_id);\n            setOpenSettings('delete', true);\n            sentToRudderStack('yes');\n        } else {\n            sentToRudderStack('no');\n        }\n        onToggleDeleteDialog(param);\n    };\n\n    return (\n        <div>\n            <Dialog\n                title={localize('Delete bot')}\n                is_visible={is_delete_modal_open}\n                confirm_button_text={localize('Yes, delete')}\n                onConfirm={() => {\n                    onHandleChange('confirm', false);\n                    setOpenSettings('delete', true);\n                }}\n                cancel_button_text={localize('No')}\n                onCancel={() => {\n                    onHandleChange('cancel', false);\n                }}\n                is_mobile_full_width={false}\n                className={'dc-dialog__delete-strategy--delete'}\n                has_close_icon\n            >\n                <div>\n                    <Text color='prominent' line_height='s' size='xs'>\n                        {localize('Your bot will be permanently deleted when you hit ')}\n                        <strong>{localize('Yes, delete.')}</strong>\n                    </Text>\n                </div>\n                <div>\n                    <Text color='prominent' line_height='xl' size='xs'>\n                        {localize('Are you sure you want to delete it?')}\n                    </Text>\n                </div>\n            </Dialog>\n        </div>\n    );\n});\n\nexport default DeleteDialog;\n","import React from 'react';\n\nexport const useComponentVisibility = (ref: React.RefObject<HTMLInputElement>) => {\n    const [is_dropdown_visible, setDropdownVisibility] = React.useState(false);\n\n    const handleHideDropdown = (event: KeyboardEvent) => {\n        if (event.key.toUpperCase() === 'ESCAPE') {\n            setDropdownVisibility(false);\n        }\n    };\n\n    const handleClickOutside = (event: Event) => {\n        if (!ref?.current?.contains(event.target as Node)) {\n            setDropdownVisibility(false);\n        }\n    };\n\n    React.useEffect(() => {\n        document.addEventListener('keydown', handleHideDropdown, true);\n        document.addEventListener('click', handleClickOutside, true);\n        return () => {\n            document.removeEventListener('keydown', handleHideDropdown, true);\n            document.removeEventListener('click', handleClickOutside, true);\n        };\n    }, []);\n\n    return {\n        is_dropdown_visible,\n        setDropdownVisibility,\n    };\n};\n","import { localize } from '@deriv/translations';\n\nexport const STRATEGY = {\n    EDIT: 'edit',\n    SAVE: 'save',\n    DELETE: 'delete',\n    PREVIEW: 'preview',\n    PREVIEW_LIST: 'list',\n    INIT: 'init',\n};\n\nexport const MENU_DESKTOP = [\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n    },\n];\n\nexport const CONTEXT_MENU_MOBILE = [\n    {\n        type: STRATEGY.PREVIEW_LIST,\n        icon: 'IcPreview',\n        label: localize('Preview'),\n    },\n    {\n        type: STRATEGY.EDIT,\n        icon: 'IcEdit',\n        label: localize('Edit'),\n    },\n    {\n        type: STRATEGY.SAVE,\n        icon: 'IcSave',\n        label: localize('Save'),\n    },\n    {\n        type: STRATEGY.DELETE,\n        icon: 'IcDelete',\n        label: localize('Delete'),\n    },\n];\n","import React from 'react';\nimport classnames from 'classnames';\n\nimport { Analytics } from '@deriv/analytics'; //BotTActions need to add after anaytics merge\nimport { timeSince } from '@deriv/bot-skeleton';\nimport { save_types } from '@deriv/bot-skeleton/src/constants/save-type';\nimport { DesktopWrapper, Icon, MobileWrapper, Text } from '@deriv/components';\nimport { isDesktop } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\n\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { waitForDomElement } from 'Utils/dom-observer';\n\nimport { useComponentVisibility } from '../../hooks/useComponentVisibility';\n\nimport { CONTEXT_MENU_MOBILE, MENU_DESKTOP, STRATEGY } from './constants';\n\nimport './index.scss';\n\ntype TRecentWorkspace = {\n    index: number;\n    workspace: { [key: string]: string };\n    updateBotName: (name: string) => void;\n};\n\nconst RecentWorkspace = observer(({ workspace, index }: TRecentWorkspace) => {\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const { dashboard, load_modal, save_modal } = useDBotStore();\n    const { active_tab, setActiveTab, setPreviewOnDialog } = dashboard;\n    const { toggleSaveModal, updateBotName } = save_modal;\n    const {\n        dashboard_strategies = [],\n        getRecentFileIcon,\n        getSaveType,\n        getSelectedStrategyID,\n        loadFileFromRecent,\n        onToggleDeleteDialog,\n        previewRecentStrategy,\n        previewed_strategy_id,\n        selected_strategy_id,\n        setSelectedStrategyId,\n        setPreviewedStrategyId,\n    } = load_modal;\n\n    const trigger_div_ref = React.useRef<HTMLInputElement | null>(null);\n    const toggle_ref = React.useRef<HTMLInputElement>(null);\n    const is_div_triggered_once = React.useRef<boolean>(false);\n    const visible = useComponentVisibility(toggle_ref);\n    const { setDropdownVisibility, is_dropdown_visible } = visible;\n    const is_desktop = isDesktop();\n\n    const sendToRudderStack = (action: BotTActions) => {\n        Analytics.trackEvent('ce_bot_builder_form', {\n            action,\n            form_source: 'ce_bot_dashboard_form',\n            bot_last_modified_time: dashboard_strategies?.[0]?.timestamp,\n        });\n    };\n\n    React.useEffect(() => {\n        let timer: ReturnType<typeof setTimeout>;\n\n        const select_first_strategy = dashboard_strategies?.length && index === 0 && !is_div_triggered_once.current;\n\n        if (select_first_strategy) {\n            timer = setTimeout(() => {\n                is_div_triggered_once.current = true;\n                trigger_div_ref?.current?.click();\n            }, 50);\n        }\n        return () => {\n            if (timer) clearTimeout(timer);\n        };\n    }, [dashboard_strategies, index]);\n\n    const onToggleDropdown = (e: React.MouseEvent<HTMLElement>) => {\n        e.stopPropagation();\n        setDropdownVisibility(!is_dropdown_visible);\n        setSelectedStrategyId(workspace.id);\n    };\n\n    const handleInit = () => {\n        setPreviewedStrategyId(workspace?.id);\n        // Fires for desktop\n        if (active_tab === 0) {\n            previewRecentStrategy(workspace.id);\n        }\n    };\n\n    const handlePreviewList = () => {\n        setPreviewedStrategyId(workspace.id);\n        // Fires for mobile on clicking preview button\n        if (is_mobile) {\n            setPreviewOnDialog(true);\n            const dashboard_tab_dom_element = document.getElementsByClassName('tab__dashboard')?.[0];\n            waitForDomElement('#load-strategy__blockly-container', dashboard_tab_dom_element).then(() => {\n                previewRecentStrategy(workspace.id);\n            });\n        }\n        Analytics.trackEvent('ce_bot_builder_form', {\n            action: 'open',\n            form_source: 'bot_dashboard_form-open',\n        });\n    };\n\n    const handleEdit = async () => {\n        await loadFileFromRecent();\n        setActiveTab(DBOT_TABS.BOT_BUILDER);\n        Analytics.trackEvent('ce_bot_builder_form', {\n            action: 'close',\n            form_source: 'bot_dashboard_form-edit',\n        });\n    };\n\n    const handleSave = () => {\n        /* Send the event on rudderstack on strategy save */\n        Analytics.trackEvent('ce_bot_dashboard_form', {\n            bot_name: workspace?.name,\n            form_source: 'ce_bot_dashboard_form',\n        });\n        updateBotName(workspace?.name);\n        toggleSaveModal();\n        sendToRudderStack('save_your_bot');\n    };\n\n    const viewRecentStrategy = async (type: string) => {\n        setSelectedStrategyId(workspace.id);\n\n        switch (type) {\n            case STRATEGY.INIT:\n                // Fires for desktop preview\n                handleInit();\n                sendToRudderStack('choose_your_bot');\n                break;\n\n            case STRATEGY.PREVIEW_LIST:\n                // Fires for mobile preview\n                handlePreviewList();\n                sendToRudderStack('choose_your_bot');\n                break;\n\n            case STRATEGY.EDIT:\n                await handleEdit();\n                sendToRudderStack('edit_your_bot');\n                break;\n\n            case STRATEGY.SAVE:\n                handleSave();\n                sendToRudderStack('save_your_bot');\n                break;\n\n            case STRATEGY.DELETE:\n                onToggleDeleteDialog(true);\n                sendToRudderStack('delete_your_bot');\n                break;\n\n            default:\n                break;\n        }\n    };\n\n    const is_active_mobile = selected_strategy_id === workspace.id && is_dropdown_visible;\n    const text_size = is_desktop ? 'xs' : 'xxs';\n\n    return (\n        <div\n            className={classnames('load-strategy__recent-item', {\n                'load-strategy__recent-item--selected': previewed_strategy_id === workspace.id,\n                'load-strategy__recent-item__loaded': dashboard_strategies,\n                'load-strategy__recent-item--minimized': !!dashboard_strategies?.length && !is_desktop,\n            })}\n            key={workspace.id}\n            ref={trigger_div_ref}\n            onClick={e => {\n                e.stopPropagation(); //stop event bubbling for child element\n                if (is_dropdown_visible) setDropdownVisibility(false);\n                getSelectedStrategyID(workspace.id);\n                viewRecentStrategy(STRATEGY.INIT);\n            }}\n        >\n            <div className='load-strategy__recent-item-text'>\n                <div className='load-strategy__recent-item-title'>\n                    <Text align='left' as='p' size={text_size} line_height='l'>\n                        {workspace.name}\n                    </Text>\n                </div>\n            </div>\n            <div className='load-strategy__recent-item-time'>\n                <Text align='left' as='p' size={text_size} line_height='l'>\n                    {timeSince(workspace.timestamp)}\n                </Text>\n            </div>\n            <div className='load-strategy__recent-item-location'>\n                <Icon\n                    icon={getRecentFileIcon(workspace.save_type)}\n                    className={classnames({\n                        'load-strategy__recent-icon--active': workspace.save_type === save_types.GOOGLE_DRIVE,\n                    })}\n                />\n                <div className='load-strategy__recent-item-saved'>\n                    <Text align='left' as='p' size={text_size} line_height='l'>\n                        {getSaveType(workspace.save_type)}\n                    </Text>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className='load-strategy__recent-item__button'>\n                    {MENU_DESKTOP.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__button'\n                            onClick={e => {\n                                e.stopPropagation();\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <Icon icon={item.icon} />\n                        </div>\n                    ))}\n                </div>\n            </DesktopWrapper>\n            <MobileWrapper>\n                <div ref={toggle_ref} onClick={onToggleDropdown}>\n                    <Icon icon='IcMenuDots' />\n                </div>\n                <div\n                    className={classnames('load-strategy__recent-item__mobile', {\n                        'load-strategy__recent-item__mobile--active': is_active_mobile,\n                        'load-strategy__recent-item__mobile--min': dashboard_strategies.length <= 5,\n                    })}\n                >\n                    {CONTEXT_MENU_MOBILE.map(item => (\n                        <div\n                            key={item.type}\n                            className='load-strategy__recent-item__group'\n                            onClick={e => {\n                                e.stopPropagation();\n                                viewRecentStrategy(item.type);\n                            }}\n                        >\n                            <div>\n                                <Icon icon={item.icon} />\n                            </div>\n                            <Text\n                                color='prominent'\n                                className='load-strategy__recent-item__group__label'\n                                as='p'\n                                size='xxs'\n                            >\n                                {item.label}\n                            </Text>\n                        </div>\n                    ))}\n                </div>\n            </MobileWrapper>\n        </div>\n    );\n});\n\nexport default RecentWorkspace;\n","export const waitForDomElement = (selector: string, observingParent?: Element) => {\n    return new Promise(resolve => {\n        if (document.querySelector(selector)) {\n            return resolve(document.querySelector(selector));\n        }\n\n        const observer = new MutationObserver(() => {\n            if (document.querySelector(selector)) {\n                resolve(document.querySelector(selector));\n                observer.disconnect();\n            }\n        });\n\n        observer.observe(observingParent ?? document.body, {\n            childList: true,\n            subtree: true,\n        });\n    });\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { getSavedWorkspaces } from '@deriv/bot-skeleton';\nimport { MobileWrapper, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport DeleteDialog from './delete-dialog';\nimport RecentWorkspace from './recent-workspace';\nimport SaveModal from './save-modal';\nimport './index.scss';\nimport { Analytics } from '@deriv/analytics';\n\nconst HEADERS = [localize('Bot name'), localize('Last modified'), localize('Status')];\n\nconst RecentComponent = observer(() => {\n    const { load_modal, dashboard } = useDBotStore();\n    const { setDashboardStrategies, dashboard_strategies } = load_modal;\n    const { setStrategySaveType, strategy_save_type } = dashboard;\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const get_first_strategy_info = React.useRef(false);\n    const get_instacee = React.useRef(false);\n\n    React.useEffect(() => {\n        setStrategySaveType('');\n        const getStrategies = async () => {\n            const recent_strategies = await getSavedWorkspaces();\n            setDashboardStrategies(recent_strategies);\n            if (!get_instacee.current) {\n                const param = recent_strategies?.length > 0 ? 'yes' : 'no';\n                Analytics.trackEvent('ce_bot_dashboard_form', {\n                    action: param,\n                    form_source: 'ce_bot_dashboard_form',\n                });\n                get_instacee.current = true;\n            }\n        };\n        getStrategies();\n        //this dependency is used when we use the save modal popup\n    }, [strategy_save_type]);\n\n    React.useEffect(() => {\n        if (!dashboard_strategies?.length && !get_first_strategy_info.current) {\n            const getStratagiesForRudderStack = async () => {\n                const recent_strategies = await getSavedWorkspaces();\n                Analytics.trackEvent('ce_bot_dashboard_form', {\n                    bot_last_modified_time: recent_strategies?.[0]?.timestamp,\n                    form_source: 'bot_header_form',\n                });\n            };\n            getStratagiesForRudderStack();\n            get_first_strategy_info.current = true;\n        }\n    }, []);\n\n    if (!dashboard_strategies?.length) return null;\n    return (\n        <div className='load-strategy__container load-strategy__container--has-footer'>\n            <div className='load-strategy__recent'>\n                <div className='load-strategy__recent__files'>\n                    <div className='load-strategy__title'>\n                        <Text size={is_mobile ? 'xs' : 's'} weight='bold'>\n                            <Localize i18n_default_text='Your bots:' />\n                        </Text>\n                    </div>\n                    <div\n                        className={classNames('load-strategy__recent-item load-strategy__recent-item__loaded', {\n                            'load-strategy__recent-item__loaded--first-child': !is_mobile,\n                        })}\n                    >\n                        {HEADERS.map(tab_name => {\n                            return (\n                                <Text size='xs' weight='bold' key={tab_name}>\n                                    {tab_name}\n                                </Text>\n                            );\n                        })}\n                    </div>\n                    <div className='load-strategy__recent__files__list'>\n                        {dashboard_strategies.map((workspace, index) => {\n                            return <RecentWorkspace key={workspace.id} workspace={workspace} index={index} />;\n                        })}\n                    </div>\n                    <DeleteDialog setStrategies={setDashboardStrategies} />\n                    <MobileWrapper>\n                        <SaveModal />\n                    </MobileWrapper>\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default RecentComponent;\n","//kept sometihings commented beacuse of mobx to integrate popup functionality here\nimport React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, Dialog, Icon, MobileFullPageModal, MobileWrapper, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport GoogleDrive from './load-bot-preview/google-drive';\nimport Recent from './load-bot-preview/recent';\nimport { Analytics } from '@deriv/analytics';\n\ntype TCardProps = {\n    has_dashboard_strategies: boolean;\n    is_mobile: boolean;\n};\n\ntype TCardArray = {\n    type: string;\n    icon: string;\n    content: string;\n    method: () => void;\n};\n\nconst Cards = observer(({ is_mobile, has_dashboard_strategies }: TCardProps) => {\n    const { dashboard, load_modal, quick_strategy } = useDBotStore();\n    const {\n        onCloseDialog,\n        dialog_options,\n        is_dialog_open,\n        setActiveTab,\n        setFileLoaded,\n        setPreviewOnPopup,\n        setOpenSettings,\n        showVideoDialog,\n    } = dashboard;\n    const { handleFileChange, loadFileFromLocal } = load_modal;\n    const { setFormVisibility } = quick_strategy;\n\n    //this is to check on click of which icon the user has come to bot builder\n    const sentToRudderStackTabChange = (type: string) => {\n        Analytics.trackEvent('ce_bot_builder_form', {\n            shortcut_name: type,\n            form_source: 'bot_dashboard_form-shortcut',\n            action: 'choose_shortcut',\n        });\n    };\n\n    // this is check if the user has opened quick strategy model from the dashboard\n    const sendToRudderStackOnQuickStrategyIconClick = () => {\n        Analytics.trackEvent('ce_bot_quick_strategy_form', {\n            shortcut_name: 'quick-strategy',\n            form_source: 'bot_dashboard',\n        });\n    };\n\n    //this is to check which icon is clicked on dashboard\n    const sentToRudderStack = (type: string) => {\n        Analytics.trackEvent('ce_bot_builder_form', {\n            shortcut_name: type,\n            action: 'choose_shortcut',\n            form_source: 'ce_bot_dashboard_form',\n        });\n    };\n\n    const [is_file_supported, setIsFileSupported] = React.useState<boolean>(true);\n    const file_input_ref = React.useRef<HTMLInputElement | null>(null);\n\n    const openGoogleDriveDialog = () => {\n        showVideoDialog({\n            type: 'google',\n        });\n    };\n\n    const openFileLoader = () => {\n        file_input_ref?.current?.click();\n    };\n\n    const actions: TCardArray[] = [\n        {\n            type: 'my-computer',\n            icon: is_mobile ? 'IcLocal' : 'IcMyComputer',\n            content: is_mobile ? localize('Local') : localize('My computer'),\n            method: openFileLoader,\n        },\n        {\n            type: 'google-drive',\n            icon: 'IcGoogleDriveDbot',\n            content: localize('Google Drive'),\n            method: openGoogleDriveDialog,\n        },\n        {\n            type: 'bot-builder',\n            icon: 'IcBotBuilder',\n            content: localize('Bot Builder'),\n            method: () => {\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                sentToRudderStackTabChange('bot-builder');\n            },\n        },\n        {\n            type: 'quick-strategy',\n            icon: 'IcQuickStrategy',\n            content: localize('Quick strategy'),\n            method: () => {\n                setActiveTab(DBOT_TABS.BOT_BUILDER);\n                setFormVisibility(true);\n                sentToRudderStackTabChange('quick-strategy');\n                sendToRudderStackOnQuickStrategyIconClick();\n            },\n        },\n    ];\n\n    return React.useMemo(\n        () => (\n            <div\n                className={classNames('tab__dashboard__table', {\n                    'tab__dashboard__table--minimized': has_dashboard_strategies && is_mobile,\n                })}\n            >\n                <div\n                    className={classNames('tab__dashboard__table__tiles', {\n                        'tab__dashboard__table__tiles--minimized': has_dashboard_strategies && is_mobile,\n                    })}\n                    id='tab__dashboard__table__tiles'\n                >\n                    {actions.map(icons => {\n                        const { icon, content, method, type } = icons;\n                        return (\n                            <div\n                                key={content}\n                                className={classNames('tab__dashboard__table__block', {\n                                    'tab__dashboard__table__block--minimized': has_dashboard_strategies && is_mobile,\n                                })}\n                            >\n                                <Icon\n                                    className={classNames('tab__dashboard__table__images', {\n                                        'tab__dashboard__table__images--minimized': has_dashboard_strategies,\n                                    })}\n                                    width='8rem'\n                                    height='8rem'\n                                    icon={icon}\n                                    id={icon}\n                                    onClick={() => {\n                                        method();\n                                        sentToRudderStack(type);\n                                    }}\n                                />\n                                <Text color='prominent' size={is_mobile ? 'xxs' : 'xs'}>\n                                    {content}\n                                </Text>\n                            </div>\n                        );\n                    })}\n                    <input\n                        type='file'\n                        ref={file_input_ref}\n                        accept='application/xml, text/xml'\n                        hidden\n                        onChange={e => {\n                            setIsFileSupported(handleFileChange(e, false));\n                            loadFileFromLocal();\n                            setFileLoaded(true);\n                            setOpenSettings('import');\n                        }}\n                    />\n                    <DesktopWrapper>\n                        <Dialog\n                            title={dialog_options.title}\n                            is_visible={is_dialog_open}\n                            onCancel={onCloseDialog}\n                            is_mobile_full_width\n                            className='dc-dialog__wrapper--google-drive'\n                            has_close_icon\n                        >\n                            <GoogleDrive />\n                        </Dialog>\n                    </DesktopWrapper>\n                    <MobileWrapper>\n                        <MobileFullPageModal\n                            is_modal_open={is_dialog_open}\n                            className='load-strategy__wrapper'\n                            header={localize('Load strategy')}\n                            onClickClose={() => {\n                                setPreviewOnPopup(false);\n                                onCloseDialog();\n                            }}\n                            height_offset='80px'\n                            page_overlay\n                        >\n                            <div label='Google Drive' className='google-drive-label'>\n                                <GoogleDrive />\n                            </div>\n                        </MobileFullPageModal>\n                    </MobileWrapper>\n                </div>\n                <Recent is_file_supported={is_file_supported} />\n            </div>\n        ),\n        [is_dialog_open, has_dashboard_strategies]\n    );\n});\n\nexport default Cards;\n","import { localize } from '@deriv/translations';\n\nexport type TSidebarItem = {\n    label: string;\n    content: string[];\n    link: boolean;\n};\n\nexport const SIDEBAR_INTRO: TSidebarItem[] = [\n    {\n        label: localize('Welcome to Deriv Bot!'),\n        content: [\n            localize(\n                'Ready to automate your trading strategy without writing any code? You’ve come to the right place.'\n            ),\n            localize('Check out these guides and FAQs to learn more about building your bot:'),\n        ],\n        link: false,\n    },\n    {\n        label: localize('Guide'),\n        content: [localize('Deriv Bot - your automated trading partner')],\n        link: true,\n    },\n    {\n        label: localize('FAQs'),\n        content: [\n            localize('What is Deriv Bot?'),\n            localize('Where do I find the blocks I need?'),\n            localize('How do I remove blocks from the workspace?'),\n        ],\n        link: true,\n    },\n];\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { DesktopWrapper, Icon, MobileWrapper, Modal, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\n\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nimport { SIDEBAR_INTRO } from './constants';\n\nconst InfoPanel = observer(() => {\n    const {\n        ui: { is_mobile },\n    } = useStore();\n    const { dashboard } = useDBotStore();\n    const { active_tour, is_info_panel_visible, setActiveTab, setActiveTabTutorial, setInfoPanelVisibility } =\n        dashboard;\n    const switchTab = (link: boolean, label: string) => {\n        const tutorial_link = link ? setActiveTab(DBOT_TABS.TUTORIAL) : null;\n        const tutorial_label = label === 'Guide' ? setActiveTabTutorial(0) : setActiveTabTutorial(1);\n        return {\n            tutorial_link,\n            tutorial_label,\n        };\n    };\n\n    const handleClose = () => {\n        setInfoPanelVisibility(false);\n        localStorage.setItem('dbot_should_show_info', JSON.stringify(Date.now()));\n    };\n\n    const renderInfo = () => (\n        <div className='db-info-panel'>\n            <div data-testid='close-icon' className='db-info-panel__close-action' onClick={handleClose}>\n                <Icon width='1rem' height='1rem' icon='IcCloseIconDbot' />\n            </div>\n\n            {SIDEBAR_INTRO.map(sidebar_item => {\n                const { label, content, link } = sidebar_item;\n                return (\n                    <div key={`${label}-${content}`}>\n                        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold' as='h1'>\n                            {label}\n                        </Text>\n                        {content.map(text => (\n                            <Text\n                                key={`info-panel-tour${text}`}\n                                className={classNames('db-info-panel__card', {\n                                    'db-info-panel__content': link,\n                                })}\n                                color='prominent'\n                                line_height='xl'\n                                as='p'\n                                onClick={() => switchTab(link, label)}\n                                size={is_mobile ? 'xxs' : 's'}\n                            >\n                                {text}\n                            </Text>\n                        ))}\n                    </div>\n                );\n            })}\n        </div>\n    );\n\n    return (\n        <>\n            <DesktopWrapper>\n                {!active_tour && (\n                    <div\n                        className={classNames('tab__dashboard__info-panel', {\n                            'tab__dashboard__info-panel--active': is_info_panel_visible,\n                        })}\n                    >\n                        {renderInfo()}\n                    </div>\n                )}\n            </DesktopWrapper>\n            <MobileWrapper>\n                <Modal\n                    className='statistics__modal statistics__modal--mobile'\n                    is_open={is_info_panel_visible}\n                    toggleModal={handleClose}\n                    width={'440px'}\n                >\n                    <Modal.Body>{renderInfo()}</Modal.Body>\n                </Modal>\n            </MobileWrapper>\n        </>\n    );\n});\n\nexport default InfoPanel;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { observer } from 'mobx-react';\nimport { Analytics } from '@deriv/analytics';\n\ntype TUserGuide = {\n    setActiveTab: (param: number) => void;\n    setActiveTabTutorial: (active_tab_tutorials: number) => void;\n};\n\nconst UserGuide = observer(({ setActiveTab, setActiveTabTutorial }: TUserGuide) => {\n    const sendToRudderStack = () => {\n        Analytics.trackEvent('ce_bot_dashboard_form', {\n            action: 'push_user_guide',\n            form_source: 'ce_bot_dashboard_form',\n        });\n        Analytics.trackEvent('ce_bot_tutorial_form', {\n            action: 'push_user_guide',\n            form_source: 'bot_dashboard_form',\n        });\n    };\n\n    return (\n        <div className='tab__dashboard__home__retrigger'>\n            <button\n                data-testid='btn-user-guide'\n                onClick={() => {\n                    sendToRudderStack();\n                    setActiveTab(DBOT_TABS.TUTORIAL);\n                    setActiveTabTutorial(0);\n                }}\n            >\n                <Icon className='tab__dashboard__home__retrigger__icon' icon={'IcDbotUserGuide'} />\n                <Text size='xs' line_height='s' className={'tab__dashboard__home__retrigger__text'}>\n                    {localize('User Guide')}\n                </Text>\n            </button>\n        </div>\n    );\n});\n\nexport default UserGuide;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { DesktopWrapper, MobileWrapper, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { Analytics } from '@deriv/analytics';\nimport { observer, useStore } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport OnboardTourHandler from '../dbot-tours/onboarding-tour';\nimport Local from './load-bot-preview/local';\nimport Cards from './cards';\nimport InfoPanel from './info-panel';\nimport UserGuide from './user-guide';\n\ntype TMobileIconGuide = {\n    has_dashboard_strategies: boolean;\n    handleTabChange: (active_number: number) => void;\n};\n\ntype TDashboardMobileCommonProps = {\n    is_mobile: boolean;\n    has_dashboard_strategies: boolean;\n};\n\nconst DashboardTitle = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__header', {\n            'tab__dashboard__header--not-listed': !has_dashboard_strategies && is_mobile,\n        })}\n    >\n        <Text color='prominent' line_height='xxl' size={is_mobile ? 's' : 'm'} weight='bold'>\n            {localize('Load or build your bot')}\n        </Text>\n    </div>\n);\n\nconst MobileIconGuide = ({ handleTabChange }: TMobileIconGuide) => (\n    <MobileWrapper>\n        <div>\n            <Local handleTabChange={handleTabChange} />\n        </div>\n    </MobileWrapper>\n);\n\nconst DashboardDescription = ({ is_mobile, has_dashboard_strategies }: TDashboardMobileCommonProps) => (\n    <div\n        className={classNames('tab__dashboard__description', {\n            'tab__dashboard__description__loaded--listed': has_dashboard_strategies && !is_mobile,\n            'tab__dashboard__description__loaded--not-listed':\n                !has_dashboard_strategies || (!has_dashboard_strategies && is_mobile),\n        })}\n    >\n        <Text color='prominent' line_height='s' size={is_mobile ? 'xxs' : 's'}>\n            {localize(\n                'Import a bot from your computer or Google Drive, build it from scratch, or start with a quick strategy.'\n            )}\n        </Text>\n    </div>\n);\n\nconst DashboardComponent = observer(({ handleTabChange }: TMobileIconGuide) => {\n    const { ui } = useStore();\n    const { load_modal, dashboard } = useDBotStore();\n    const { dashboard_strategies } = load_modal;\n    const { setActiveTab, setActiveTabTutorial, active_tab, active_tour } = dashboard;\n    const has_dashboard_strategies = !!dashboard_strategies?.length;\n    const { is_mobile } = ui;\n    const get_first_strategy_info = React.useRef(false);\n\n    React.useEffect(() => {\n        if (!get_first_strategy_info.current) {\n            //on dashbord umount fire close event for rudderstack\n            get_first_strategy_info.current = true;\n            Analytics.trackEvent('ce_bot_dashboard_form', {\n                action: 'open',\n                form_source: 'ce_bot_dashboard_form',\n            });\n            return () => {\n                Analytics.trackEvent('ce_bot_dashboard_form', {\n                    action: 'close',\n                    form_source: 'ce_bot_dashboard_form',\n                });\n            };\n        }\n    }, []);\n\n    return (\n        <React.Fragment>\n            <div\n                className={classNames('tab__dashboard', {\n                    'tab__dashboard--tour-active': active_tour,\n                })}\n            >\n                <div className='tab__dashboard__content'>\n                    <div\n                        className={classNames('tab__dashboard__centered', {\n                            'tab__dashboard__centered--listed': !is_mobile && has_dashboard_strategies,\n                            'tab__dashboard__centered--not-listed': !has_dashboard_strategies,\n                        })}\n                    >\n                        {!has_dashboard_strategies && !is_mobile && (\n                            <DashboardTitle is_mobile={is_mobile} has_dashboard_strategies={has_dashboard_strategies} />\n                        )}\n                        <DesktopWrapper>\n                            {!has_dashboard_strategies && (\n                                <UserGuide setActiveTab={setActiveTab} setActiveTabTutorial={setActiveTabTutorial} />\n                            )}\n                        </DesktopWrapper>\n                        <div>\n                            <div\n                                className={classNames({\n                                    'tab__dashboard__mobile-container': is_mobile,\n                                    'tab__dashboard__mobile-container--minimized':\n                                        is_mobile && has_dashboard_strategies,\n                                })}\n                            >\n                                {is_mobile && !has_dashboard_strategies && (\n                                    <DashboardTitle\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                {(!is_mobile || (is_mobile && has_dashboard_strategies)) && (\n                                    <DashboardDescription\n                                        is_mobile={is_mobile}\n                                        has_dashboard_strategies={has_dashboard_strategies}\n                                    />\n                                )}\n                                <MobileIconGuide\n                                    handleTabChange={handleTabChange}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            </div>\n                            {is_mobile && !has_dashboard_strategies && (\n                                <DashboardDescription\n                                    is_mobile={is_mobile}\n                                    has_dashboard_strategies={has_dashboard_strategies}\n                                />\n                            )}\n                        </div>\n                        <Cards has_dashboard_strategies={has_dashboard_strategies} is_mobile={is_mobile} />\n                    </div>\n\n                    {has_dashboard_strategies && !is_mobile && (\n                        <div className='tab__dashboard__preview'>\n                            <Local handleTabChange={handleTabChange} />\n                        </div>\n                    )}\n                </div>\n            </div>\n            <InfoPanel />\n            {active_tab === 0 && <OnboardTourHandler is_mobile={is_mobile} />}\n        </React.Fragment>\n    );\n});\n\nexport default DashboardComponent;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Toast } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst StrategyNotification = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { show_toast, toast_message, setOpenSettings } = dashboard;\n\n    React.useEffect(() => {\n        setTimeout(() => {\n            setOpenSettings(toast_message, false);\n        }, 3000);\n    }, [show_toast]);\n    const el_portal = document.getElementById('popup_root');\n\n    if (el_portal && show_toast) {\n        return ReactDOM.createPortal(\n            <div className='import-notification'>\n                <div>\n                    <Toast>\n                        {toast_message === 'delete'\n                            ? localize('You’ve successfully deleted a bot.')\n                            : localize('You’ve successfully imported a bot.')}\n                    </Toast>\n                </div>\n            </div>,\n            el_portal\n        );\n    }\n    return null;\n});\n\nexport default StrategyNotification;\n","import NoSearchResult from './no-search-result';\n\nexport default NoSearchResult;\n","import React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst NoSearchResult = observer(() => {\n    const { dashboard } = useDBotStore();\n    const { faq_search_value } = dashboard;\n    return (\n        <div className='dc-tabs__content dc-tabs__content--no-result'>\n            <Icon icon='IcDbotNoSearchResult' size={80} />\n            <Text className='dc-tabs__content--no-result__title' as='h1' weight='bold' line_height='xxs'>\n                <Localize i18n_default_text='No results found' />\n            </Text>\n            <Text className='dc-tabs__content--no-result__content' line_height='xxs'>\n                <Localize i18n_default_text={`We couldn’t find anything matching \"${faq_search_value}\".`} />\n            </Text>\n            <Text className='dc-tabs__content--no-result__content' line_height='xxs'>\n                <Localize i18n_default_text={`Try another term.`} />\n            </Text>\n        </div>\n    );\n});\n\nexport default NoSearchResult;\n","import React, { KeyboardEvent } from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport { STRATEGIES } from 'Components/quick-strategy/config';\nimport StrategyDescription from 'Components/quick-strategy/descriptions/strategy-description';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype Tcontent = {\n    qs_name: string;\n    content: string[];\n    type: string;\n};\n\ntype TQuickStrategyGuides = {\n    quick_strategy_content: Tcontent[];\n    tutorial_selected_strategy: string;\n    setTutorialSelectedStrategy: (value: string) => void;\n};\n\nconst QuickStrategyGuidesDetail = observer(\n    ({ quick_strategy_content, tutorial_selected_strategy, setTutorialSelectedStrategy }: TQuickStrategyGuides) => {\n        const { ui } = useStore();\n        const { is_mobile } = ui;\n        const { quick_strategy } = useDBotStore();\n        const { selected_strategy } = quick_strategy;\n        const strategy = STRATEGIES[tutorial_selected_strategy || (selected_strategy as keyof typeof STRATEGIES)];\n        const text_size = is_mobile ? 'xxs' : 's';\n\n        return (\n            <>\n                {tutorial_selected_strategy === '' ? (\n                    <div className='tutorials-quick-strategy__cards'>\n                        {quick_strategy_content?.map(({ qs_name, content, type }, index) => (\n                            <div\n                                className='tutorials-quick-strategy__placeholder'\n                                key={type}\n                                onClick={() => setTutorialSelectedStrategy(qs_name)}\n                                tabIndex={index}\n                                onKeyDown={(e: KeyboardEvent) => {\n                                    if (e.key === 'Enter') {\n                                        setTutorialSelectedStrategy(qs_name);\n                                    }\n                                }}\n                            >\n                                <div>\n                                    <div className='tutorials-quick-strategy__placeholder__title'>\n                                        <Text\n                                            align='center'\n                                            weight='bold'\n                                            color='prominent'\n                                            line_height='s'\n                                            size={text_size}\n                                        >\n                                            {type}\n                                        </Text>\n                                    </div>\n                                    <div className='tutorials-quick-strategy__placeholder__content'>\n                                        <ul>\n                                            {content.map(data => (\n                                                <li key={data}>\n                                                    <Text\n                                                        align='center'\n                                                        color='prominent'\n                                                        line_height='s'\n                                                        size={text_size}\n                                                        className='tutorials-quick-strategy__placeholder__content__text'\n                                                    >\n                                                        {data}\n                                                    </Text>\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    </div>\n                                </div>\n                                <Icon\n                                    className='tutorials-quick-strategy__placeholder__icon'\n                                    icon='IcChevronRightBold'\n                                />\n                            </div>\n                        ))}\n                    </div>\n                ) : (\n                    <>\n                        <div className='tutorials-quick-strategy__breadcrumb'>\n                            <Text\n                                className='tutorials-quick-strategy__breadcrumb__clickable'\n                                color='prominent'\n                                line_height='s'\n                                size={text_size}\n                                as='div'\n                                onClick={() => {\n                                    setTutorialSelectedStrategy('');\n                                }}\n                            >\n                                <Localize i18n_default_text={'Quick strategy guides >'} />\n                            </Text>\n                            <Text color='less-prominent' line_height='s' size={text_size} as='div'>\n                                <Localize i18n_default_text={`About ${STRATEGIES[tutorial_selected_strategy].label}`} />\n                            </Text>\n                        </div>\n                        <div>\n                            {strategy?.long_description?.map((data, index) => (\n                                <StrategyDescription key={index} data={data} font_size={text_size} />\n                            ))}\n                        </div>\n                    </>\n                )}\n            </>\n        );\n    }\n);\n\nexport default QuickStrategyGuidesDetail;\n","import React from 'react';\nimport { Text } from '@deriv/components';\nimport { useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { quick_strategy_content } from '../config';\nimport QuickStrategyGuidesDetail from './quick-strategy-guides-details';\nimport './index.scss';\n\nconst QuickStrategyGuides = () => {\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const [tutorial_selected_strategy, setTutorialSelectedStrategy] = React.useState('');\n\n    return (\n        <div className='tutorials-quick-strategy'>\n            {tutorial_selected_strategy === '' && (\n                <Text\n                    className='tutorials-quick-strategy__title'\n                    weight='bold'\n                    color='prominent'\n                    line_height='s'\n                    size={is_mobile ? 'xxs' : 's'}\n                    as='div'\n                >\n                    {localize('Quick strategy guides')}\n                </Text>\n            )}\n            <QuickStrategyGuidesDetail\n                tutorial_selected_strategy={tutorial_selected_strategy}\n                setTutorialSelectedStrategy={setTutorialSelectedStrategy}\n                quick_strategy_content={quick_strategy_content}\n            />\n        </div>\n    );\n};\n\nexport default QuickStrategyGuides;\n","import React from 'react';\nimport { Accordion, Text } from '@deriv/components';\nimport { useStore } from '@deriv/stores';\nimport { Localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { TDescription } from '../config';\n\ntype TFAQContent = {\n    faq_list: TFAQList[];\n};\n\ntype TFAQList = {\n    title: string;\n    description: TDescription[];\n};\n\nconst FAQ = ({ type, content, src, imageclass, is_mobile }: TDescription) => {\n    if (type === 'image') return <img src={src} className={imageclass} />;\n\n    return (\n        <Text\n            as='p'\n            size={is_mobile ? 'xs' : 's'}\n            line_height={is_mobile ? 'xl' : 'xxl'}\n            className='faq__description'\n            weight='normal'\n            key={content}\n            dangerouslySetInnerHTML={{ __html: content }}\n        />\n    );\n};\n\nconst scrollToElement = (wrapper_element: HTMLElement, offset: number) => {\n    if (wrapper_element) {\n        wrapper_element.scrollTo({\n            top: offset,\n            behavior: 'smooth',\n        });\n    }\n};\n\nconst FAQContent = ({ faq_list }: TFAQContent) => {\n    const { ui } = useStore();\n    const { dashboard } = useDBotStore();\n    const { active_tab_tutorials } = dashboard;\n    const { is_mobile } = ui;\n\n    const faq_wrapper_element = React.useRef<HTMLDivElement>(null);\n    const timer_id = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    const handleAccordionClick = () => {\n        // Scroll to the top of the open accordion item.\n        // Need timer to first close the accordion item then scroll the new item to top.\n        timer_id.current = setTimeout(() => {\n            const open_accordion_element: HTMLElement | null | undefined =\n                faq_wrapper_element.current?.querySelector('.dc-accordion__item--open');\n            const previous_sibling_element = open_accordion_element?.previousElementSibling as HTMLElement;\n            if (faq_wrapper_element.current && open_accordion_element) {\n                const offset = previous_sibling_element ? previous_sibling_element.offsetTop - 80 : 0;\n                scrollToElement(faq_wrapper_element?.current, offset);\n            }\n            if (timer_id?.current) clearTimeout(timer_id.current);\n        }, 5);\n    };\n\n    const handleKeyboardEvent = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') handleAccordionClick();\n    };\n\n    React.useEffect(() => {\n        return () => {\n            if (timer_id.current) clearTimeout(timer_id.current);\n        };\n    }, []);\n\n    const getList = () => {\n        return faq_list.map(({ title, description }: TFAQList) => ({\n            header: (\n                <Text\n                    as='p'\n                    line_height='xl'\n                    className='faq__title'\n                    weight='bold'\n                    key={title}\n                    size={is_mobile ? 'xs' : 's'}\n                >\n                    {title}\n                </Text>\n            ),\n            content: description?.map((item, index) => (\n                <FAQ {...item} is_mobile={is_mobile} key={`faq-description-item-${item?.content}-${index}`} />\n            )),\n        }));\n    };\n\n    return React.useMemo(\n        () => (\n            <div data-testid='id-faq__wrapper'>\n                <div className='faq__wrapper' ref={faq_wrapper_element}>\n                    {faq_list?.length > 0 && (\n                        <>\n                            {active_tab_tutorials === 2 && (\n                                <Text as='p' line_height='xl' className='faq__wrapper__header' weight='bold'>\n                                    <Localize i18n_default_text='FAQ' />\n                                </Text>\n                            )}\n                            <div\n                                data-testid='id-accordion-test'\n                                onClick={handleAccordionClick}\n                                onKeyDown={handleKeyboardEvent}\n                            >\n                                <Accordion\n                                    className='faq__wrapper__content'\n                                    list={getList()}\n                                    icon_close=''\n                                    icon_open=''\n                                />\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [faq_list]\n    );\n};\n\nexport default FAQContent;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Dialog, Icon, Text } from '@deriv/components';\nimport { useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { DBOT_TABS } from 'Constants/bot-contents';\nimport { removeKeyValue } from 'Utils/settings';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\ntype TGuideList = {\n    content?: string;\n    id: number;\n    src?: string;\n    subtype?: string;\n    type: string;\n    url?: string;\n    imageclass?: string;\n};\n\ntype TGuideContent = {\n    guide_tab_content: TGuideList[];\n    video_tab_content: TGuideList[];\n    is_dialog_open: boolean;\n};\n\nconst GuideContent = ({ guide_tab_content, video_tab_content, is_dialog_open }: TGuideContent) => {\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const { dashboard } = useDBotStore();\n    const {\n        dialog_options,\n        onCloseDialog: onOkButtonClick,\n        setActiveTab,\n        setTourDialogVisibility,\n        showVideoDialog,\n        setActiveTour,\n        setShowMobileTourDialog,\n    } = dashboard;\n\n    const triggerTour = (type: string) => {\n        if (type === 'OnBoard') {\n            removeKeyValue('onboard_tour_token');\n            setActiveTab(DBOT_TABS.DASHBOARD);\n            if (is_mobile) setActiveTour('onboarding');\n            setTourDialogVisibility(true);\n        } else {\n            setActiveTab(DBOT_TABS.BOT_BUILDER);\n            if (is_mobile) setActiveTour('bot_builder');\n            setTourDialogVisibility(true);\n            if (is_mobile) setShowMobileTourDialog(true);\n        }\n    };\n\n    const handleKeyboardEvent = (e: KeyboardEvent) => {\n        if (e.key === 'Enter') triggerTour('OnBoard');\n    };\n\n    const has_guide_content = guide_tab_content.length > 0 || video_tab_content.length > 0;\n\n    return React.useMemo(\n        () =>\n            has_guide_content && (\n                <div className='tutorials-wrap'>\n                    {guide_tab_content && guide_tab_content.length > 0 && (\n                        <div className='tutorials-wrap__group'>\n                            <div className='tutorials-wrap__group__title'>\n                                <Text\n                                    align='left'\n                                    weight='bold'\n                                    color='prominent'\n                                    line_height='s'\n                                    size={is_mobile ? 'xxs' : 's'}\n                                >\n                                    <Localize i18n_default_text='Step-by-step guides' />\n                                </Text>\n                            </div>\n                            <div className='tutorials-wrap__group__guides'>\n                                {guide_tab_content?.map(({ id, content, src, subtype }) => {\n                                    return (\n                                        <div className='tutorials-wrap__group__cards' key={id}>\n                                            <div\n                                                className='tutorials-wrap--tour'\n                                                onClick={() => triggerTour(subtype)}\n                                                onKeyDown={handleKeyboardEvent}\n                                            >\n                                                <div\n                                                    className={classNames('tutorials-wrap__placeholder__tours', {\n                                                        'tutorials-wrap__placeholder--disabled': !src,\n                                                    })}\n                                                    style={{\n                                                        backgroundImage: `url(${src})`,\n                                                    }}\n                                                />\n                                            </div>\n                                            <Text\n                                                align='center'\n                                                color='prominent'\n                                                line_height='s'\n                                                size={is_mobile ? 'xxs' : 's'}\n                                            >\n                                                {content}\n                                            </Text>\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    )}\n\n                    {video_tab_content && video_tab_content.length > 0 && (\n                        <div className='tutorials-wrap__group'>\n                            <div className='tutorials-wrap__group__title'>\n                                <Text\n                                    align='left'\n                                    weight='bold'\n                                    color='prominent'\n                                    line_height='s'\n                                    size={is_mobile ? 'xxs' : 's'}\n                                >\n                                    <Localize i18n_default_text='Videos on Deriv Bot' />\n                                </Text>\n                            </div>\n\n                            <div className='tutorials-wrap__group__guides'>\n                                {video_tab_content?.map(({ content, src, url, id }) => {\n                                    return (\n                                        <div className='tutorials-wrap__group__cards' key={id}>\n                                            <div\n                                                className={classNames('tutorials-wrap__placeholder', {\n                                                    'tutorials-wrap__placeholder--disabled': !url,\n                                                })}\n                                                style={{\n                                                    backgroundImage: `url(${src})`,\n                                                }}\n                                            >\n                                                <div className='tutorials-wrap__placeholder__button-group'>\n                                                    <Icon\n                                                        className='tutorials-wrap__placeholder__button-group--play'\n                                                        width='4rem'\n                                                        height='4rem'\n                                                        icon={'IcPlayOutline'}\n                                                        onClick={() =>\n                                                            showVideoDialog({\n                                                                type: 'url',\n                                                                url,\n                                                            })\n                                                        }\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div className='tutorials-wrap__placeholder__description'>\n                                                <Text\n                                                    align='left'\n                                                    color='prominent'\n                                                    line_height='s'\n                                                    size={is_mobile ? 'xxs' : 's'}\n                                                >\n                                                    {content}\n                                                </Text>\n                                            </div>\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    )}\n\n                    <Dialog\n                        title={dialog_options.title}\n                        is_visible={is_dialog_open}\n                        cancel_button_text={localize('Cancel')}\n                        onCancel={onOkButtonClick}\n                        confirm_button_text={localize('OK')}\n                        onConfirm={onOkButtonClick}\n                        is_mobile_full_width\n                        className={'dc-dialog'}\n                        has_close_icon\n                        onClose={onOkButtonClick}\n                    >\n                        <iframe width='100%' height='100%' src={dialog_options.url} frameBorder='0' allowFullScreen />\n                    </Dialog>\n                </div>\n            ),\n        [guide_tab_content, video_tab_content, is_dialog_open]\n    );\n};\n\nexport default GuideContent;\n","import React from 'react';\nimport debounce from 'lodash.debounce';\nimport { Analytics } from '@deriv/analytics';\nimport { observer } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { DEBOUNCE_INTERVAL_TIME } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst SearchInput = observer(({ faq_value, setFaqSearchContent, prev_active_tutorials }) => {\n    const { dashboard } = useDBotStore();\n    const input_ref = React.useRef(null);\n    const { setActiveTabTutorial, filterTuotrialTab } = dashboard;\n\n    const debounceChange = React.useCallback(\n        debounce(\n            value => {\n                filterTuotrialTab(value);\n                setActiveTabTutorial(3);\n                Analytics.trackEvent('ce_bot_tutorial_form', {\n                    action: 'search',\n                    search_string: value,\n                });\n                if (value === '') {\n                    setActiveTabTutorial(prev_active_tutorials);\n                }\n            },\n            DEBOUNCE_INTERVAL_TIME,\n            {\n                trailing: true,\n                leading: false,\n            }\n        ),\n        []\n    );\n    const onSearch = event => {\n        setFaqSearchContent(event.target.value);\n        debounceChange(event.target.value);\n    };\n\n    return (\n        <>\n            <input\n                ref={input_ref}\n                data-testid='id-test-input-search'\n                type='text'\n                placeholder={localize('Search')}\n                className='dc-tabs__wrapper__group__search-input'\n                onChange={event => onSearch(event)}\n                value={faq_value}\n            />\n        </>\n    );\n});\n\nexport default SearchInput;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, Tabs } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport SearchInput from './common/search-input';\nimport { TContent } from './config';\n\ntype TTutorialsTabDesktop = {\n    tutorial_tabs: TContent;\n    prev_active_tutorials: number;\n};\n\nconst TutorialsTabDesktop = observer(({ tutorial_tabs, prev_active_tutorials }: TTutorialsTabDesktop) => {\n    const { dashboard } = useDBotStore();\n\n    const { active_tab_tutorials, faq_search_value, setActiveTabTutorial, setFAQSearchValue, resetTutorialTabContent } =\n        dashboard;\n    const search = faq_search_value?.toLowerCase();\n\n    const onCloseHandleSearch = () => {\n        setFAQSearchValue('');\n        resetTutorialTabContent();\n        setActiveTabTutorial(prev_active_tutorials);\n    };\n\n    React.useEffect(() => {\n        if (faq_search_value !== '') {\n            setActiveTabTutorial(3);\n        }\n    }, [active_tab_tutorials]);\n\n    return (\n        <div className='dc-tabs__wrapper'>\n            <div className='dc-tabs__wrapper__group'>\n                <Icon\n                    className='search-icon'\n                    data_testid='id-test-search'\n                    width='1.6rem'\n                    height='1.6rem'\n                    icon='IcSearch'\n                />\n                <SearchInput\n                    faq_value={faq_search_value}\n                    setFaqSearchContent={setFAQSearchValue}\n                    prev_active_tutorials={prev_active_tutorials}\n                />\n                {search && (\n                    <Icon\n                        className='close-icon'\n                        data_testid='id-test-close'\n                        width='1.6rem'\n                        height='1.6rem'\n                        icon='IcDbotClose'\n                        onClick={onCloseHandleSearch}\n                    />\n                )}\n            </div>\n            <Tabs\n                className={classNames('tutorials', {\n                    'tutorials-guide': prev_active_tutorials === 0,\n                    'tutorials-faq': prev_active_tutorials === 1,\n                    'tutorials-qs-guide': prev_active_tutorials === 2,\n                    'tutorials-search': active_tab_tutorials === 3,\n                })}\n                active_index={active_tab_tutorials}\n                onTabItemClick={setActiveTabTutorial}\n                top\n            >\n                {tutorial_tabs.map(\n                    ({ label, content }) =>\n                        content && (\n                            <div label={label} key={`${content}_${label}`}>\n                                {content}\n                            </div>\n                        )\n                )}\n            </Tabs>\n        </div>\n    );\n});\n\nexport default TutorialsTabDesktop;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Icon, SelectNative } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport SearchInput from './common/search-input';\nimport { TContent } from './config';\n\ntype TTutorialsTabMobile = {\n    tutorial_tabs: TContent;\n    prev_active_tutorials: number;\n};\n\nconst TutorialsTabMobile = observer(({ tutorial_tabs, prev_active_tutorials }: TTutorialsTabMobile) => {\n    const { dashboard } = useDBotStore();\n    const { active_tab_tutorials, faq_search_value, setActiveTabTutorial, setFAQSearchValue, resetTutorialTabContent } =\n        dashboard;\n\n    const search = faq_search_value?.toLowerCase();\n    const initialSelectedTab = { label: '', content: '' };\n    const [selectedTab, setSelectedTab] = React.useState(initialSelectedTab);\n    const [showSearchBar, setShowSearchBar] = React.useState(false);\n\n    React.useEffect(() => {\n        if (search) setShowSearchBar(true);\n        setSelectedTab(tutorial_tabs[active_tab_tutorials] || {});\n    }, [tutorial_tabs]);\n\n    const onFocusSearch = () => setActiveTabTutorial(3);\n\n    const onChangeHandle = React.useCallback(\n        ({ target }) => setActiveTabTutorial(tutorial_tabs.findIndex(i => i.label === target.value)),\n        [active_tab_tutorials]\n    );\n\n    const onHandleChangeMobile = () => {\n        setShowSearchBar(!showSearchBar);\n    };\n\n    const onClickBackButton = () => {\n        setFAQSearchValue('');\n        setShowSearchBar(!showSearchBar);\n        resetTutorialTabContent();\n        setActiveTabTutorial(prev_active_tutorials);\n        setSelectedTab(tutorial_tabs[prev_active_tutorials] || {});\n    };\n\n    const onCloseHandleSearch = () => {\n        onFocusSearch();\n        setFAQSearchValue('');\n        setActiveTabTutorial(prev_active_tutorials);\n        resetTutorialTabContent();\n    };\n\n    React.useEffect(() => {\n        const selectElement = document.getElementById('dt_components_select-native_select-tag');\n\n        if (selectElement) {\n            selectElement.removeChild(selectElement?.options[3]);\n        }\n    }, []);\n\n    return (\n        <div className='tutorials-mobile' data-testid='test-tutorials-mobile'>\n            <div\n                className={classNames('tutorials-mobile__select', {\n                    'tutorials-mobile__select--show-search': showSearchBar,\n                    'tutorials-mobile__select--hide-search': !showSearchBar,\n                })}\n                data-testid={showSearchBar ? 'id-search-visible' : 'id-search-hidden'}\n            >\n                <Icon\n                    onClick={onClickBackButton}\n                    data_testid='id-arrow-left-bold'\n                    className='arrow-left-bold'\n                    icon='IcArrowLeftBold'\n                />\n                <SearchInput\n                    faq_value={faq_search_value}\n                    setFaqSearchContent={setFAQSearchValue}\n                    prev_active_tutorials={prev_active_tutorials}\n                />\n                {search && (\n                    <Icon\n                        data_testid='id-close-icon'\n                        className='close-icon'\n                        data-testid='id-test-search'\n                        width='1.6rem'\n                        height='1.6rem'\n                        icon='IcDbotClose'\n                        onClick={onCloseHandleSearch}\n                    />\n                )}\n\n                <SelectNative\n                    data_testid='id-tutorials-select'\n                    className='dc-tabs__wrapper__group__search-input--active'\n                    list_items={tutorial_tabs.map(({ label }, idx) => ({\n                        id: idx,\n                        value: label,\n                        text: label,\n                    }))}\n                    value={selectedTab.label}\n                    label=''\n                    should_show_empty_option={false}\n                    onChange={onChangeHandle}\n                />\n                <Icon onClick={onHandleChangeMobile} className='search-icon' icon='IcSearch' />\n            </div>\n            <div\n                className={classNames({\n                    'tutorials-mobile__guide': active_tab_tutorials === 0,\n                    'tutorials-mobile__faq': active_tab_tutorials === 1,\n                    'tutorials-mobile__qs-guide': prev_active_tutorials === 2,\n                    'tutorials-mobile__search': active_tab_tutorials === 3,\n                })}\n            >\n                {selectedTab.content}\n            </div>\n        </div>\n    );\n});\n\nexport default TutorialsTabMobile;\n","import React from 'react';\nimport { Analytics } from '@deriv/analytics';\nimport { observer, useStore } from '@deriv/stores';\nimport { localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport NoSearchResult from './common/no-search-result-found';\nimport QuickStrategyGuides from './quick-strategy-content/quick-strategy-guides';\nimport { quick_strategy_content } from './config';\nimport FAQContent from './faq-content';\nimport GuideContent from './guide-content';\nimport TutorialsTabDesktop from './tutorials-tab-desktop';\nimport TutorialsTabMobile from './tutorials-tab-mobile';\n\nconst TutorialsTab = observer(() => {\n    const { ui } = useStore();\n    const { is_mobile } = ui;\n    const { dashboard } = useDBotStore();\n    const [prev_active_tutorials, setPrevActiveTutorialsTab] = React.useState<number | null>(0);\n\n    const { active_tab_tutorials, video_tab_content, guide_tab_content, faq_tab_content, is_dialog_open } = dashboard;\n\n    React.useEffect(() => {\n        Analytics.trackEvent('ce_bot_tutorial_form', {\n            action: 'open',\n            form_source: 'bot_header_form',\n        });\n        return () => {\n            Analytics.trackEvent('ce_bot_tutorial_form', {\n                action: 'close',\n                form_source: 'bot_header_form',\n            });\n        };\n    }, []);\n\n    React.useEffect(() => {\n        const _active_tab = [0, 1, 2];\n        if (_active_tab.includes(active_tab_tutorials)) {\n            setPrevActiveTutorialsTab(active_tab_tutorials);\n        }\n    }, [active_tab_tutorials]);\n\n    const has_content_guide_tab =\n        guide_tab_content.length > 0 || video_tab_content.length > 0 || faq_tab_content.length > 0;\n\n    const tutorial_tabs = [\n        {\n            label: localize('Guide'),\n            content: (\n                <GuideContent\n                    is_dialog_open={is_dialog_open}\n                    guide_tab_content={guide_tab_content}\n                    video_tab_content={video_tab_content}\n                />\n            ),\n        },\n        {\n            label: localize('FAQ'),\n            content: <FAQContent faq_list={faq_tab_content} />,\n        },\n        {\n            label: localize('Quick strategy guides'),\n            content: <QuickStrategyGuides quick_strategy_content={quick_strategy_content} />,\n        },\n        {\n            label: localize('Search'),\n            content: has_content_guide_tab ? (\n                <>\n                    <GuideContent\n                        is_dialog_open={is_dialog_open}\n                        guide_tab_content={guide_tab_content}\n                        video_tab_content={video_tab_content}\n                    />\n                    <FAQContent faq_list={faq_tab_content} />\n                </>\n            ) : (\n                <NoSearchResult />\n            ),\n        },\n    ];\n\n    return is_mobile ? (\n        <TutorialsTabMobile tutorial_tabs={tutorial_tabs} prev_active_tutorials={prev_active_tutorials} />\n    ) : (\n        <TutorialsTabDesktop tutorial_tabs={tutorial_tabs} prev_active_tutorials={prev_active_tutorials} />\n    );\n});\n\nexport default TutorialsTab;\n","import TutorialTab from './tutorial-tab';\nimport './index.scss';\n\nexport default TutorialTab;\n","import React, { useEffect } from 'react';\nimport classNames from 'classnames';\nimport { updateWorkspaceName } from '@deriv/bot-skeleton';\nimport { Analytics } from '@deriv/analytics';\nimport dbot from '@deriv/bot-skeleton/src/scratch/dbot';\nimport { initTrashCan } from '@deriv/bot-skeleton/src/scratch/hooks/trashcan';\nimport { api_base } from '@deriv/bot-skeleton/src/services/api/api-base';\nimport { DesktopWrapper, Dialog, MobileWrapper, Tabs } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport Chart from 'Components/chart';\nimport { DBOT_TABS, TAB_IDS } from 'Constants/bot-contents';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport RunPanel from '../run-panel';\nimport RunStrategy from './dashboard-component/run-strategy';\nimport { tour_list } from './dbot-tours/utils';\nimport { ChartModal, DashboardComponent } from './dashboard-component';\nimport StrategyNotification from './strategy-notification';\nimport Tutorial from './tutorial-tab';\n\nconst Dashboard = observer(() => {\n    const { dashboard, load_modal, run_panel, quick_strategy, summary_card } = useDBotStore();\n    const {\n        active_tab,\n        active_tour,\n        is_chart_modal_visible,\n        setActiveTab,\n        setWebSocketState,\n        setActiveTour,\n        setTourDialogVisibility,\n    } = dashboard;\n    const { onEntered, dashboard_strategies } = load_modal;\n    const { is_dialog_open, is_drawer_open, dialog_options, onCancelButtonClick, onCloseDialog, onOkButtonClick } =\n        run_panel;\n    const { is_open } = quick_strategy;\n    const { cancel_button_text, ok_button_text, title, message } = dialog_options as { [key: string]: string };\n    const { clear } = summary_card;\n    const { DASHBOARD, BOT_BUILDER } = DBOT_TABS;\n    const init_render = React.useRef(true);\n    const { ui } = useStore();\n    const { url_hashed_values, is_mobile } = ui;\n    const hash = ['dashboard', 'bot_builder', 'chart', 'tutorial'];\n\n    let tab_value: number | string = active_tab;\n    const GetHashedValue = (tab: number) => {\n        tab_value = url_hashed_values?.split('#')[1];\n        if (!tab_value) return tab;\n        return Number(hash.indexOf(String(tab_value)));\n    };\n    const active_hash_tab = GetHashedValue(active_tab);\n\n    const checkAndHandleConnection = () => {\n        const api_status = api_base.getConnectionStatus();\n        //added this check because after sleep mode all the store values refresh and is_running is false.\n        const is_bot_running = document.getElementById('db-animation__stop-button') !== null;\n        if (is_bot_running && (api_status === 'Closed' || api_status === 'Closing')) {\n            dbot.terminateBot();\n            clear();\n            setWebSocketState(false);\n        }\n    };\n\n    React.useEffect(() => {\n        window.addEventListener('focus', checkAndHandleConnection);\n    }, []);\n\n    React.useEffect(() => {\n        if (is_open) {\n            setTourDialogVisibility(false);\n        }\n\n        if (init_render.current) {\n            setActiveTab(Number(active_hash_tab));\n            if (is_mobile) handleTabChange(Number(active_hash_tab));\n            init_render.current = false;\n        } else {\n            window.location.hash = hash[active_tab] || hash[0];\n        }\n        if (tour_list[active_tab] !== active_tour) {\n            setActiveTour('');\n        }\n    }, [active_tab]);\n\n    React.useEffect(() => {\n        if (active_tab === BOT_BUILDER) {\n            Analytics.trackEvent('ce_bot_builder_form', {\n                action: 'open',\n                form_source: 'bot_header_form',\n            });\n            if (is_drawer_open) {\n                initTrashCan(400, -748);\n            } else {\n                initTrashCan(20);\n            }\n            setTimeout(() => {\n                window.dispatchEvent(new Event('resize')); // make the trash can work again after resize\n            }, 500);\n        }\n    }, [active_tab, is_drawer_open]);\n\n    useEffect(() => {\n        let timer: ReturnType<typeof setTimeout>;\n        if (dashboard_strategies.length > 0) {\n            // Needed to pass this to the Callback Queue as on tab changes\n            // document title getting override by 'Bot | Deriv' only\n            timer = setTimeout(() => {\n                updateWorkspaceName();\n            });\n        }\n        return () => {\n            if (timer) clearTimeout(timer);\n        };\n    }, [dashboard_strategies, active_tab]);\n\n    const handleTabChange = React.useCallback(\n        (tab_index: number) => {\n            setActiveTab(tab_index);\n            const el_id = TAB_IDS[tab_index];\n            if (el_id) {\n                const el_tab = document.getElementById(el_id);\n                el_tab?.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'center',\n                    inline: 'center',\n                });\n            }\n        },\n        [active_tab]\n    );\n\n    return (\n        <React.Fragment>\n            <div className='dashboard__main'>\n                <div\n                    className={classNames('dashboard__container', {\n                        'dashboard__container--active': active_tour && active_tab === DASHBOARD && is_mobile,\n                    })}\n                >\n                    <Tabs\n                        active_index={active_tab}\n                        className='dashboard__tabs'\n                        onTabItemChange={onEntered}\n                        onTabItemClick={handleTabChange}\n                        top\n                    >\n                        <div\n                            icon='IcDashboardComponentTab'\n                            label={<Localize i18n_default_text='Dashboard' />}\n                            id='id-dbot-dashboard'\n                        >\n                            <DashboardComponent handleTabChange={handleTabChange} />\n                        </div>\n                        <div\n                            icon='IcBotBuilderTabIcon'\n                            label={<Localize i18n_default_text='Bot Builder' />}\n                            id='id-bot-builder'\n                        />\n                        <div\n                            icon='IcChartsTabDbot'\n                            label={<Localize i18n_default_text='Charts' />}\n                            id={is_chart_modal_visible ? 'id-charts--disabled' : 'id-charts'}\n                        >\n                            <Chart />\n                        </div>\n                        <div\n                            icon='IcTutorialsTabs'\n                            label={<Localize i18n_default_text='Tutorials' />}\n                            id='id-tutorials'\n                        >\n                            <div className='tutorials-wrapper'>\n                                <Tutorial />\n                            </div>\n                        </div>\n                    </Tabs>\n                </div>\n            </div>\n            <DesktopWrapper>\n                <div className={'dashboard__run-strategy-wrapper'}>\n                    <RunStrategy />\n                    <RunPanel />\n                </div>\n                <ChartModal />\n            </DesktopWrapper>\n            <MobileWrapper>{!is_open && <RunPanel />}</MobileWrapper>\n            <Dialog\n                cancel_button_text={cancel_button_text || localize('Cancel')}\n                className={'dc-dialog__wrapper--fixed'}\n                confirm_button_text={ok_button_text || localize('OK')}\n                has_close_icon\n                is_mobile_full_width={false}\n                is_visible={is_dialog_open}\n                onCancel={onCancelButtonClick}\n                onClose={onCloseDialog}\n                onConfirm={onOkButtonClick || onCloseDialog}\n                portal_element_id='modal_root'\n                title={title}\n            >\n                {message}\n            </Dialog>\n            <StrategyNotification />\n        </React.Fragment>\n    );\n});\n\nexport default Dashboard;\n","import Dashboard from './dashboard';\nimport './dashboard.scss';\n\nexport default Dashboard;\n","import React from 'react';\nimport classNames from 'classnames';\nimport ReactDOM from 'react-dom';\nimport { MobileWrapper, Toast } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\n\n// TODO: Need to sanitize,\n// Same sort of component is being used inside DTrader,\n// In Future we might move the `NetworkStatusToastError` to the core packages for resuability.\n\n/**\n * Network status Toast components\n */\n\nconst NetworkStatusToastError = observer(() => {\n    const { common } = useStore();\n    const { network_status } = common;\n    const [is_open, setIsOpen] = React.useState(false);\n    const { message, status } = network_status;\n    const portal_id = 'popup_root';\n\n    if (!document.getElementById(portal_id) || !message) return null;\n\n    if (!is_open && status !== 'online') {\n        setIsOpen(true); // open if status === 'blinker' or 'offline'\n    } else if (is_open && status === 'online') {\n        setTimeout(() => {\n            setIsOpen(false);\n        }, 1500);\n    }\n\n    return ReactDOM.createPortal(\n        <MobileWrapper>\n            <Toast\n                className={classNames({\n                    'dc-toast--blinker': status === 'blinker',\n                })}\n                is_open={is_open}\n                timeout={0}\n                type='error'\n            >\n                {message}\n            </Toast>\n        </MobileWrapper>,\n        document.getElementById(portal_id)\n    );\n});\n\nexport default NetworkStatusToastError;\n","import NetworkToastPopup from './network-toast-popup';\n\nexport default NetworkToastPopup;\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { Localize, localize } from '@deriv/translations';\nimport { useDBotStore } from 'Stores/useDBotStore';\n\nconst RoutePromptDialog = observer(() => {\n    const { route_prompt_dialog } = useDBotStore();\n    const { continueRoute, should_show, is_confirmed, last_location, onCancel, onConfirm } = route_prompt_dialog;\n\n    React.useEffect(continueRoute, [is_confirmed, last_location, continueRoute]);\n\n    return (\n        <Dialog\n            title={localize('Leaving already?')}\n            confirm_button_text={localize(\"Yes, I'll come back later\")}\n            cancel_button_text={localize(\"No, I'll stay\")}\n            onConfirm={onConfirm}\n            onCancel={onCancel}\n            is_visible={should_show}\n            has_close_icon={false}\n        >\n            <Localize i18n_default_text='If you leave, your current contract will be completed, but your bot will stop running immediately.' />\n        </Dialog>\n    );\n});\n\nexport default RoutePromptDialog;\n","import RoutePromptDialog from './route-prompt-dialog';\n\nexport default RoutePromptDialog;\n","import BlocklyLoading from './blockly-loading';\nimport './blockly-loading.scss';\n\nexport default BlocklyLoading;\n","import React from 'react';\nimport { Loading } from '@deriv/components';\nimport { observer } from '@deriv/stores';\nimport { useDBotStore } from '../../stores/useDBotStore';\n\nconst BlocklyLoading = observer(() => {\n    const { blockly_store } = useDBotStore();\n    const { is_loading } = blockly_store;\n    return (\n        <>\n            {is_loading && (\n                <div className='bot__loading' data-testid='blockly-loader'>\n                    <Loading />\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default BlocklyLoading;\n","import React from 'react';\nimport { api_base, ApiHelpers, ServerTime, setColors } from '@deriv/bot-skeleton';\nimport { Loading } from '@deriv/components';\nimport { observer, useStore } from '@deriv/stores';\nimport BotBuilder from 'Components/dashboard/bot-builder';\nimport BotStopped from 'Components/dashboard/bot-stopped';\nimport TransactionDetailsModal from 'Components/transaction-details';\nimport GTM from 'Utils/gtm';\nimport { useDBotStore } from 'Stores/useDBotStore';\nimport { Audio, BotNotificationMessages, Dashboard, NetworkToastPopup, RoutePromptDialog } from '../components';\nimport BlocklyLoading from '../components/blockly-loading';\nimport './app.scss';\n\nconst AppContent = observer(() => {\n    const [is_loading, setIsLoading] = React.useState(true);\n    const RootStore = useStore();\n    const {\n        common,\n        client,\n        ui: { is_dark_mode_on },\n    } = RootStore;\n    const DBotStores = useDBotStore();\n    const { app, transactions } = DBotStores;\n    const { showDigitalOptionsMaltainvestError } = app;\n\n    // TODO: Remove this when connect is removed completely\n    const combinedStore = { ...DBotStores, core: { ...RootStore } };\n\n    const { recovered_transactions, recoverPendingContracts } = transactions;\n    const is_subscribed_to_msg_listener = React.useRef(false);\n    const msg_listener = React.useRef(null);\n\n    const handleMessage = ({ data }) => {\n        if (data?.msg_type === 'proposal_open_contract' && !data?.error) {\n            const { proposal_open_contract } = data;\n            if (\n                proposal_open_contract?.status !== 'open' &&\n                !recovered_transactions?.includes(proposal_open_contract?.contract_id)\n            ) {\n                recoverPendingContracts(proposal_open_contract);\n            }\n        }\n    };\n\n    React.useEffect(() => {\n        // Listen for proposal open contract messages to check\n        // if there is any active contract from bot still running\n        if (api_base?.api && !is_subscribed_to_msg_listener.current) {\n            is_subscribed_to_msg_listener.current = true;\n            msg_listener.current = api_base.api?.onMessage()?.subscribe(handleMessage);\n        }\n        return () => {\n            if (is_subscribed_to_msg_listener.current && msg_listener.current) {\n                is_subscribed_to_msg_listener.current = false;\n                msg_listener.current.unsubscribe();\n            }\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [api_base?.api]);\n\n    //Do not remove this is for the bot-skeleton package to load blockly with the theme\n    React.useEffect(() => {\n        setColors(is_dark_mode_on);\n    }, [is_dark_mode_on]);\n\n    React.useEffect(() => {\n        showDigitalOptionsMaltainvestError(client, common);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [client.is_options_blocked, client.account_settings.country_code, client.clients_country]);\n\n    const init = () => {\n        GTM.init(combinedStore);\n        ServerTime.init(common);\n        app.setDBotEngineStores(combinedStore);\n        ApiHelpers.setInstance(app.api_helpers_store);\n    };\n\n    const changeActiveSymbolLoadingState = () => {\n        init();\n        const { active_symbols } = ApiHelpers.instance;\n        active_symbols.retrieveActiveSymbols(true).then(() => {\n            setIsLoading(false);\n        });\n    };\n\n    React.useEffect(() => {\n        init();\n        setIsLoading(true);\n        if (!client.is_logged_in) {\n            changeActiveSymbolLoadingState();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // use is_landing_company_loaded to know got details of accounts to identify should show an error or not\n    if (client.is_landing_company_loaded) {\n        changeActiveSymbolLoadingState();\n    }\n\n    React.useEffect(() => {\n        const onDisconnectFromNetwork = () => {\n            setIsLoading(false);\n        };\n        window.addEventListener('offline', onDisconnectFromNetwork);\n        return () => {\n            window.removeEventListener('offline', onDisconnectFromNetwork);\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return is_loading ? (\n        <Loading />\n    ) : (\n        <>\n            <BlocklyLoading />\n            <div className='bot-dashboard bot'>\n                <Audio />\n                <BotNotificationMessages />\n                <Dashboard />\n                <NetworkToastPopup />\n                <BotBuilder />\n                <BotStopped />\n                <RoutePromptDialog />\n                <TransactionDetailsModal />\n            </div>\n        </>\n    );\n});\n\nexport default AppContent;\n","import React from 'react';\nimport { StoreProvider } from '@deriv/stores';\nimport { TStores } from '@deriv/stores/types';\nimport type { TWebSocket } from 'Types';\nimport { DBotStoreProvider } from 'Stores/useDBotStore';\n\nconst DBotProviders = ({ children, store, WS }: React.PropsWithChildren<{ store: TStores; WS: TWebSocket }>) => {\n    return (\n        <StoreProvider store={store}>\n            <DBotStoreProvider ws={WS}>{children}</DBotStoreProvider>\n        </StoreProvider>\n    );\n};\n\nexport default DBotProviders;\n","import React from 'react';\nimport { TStores } from '@deriv/stores/types';\nimport type { TWebSocket } from 'Types';\nimport { setInnerHeightToVariable } from '../utils/window-size';\nimport AppContent from './app-content';\nimport DBotProviders from './dbot-providers';\n\ntype TAppProps = {\n    passthrough: {\n        WS: TWebSocket;\n        root_store: TStores;\n    };\n};\n\nconst App = ({ passthrough }: TAppProps) => {\n    const { root_store, WS } = passthrough;\n    React.useEffect(() => {\n        setInnerHeightToVariable();\n    }, []);\n\n    return (\n        <DBotProviders store={root_store} WS={WS}>\n            <AppContent />\n        </DBotProviders>\n    );\n};\n\nexport default App;\n","export const getMainContentHeight = () => {\n    return getComputedStyle(document.getElementsByClassName('bot')[0]).getPropertyValue('--bot-content-height');\n};\n\nexport const getMainContentWidth = () => {\n    return getComputedStyle(document.getElementsByClassName('bot')[0]).getPropertyValue('--bot-content-width');\n};\n\nexport const setMainContentWidth = is_run_panel_open => {\n    const width = is_run_panel_open ? 'calc(100vw - 366px)' : 'calc(100vw - 16px)';\n    return document.getElementsByClassName('bot')[0].style.setProperty('--bot-content-width', width);\n};\n\nexport const setInnerHeightToVariable = () => {\n    // Setting the inner height of the document to the --vh variable to fix the issue\n    // of dynamic view height(vh) on mobile browsers for few scrollable components\n    const vh = window.innerHeight;\n    document.body.style.setProperty('--vh', `${vh}px`);\n};\n","var map = {\n\t\"./af\": 95191,\n\t\"./af.js\": 95191,\n\t\"./ar\": 54358,\n\t\"./ar-dz\": 71727,\n\t\"./ar-dz.js\": 71727,\n\t\"./ar-kw\": 98279,\n\t\"./ar-kw.js\": 98279,\n\t\"./ar-ly\": 87895,\n\t\"./ar-ly.js\": 87895,\n\t\"./ar-ma\": 11987,\n\t\"./ar-ma.js\": 11987,\n\t\"./ar-sa\": 52796,\n\t\"./ar-sa.js\": 52796,\n\t\"./ar-tn\": 12386,\n\t\"./ar-tn.js\": 12386,\n\t\"./ar.js\": 54358,\n\t\"./az\": 57452,\n\t\"./az.js\": 57452,\n\t\"./be\": 79053,\n\t\"./be.js\": 79053,\n\t\"./bg\": 65428,\n\t\"./bg.js\": 65428,\n\t\"./bm\": 21569,\n\t\"./bm.js\": 21569,\n\t\"./bn\": 56212,\n\t\"./bn-bd\": 24635,\n\t\"./bn-bd.js\": 24635,\n\t\"./bn.js\": 56212,\n\t\"./bo\": 13667,\n\t\"./bo.js\": 13667,\n\t\"./br\": 192,\n\t\"./br.js\": 192,\n\t\"./bs\": 51802,\n\t\"./bs.js\": 51802,\n\t\"./ca\": 19118,\n\t\"./ca.js\": 19118,\n\t\"./cs\": 39990,\n\t\"./cs.js\": 39990,\n\t\"./cv\": 30557,\n\t\"./cv.js\": 30557,\n\t\"./cy\": 4227,\n\t\"./cy.js\": 4227,\n\t\"./da\": 95406,\n\t\"./da.js\": 95406,\n\t\"./de\": 87994,\n\t\"./de-at\": 44139,\n\t\"./de-at.js\": 44139,\n\t\"./de-ch\": 86591,\n\t\"./de-ch.js\": 86591,\n\t\"./de.js\": 87994,\n\t\"./dv\": 94649,\n\t\"./dv.js\": 94649,\n\t\"./el\": 14453,\n\t\"./el.js\": 14453,\n\t\"./en-au\": 48428,\n\t\"./en-au.js\": 48428,\n\t\"./en-ca\": 36972,\n\t\"./en-ca.js\": 36972,\n\t\"./en-gb\": 13224,\n\t\"./en-gb.js\": 13224,\n\t\"./en-ie\": 18843,\n\t\"./en-ie.js\": 18843,\n\t\"./en-il\": 32732,\n\t\"./en-il.js\": 32732,\n\t\"./en-in\": 76579,\n\t\"./en-in.js\": 76579,\n\t\"./en-nz\": 29851,\n\t\"./en-nz.js\": 29851,\n\t\"./en-sg\": 70442,\n\t\"./en-sg.js\": 70442,\n\t\"./eo\": 10654,\n\t\"./eo.js\": 10654,\n\t\"./es\": 63621,\n\t\"./es-do\": 68791,\n\t\"./es-do.js\": 68791,\n\t\"./es-mx\": 67278,\n\t\"./es-mx.js\": 67278,\n\t\"./es-us\": 60717,\n\t\"./es-us.js\": 60717,\n\t\"./es.js\": 63621,\n\t\"./et\": 72404,\n\t\"./et.js\": 72404,\n\t\"./eu\": 62944,\n\t\"./eu.js\": 62944,\n\t\"./fa\": 30496,\n\t\"./fa.js\": 30496,\n\t\"./fi\": 98137,\n\t\"./fi.js\": 98137,\n\t\"./fil\": 32872,\n\t\"./fil.js\": 32872,\n\t\"./fo\": 6545,\n\t\"./fo.js\": 6545,\n\t\"./fr\": 49090,\n\t\"./fr-ca\": 13049,\n\t\"./fr-ca.js\": 13049,\n\t\"./fr-ch\": 12338,\n\t\"./fr-ch.js\": 12338,\n\t\"./fr.js\": 49090,\n\t\"./fy\": 95088,\n\t\"./fy.js\": 95088,\n\t\"./ga\": 77812,\n\t\"./ga.js\": 77812,\n\t\"./gd\": 8374,\n\t\"./gd.js\": 8374,\n\t\"./gl\": 63649,\n\t\"./gl.js\": 63649,\n\t\"./gom-deva\": 52674,\n\t\"./gom-deva.js\": 52674,\n\t\"./gom-latn\": 44948,\n\t\"./gom-latn.js\": 44948,\n\t\"./gu\": 24033,\n\t\"./gu.js\": 24033,\n\t\"./he\": 10175,\n\t\"./he.js\": 10175,\n\t\"./hi\": 58055,\n\t\"./hi.js\": 58055,\n\t\"./hr\": 41678,\n\t\"./hr.js\": 41678,\n\t\"./hu\": 85111,\n\t\"./hu.js\": 85111,\n\t\"./hy-am\": 26530,\n\t\"./hy-am.js\": 26530,\n\t\"./id\": 19126,\n\t\"./id.js\": 19126,\n\t\"./is\": 11696,\n\t\"./is.js\": 11696,\n\t\"./it\": 98710,\n\t\"./it-ch\": 38821,\n\t\"./it-ch.js\": 38821,\n\t\"./it.js\": 98710,\n\t\"./ja\": 93974,\n\t\"./ja.js\": 93974,\n\t\"./jv\": 70648,\n\t\"./jv.js\": 70648,\n\t\"./ka\": 54731,\n\t\"./ka.js\": 54731,\n\t\"./kk\": 43501,\n\t\"./kk.js\": 43501,\n\t\"./km\": 84398,\n\t\"./km.js\": 84398,\n\t\"./kn\": 91825,\n\t\"./kn.js\": 91825,\n\t\"./ko\": 13729,\n\t\"./ko.js\": 13729,\n\t\"./ku\": 19670,\n\t\"./ku.js\": 19670,\n\t\"./ky\": 78797,\n\t\"./ky.js\": 78797,\n\t\"./lb\": 50627,\n\t\"./lb.js\": 50627,\n\t\"./lo\": 65859,\n\t\"./lo.js\": 65859,\n\t\"./lt\": 80355,\n\t\"./lt.js\": 80355,\n\t\"./lv\": 16594,\n\t\"./lv.js\": 16594,\n\t\"./me\": 45324,\n\t\"./me.js\": 45324,\n\t\"./mi\": 11689,\n\t\"./mi.js\": 11689,\n\t\"./mk\": 61308,\n\t\"./mk.js\": 61308,\n\t\"./ml\": 85241,\n\t\"./ml.js\": 85241,\n\t\"./mn\": 76320,\n\t\"./mn.js\": 76320,\n\t\"./mr\": 96771,\n\t\"./mr.js\": 96771,\n\t\"./ms\": 20503,\n\t\"./ms-my\": 77748,\n\t\"./ms-my.js\": 77748,\n\t\"./ms.js\": 20503,\n\t\"./mt\": 55534,\n\t\"./mt.js\": 55534,\n\t\"./my\": 62727,\n\t\"./my.js\": 62727,\n\t\"./nb\": 7550,\n\t\"./nb.js\": 7550,\n\t\"./ne\": 49899,\n\t\"./ne.js\": 49899,\n\t\"./nl\": 41228,\n\t\"./nl-be\": 31225,\n\t\"./nl-be.js\": 31225,\n\t\"./nl.js\": 41228,\n\t\"./nn\": 97130,\n\t\"./nn.js\": 97130,\n\t\"./oc-lnc\": 93130,\n\t\"./oc-lnc.js\": 93130,\n\t\"./pa-in\": 91282,\n\t\"./pa-in.js\": 91282,\n\t\"./pl\": 28190,\n\t\"./pl.js\": 28190,\n\t\"./pt\": 41549,\n\t\"./pt-br\": 78135,\n\t\"./pt-br.js\": 78135,\n\t\"./pt.js\": 41549,\n\t\"./ro\": 307,\n\t\"./ro.js\": 307,\n\t\"./ru\": 89272,\n\t\"./ru.js\": 89272,\n\t\"./sd\": 79248,\n\t\"./sd.js\": 79248,\n\t\"./se\": 74969,\n\t\"./se.js\": 74969,\n\t\"./si\": 65522,\n\t\"./si.js\": 65522,\n\t\"./sk\": 61581,\n\t\"./sk.js\": 61581,\n\t\"./sl\": 56428,\n\t\"./sl.js\": 56428,\n\t\"./sq\": 34611,\n\t\"./sq.js\": 34611,\n\t\"./sr\": 19821,\n\t\"./sr-cyrl\": 20185,\n\t\"./sr-cyrl.js\": 20185,\n\t\"./sr.js\": 19821,\n\t\"./ss\": 35029,\n\t\"./ss.js\": 35029,\n\t\"./sv\": 80939,\n\t\"./sv.js\": 80939,\n\t\"./sw\": 73107,\n\t\"./sw.js\": 73107,\n\t\"./ta\": 72304,\n\t\"./ta.js\": 72304,\n\t\"./te\": 72550,\n\t\"./te.js\": 72550,\n\t\"./tet\": 99717,\n\t\"./tet.js\": 99717,\n\t\"./tg\": 87669,\n\t\"./tg.js\": 87669,\n\t\"./th\": 94959,\n\t\"./th.js\": 94959,\n\t\"./tk\": 92661,\n\t\"./tk.js\": 92661,\n\t\"./tl-ph\": 52234,\n\t\"./tl-ph.js\": 52234,\n\t\"./tlh\": 94120,\n\t\"./tlh.js\": 94120,\n\t\"./tr\": 81111,\n\t\"./tr.js\": 81111,\n\t\"./tzl\": 53080,\n\t\"./tzl.js\": 53080,\n\t\"./tzm\": 88246,\n\t\"./tzm-latn\": 25385,\n\t\"./tzm-latn.js\": 25385,\n\t\"./tzm.js\": 88246,\n\t\"./ug-cn\": 48777,\n\t\"./ug-cn.js\": 48777,\n\t\"./uk\": 2014,\n\t\"./uk.js\": 2014,\n\t\"./ur\": 45953,\n\t\"./ur.js\": 45953,\n\t\"./uz\": 89716,\n\t\"./uz-latn\": 87791,\n\t\"./uz-latn.js\": 87791,\n\t\"./uz.js\": 89716,\n\t\"./vi\": 99816,\n\t\"./vi.js\": 99816,\n\t\"./x-pseudo\": 94450,\n\t\"./x-pseudo.js\": 94450,\n\t\"./yo\": 22556,\n\t\"./yo.js\": 22556,\n\t\"./zh-cn\": 7414,\n\t\"./zh-cn.js\": 7414,\n\t\"./zh-hk\": 50824,\n\t\"./zh-hk.js\": 50824,\n\t\"./zh-mo\": 88589,\n\t\"./zh-mo.js\": 88589,\n\t\"./zh-tw\": 63285,\n\t\"./zh-tw.js\": 63285\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 96616;","var map = {\n\t\"./1_3_2_6.xml\": [\n\t\t298,\n\t\t217\n\t],\n\t\"./dalembert.xml\": [\n\t\t29022,\n\t\t406\n\t],\n\t\"./dalembert_max-stake.xml\": [\n\t\t41960,\n\t\t917\n\t],\n\t\"./martingale.xml\": [\n\t\t41732,\n\t\t101\n\t],\n\t\"./martingale_max-stake.xml\": [\n\t\t62387,\n\t\t784\n\t],\n\t\"./oscars_grind.xml\": [\n\t\t86373,\n\t\t113\n\t],\n\t\"./oscars_grind_max-stake.xml\": [\n\t\t36065,\n\t\t688\n\t],\n\t\"./reverse_dalembert.xml\": [\n\t\t40010,\n\t\t172\n\t],\n\t\"./reverse_martingale.xml\": [\n\t\t91688,\n\t\t54\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 27328;\nmodule.exports = webpackAsyncContext;"],"names":["common_store","clock_started","pending","NetworkMonitor","apiInstance","parentElement","this","api","addEvents","navigator","window","addEventListener","setStatus","onLine","setInterval","html","send","ping","then","PendingPromise","init","store","resolve","server_time","get","clone","undefined","timePromise","Promise","promise","CRYPTO_CURRENCIES","config","lists","PAYOUTTYPE","localize","DETAILS","CHECK_RESULT","CHECK_DIRECTION","BALANCE_TYPE","NOTIFICATION_TYPE","NOTIFICATION_SOUND","CURRENCY","opposites","MULTIPLIER","MULTUP","MULTDOWN","CALLPUT","CALL","PUT","CALLPUTEQUAL","CALLE","PUTE","HIGHERLOWER","TOUCHNOTOUCH","ONETOUCH","NOTOUCH","ENDSINOUT","EXPIRYRANGE","EXPIRYMISS","STAYSINOUT","RANGE","UPORDOWN","ASIANS","ASIANU","ASIAND","MATCHESDIFFERS","DIGITMATCH","DIGITDIFF","EVENODD","DIGITEVEN","DIGITODD","OVERUNDER","DIGITOVER","DIGITUNDER","HIGHLOWTICKS","TICKHIGH","TICKLOW","RESET","RESETCALL","RESETPUT","RUNS","RUNHIGH","RUNLOW","CALLPUTSPREAD","CALLSPREAD","PUTSPREAD","BARRIER_TYPES","ohlcFields","candleIntervals","mainBlocks","mandatoryMainBlocks","procedureDefinitionBlocks","single_instance_blocks","TRADE_TYPE_TO_CONTRACT_CATEGORY_MAPPING","callput","asian","digits","TRADE_TYPE_CATEGORIES","multiplier","touchnotouch","inout","reset","callputspread","highlowticks","runs","TRADE_TYPE_CATEGORY_NAMES","BARRIER_CATEGORIES","euro_atm","euro_non_atm","american","non_financial","lookback","DEFAULT_DURATION_DROPDOWN_OPTIONS","BARRIER_LABELS","ABSOLUTE_BARRIER_DROPDOWN_OPTION","NOT_AVAILABLE_DROPDOWN_OPTIONS","NOT_AVAILABLE_DURATIONS","display","unit","min","BARRIER_TRADE_TYPES","PREDICTION_TRADE_TYPES","DIGIT_CATEGORIES","INDEPEDENT_BLOCKS","bbResult","macdFields","gd","scope","discovery_docs","workspaces","flyoutWorkspacesStartScale","mainWorkspaceStartScale","previewWorkspaceStartScale","strategies","martingale","index","label","description","dalembert","oscars_grind","default_file_name","DISABLED_SYMBOLS","DISABLED_SUBMARKETS","QUICK_STRATEGY","DISABLED","SYMBOLS","SUBMARKETS","DEFAULT","symbol","tradetype","durationtype","size","prediction","unrecoverable_errors","message_types","Object","freeze","ERROR","NOTIFY","SUCCESS","error_types","RECOVERABLE_ERRORS","UNRECOVERABLE_ERRORS","log_types","LOAD_BLOCK","PURCHASE","SELL","NOT_OFFERED","PROFIT","LOST","WELCOME_BACK","WELCOME","save_types","UNSAVED","LOCAL","GOOGLE_DRIVE","require","goog","Blockly","JavaScript","defineContract","blueInfo","purchase","sellContract","finishSign","plusIconDark","plusIconLight","minusIconDark","Blocks","procedures_defnoreturn","arguments","argument_var_models","jsonInit","definition","getField","setValidator","Procedures","rename","fieldImage","FieldImage","onAddClick","appendDummyInput","appendField","setStatements","message0","function_name","function_params","args0","type","name","text","colour","Colours","Special2","colourSecondary","colourTertiary","tooltip","category","Categories","Functions","meta","display_name","onchange","event","allowedEvents","Events","BLOCK_DELETE","BLOCK_CREATE","BLOCK_CHANGE","workspace","isFlyout","includes","blockId","id","getProcedureCallers","forEach","block","setFieldValue","newValue","options","readOnly","isInFlyout","setTimeout","promptMessage","prompt","paramName","variable","Variables","getOrCreateVariablePackage","push","setText","join","setProcedureParameters","initSvg","render","hasStatements","appendStatementInput","getInput","moveInputBefore","removeInput","updateParams","paramString","length","disable","enable","mutationToDom","optParamIds","container","document","createElement","setAttribute","getFieldValue","arg","i","parameter","getId","paramIds","appendChild","domToMutation","xmlElement","childNodes","childNode","nodeName","toLowerCase","var_name","getAttribute","var_id","console","log","getProcedureDef","getAllBlocks","filter","callType","data","getVars","getVarModels","customContextMenu","option","enabled","replace","xmlMutation","argumentName","xmlArg","xmlBlock","callback","ContextMenu","callbackFactory","isCollapsed","argumentVarModel","getOption","xmlField","generateVariableFieldDom","xmlOptionBlock","functionName","variableDB_","getName","NAME_TYPE","branch","statementToCode","STATEMENT_PREFIX","prefixLines","INDENT","INFINITE_LOOP_TRAP","returnValue","valueToCode","ORDER_NONE","args","map","code","scrub_","definitions_","procedures_defreturn","dummy","message1","args1","check","align","ALIGN_RIGHT","renameVarById","displayRenamedVar","registerWorkspaceListener","procedures_callnoreturn","previousDisabledState","previousStatement","nextStatement","recordUndo","ids","indexOf","getProcedureCall","def","getDefinition","defType","JSON","stringify","setGroup","group","xml","xy","getRelativeToSurfaceXY","x","SNAP_RADIUS","RTL","y","mutation","field","createTextNode","Xml","domToWorkspace","procedure_definition","dispose","element","oldGroup","getGroup","disabled","setDisabled","getProcedureDefinition","getTopBlocks","find","tuple","Names","equals","renameProcedure","oldName","newName","paramNames","concat","updateShape","setValue","FieldLabel","appendValueInput","topRow","removeField","centerOnBlock","select","ORDER_COMMA","procedures_callreturn","output","outputShape","OUTPUT_SHAPE_ROUND","ORDER_FUNCTION_CALL","procedures_ifreturn","hasReturnValue","condition","value","Number","isDragging","legal","FUNCTION_TYPES","getSurroundParent","rerender","getInheritedDisabled","lists_create_with","protected_statements","allowed_children","field_image","onIconClick","bind","Base","List","runGroupedEvents","statement_block","newBlock","required_parent_id","setMovable","getLastConnectionInStatement","connect","previousConnection","END_DRAG","getBlocksInStatement","runIrreversibleEvents","unplug","elements","b","Array","isArray","lists_repeat","input_item","number","getRequiredValueInputs","ITEM","emptyTextValidator","NUM","provideFunction_","FUNCTION_NAME_PLACEHOLDER_","repeat_count","lists_length","input_list","VALUE","list","ORDER_MEMBER","lists_isEmpty","getAllVariables","findIndex","ORDER_LOGICAL_NOT","lists_indexOf","first_or_last","input_value","FIND","operator","item","oneBasedIndex","ORDER_ADDITION","lists_getIndex","MODE_OPTIONS","WHERE_OPTIONS","modeMenu","FieldDropdown","isStatement","updateStatement","setCheck","setColourFromRawValues_","setTooltip","setOutput","setOutputShape","updateAt","outputConnection","isAt","INPUT_VALUE","newStatement","setPreviousStatement","setNextStatement","menu","newAt","order","mode","where","listOrder","at","getAdjusted","lists_setIndex","ORDER_ASSIGNMENT","cacheList","match","listVar","getDistinctName","ORDER_SUBTRACTION","xVar","lists_getSublist","WHERE_OPTIONS_1","WHERE_OPTIONS_2","isAt1","isAt2","n","at1","at2","where1","where2","where_pascal_case","FROM_START","FROM_END","FIRST","LAST","getIndex","list_name","opt_at","has_at1","has_at2","lists_split","dropdown","newMode","updateType","delimInput","spaceField","insertFieldAt","input","delimiter","lists_sort","sort_type","sort_direction","LIST","direction","getCompareFunctionName","lists_statement","required_parent_type","surround_parent","original_parent","last_connection","ORDER_ATOMIC","controls_repeat_ext","Loop","TIMES","repeats","String","loopVar","endVar","isNumber","controls_repeat","precision","controls_whileUntil","while_or_until","boolean","BOOL","until","argument0","maxLoopVar","currentLoopVar","controls_for","start_number","end_number","step_size","FROM","TO","BY","variable0","argument1","increment","addLoopTrap","up","parseFloat","step","Math","abs","assignment","statement","startVar","incVar","incVal","controls_forEach","indexVar","controls_flow_statements","break_or_continue","keyword","variables_get","VAR_RENAME","function_blocks","category_","old_param","new_param","param_index","variables_set","varName","after_purchase","src","width","height","alt","class","RootBlock","After_Purchase","stack","contract_check_result","win_or_loss","top_parent","getTopParent","isMainBlock","checkWith","read_details","contract_detail","restricted_parents","detailIndex","trade_again","Special1","key_words","before_purchase","setDeletable","Before_Purchase","contract_type","populatePurchaseList","menuGenerator_","trade_definition_block","getTradeDefinitionBlock","trade_type","getChildByType","purchase_type_list","purchase_type","getValue","contract_type_options","getContractTypeOptions","updateOptions","default_value","event_group","should_pretend_empty","purchaseList","ask_price","enforceLimitations","payout","during_purchase","During_Purchase","sell_at_market","check_sell","sell_price","bb_statement","required_child_blocks","band_type","Indicators","bb_result","childValueToCode","period","std_dev_up","std_dev_down","bba_statement","ema_statement","emaa_statement","rsi_statement","rsia_statement","sma_statement","smaa_statement","macda_statement","macd_field","fast_ema_period","slow_ema_period","signal_ema_period","setParentId","allowed_parents","has_parent","is_illegal_parent","parent_block","INPUT_LIST","input_period","PERIOD","std_dev_multiplier_up","input_number","UPMULTIPLIER","std_dev_multiplier_down","DOWNMULTIPLIER","FAST_EMA_PERIOD","SLOW_EMA_PERIOD","SIGNAL_EMA_PERIOD","tick","Tick_Analysis","tick_string","parent","getParent","ticks","ticks_string","ohlc","candle_interval_type","selectedGranularity","ohlc_values","candle_property","granularity","ohlcField","read_ohlc","CANDLEINDEX","get_ohlc","check_direction","direction_type","tick_analysis","last_digit","lastDigitList","is_candle_black","input_candle","Candle","OHLCOBJ","ohlcObj","ohlc_values_in_list","candle_list","OHLCLIST","ohlcList","read_ohlc_obj","balance","Miscellaneous","balanceType","barrier_offset","block_holder","loader","blocks_added_by_me","current_url","input_url","loader_block","loadBlocksFromCurrentUrl","oldValue","isValidUrl","isKnownUrl","loadBlocksFromRemote","globalObserver","log_type","error_msg","url","some","notify","notification_type","notification_sound","input_message","Special3","MESSAGE","notificationType","sound","message_block","getInputTargetBlock","variable_name","variable_id","derivWorkspace","getVariableById","message","notify_telegram","input_access_token","input_chat_id","TELEGRAM_ACCESS_TOKEN","TELEGRAM_CHAT_ID","TELEGRAM_MESSAGE","access_token","chat_id","total_profit","getRootInputTargetBlock","total_profit_string","total_runs","useless_block","message_type","console_type","epoch","Time","timeout","stack_input","SECONDS","seconds","todatetime","input_timestamp","TIMESTAMP","timestamp","invalid_timestamp","totimestamp","input_datetime","DATETIME","datetime_string","trade_definition","isInit","message2","message3","message4","message5","args2","args3","args4","args5","Trade_Definition","selected","removeErrorHandlingEventListener","initErrorHandlingListener","blocks_in_trade_options","test","client","DBotStore","is_logged_in","Error","loginid","account","getToken","market_block","trade_type_block","contract_type_block","candle_interval_block","restart_on_error_block","restart_on_buy_sell_block","candle_interval","should_restart_on_error","should_restart_on_buy_sell","contract_type_list","toUpperCase","opposite","keys","initialization","trade_options_statement","trim","trade_definition_market","input_market","input_submarket","input_symbol","is_allowed_event","event_name","active_symbols","ApiHelpers","market_dropdown","submarket_dropdown","symbol_dropdown","market","submarket","market_options","getMarketDropdownOptions","populateMarketDropdown","getSubmarketDropdownOptions","getSymbolDropdownOptions","getRootBlock","isEmpty","isDescendantOf","trade_definition_tradetype","trade_type_category","trade_definition_contracttype","is_load_event","trade_types","trade_definition_candleinterval","trade_definition_restartbuysell","checkbox","checked","required_inputs","trade_definition_restartonerror","trade_definition_tradeoptions","durations","is_stake","duration_unit","duration_value","getCurrencyDisplayCode","selected_block","getBlockById","parentBlock_","inputList","input_target","connection","targetBlock","startsWith","new_value","parseInt","toString","selected_symbol","selected_market","selected_trade_type_category","selected_trade_type","selected_duration","selected_barrier_types","setCurrency","updateAmountLimits","updateBarrierInputs","updateDurationInput","updatePredictionInput","enforceSingleBarrierType","fake_creation_event","Create","fire","createPredictionInput","prediction_range","prediction_input","shadow_block","setShadow","createBarrierInputs","barriers","input_names","values","fieldRow","account_limits","currency","landing_company_shortcode","getStakePayoutLimits","limits","amount_limits","max_payout","min_stake","should_use_default_unit","should_update_value","contracts_for","multiplier_block","parent_connection","child_connection","stake_input","stake_shadow_block","take_profit_block","take_profit_input","take_profit_shadow_block","stop_loss_block","stop_loss_input","stop_loss_shadow_block","cleanUp","getDurations","duration_field_dropdown","duration_input","duration_options","duration","target_block","isShadow","min_duration","should_use_default_type","should_use_default_values","getBarriers","barrier_field_dropdown","barrier_field_value","allow_both_types","allow_absolute_type","barrier_value","should_use_default_value","getPredictionRange","initial_prediction","max","barrier_input_name","should_force_distinct","other_barrier_input_name","other_barrier_field","has_other_barrier","other_barrier_type","other_barrier_value","has_first_barrier","has_second_barrier","has_prediction","currency_field","AMOUNT","error_message","isNaN","DURATION","d","is_valid_duration","trade_definition_tradeoptions_payout","prediction_value","barrier_offset_value","second_barrier_offset_value","amount","duration_type","decimal_places","getDecimalPlaces","stake_amount","getBarrierValue","barrier_offset_type","trade_definition_multiplier","validateBlocksInStatement","blocks_in_multiplier","block_types_in_multiplier","block_multiplier_take_profit","block_multiplier_stop_loss","Set","selected_multiplier","updateMultiplierInput","duration_block","duration_shadow_block","getMultiplierRange","multiplier_range","multiplier_list_dropdown","multiplier_options","setContractUpdateConfig","multiplier_value","stop_loss","take_profit","limit_order","multiplier_stop_loss","multiplier_take_profit","logic_compare","Logic","A","B","EQ","NEQ","LT","LTE","GT","GTE","ORDER_EQUALITY","ORDER_RELATIONAL","controls_if","value_connections","statement_connections","else_statement_connection","else_if_count","else_count","rebuildShape","targetConnection","getIfInputNames","if_input","IF","do_input","DO","reconnectChildBlocks","update","updateFn","old_mutation_dom","old_mutation","domToText","is_rendered","rendered","call","new_mutation_dom","new_mutation","change_event","BlockChange","bumpNeighbours_","BUMP_DELAY","IF_LABEL","THEN_LABEL","DELETE_ICON","j","modifyElseIf","modifyElse","storeConnections","else_input","opt_value_conns","opt_statement_conns","opt_else_statement_conns","value_connection","statement_connection","Mutator","reconnect","is_add","opt_idx","idx","logic_boolean","logic_operation","selectedOperator","ORDER_LOGICAL_AND","ORDER_LOGICAL_OR","logic_null","logic_ternary","return_value","THEN","ELSE","valueIf","ORDER_CONDITIONAL","valueThen","valueElse","logic_negate","math_change","Mathematical","DELTA","math_constant","constant","ORDER_DIVISION","math_constrain","low_number","high_number","LOW","HIGH","argument2","math_modulo","number1","number2","DIVIDEND","DIVISOR","ORDER_MODULUS","math_number","numberValidator","MAX_SAFE_INTEGER","math_number_positive","math_number_property","setOnChange","hasDivisorInput","toolip","divisorInput","inputExists","NUMBER_TO_CHECK","property","divisor","math_on_list","calculation","type_list","childBlocks_","operation","math_random_float","math_random_int","math_round","math_arithmetic","ADD","MINUS","MULTIPLY","ORDER_MULTIPLICATION","DIVIDE","POWER","math_single","ORDER_UNARY_NEGATION","math_trig","Text","quote_","text_join","text_block","text_statement","stack_blocks","getMainWorkspace","text_append","input_text","TEXT","forceString","text_length","text_isEmpty","text_indexOf","input_text1","input_text2","cateogry","substring","text_charAt","AT","textOrder","text_getSubstring","position1","index1","position2","index2","is_at","old_label_text","text_","new_input","new_at","hasInput","input_name","STRING","AT1","AT2","string_name","text_changeCase","transform_type","UPPERCASE","LOWERCASE","TITLECASE","text_trim","side","LEFT","RIGHT","BOTH","text_print","msg","text_prompt_ext","string_or_number","is_mobile","is_dark_mode_on","dashboard","flyout","toolbar","toolbox","save_modal","load_modal","toggleStrategyModal","handleFileChange","setLoading","reaction","api_base","singleton","instance","parseOhlc","open","high","low","close","open_time","getType","isCandle","TicksService","forget","subscription_id","reject","Map","candles","tickListeners","ohlcListeners","subscriptions","ticks_history_promise","active_symbols_promise","candles_promise","observe","pipSizes","style","has","hasIn","getIn","requestStream","res","e","key","getUUID","request","setIn","deleteIn","unsubscribeIfEmptyListeners","needToUnsubscribe","tickListener","ohlcListener","unsubscribeAllAndSubscribeListeners","ohlcSubscriptions","subscription","from","all","doUntilDone","set","listeners","address","subscribe","newTick","msg_type","updateTicksAndCallListeners","quote","parseTick","getLast","slice","updateCandlesAndCallListeners","lastCandle","prevCandles","updateCandles","stringified_options","requestPipSizes","requestTicks","request_object","ticks_history","end","count","r","historyToTicks","history","t","parseCandles","parse","createScope","observer","Observer","ticksService","stopped","isPositiveNumber","num","isFinite","isPositiveInteger","isInteger","expectInitArg","token","createError","contractTypes","expectOptions","candle","every","expectCandle","takeField","arr","takeLast","mean","reduce","a","simpleMovingAverage","periods","acc","sum","simpleMovingAverageArray","pipSize","sequence","toFixed","bollingerBands","stdDevUp","stdDevDown","vals","middle","std_dev","data_mean","sq_diff","pow","avg_sq_diff","sqrt","stddev","upper","lower","bollingerBandsArray","exponentialMovingAverage","init_val","weighting_multiplier","mean_val","prev","exponentialMovingAverageArray","paddingLeft","fill","macdArray","fastEmaPeriod","slowEmaPeriod","signalEmaPeriod","fast_ema_array","slow_ema_array","macd_calc_array","signal_ema_array","calcGain","q1","q2","calcLoss","calcFirstAvgDiff","comp","q","diff","calcSecondAvgDiff","init_avg","relativeStrengthIndex","memoized_diff","rest_seq","init_avg_gain","init_avg_loss","gain","loss","avg_gain","avg_loss","relativeStrengthIndexArray","decorate","f","tradeEngine","getPipSize","dateTimeStringToTimestamp","invalid_msg","validated_datetime","date_time","split","date_obj","Date","getTime","isCandleBlack","candleValues","c","expectCandles","o","candleField","notifyTelegram","onError","fetch","method","headers","body","response","ok","getTotalRuns","getBalance","getTotalProfit","tradeOptions","getMiscInterface","sma","smaa","ema","emaa","rsi","rsia","bb","bba","macda","getIndicatorsInterface","highlightBlock","block_id","highlightExecutedBlock","getLastTick","getLastDigit","getTicks","checkDirection","getOhlcFromEnd","getOhlc","getLastDigitList","getProposal","proposals","proposal","purchase_reference","getPurchaseReference","balance_string","BEFORE_PURCHASE","DURING_PURCHASE","PROPOSALS_READY","CLEAR_PROPOSALS","PURCHASE_SUCCESSFUL","OPEN_CONTRACT","START","STOP","NEW_TICK","dispatchIfScopeIs","dispatch","getState","proposalsReady","constants","dispatchIfBeforePurchaseReady","dispatchIfScopeIsBeforePurchase","delayIndex","initialState","state","action","openContract","payload","tickListenerKey","skeleton","totalProfit","totalWins","totalLosses","totalStake","totalPayout","totalRuns","globalStat","prevTick","watchScope","stopScope","passScope","passFlag","unsubscribe","newState","TradeEngine","$scope","contract","createStore","rootReducer","applyMiddleware","thunk","initArgs","startPromise","loginAndGetBalance","checkTicksPromiseExists","watchTicks","validated_trade_options","validateTradeOptions","checkLimits","makeDirectPurchaseDecision","accountInfo","transaction","transaction_recovery_timeout","is_same_contract","contract_id","is_open_contract","status","proposal_open_contract","observeOpenContract","observeBalance","observeProposals","watchName","watchDuring","checkBlocksForProposalRequest","has_payout_block","is_basis_payout","is_proposal_subscription_required","makeProposals","checkProposalReady","Engine","getFormattedText","info","accountID","Balance","regeneratePurchaseReference","onSuccess","buy","contractStatus","transaction_id","contractId","renewProposalsOnPurchase","longcode","updateAndReturnTotalRuns","transaction_ids","buy_price","selectProposal","askPrice","price","isSold","timeMachineEnabled","recoverFromError","errorCode","makeDelay","clearProposals","emit","trade_option","tradeOptionToBuy","Purchase","isSellAvailable","isExpired","isSellAtMarketAvailable","delay_index","onContractSold","sell_response","sold_for","sell","waitForAfter","sellContractAndGetContractInfo","error","sell_error","proposal_open_contract_response","errors_to_ignore","error_code","Sell","expectedContractId","setContractFlags","broadcastContract","clearTimeout","updateTotals","afterPromise","is_expired","is_valid_to_sell","is_sold","entry_tick","Boolean","hasEntryTick","bidPrice","bid_price","buyPrice","getRoundedNumber","OpenContract","isNewTradeOption","proposal_templates","tradeOptionToProposal","to_buy","requestProposals","has_informed_error","echo_req","passthrough","p","template","Proposal","stopMonitor","monitor","ticks_list","raw","last_tick","getLastDigitsFromList","dir","getDirection","candleInterval","expectPositiveInteger","sessionRuns","sessionProfit","clearStatistics","sellPrice","profit","win","accountStat","getAccountStat","tradeOption","limitations","maxLoss","maxTrades","sleep","getInterface","getDetail","createDetails","start","stop","getAskPrice","getPayout","sellAtMarket","getSellPrice","isResult","result","isTradeAgain","readDetails","getBotInterface","getToolsInterface","getTicksInterface","watch","alert","toLocaleTimeString","JSInterpreter","cloneThorough","stateStack","snapshot","global","object","initFunc_","botInitialized","bot","shouldRestartOnError","errorName","onFinish","Interface","interpreter","revert","restoreStateSnapshot","paused_","loop","run","pseudoToNative","createAsync","js_interpreter","func","asyncFunc","pop","reversed_args","reverse","first_defined_arg_idx","function_args","rv","nativeToPseudo","defineProperty","MAX_ACCEPTABLE_FUNC_ARGS","createAsyncFunction","initFunc","bot_interface","custom_console","ticks_interface","setProperty","pseudo_bot_interface","entries","startState","takeStateSnapshot","beforeState","duringState","global_timeouts","is_timeouts_cancellable","is_cancellable","terminateSession","is_error_triggered","isMultiplierContract","unsubscribeFromTicksService","register","shouldStopOnError","botStarted","DBot","terminateConnection","before_run_funcs","is_bot_running","public_path","api_helpers_store","getSavedWorkspaces","recent_files","Interpreter","that","getTradeTypeCategories","categories","category_field","run_button","querySelector","getTradeTypes","__webpack_public_path__","window_width","innerWidth","workspaceScale","getElementById","offsetWidth","el_scratch_div","inject","media","trashcan","zoom","wheel","startScale","scrollbars","cached_xml","main","main_xml","addChangeListener","valueInputLimitationsListener","updateDisabledBlocks","dispatchBlockEventEffects","validateErrorOnBlockDelete","addBeforeRunFunction","unselectBlocks","disableStrayBlocks","checkForErroredBlocks","checkForRequiredBlocks","current_strategy_id","utils","genUid","strategy_to_load","mainWorkspace","file_name","latest_file","now","textToDom","updateBotName","clearUndo","dispatchEvent","Event","handleDragOver","handleDropOver","parentNode","overflow","current_xml_dom","stored_strategy","strategy","stored_strategy_xml","current_xml","compareXml","workspaceToDom","isStrategyUpdated","saveWorkspaceToRecent","generateCode","stopBot","workspaceToCode","unselect","isIndependentBlock","disableBlocksRecursively","nextConnection","sourceBlock_","error_blocks","is_error_highlighted","self","should_animate","block_to_highlight","setErrorHighlighted","blink","isAllRequiredBlocksEnabled","force_check","hideChaff","UI","isChangeInMyInputs","isParentEnabledEvent","unhighlightRecursively","child_blocks","child_block","getChildren","required_inputs_object","should_highlight","is_selected","is_disabled","hasErrorHighlightedDescendant","inputValidatorFn","warn","removeSelect","current_collapsed_block","setCollapsed","notify_blocks","strategy_sounds","selected_sound","value_","stopPropagation","preventDefault","dataTransfer","dropEffect","main_workspace_dom","local_drag_zone","contains","target","effectAllowed","BlockSvg","MIN_BLOCK_X_WITH_STATEMENT","GRID_UNIT","START_HAT_PATH","CORNER_RADIUS","EXTRA_STATEMENT_ROW_Y","EDITABLE_FIELD_PADDING","prototype","updateColour","strokeColour","getColourTertiary","renderShadowed","scratchBlocksUtils","isShadowArgumentReporter","FieldColour","FieldColourSlider","colourPickerStroke","svgPath_","fillColour","getColour","isGlowingBlock_","getShadowColour","getColourSecondary","getOpacity","outlinePath","icons","getIcons","computeOutputPadding_","input_rows","getOutputShape","row","shape","paddingStart","paddingEnd","otherShape","firstInput","inputConnection","getSourceBlock","OUTPUT_SHAPE_HEXAGONAL","deltaHeight","renderHeight","MIN_BLOCK_Y_REPORTER","SHAPE_IN_SHAPE_PADDING","lastInput","Connection","DRAG_RADIUS","FLYOUT_DRAG_RADIUS","Css","CONTENT","dropDownShadow","fieldShadow","motion","tertiary","secondary","primary","optAlt","optOnClick","optFlipRtl","height_","width_","size_","math","Size","flipRtl_","tooltip_","clickHandler_","inherits","Field","fromJson","replaceMessageReferences","flipRtl","EDITABLE","fieldGroup_","createSvgElement","visible_","imageElement_","src_","getSvgRoot","Tooltip","bindMouseEvents","maybeAddClickHandler_","dom","removeNode","mouseDownWrapper_","bindEventWithChecks_","cursor","newTip","setAttributeNS","getFlipRtl","render_","forceRerender","updateWidth","showEditor_","FieldTextInput","notInShadow","className_","maxDisplayLength","superClass_","box_","rx","ry","stroke","insertBefore","textElement_","Gesture","updateIsDraggingFromFlyout_","targetBlock_","flyout_","isScrollable","isDragTowardWorkspace","currentDragDeltaXY_","startWorkspace_","targetWorkspace_","updateScreenCalculationsIfScrolled","startBlock_","createBlock","mostRecentEvent_","Icon","renderIcon","cursorX","collapseHidden","block_","iconGroup_","newCursorX","SIZE","computeIconLocation","SEP_SPACE_X","Block","Dimensions","getDisplayName","block_meta","getSiblings","siblings","getDescendants","child","getChildFieldValue","childType","childField","childBlock","statementInputName","firstBlock","statement_input_name","first_block_in_stack","lastConnectionInStack","isEnabled","parentBlock","nextParent","getDimensions","block_node","existing_dimensions_key","outer_html","outerHTML","Options","el_injection_div","svg","createDom_","createMainWorkspace_","block_hw","domToBlock","getHeightWidth","current_block","current_input","getInputWithBlock","hasHighlightedDescendant","is_self_highlighted","is_descendant_highlighted","isDynamic","block_type","addSelect","setVisibility","addClass","svgGroup_","updateDisabled","disabledPatternId","removeClass","showContextMenu_","contextMenu","menu_options","isDeletable","isMovable","blockDuplicateOption","blockDetachOption","isEditable","comments","blockCommentOption","blockDeleteOption","isShadow_","collapse","collapsed_","expand_option","collapse_option","is_trade_parameter","disable_option","restricted_parent","has_next_block","isConnected","downloadBlock","should_delete_next","block_xml","blockToDom","deleteNext","save","blockEnableOption","blockDisableOption","show","currentBlock","should_be_error_highlighted","highlight_class","highlight_block_class","hasClass","blink_class","collapsed","userAgent","search","getAllFields","render_list","COLLAPSED_INPUT_NAME","setVisible","visibility","icon","ScratchBlockComment","field_class","class_","dropdown_path","pathToMedia","isDarkRgbColour","field_expand_icon","COLLAPSE_CHARS","field_label","setWarningText","asserts","assert","isInsertionMarker","initOutlinePath","createIcon","updateMovable","eventsInit_","onMouseDown_","getCanvas","duplicate_","wsCleanupOption","ws","numTopBlocks","wsCollapseOption","hasExpandedBlocks","topBlocks","toggleCollapseFn_","wsExpandOption","hasCollapsedBlocks","blocks","shouldCollapse","wsDeleteOption","delete_list","WorkspaceSvg","buildDeleteList_","delete_count","shift","currentGesture_","cancel","confirm","comment_option","IE","comment","setCommentText","is_collapsed","canDisconnect","getConnections_","moveBy","checkAreSomeEnabled","enabledArr","checkAreSomeDisabled","disabledArr","enableBlocksRecursively","DataCategory","variableModelList","getVariablesOfType","xmlList","addCreateVariable","generateVariableFieldXmlString","variableModel","string","htmlEscape","firstVariable","gap","setBlockText","setBlock","firstChild","sort","first_variable","second_variable","getBlockText","getBlock","el_button_xml","createDom","el_input_xml","button_text","callback_key","input_placeholder","registerButtonCallback","button","el_input","getTargetWorkspace","createVariable","refreshCategory","dropdown_options","DropDownDiv","isVisible","hideWithoutAnimation","previous_value","has_default_value","runInvisibleEvents","should_trigger_event","arrowSize_","arrowX_","arrowY_","arrow_","disableColourChange_","FieldCheckbox","getAltText","is_checked","old_value","el_field_group","children","child_node","removeChild","Flyout","original_block","main_workspace","variables_before_creation","setResizesEnabled","new_block","placeNewBlock_","new_variables","getAddedVariables","ws_block","new_variable","VarCreate","autoClose","hide","setIsSearchFlyout","old_block","main_offset_pixels","getOriginOffsetInPixels","old_block_pos_pixels","Coordinate","clientX","clientY","final_offset_main_ws","difference","scale","flyoutCategory","nameField","allProcedures","populateDynamicProcedures","populateProcedures","procedureList","templateName","isNameUsed","optExclude","procName","WorkspaceDragger","drag","currentDragDeltaXY","workspace_","metrics","startDragMetrics_","newXY","startScrollXY_","contentLeft","contentTop","viewWidth","contentWidth","viewHeight","contentHeight","updateScroll_","Workspace","wait_events","undoStack_","redoStack_","setHasRedoStack","setHasUndoStack","clearPendingUndo","fireChangeListener","MAX_UNDO","unshift","listeners_","listener","waitForBlockEvent","opt_event_type","event_promise","event_type","isPending","wait_event","is_same_block_type","is_same_event_type","splice","is_ordered","fields","MouseEvent","cachedParentSvg_","constructor","gesture","getGesture","handleWsStart","scrollbar","heightWidth","blockCenterY","blockCenterX","pixelX","pixelY","getMetrics","scrollToBlockX","scrollToBlockY","scrollToCenterX","scrollToCenterY","addBlockNode","getFlyout","top_blocks","last_block","last_block_xy","extra_spacing","startHat_","START_HAT_HEIGHT","svgResize","blocks_to_clean","is_import","root_blocks","blockIndex","main_block_type","blocks_per_column","ceil","original_cursor_y","column_index","cursor_x","cursor_y","fat_neighbour_block","position_x","MIN_BLOCK_X","snapToGrid","MIN_BLOCK_Y","lowest_root_block","getTopLevelWorkspaceMetrics_","toolbox_dimensions","getDimensionsPx_","toolbox_","flyout_dimensions","svg_size","svgSize","getParentSvg","toolboxPosition","TOOLBOX_AT_TOP","TOOLBOX_AT_BOTTOM","TOOLBOX_AT_LEFT","TOOLBOX_AT_RIGHT","content_dimensions","getContentDimensions_","absolute_left","absolute_top","top","left","viewTop","scrollY","viewLeft","scrollX","absoluteTop","absoluteLeft","toolboxWidth","toolboxHeight","flyoutWidth","flyoutHeight","paste","xml_block","tagName","pasteWorkspaceComment_","removeLimitedBlocks","pasteBlock_","all_blocks","wsUndoOption","wsRedoOption","has_collapsed_blocks","has_expanded_blocks","workspaceCommentOption","disposeFn","svgBlockCanvas_","svgBubbleCanvas_","zoomControls_","audioManager_","grid_","toolboxCategoryCallbacks_","flyoutButtonCallbacks_","parentWorkspace","resizeHandlerWrapper_","unbindEvent_","asyncClear","clear","HOVER_MS","show_","params","DIV","poisonedElement_","element_","blocked_","innerHTML","wrap","LIMIT","param","div","text_span","verticalAlign","img","img_span","paddingRight","client_width","documentElement","clientWidth","client_height","clientHeight","visible","last_x","lastX_","OFFSET_X","last_y","lastY_","OFFSET_Y","offsetHeight","MARGINS","showPid_","createVirtualWorkspace_","fragment","blockDragSurface","workspaceDragSurface","zoomOptions","bubble_","setColour","VariableMap","opt_type","opt_id","opt_is_local","opt_is_cloud","getVariable","optional_id","optional_type","VariableModel","variableMap_","allUsedVarModels","variableHash","create","blockVariables","blockVariable","variableList","WorkspaceAudio","preload","NODE_BLOCK","NODE_BUTTON","NODE_LABEL","NODE_SHADOW","NODE_INPUT","saveAs","filename","blob","Blob","filesaver","contract_options","BlockConversion","blocks_pending_reconnect","createWorkspace","workspace_variables","has_market_block","exception_blocks","generateGrowingListBlock","child_value_input_name","block_child_nodes","mutation_dom","items_amount","value_input_name","value_input_index","value_block_node","value_block","convertBlockNode","generateUniqueVariable","variable_block","block_to_attach","statement_blocks","generateIndicatorBlock","value_input_name_mappings","old","new","bb_result_list","macd_fields_list","required_child_block_name","block_in_statement","value_name_mappings","value_name_mapping","el_value","value_input","el_value_child","converted_block","is_symbol_type","block_node_to_use","barrier_inputs","block_child_node","field_name","trade","block_fields","blocks_to_connect","child_block_name","illegal_blocks","active_symbol","symbol_name","opposites_name","DocumentFragment","el_block","el_field","textContent","current_previous_connection","previous_block","getPreviousBlock","renamed_fields","MARKET_LIST","volidx","TRADETYPECAT_LIST","endsinout","staysinout","callputequal","TRADETYPE_LIST","risefall","risefallequals","innerText","old_name","has_initialization_block","current_name","counter","ws_variable","id_","strategy_node","showIncompatibleStrategyDialog","updateRenamedFields","hasAttribute","getIllegalBlocks","illegal_block_type","variable_nodes","block_nodes","strategy_child_node","registerVariables","el_variables","el_variable","querySelectorAll","previous_sibling_id","previous_sibling_block","sibling_previous_connection","sibling_previous_target_connection","highest_previous_connection","naivelyFixLegacyStrategyAfterConversion","converted_xml","conversions","getConversions","is_old_block","is_immovable","is_undeletable","setBlockAttributes","conversion_obj","previous_connection","getClosestLegalPreviousConnection","conversion_parent","el_block_child","FieldVariable","processValueInputs","statement_name","processStatementInputs","closest_statement","closest","el_sibling_block","sibling_block","is_minimised","comment_text","iconXY_","el_input_child_block","input_child_block","el_node_with_children","block_to_use","statement_input","supposed_parent_block","getFirstBlockInStack","is_protected_statement","isConnectedToProtectedStatementInput","new_parent","target_connection","getInputWithConnection","getSelectedTradeType","translate_xy","translate_X","translate_Y","blockRect","getBoundingClientRect","translate_offset","blockX","blockY","required_block_types","error_message_map","updateWorkspaceName","dashboard_strategies","title","string_to_replace","substr","new_document_title","collection","xmlDom","domToPrettyText","delayExecution","ms","load","block_string","drop_event","strategy_id","showInvalidStrategyError","DOMParser","parseFromString","getElementsByTagName","blockConversion","convertStrategy","blockly_xml","is_collection","loadBlocks","loadWorkspace","is_user_disabled_state","added_blocks","blockly_metrics","scale_cancellation","blockly_left","blockly_top","cleanUpOnLoad","has_possible_missing_index_xml","onFetchError","xml_string","addLoaderBlocksFirst","addDomAsBlock","loadBlocksFromHeader","promises","remove","domToVariables","block_conversion","el","throwNewErrorMessage","parent_block_error","parent_error_message","child_error_message","mandatory_trade_option_block","required_blocks_check","getAllRequiredBlocks","missing_blocks","blockType","getMissingBlocks","disabled_blocks","hasDisabledChild","getDisabledBlocks","scrollWorkspace","scroll_amount","is_horizontal","is_chronological","ws_metrics","scroll_x","scroll_y","use_existing_group","callbackFn","opt_group_name","should_disable","string_rgb","rgb","ActiveSymbols","trading_times","sortDropdownOptions","closedFunc","is_a_closed","is_b_closed","disabled_symbols","disabled_submarkets","init_promise","is_initialised","processed_symbols","is_forced_update","initialise","authorized","activeSymbols","processActiveSymbols","onMarketOpenCloseChanged","changes","symbol_obj","exchange_is_open","isExistingValue","prop","market_display_name","submarkets","submarket_display_name","symbols","pip_size","pip","is_active","is_trading_suspended","should_be_open","all_symbols","market_name","isMarketClosed","submarket_name","market_display","submarket_display","symbol_display","getSymbolsForBot","symbols_for_bot","market_option","sorted_options","submarket_options","market_obj","isSubmarketClosed","symbol_options","accumulator","symbol_display_name","isSymbolClosed","formatDate","formatTime","REQUESTS","getRequestType","req_type","measures","measure","datadogLogs","startTime","startTimeDate","detail","isBotRunning","defineMeasure","res_type","performance","mark","sendIsCalled","response_promise","sendRequestsStatistic","getEntriesByName","clearMeasures","debounced_calls","addGlobalMethod","clearMarks","getLoginId","login_id","localStorage","getItem","account_id","pip_sizes","account_info","is_running","time_interval","has_activeSymbols","reconnectIfNotConnected","readyState","getActiveSymbols","toExponential","toggleRunButton","toggle","socket_url","deriv_socket","force_update","terminate","getSocketURL","getAppId","getLanguage","website_name","WebSocket","DerivAPIBasic","middleware","APIMiddleware","initEventListeners","authorizeAndSubscribe","clearInterval","ready_state","socket_state","disconnect","active_loginid","client_accounts","active_account","authorize","expectResponse","s","_","time","AccountLimits","landing_company_details","landing_company","currency_config","TradingTimes","ContractsFor","getHiddenCategories","hidden_categories","has_barrier","getTradeTypeOptions","trade_type_options","is_muliplier","getContractTypes","cache_age_in_min","disabled_options","retrieving_contracts_for","barrier_types","barrier_props","getContractsByTradeType","contracts_for_category","offset_regexp","RegExp","isOffset","has_absolute_default_value","barrier_type","has_selected_offset_type","real_trade_type","getContractCategoryByTradeType","barrier_category","has_matching_category","contract_category","has_matching_duration","has_matching_barrier_category","has_matching_barrier_type","barrier","high_barrier","barrier_prop_name","barrier_match","assign","expiry_type","getTradeTypeCategoryByTradeType","getContractsFor","contracts","getBarrierCategoryByTradeType","has_matching_barrier","getContractsForFromApi","available","filtered_contracts","start_type","unix","convert_day_to_hours","getDurationIndex","convertDuration","unit_to_convert","duration_index","target_index","default_duration","converted_duration","min_contract_duration","max_contract_duration","start_index","end_index","day_duration_index","subcategory","last_digit_range","trade_type_category_name","getTradeTypeCategoryNameByTradeType","getTradeTypeByTradeCategory","isDisabledOption","subcategories","has_durations","types","filtered_trade_type_categories","getMarketBySymbol","getSubmarketBySymbol","trade_type_categories","category_names","compare_obj","disabled_obj","last_update_moment","local","updateTradingTimes","periodicUpdate","updateMarketOpenClosed","next_update_date","nextUpdateDate","now_moment","next_update_moment","add","isAfter","is_open_map","is_opened","hour","minute","second","toDate","wait_period","update_timer","last_update_date","format","tradingTimes","date_str","toISOString","getUTCDate","markets","processed_times","times","is_open_all_day","is_closed_all_day","calcIsMarketOpened","session","nextDate","symbol_names","className","extra","basis","selected_tick","barrierOffset","secondBarrierOffset","barrier2","isEmptyObject","parameters","app_markup_percentage","barrier_range","date_expiry","date_start","product_type","trading_period_start","growth_rate","tickOld","tickNew","number_string","promiseFn","recoverFn","details","updateErrorMessage","shouldThrowError","recoverResolve","getGlobalTimeouts","next_delay_in_seconds","logError","delay","req_id","getBackoffDelayInMs","findValueByKeyRecursively","repeatFn","entry_tick_time","exit_tick_time","exit_tick","random","CONNECTING","OPEN","CLOSING","CLOSED","generateErrorMessage","missing_space","missing","misplaced","default","trade_parameters","purchase_conditions","trackAndEmitError","trackJs","track","getContractTypeName","contract_type_obj","contract_type_names","shortcode_suffix","shortcode","is_risefall","importExternal","script","async","onload","external_global_component","onerror","timeSince","secondPast","minutePast","hourPast","timestampDate","day","getDate","month","toDateString","year","getFullYear","setColors","is_dark_mode","darkMode","lightMode","pipe","fns","initialValue","nextParam","fn","extractBlocksFromXml","sortBlockChild","blocksArray","areFieldsEqual","fields1","fields2","xml1","xml2","sortedBlocks1","sortedBlocks2","blocks1","blocks2","onKeyDownHandleError","handleError","removeEventListener","save_type","updateListStrategies","workspace_id","current_timestamp","current_workspace_index","current_workspace","bot_name","localForage","LZString","decompress","removeExistingWorkspace","eam","_action","once","unregisterIfError","unregisterAllBefore","unregisterAll","apiError","unregister","unreg","actionList","searchBy","_resolve","_reject","onWorkspaceResize","block_types","createContext","APIContext","initializeDerivAPI","onWSClose","DerivAPI","endpoint","app_id","language","wss_url","websocketConnection","WSConnections","existingWebsocketInstance","getWebsocketInstance","isConnectionClosed","queryClient","ReactQueryClient","QueryClient","logger","getEnvironment","standalone","WS","useWS","useState","setReconnect","activeLoginid","environment","setEnvironment","standaloneDerivAPI","useRef","switchEnvironment","useCallback","currentEnvironment","useEffect","interval_id","current","reconnectTimerId","Provider","derivAPI","QueryClientProvider","FLAGS","wallet","next_wallet","sharkfin","p2p_v2","next_tradershub","FeatureFlagsStore","flag","onHydrationDone","makeObservable","observable","unmount","makePersistable","properties","storage","Function","stopPersisting","memoizedValue","useMemo","is_mock","feature_flags","useContext","StoreContext","is_open","onClick","handleClose","notification_timer","setNotificationTimer","React","onMouseOver","onMouseLeave","Toast","onClose","data_testid","tabs_title","WORKSPACE","CHART","DBOT_TABS","DASHBOARD","BOT_BUILDER","TUTORIAL","TAB_IDS","DEBOUNCE_INTERVAL_TIME","AppStore","root_store","core","getErrorForNonEuClients","link","getErrorForEuClients","route","routes","handleErrorForEu","show_default_error","common","ui","traders_hub","toggleAccountsDialog","is_eu_country","showDigitalOptionsUnavailableError","showError","is_landing_company_loaded","location","pathname","should_show_eu_error","content_flag","ContentFlag","is_bot_allowed","is_eu","isEuResidenceWithOnlyVRTC","active_accounts","is_options_blocked","has_error","setError","onBeforeUnload","run_panel","is_stop_button_visible","onClickOutsideBlockly","path","composedPath","classList","showDigitalOptionsMaltainvestError","onMount","onUnmount","registerReloadOnLanguageChange","registerCurrencyReaction","registerOnAccountSwitch","registerLandingCompanyChangeReaction","registerResidenceChangeReaction","setDBotEngineStores","dbot_store","timer","blockly_store","timer_counter","setContainerSize","getCachedActiveTab","when","save_workspace_interval","disposeReloadOnLanguageChangeReaction","disposeCurrencyReaction","disposeSwitchAccountListener","disposeLandingCompanyChangeReaction","disposeResidenceChangeReaction","setAccountSwitcherDisabledMessage","setPromptHandler","current_language","reload","trade_options_block","switch_broadcast","retrieveActiveSymbols","disposeCache","fake_create_event","account_settings","country_code","quick_strategy","summary_card","loadDataStrategy","getSettingsFromLocal","getSetting","settings","storeSetting","setItem","BlocklyStore","is_loading","active_tab","setActiveTab","tab","g_subscribers_map","ChartStore","is_chart_loading","chart_type","wsSubscribe","req","subscriber","subscribeTicksHistory","wsForget","wsForgetStream","stream_id","forgetStream","wsSendRequest","ServerTime","getMarketsOrder","synthetic_index","has_synthetic_index","is_contract_ended","computed","onStartBot","onStopBot","updateSymbol","onSymbolChange","updateGranularity","updateChartType","setChartStatus","restoreFromStorage","transactions","is_ended","saveToLocalStorage","LocalStore","props","getUrlBase","l","get_path","getImageLocation","image_name","user_guide_content","subtype","content","search_id","guide_content","faq_content","imageclass","quick_strategy_content","qs_name","TAB_LOCAL","TAB_GOOGLE","TAB_RECENT","clearInjectionDiv","el_ref","getElementsByClassName","tour_type","setTourSettings","tour_list","DashboardStore","tutorials_combined_content","combined_search","active_tab_tutorials","active_tour_step_number","dialog_options","faq_search_value","getFileArray","has_file_loaded","has_mobile_preview_loaded","active_tour","is_dialog_open","is_file_supported","is_info_panel_visible","is_preview_on_popup","is_tour_dialog_visible","show_toast","show_mobile_tour_dialog","strategy_save_type","toast_message","is_web_socket_intialised","search_param","guide_tab_content","video_tab_content","faq_tab_content","filtered_tab_list","is_chart_modal_visible","resetTutorialTabContent","filterTuotrialTab","foundItems","filtered_user_guide","filter_video_guide","filtered_faq_content","filtered_tutorial_content","identifier","setShowMobileTourDialog","setWebSocketState","setOpenSettings","setChartModalVisibility","setIsFileSupported","setTourActiveStep","setPreviewOnDialog","onLoadModalClose","setStrategySaveType","setPreviewOnPopup","setTourDialogVisibility","setActiveTour","setFileLoaded","onCloseDialog","setActiveTabTutorial","setFAQSearchValue","showVideoDialog","setInfoPanelVisibility","onZoomInOutClick","is_zoom_in","addition","onCloseTour","setTourEnd","onTourEnd","is_tour_active","initInfoPanel","getUserGuideContent","getVideoContent","getFaqContent","inner_item","itemWithoutHTML","removeHTMLTagsFromString","previewRecentStrategy","current_workspace_id","refreshBotBuilderTheme","app","DataCollectionStore","IS_PENDING","IS_PROCESSED","run_id","run_start","should_post_xml","strategy_content","cleanXmlDom","xml_dom","useless_attributes","updated_dom","cloneObject","removeAttributesRecursively","useless_attribute","removeAttribute","getHash","btoa","crc32","trackRun","trackTransaction","setRunId","setRunStart","setStrategyContent","isProduction","hostname","xml_hash","pako","getPayload","gzip","Referer","DownloadStore","getSuccessJournalMessage","current_currency","onClickDownloadTransaction","transaction_csv_titles","transaction_csv_content","transaction_encoded_uri","encodeURI","transaction_link","click","onClickDownloadJournal","journal_csv_titles","journal","filtered_messages","array_message","date","journal_csv_content","journal_encoded_uri","journal_link","help_content_types","IMAGE","BLOCK","EXAMPLE","help_content_config","example_id","variables_gets","Localize","i18n_default_text","components","StaticUrl","href","pushDataLayer","onRunBot","onTransactionClosed","FlyoutHelpStore","css","move","sounds","examples","help_string","should_next_disable","should_previous_disable","active_helper","setHelpContent","setExamples","example_blocks","example","setFlyoutWidth","runInAction","is_help_content","help_strings","is_search_flyout","updateSequenceButtons","getHelpContent","target_blocks","xml_list_group","block_content","getFilledBlocksIndex","blocks_type","blocks_content","getNextHelpContentIndex","is_last","filled_blocks_index","setActiveHelper","onBackClick","onSequenceClick","initFlyoutHelp","getElementsByName","onSearch","should_go_next","xml_list","current_block_index","getNextBlock","current_index","is_next","next_index","next_blocks_type","next_filled_block","next_filled_block_index","next_block_type","getCategoryContents","selected_category","groupBy","last_filled_content_index","first_filled_content_index","nodes","should_include_block_only","block_group","node","all_examples","toolbox_examples","GTM","statistics","counters","number_of_runs","total_stake","total_payout","lost_contracts","won_contracts","is_completed","reference_id","refrence_id","_root_store","run_statistics","gtm","FlyoutStore","block_listeners","block_workspaces","flyout_min_width","flyout_content","flyout_width","is_visible","search_term","initFlyout","initBlockWorkspace","setContents","setSelectedCategory","getSelectedCategory","onClickOutsideFlyout","variables_blocks_count","first_get_variable_block_index","horizontalLayout","HorizontalFlyout","VerticalFlyout","targetWorkspace","getVariableMap","createPotentialVariableMap","el_block_workspace","block_svg_root","blockMouseDown_","bindEvent_","processed_xml","longest_block_width","is_search","is_flyout_click","is_search_focus","button_status","NORMAL","LOADING","COMPLETED","GoogleDriveStore","is_authorised","setKey","client_id","process","api_key","gapi","initialiseClient","google","accounts","oauth2","initTokenClient","updateSigninStatus","saveFile","loadFile","signIn","signOut","getPickerLanguage","checkFolderExists","createSaveFilePicker","createLoadFilePicker","showGoogleDriveFilePicker","bot_folder_name","google_auth","is_signed_in","requestAccessToken","setToken","revoke","removeItem","drive","files","pageSize","picker","pickerBackground","xml_doc","mime_type","file","mimeType","resource","setButtonStatus","Action","PICKED","folder_id","docs","strategy_file","strategy_file_metadata","parents","form_data","FormData","append","xhr","XMLHttpRequest","responseType","setRequestHeader","CANCEL","loadPickerCallback","fileId","is_save","docs_view","DocsView","setIncludeFolders","setMimeTypes","setSelectFolderEnabled","PickerBuilder","setOrigin","protocol","host","setTitle","setLocale","setAppId","setOAuthToken","addView","setDeveloperKey","setSize","setCallback","build","getIcon","showErrorMessageWithButton","showErrorMessage","centerAndHighlightBlock","unique_id","btn_text","Button","has_effect","messageWithButton","parseArray","getStoredItemsByUser","storage_key","getStoredItemsByKey","session_storage_item","sessionStorage","decompressed_item","stored_items","setStoredItemsByKey","compressed_value","JournalStore","JOURNAL_CACHE","is_filter_dialog_visible","filters","journal_filters","unfiltered_messages","playAudio","play","toggleFilterDialog","onLogSuccess","onNotify","pushMessage","getServerTime","checked_filters","filterMessage","welcomeBackUser","welcomeUser","registerReactions","restoreStoredJournals","disposeReactionsFn","dbot","parsedArray","is","NaN","message_length","header","ExpansionPanel","onResize","isCustomJournalMessage","parsed_message","account_list","current_account","is_virtual","item_id","disposeWriteJournalMessageListener","stored_journals","disposeJournalMessageListener","fireImmediately","LoadModalStore","previewed_strategy_id","recent_workspace","local_workspace","drop_zone","active_index","is_load_modal_open","is_explanation_expand","is_open_button_loading","loaded_local_file","recent_strategies","selected_strategy_id","is_strategy_loaded","is_delete_modal_open","is_strategy_removed","setPreviewedStrategyId","clicked_id","getSelectedStrategyID","is_body","setLoadedLocalFile","getDashboardStrategies","readFile","resetBotBuilderStrategy","loadStrategyToBuilder","refreshStrategiesTheme","selected_strategy","loadFileFromRecent","loadFileFromLocal","onActiveIndexChange","tab_name","onDriveConnect","google_drive","onEntered","setActiveTabIndex","preview_workspace","zoomCenter","setSelectedStrategyId","dark_mode","ref","setRecentStrategies","refreshStrategies","toggleExplanationExpand","toggleLoadModal","toggleTourLoadModal","getRecentFileIcon","getSaveType","onToggleDeleteDialog","is_preview","reader","FileReader","load_options","readAsText","onDriveOpen","setDashboardStrategies","D_ALEMBERT","MARTINGALE","OSCARS_GRIND","REVERSE_MARTINGALE","FORM_TABS","NUMBER_DEFAULT_VALIDATION","getMessage","LABEL_SYMBOL","SYMBOL","LABEL_TRADETYPE","TRADETYPE","dependencies","LABEL_PURCHASE_TYPE","PURCHASE_TYPE","LABEL_STAKE","STAKE","validation","LABEL_DURATION","DURATION_TYPE","attached","LABEL_PROFIT","LABEL_LOSS","LOSS","LABEL_SIZE","qs_config","LABEL_DALEMBERT_UNIT","UNIT","CHECKBOX_MAX_STAKE","MAX_STAKE","should_have","LABEL_LAST_DIGIT_PREDICTION","multiple","hide_without_should_have","LAST_DIGIT_PREDICTION","STRATEGIES","long_description","REVERSE_D_ALEMBERT","addDynamicBlockToDOM","name_block","strategy_value","trade_type_cat","strategy_dom","field_block","amount_block","parent_node","nextSibling","mutation_element","QuickStrategyStore","is_contract_dialog_open","is_stop_bot_dialog_open","current_duration_min_max","loss_threshold_warning_data","setLossThresholdWarningData","initializeLossThresholdWarningData","highlight_field","already_shown","setFormVisibility","setSelectedStrategy","setCurrentDurationMinMax","onSubmit","strategy_xml","modifyValueInputs","el_value_inputs","el_value_input","modifyFieldDropdownValues","name_list","el_blocks","rest_data","fields_to_update","tradetypecat","dalembert_unit","oscar_unit","onRunButtonClick","toggleStopBotDialog","RoutePromptDialogStore","should_show","is_confirmed","last_location","shouldNavigateAfterPrompt","onConfirm","onCancel","continueRoute","setShoudShow","next_location","routeTo","contract_stages","NOT_RUNNING","STARTING","PURCHASE_SENT","PURCHASE_RECEIVED","IS_STOPPING","CONTRACT_CLOSED","SUMMARY","TRANSACTIONS","JOURNAL","switch_account_notification","is_persistent","RunPanelStore","contract_stage","has_open_contract","is_statistics_info_modal_open","is_drawer_open","is_sell_requested","show_bot_stop_message","error_type","unregisterBotListeners","is_stop_button_disabled","is_clear_stat_disabled","onStopButtonClick","onStopBotClick","onClearStatClick","clearStat","toggleStatisticsInfoModal","toggleDrawer","performSelfExclusionCheck","showStopMultiplierContractDialog","showLoginDialog","showRealAccountDialog","showClearStatDialog","showContractUpdateErrorDialog","onBotSellEvent","onBotStopEvent","onBotReadyEvent","onBotTradeAgain","onContractStatusEvent","onClickSell","onBotContractEvent","switchToJournal","setContractStage","setHasOpenContract","setIsRunning","setShowBotStopMessage","handleInvalidToken","registerBotListeners","onBotRunningEvent","preloadAudio","stopMyBot","closeMultiplierContract","stats","trx","self_exclusion","checkRestriction","route_prompt_dialog","is_ios","mobileOSDetect","saveRecentWorkspace","unHighlightAllBlocks","isSafari","should_bot_run","setIsRestricted","shouldRunBot","runBot","is_multiplier","setActiveTransactionId","terminateBot","onOkButtonClick","onCancelButtonClick","rel","ok_button_text","cancel_button_text","notifications","registerIsSocketOpenedListener","is_socket_opened","disposeIsSocketOpenedListener","addNotificationMessage","disposeLogoutListener","disposeStopBotListener","ignore_new_version","run_limit","indicateBotStopped","resetSelfExclusion","clearContractUpdateConfigValues","listen_new_version","is_trade_again","contract_status","platform","platform_name","is_disposable","removeNotificationMessage","toggleNotificationsModal","removeNotificationByKey","logout","getStrategySounds","audioElement","muted","pause","SaveModalStore","is_save_modal_open","toggleSaveModal","validateBotName","errors","addStrategyToWorkspace","is_local","save_as_collection","local_type","save_collection","workspace_structure","updated_strategies","onConfirmSave","main_strategy","SelfExclusionStore","api_max_losses","is_restricted","initial_values","setApiMaxLosses","setRunLimit","form_max_losses","getSelfExclusion","max_losses","getContractUpdateConfig","contract_update","getLimitOrderAmount","contract_update_stop_loss","contract_update_take_profit","has_contract_update_stop_loss","has_contract_update_take_profit","getContractConfig","is_high_low","position","LBFLOATCALL","LBFLOATPUT","LBHIGHLOW","getSupportedContracts","getContractTypeDisplay","SummaryCardStore","contract_info","indicative_movement","profit_movement","validation_errors","validation_rules","trigger","rules","contract_store","stake","getBuyPrice","contract_update_config","indicative","is_contract_completed","is_contract_loading","is_contract_inactive","getLimitOrder","onChange","populateContractUpdateConfig","updateLimitOrder","setValidationErrorMessages","validateProperty","profit_loss","getIndicativePrice","movements","isEqualObject","contractUpdate","propertyName","messages","inputs","hasOwnProperty","validator","Validator","isPassed","disposeSwitchAcountListener","SummaryStore","ToolbarStore","is_animation_info_modal_open","has_undo_stack","has_redo_stack","is_reset_button_clicked","setResetButtonState","onResetClick","closeResetDialog","onResetOkButtonClick","resetDefaultStrategy","onSortClick","onUndoClick","is_redo","undo","hasUndoStack","hasRedoStack","ToolboxStore","is_toolbox_open","is_search_loading","sub_category_index","toolbox_dom","setWorkspaceOptions","adjustWorkspace","onToolboxItemClick","onToolboxItemExpand","getAllCategories","hasSubCategory","onSearchBlur","onSearchClear","onSearchKeyUp","showSearch","toolbox_ref","disposeToolboxToggleReaction","languageTree","hasCategories","hasCollapse","hasComments","hasDisable","toolbox_width","block_canvas_rect","round","scroll_distance","category_id","open_ids","open_id","dynamic","getToolboxCategoryCallback","fnToApply","subCategory","submitForm","typing_timer","search_words","all_variables","all_procedures","general_term","term","block_contents","contents","flat","pushIfNotExists","array","element_to_push","priority","block_definitions","block_name","block_type_terms","block_name_terms","definition_key_to_search","word","definition_strings","matched_meta","block_meta_strings","pushBlockWithPriority","matched_variables","unique_var_blocks","searched_procedures","procedure","unique_proce_blocks","procedure_block","transaction_elements","CONTRACT","DIVIDER","TransactionsStore","TRANSACTION_CACHE","active_transaction_id","recovered_completed_transactions","recovered_transactions","is_called_proposal_open_contract","is_transaction_details_modal_open","pushTransaction","onClickOutsideTransaction","recoverPendingContracts","updateResultsCompletedContract","sortOutPositionsBeforeAction","recoverPendingContractsById","toggleTransactionDetailsModal","isEnded","entry_tick_display_value","exit_tick_display_value","low_barrier","tick_count","underlying","same_contract_index","disposeTransactionElementsListener","stored_transactions","disposeRecoverContracts","positions","element_id","contract_details","portfolio","RootStore","download","flyout_help","summary","chart_store","data_collection_store","DBotStoreContext","DBotStoreProvider","mock","stores","useStore","useDBotStore","GoogleDrive","classnames","large","is_document","Wrapper","mockZoomInOut","file_input_ref","classNames","accept","onDrop","header_text","MobileFullPageModal","is_modal_open","onClickClose","height_offset","page_overlay","Tabs","onTabItemClick","has_loaded_file","has_recent_strategies","Modal","toggleModal","elements_to_ignore","header_fit_content","has_separator","active","tabIndex","onKeyDown","weight","font_size","dangerouslySetInnerHTML","__html","class_names","descriptionContent","formfields","tutorial_selected_strategy","desktop_font_size","useFormikContext","handleSubmit","loss_amount","profit_threshold","stored_dont_show_warning_value","dont_show_warning","proceedFormSubmission","Analytics","form_source","FormWrapper","activeTab","isValid","validateForm","useQsSubmitHandler","onEdit","str","strategy_type","onChangeStrategy","ThemedScrollbars","autohide","dropdown_list","SelectNative","list_items","should_show_empty_option","base_classname","Dialog","portal_element_id","confirm_button_text","is_mobile_full_width","has_close_icon","Checkbox","defaultChecked","MarketOption","color","is_desktop","setActiveSymbols","is_input_started","setIsInputStarted","setInputValue","last_selected_symbol","setLastSelectedSymbol","component","has_symbol","handleFocus","handleInputChange","handleItemSelection","asset_type","sendAssetValueToRudderStack","handleHideDropdownList","selectedSymbol","rest_field","Autocomplete","inputMode","autoComplete","onItemSelection","onFocus","onHideDropdownList","leading_icon","TradeTypeOption","IconTradeTypes","setTradeTypes","getTradeTypesForQuickStrategy","has_selected","debounce","trade_type_dropdown_options","sendTradeTypeToRudderStack","ContractTypes","setList","handleChange","selected_item","trade_type_mode","sendTradeTypeValueToRudderStack","getDurationUnits","duration_units","sendDurationTypeToRudderStack","has_focus","setFocus","setFieldTouched","is_number","debounceChangePlus","parameter_value","plus_push_amount","trailing","leading","debounceChangeMinus","minus_push_amount","onMouseEnter","Popover","alignment","zIndex","classNameBubble","should_disable_pointer_events","Input","data_testId","highlight","trailing_icon","handleOnChange","classNameTargetIcon","QuickStrategyForm","debounceChange","parameter_type","handleEnter","shouldEnable","item_value","group_index","field_index","should_enable","should_validate","last_digit_prediction","getErrorMessage","MIN","MAX","FormikWrapper","Yup","dynamic_schema","setDynamicSchema","initial_value","max_stake","boolean_max_stake","Formik","initialValues","validationSchema","validate","formikData","sub_schema","schema","typeError","min_error","max_error","integer_error_message","required","integer","validateOnBlur","validateOnChange","validateOnMount","Form","google_drive_connected","is_drive_radio","as","line_height","styles","SaveModalForm","is_onscreen_keyboard_active","setCurrentFocus","touched","content_height","placeholder","currentTarget","onBlur","RadioGroup","onToggle","is_submit_success","SaveModal","common_tour_button_properties","fontWeight","fontSize","padding","steps","handleCallback","continuous","locale","back","next","arrowColor","backgroundColor","primaryColor","textColor","spotlightShadow","buttonBack","border","marginRight","borderRadius","buttonNext","overlay","step_index","has_localize_component","show_actions","autoPlay","controls","playsInline","disablePictureInPicture","controlsList","content_data","joyride_props","showProgress","spotlightClicks","disableBeacon","disableOverlay","disableCloseOnEsc","DBOT_ONBOARDING","placement","last","hideBackButton","Step1","show_label","Step1A","Step2","Step3","Step4","Step5","Step6","BOT_BUILDER_TOUR","BOT_BUILDER_MOBILE","tour_step_key","DBOT_ONBOARDING_MOBILE","onboarding_tour_header","tour_token","onboard_tour","tour_dialog_info","getTourDialogInfo","tour_dialog_action","getTourDialogAction","header_text_size","content_text_size","tour_headers","getBotBuilderTourHeader","useTourHandler","is_finished","setIsFinished","is_close_tour","setIsCloseTour","handleJoyrideCallback","expanded","test_id","setOpen","tour_step","setTourStep","tour_active","tour_button_text","ProgressBarTracker","steps_list","v","onStepChange","should_hide_display_name","FlyoutBlockGroup","onInfoClick","is_variables_get","is_variables_set","AddButton","is_plus","propTypes","PropTypes","lineHeight","frameBorder","allow","allowFullScreen","block_help_component","text_count","example_node","renderText","SearchResult","total_result","interpolation","escapeValue","FlyoutContent","flyout_ref","is_empty","custom_color","platform_name_dbot","getPlatformSettings","callback_id","getButtonCallback","flyout__search","flyout__help","flyout__normal","title_text","toggle_dialog_or_stop","paddingBottom","paddingTop","StopBotModal","popover_message","button_id","button_classname","buttonOnClick","green","popover_zindex","TOOLBAR","TRANSACTION","SUMMARY_TOOLTIPS","RUN_PANEL","icon_id","icon_color","MobileWrapper","DesktopWrapper","Toolbar","search_string","onKeyUp","Arg","Category","Example","Examples","Mutation","Next","Shadow","Statement","Value","ToolboxItems","ReactDomServer","xmlns","deletable","movable","divisor_input","variabletype","elseif","else","has_sub_category","is_sub_category_open","BotBuilder","is_blockly_listener_registered","show_snackbar","setShowSnackbar","handleBlockChangeOnBotRun","removeBlockChangeListener","removeChangeListener","PARENT_CLASS","bounds","dragHandleClassName","enableResizing","header_title","minWidth","onCloseDraggable","xaxis","yaxis","first_drag_x","setFirstDragX","first_drag_y","setFirstDragY","first_left","setFirstLeft","first_top","setFirstTop","minHeight","onDrag","lastX","deltaX","lastY","deltaY","onDragStart","role","CSSTransition","appear","in","enter","enterDone","exit","unmountOnExit","TableCell","extra_classes","CellLoader","TableHeader","columns","column","extra_class","IconWrapper","speed","foregroundColor","DesktopTransactionTable","result_columns","transaction_columns","convertDateFormat","TransactionDetailsDesktop","transaction_list","screenDimensions","setScreenDimensions","handleResize","innerHeight","modalWidth","yAxisValue","wrapper_ref","classNameLabel","hasFilter","toggle_ref","useOnClickOutside","logType","formatMoney","getLogMessage","is_new_row","in_prop","useNewRowTransition","date_el","DateItem","getJournalItemContent","Download","clickFunction","Journal","filtered_messages_length","unfiltered_messages_length","DataList","data_source","rowRenderer","keyMapper","SelfExclusionForm","max_losses_error","setMaxLossesError","updateSelfExclusion","onSubmitLimits","set_losses","is_integer","requested_field_message","valid_number_message","max_number_message","max_decimal_message","max_losses_limit_message","amount_decimal_array","hint","SelfExclusion","self_exclusion_form_props","virtual_account_loginid","FadeWrapper","keyname","PageOverlay","Div100vhContainer","SummaryCard","addToast","current_focus","removeToast","card_header","ContractCard","getCardLabels","has_progress_slider","card_body","error_message_alignment","getContractById","card_footer","contract_el","should_show_result_overlay","has_won_contract","notificationTimer","CircularWrapper","ContractStageText","TradeAnimation","should_show_overlay","account_status","cashier_validation","is_button_disabled","updateIsButtonDisabled","is_unavailable_for_payment_agent","status_classes","progress_status","status_class","TransactionIconWithText","TransactionFieldLoader","TransactionIconLoader","PopoverItem","PopoverContent","Transaction","Money","show_currency","TransactionItem","Transactions","transactions__content","getRowSize","StatisticsTile","contentClassName","StatisticsSummary","has_sign","DrawerHeader","DrawerContent","DrawerFooter","MobileDrawerFooter","info_direction","StatisticsInfoModal","RunPanel","footer","Drawer","anchor","CardColumn","large_title","right_aligned","IconContainer","MobileTransactionCards","TransactionDetailsMobile","Suspense","fallback","Loading","BotNotificationMessages","Notifications","notification_messages_ui","module","component_name","moduleLoader","setSmartChartsPublicPath","SmartChart","ChartTitle","ChartMode","DrawTools","Share","StudyLegend","Views","ToolbarWidget","portalNodeId","onChartType","onGranularity","isDesktop","searchInputClassName","Chart","show_digits_stats","assetInformation","countdown","isHighestLowestMarkerEnabled","is_chart_layout_default","theme","showLastDigitStats","chartControlsWidgets","enabledChartFooter","chartStatusListener","toolbarWidget","chartType","isMobile","enabledNavigationWidget","requestAPI","requestForget","requestForgetStream","requestSubscribe","topWidgets","isConnectionOpened","isLive","leftMargin","initTrashCan","margin","Trashcan","MARGIN_BOTTOM_","MARGIN_SIDE_","xAxisValue","default_tour_data","setStep","tour_data","setTourData","start_button","id_ref","LocalComponent","has_dashboard_strategies","renderOpenButton","resetStrategiesAfterDelete","deleted_strategy_id","updated_workspaces","current_previewed_strategy","removeBotStrategy","strategy_from_workspace","sentToRudderStack","delete_popup_respond","onHandleChange","STRATEGY","MENU_DESKTOP","CONTEXT_MENU_MOBILE","RecentWorkspace","trigger_div_ref","is_div_triggered_once","is_dropdown_visible","setDropdownVisibility","handleHideDropdown","handleClickOutside","useComponentVisibility","sendToRudderStack","bot_last_modified_time","handlePreviewList","dashboard_tab_dom_element","selector","observingParent","MutationObserver","childList","subtree","handleEdit","viewRecentStrategy","is_active_mobile","text_size","HEADERS","get_first_strategy_info","get_instacee","getStrategies","getStratagiesForRudderStack","setStrategies","sentToRudderStackTabChange","shortcut_name","actions","hidden","SIDEBAR_INTRO","renderInfo","sidebar_item","tutorial_link","tutorial_label","switchTab","DashboardTitle","MobileIconGuide","handleTabChange","DashboardDescription","el_portal","ReactDOM","QuickStrategyGuidesDetail","setTutorialSelectedStrategy","FAQ","faq_list","faq_wrapper_element","timer_id","handleAccordionClick","open_accordion_element","previous_sibling_element","previousElementSibling","offset","offsetTop","wrapper_element","scrollTo","behavior","scrollToElement","handleKeyboardEvent","Accordion","icon_close","icon_open","triggerTour","has_guide_content","backgroundImage","faq_value","setFaqSearchContent","prev_active_tutorials","input_ref","tutorial_tabs","selectedTab","setSelectedTab","showSearchBar","setShowSearchBar","onChangeHandle","selectElement","setPrevActiveTutorialsTab","has_content_guide_tab","Dashboard","tab_value","init_render","url_hashed_values","hash","active_hash_tab","checkAndHandleConnection","api_status","tab_index","el_id","el_tab","scrollIntoView","inline","onTabItemChange","network_status","setIsOpen","portal_id","setIsLoading","DBotStores","combinedStore","is_subscribed_to_msg_listener","msg_listener","handleMessage","onMessage","clients_country","changeActiveSymbolLoadingState","onDisconnectFromNetwork","vh","webpackContext","webpackContextResolve","__webpack_require__","exports","webpackAsyncContext"],"sourceRoot":""}