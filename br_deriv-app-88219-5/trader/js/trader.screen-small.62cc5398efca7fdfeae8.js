"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["screen-small"],{"./src/Modules/Trading/Components/Form/screen-small.jsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ve});var r=a("../../node_modules/prop-types/index.js"),n=a.n(r),o=a("react"),i=a.n(o),l=a("@deriv/components"),u=a("./src/App/Components/Elements/ContentLoader/index.js"),s=a("../../node_modules/classnames/index.js"),c=a.n(s),d=a("@deriv/translations"),_=a("./src/Stores/connect.js"),m=function(e){var t=e.onChange,a=e.is_allow_equal,r=e.has_equals_only,n=e.className;return i().createElement("div",{className:c()("allow-equals","mobile-widget",n)},i().createElement(l.Checkbox,{label:(0,d.localize)("Equals"),value:a,name:"is_equal",onChange:function(e){e.persist();var a=e.target,r=a.name,n=a.checked;t({target:{name:r,value:Number(n)}})},disabled:r}),i().createElement(l.Text,{as:"p",size:"xxxs"},i().createElement(d.Localize,{i18n_default_text:"Win payout if exit spot is also equal to entry spot."})))};m.propTypes={className:n().string,is_allow_equal:n().bool,has_equals_only:n().bool,onChange:n().func};const p=(0,_.$j)((function(e){var t=e.modules;return{is_allow_equal:!!t.trade.is_equal,has_equals_only:t.trade.has_equals_only,onChange:t.trade.onChange}}))(m);var f=a("./src/Stores/Modules/Trading/Helpers/allow-equals.js"),b=a("@deriv/shared"),v=a("../../node_modules/lodash.debounce/index.js"),g=a.n(v),y=a("./src/Stores/Modules/Trading/Helpers/proposal.js");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===h(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var k=g()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=x(x({},e),t),n=(0,y.RX)(r),o={},i=function(e){e.error||(o[e.subscription.id]=!0,a(e))};if(!(0,b.isEmptyObject)(n)){var l=n;Object.keys(l).forEach((function(e){b.WS.subscribeProposal(l[e],i)}))}return function(){Object.keys(o).forEach((function(e){b.WS.forget(e),delete o[e]}))}}),700),j=(0,_.$j)((function(e){var t=e.modules,a=e.client,r=e.ui;return{onChangeMultiple:t.trade.onChangeMultiple,trade_amount:t.trade.amount,trade_basis:t.trade.basis,trade_duration_unit:t.trade.duration_unit,trade_duration:t.trade.duration,currency:a.currency,addToast:r.addToast,contract_type:t.trade.contract_type,vanilla_trade_type:r.vanilla_trade_type,stake_boundary:t.trade.stake_boundary}}))((function(e){var t=e.addToast,a=e.duration_unit,r=e.duration_value,n=e.toggleModal,o=e.basis,u=e.has_duration_error,s=e.selected_basis,_=e.setSelectedAmount,m=e.onChangeMultiple,p=e.currency,f=e.trade_amount,v=e.trade_basis,g=e.trade_duration,y=e.trade_duration_unit,h=e.setAmountError,E=e.contract_type,x=e.stake_boundary,w=e.vanilla_trade_type,k=(0,b.getDecimalPlaces)(p),j=Number("0").toFixed((0,b.getDecimalPlaces)(p)),S=parseFloat(j.toString().replace(/.$/,"1")),C=function(e){var a=i().createElement(d.Localize,{i18n_default_text:"Should not be 0 or empty"}),r=parseFloat(e.toString());return"0."===e.toString()||0===r?(t({key:"amount_error",content:a,type:"error",timeout:2e3}),h(!0),"error"):isNaN(r)||r<S||e.toString().length<1?(t({key:"amount_error",content:a,type:"error",timeout:2e3}),h(!0),!1):(h(!1),!0)};return i().createElement("div",{className:"trade-params__strike"},"vanilla"===E&&i().createElement("section",{className:"trade-container__stake-field"},i().createElement("div",{className:"trade-container__stake-field--min"},i().createElement(l.Text,{size:"xxs"},(0,d.localize)("Min. stake")),i().createElement(l.Text,{size:"xxs"},x[w].min_stake," ",p)),i().createElement("div",{className:"trade-container__stake-field--max"},i().createElement(l.Text,{size:"xxs"},(0,d.localize)("Max. stake")),i().createElement(l.Text,{size:"xxs"},x[w].max_stake," ",p))),i().createElement("div",{className:c()("trade-params__amount-keypad",{strike__pos:"vanilla"===E})},i().createElement(l.Numpad,{value:s,format:function(e){return isNaN(e)||""===e?e:Number(e).toFixed(k)},onSubmit:function(e){var t={};a===y||u||(t.duration_unit=a),r===g||u||(t.duration=r),e===f&&o===v||(t.basis=o,t.amount=e),(0,b.isEmptyObject)(t)||m(t),n()},currency:p,min:S,is_currency:!0,render:function(e){var t=e.value,a=e.className;return i().createElement("div",{className:a},parseFloat(t)>0?i().createElement(l.Money,{currency:p,amount:t,should_format:!1}):t)},reset_press_interval:450,reset_value:"",pip_size:k,onValidate:C,submit_label:(0,d.localize)("OK"),onValueChange:function(e){_(o,e),C(e)}})))}));const S=(0,_.$j)((function(e){var t=e.modules;return{basis:t.trade.basis,basis_list:t.trade.basis_list,onChangeMultiple:t.trade.onChangeMultiple}}))((function(e){var t=e.toggleModal,a=e.basis_list,r=e.basis,n=e.duration_value,o=e.duration_unit,u=e.has_duration_error,s=e.amount_tab_idx,c=e.setAmountError,d=e.setAmountTabIdx,_=e.setSelectedAmount,m=e.stake_value,p=e.payout_value,f=void 0!==s?s:a.findIndex((function(e){return e.value===r}));return 1===a.length?i().createElement(j,{toggleModal:t,duration_value:n,duration_unit:o,has_duration_error:u,basis:a[0].value,setAmountError:c,selected_basis:"stake"===a[0].value?m:p,setSelectedAmount:_}):i().createElement("div",null,i().createElement(l.Tabs,{active_index:f,onTabItemClick:d,top:!0},a.map((function(e){switch(e.value){case"stake":return i().createElement("div",{label:e.text,key:e.value},i().createElement(j,{toggleModal:t,duration_value:n,duration_unit:o,has_duration_error:u,basis:e.value,setAmountError:c,selected_basis:m,setSelectedAmount:_}));case"payout":return i().createElement("div",{label:e.text,key:e.value},i().createElement(j,{toggleModal:t,duration_value:n,duration_unit:o,has_duration_error:u,basis:e.value,setAmountError:c,selected_basis:p,setSelectedAmount:_}));default:return null}}))))}));var C=a("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/info.jsx");function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const M=(0,_.$j)((function(e){var t=e.client,a=e.modules,r=e.ui;return{amount:a.trade.amount,form_components:a.trade.form_components,currency:t.currency,duration:a.trade.duration,duration_unit:a.trade.duration_unit,duration_units_list:a.trade.duration_units_list,expiry_type:a.trade.expiry_type,enableApp:r.enableApp,disableApp:r.disableApp}}))((function(e){var t=e.is_open,a=e.enableApp,r=e.disableApp,n=e.toggleModal;return(0,l.usePreventIOSZoom)(),i().createElement(i().Fragment,null,i().createElement(l.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:a,is_open:t,is_title_centered:!0,should_header_stick_body:!1,disableApp:r,toggleModal:n,height:"auto",width:"calc(100vw - 32px)",title:(0,d.localize)("Stake")},i().createElement(l.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},i().createElement(T,{toggleModal:n}))))}));var T=(0,_.$j)((function(e){var t=e.ui,a=e.modules;return{amount:a.trade.amount,currency:a.trade.currency,multiplier:a.trade.multiplier,multiplier_range_list:a.trade.multiplier_range_list,trade_stop_out:a.trade.stop_out,onChange:a.trade.onChange,addToast:t.addToast,trade_store:a.trade}}))((function(e){var t=e.amount,a=e.currency,r=e.toggleModal,n=e.trade_store,o=e.trade_stop_out,u=A(i().useState(t),2),s=u[0],c=u[1],_=A(i().useState(null),2),m=_[0],p=_[1],f=A(i().useState(null),2),v=f[0],g=f[1],y=i().useRef(t),h=(0,b.useIsMounted)();return i().useEffect((function(){if(s!==t){var e=k(n,{amount:s},(function(e){var t,a,r=e.proposal,n=e.echo_req,o=e.subscription;h()&&r&&"MULTUP"===n.contract_type&&Number(n.amount)===Number(y.current)?(p(r.commission),g(null===(t=r.limit_order)||void 0===t||null===(a=t.stop_out)||void 0===a?void 0:a.order_amount)):null!=o&&o.id&&b.WS.forget(o.id)}));return function(){null==e||e()}}}),[s]),i().createElement(i().Fragment,null,i().createElement("div",{className:"trade-params__multiplier-ic-info-wrapper"},i().createElement(l.Popover,{alignment:"right",icon:"info",id:"dt_multiplier-stake__tooltip",zIndex:9999,is_bubble_hover_enabled:!0,message:i().createElement(d.Localize,{i18n_default_text:"To ensure your loss does not exceed your stake, your contract will be closed automatically when your loss equals to <0/>.",components:[i().createElement(l.Money,{key:0,amount:v||o,currency:a,show_currency:!0})]})})),i().createElement(S,{toggleModal:r,amount_tab_idx:0,setSelectedAmount:function(e,t){c(t),y.current=t},setAmountError:function(){},stake_value:s}),i().createElement(C.Z,{className:"trade-params__multiplier-trade-info",should_show_tooltip:!0,commission:m,stop_out:v,amount:s}))}));const N=function(e){var t,a=e.items_list,r=e.contract_name,n=e.current_value_object,o=e.onChange,u=e.info,s=e.popover_alignment,c=void 0===s?"right":s,d=e.toggleModal;return i().createElement(i().Fragment,null,i().createElement("div",{className:"trade-params__".concat(r,"-ic-info-wrapper")},i().createElement(l.Popover,{alignment:c,icon:"info",id:"dt_".concat(r,"-stake__tooltip"),is_bubble_hover_enabled:!0,zIndex:9999,message:u})),i().createElement(l.RadioGroup,{className:"trade-params__".concat(r,"-radio-group"),name:"trade-params__".concat(r,"-radio"),selected:Number.isNaN(n.value)?"":null===(t=n.value)||void 0===t?void 0:t.toString(),onToggle:function(e){o({target:{name:n.name,value:Number(e.target.value)}}),d()}},a.map((function(e){var t=e.text,a=e.value;return i().createElement(l.RadioGroup.Item,{key:a,id:t,label:t,value:null==a?void 0:a.toString()})}))))};function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const I=(0,_.$j)((function(e){var t=e.modules;return{amount:t.trade.amount,multiplier:t.trade.multiplier,multiplier_range_list:t.trade.multiplier_range_list,onChange:t.trade.onChange,trade_store:t.trade}}))((function(e){var t=e.amount,a=e.multiplier,r=e.multiplier_range_list,n=e.onChange,o=e.toggleModal,l=e.trade_store,u=z(i().useState(null),2),s=u[0],c=u[1],_=z(i().useState(null),2),m=_[0],p=_[1],f=(0,b.useIsMounted)();return i().useEffect((function(){if(t){var e=k(l,{amount:t},(function(e){var a,r,n=e.echo_req,o=e.proposal,i=e.subscription;f()&&o&&"MULTUP"===n.contract_type&&Number(n.amount)===t?(c(o.commission),p(null===(a=o.limit_order)||void 0===a||null===(r=a.stop_out)||void 0===r?void 0:r.order_amount)):null!=i&&i.id&&b.WS.forget(i.id)}));return function(){null==e||e()}}}),[t]),i().createElement(i().Fragment,null,i().createElement(N,{contract_name:"multiplier",current_value_object:{name:"multiplier",value:a},info:(0,d.localize)("Your gross profit is the percentage change in market price times your stake and the multiplier chosen here."),items_list:r,onChange:n,toggleModal:o}),i().createElement(C.Z,{className:"trade-params__multiplier-trade-info",should_show_tooltip:!0,commission:s,stop_out:m,amount:t}))})),D=(0,_.$j)((function(e){var t=e.modules,a=e.ui;return{accumulator_range_list:t.trade.accumulator_range_list,growth_rate:t.trade.growth_rate,onChange:t.trade.onChange,enableApp:a.enableApp,disableApp:a.disableApp,tick_size_barrier:t.trade.tick_size_barrier}}))((function(e){var t=e.accumulator_range_list,a=e.enableApp,r=e.disableApp,n=e.growth_rate,o=e.is_open,u=e.modal_title,s=e.onChange,c=e.tick_size_barrier,_=e.toggleModal;return(0,l.usePreventIOSZoom)(),i().createElement(i().Fragment,null,i().createElement(l.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:a,is_open:o,is_title_centered:!0,should_header_stick_body:!1,disableApp:r,toggleModal:_,height:"auto",width:"calc(100vw - 32px)",title:u},i().createElement(l.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},u===(0,d.localize)("Multiplier")?i().createElement(I,{toggleModal:_}):i().createElement(N,{contract_name:"accumulator",current_value_object:{name:"growth_rate",value:n},info:(0,d.localize)("Your stake will grow by {{growth_rate}}% at every tick starting from the second tick, as long as the price remains within a range of Â±{{tick_size_barrier}} from the previous tick price.",{growth_rate:(0,b.getGrowthRatePercentage)(n),tick_size_barrier:(0,b.getTickSizeBarrierPercentage)(c)}),items_list:t.map((function(e){return{text:"".concat((0,b.getGrowthRatePercentage)(e),"%"),value:e}})),onChange:s,popover_alignment:"bottom",toggleModal:_}))))}));var F=a("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/expiration.jsx");const $=(0,_.$j)((function(e){var t=e.ui;return{enableApp:t.enableApp,disableApp:t.disableApp}}))((function(e){var t=e.is_open,a=e.enableApp,r=e.disableApp,n=e.toggleModal;return i().createElement(i().Fragment,null,i().createElement(l.Modal,{enableApp:a,is_open:t,disableApp:r,toggleModal:n,has_close_icon:!1,should_header_stick_body:!1,height:"auto",width:"calc(100vw - 3.2rem)",title:(0,d.localize)("Expiration")},i().createElement(l.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},i().createElement("div",{style:{minHeight:"120px",padding:"1.6rem"}},i().createElement(l.Text,{size:"xs",color:"general"},i().createElement(d.Localize,{i18n_default_text:"Your contract will be closed automatically at the next available asset price on <0></0>.",components:[i().createElement(F.Z,{key:0,is_text_only:!0,text_size:"xs"})]}))),i().createElement(l.Modal.Footer,{has_separator:!0},i().createElement(l.Button,{style:{width:"100%",height:"4rem"},large:!0,primary:!0,has_effect:!0,text:(0,d.localize)("OK"),onClick:n})))))}));function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var L=(0,_.$j)((function(e){var t=e.modules;return{amount:t.trade.amount,expiration:t.trade.expiration,currency:t.trade.currency,is_crypto_multiplier:t.trade.is_crypto_multiplier,multiplier:t.trade.multiplier}}))((function(e){var t=e.amount,a=e.currency,r=e.expiration,n=e.is_crypto_multiplier,o=q(i().useState(!1),2),u=o[0],s=o[1],c=q(i().useState(!1),2),_=c[0],m=c[1],p=function(){s(!u)},f=function(){m(!_)};return i().createElement(i().Fragment,null,i().createElement(M,{is_open:u,toggleModal:p}),i().createElement("div",{className:"mobile-widget mobile-widget__multiplier",onClick:p},i().createElement("div",{className:"mobile-widget__multiplier-amount"},i().createElement("div",{className:"mobile-widget__item"},i().createElement(l.Text,{weight:"bold",size:"xxs"},i().createElement(l.Money,{amount:t,currency:a,show_currency:!0})))),i().createElement(C.Z,{className:"mobile-widget__multiplier-trade-info",commission_text_size:"xxxxs",stop_out_text_size:"xxxxs"})),n&&i().createElement("div",{className:"mobile-widget",onClick:r?f:null},i().createElement("div",{className:"mobile-widget__multiplier-expiration"},i().createElement(l.Text,{size:"xxs"},(0,d.localize)("Expires on")),i().createElement(F.Z,{is_text_only:!0,text_size:"xxs"})),i().createElement($,{is_open:_,toggleModal:f})))})),U=function(e){var t=e.displayed_trade_param,a=e.modal_title,r=q(i().useState(!1),2),n=r[0],o=r[1],l=function(){o(!n)};return i().createElement(i().Fragment,null,i().createElement(D,{is_open:n,toggleModal:l,modal_title:a}),i().createElement("div",{className:"mobile-widget mobile-widget__multiplier-options",onClick:l},i().createElement("div",{className:"mobile-widget__item"},i().createElement("span",{className:"mobile-widget__item-value"},t))))},W=(0,_.$j)((function(e){var t=e.modules;return{displayed_trade_param:"x".concat(t.trade.multiplier),modal_title:(0,d.localize)("Multiplier")}}))(U),R=(0,_.$j)((function(e){var t=e.modules;return{displayed_trade_param:"".concat((0,b.getGrowthRatePercentage)(t.trade.growth_rate),"%"),modal_title:(0,d.localize)("Accumulate")}}))(U),V=a("./src/Modules/Trading/Components/Form/LabeledQuantityInputMobile/index.js"),G=function(e){var t=e.amount,a=e.currency,r=e.current_focus,n=e.is_nativepicker,o=e.is_single_currency,u=e.onChange,s=e.setCurrentFocus;return i().createElement(i().Fragment,null,i().createElement(l.MobileWrapper,null,i().createElement(V.Z,{input_label:(0,d.localize)("Stake"),className:c()("trade-container__amount","trade-container__amount--accumulator"),classNameInlinePrefix:"trade-container__currency",classNameInput:c()("trade-container__input","trade-container__input--accumulator"),currency:a,current_focus:r,fractional_digits:(0,b.getDecimalPlaces)(a),id:"dt_amount_input",inline_prefix:o?a:null,is_autocomplete_disabled:!0,is_float:!0,is_hj_whitelisted:!0,is_incrementable:!0,is_nativepicker:n,is_negative_disabled:!0,max_length:b.AMOUNT_MAX_LENGTH,name:"amount",onChange:u,type:"tel",value:t,ariaLabel:(0,d.localize)("Amount"),setCurrentFocus:s})))};G.propTypes={amount:n().oneOfType([n().number,n().string]),currency:n().string,current_focus:n().string,is_nativepicker:n().bool,is_single_currency:n().bool,onChange:n().func,setCurrentFocus:n().func};const B=(0,_.$j)((function(e){var t=e.modules,a=e.client,r=e.ui;return{amount:t.trade.amount,currency:t.trade.currency,current_focus:r.current_focus,is_single_currency:a.is_single_currency,onChange:t.trade.onChange,setCurrentFocus:r.setCurrentFocus}}))(G);var H=a("./src/Modules/Trading/Components/Form/TradeParams/Accumulator/accumulators-info-display.jsx"),Y=a("./src/Modules/Trading/Components/Form/TradeParams/barrier.jsx");function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var X=(0,d.localize)("OK"),J=function(e,t,a,r,n,o){"stake"===r&&t!==o?(e.basis="stake",e.amount=t):"payout"===r&&a!==o?(e.basis="payout",e.amount=a):n!==r&&(e.basis=r,e.amount=o)},ee=(0,_.$j)((function(e){var t=e.modules;return{duration_min_max:t.trade.duration_min_max,onChangeMultiple:t.trade.onChangeMultiple,trade_basis:t.trade.basis,trade_amount:t.trade.amount,trade_duration:t.trade.duration,trade_duration_unit:t.trade.duration_unit}}))((function(e){var t=e.setDurationError,a=e.basis_option,r=e.toggleModal,n=e.onChangeMultiple,o=e.duration_min_max,u=e.has_amount_error,s=e.trade_duration,c=e.trade_basis,_=e.trade_amount,m=e.trade_duration_unit,p=e.payout_value,f=e.stake_value,v=e.selected_duration,g=e.setSelectedDuration;i().useEffect((function(){t(!1)}),[]);var y=K((0,b.getDurationMinMaxValues)(o,"tick","t"),2),h=y[0],E=y[1],x=s<h&&v<h?h:v;return i().createElement("div",{className:"trade-params__duration-tickpicker"},i().createElement(l.TickPicker,{default_value:x,submit_label:X,max_value:E,min_value:h,onSubmit:function(e){var t=e.target.value,o={};u||J(o,f,p,a,c,_),s===t&&"t"===m||(o.duration_unit="t",o.duration=t),(0,b.isEmptyObject)(o)||n(o),r()},onValueChange:function(e){return g("t",e)},singular_label:(0,d.localize)("Tick"),plural_label:(0,d.localize)("Ticks")}))})),te=(0,_.$j)((function(e){var t=e.modules,a=e.ui;return{duration_min_max:t.trade.duration_min_max,trade_duration:t.trade.duration,trade_duration_unit:t.trade.duration_unit,trade_basis:t.trade.basis,trade_amount:t.trade.amount,onChangeMultiple:t.trade.onChangeMultiple,addToast:a.addToast}}))((function(e){var t=e.addToast,a=e.setDurationError,r=e.basis_option,n=e.toggleModal,o=e.onChangeMultiple,u=e.duration_min_max,s=e.duration_unit_option,c=e.has_amount_error,_=e.contract_expiry,m=void 0===_?"intraday":_,p=e.payout_value,f=e.stake_value,v=e.trade_amount,g=e.trade_basis,y=e.trade_duration_unit,h=e.trade_duration,E=e.selected_duration,x=e.setSelectedDuration,w=s.value,k=K((0,b.getDurationMinMaxValues)(u,m,w),2),j=k[0],S=k[1],C=function(e){var r=i().createElement(d.Localize,{i18n_default_text:"Should be between {{min}} and {{max}}",values:{min:j,max:(0,b.addComma)(S,0,!1)}});return parseInt(e)<j||parseInt(E)>S?(t({key:"duration_error",content:r,type:"error",timeout:2e3}),a(!0),"error"):parseInt(e)>S?(t({key:"duration_error",content:r,type:"error",timeout:2e3}),"error"):e.toString().length<1?(t({key:"duration_error",content:r,type:"error",timeout:2e3}),a(!0),!1):(a(!1),!0)};return i().createElement("div",{className:"trade-params__amount-keypad"},i().createElement(l.Numpad,{value:E,onSubmit:function(e){var t={};c||J(t,f,p,r,g,v),h===e&&y===w||(t.duration_unit=w,t.duration=e,t.expiry_type="duration"),(0,b.isEmptyObject)(t)||o(t),n()},render:function(e){var t=e.value,a=e.className;return i().createElement("div",{className:a},t)},pip_size:0,submit_label:X,min:j,max:S,reset_press_interval:350,reset_value:"",onValidate:C,onValueChange:function(e){x(w,e),C(e)}}))}));const ae=(0,_.$j)((function(e){var t=e.modules;return{duration_units_list:t.trade.duration_units_list,duration_min_max:t.trade.duration_min_max,duration_unit:t.trade.duration_unit,trade_basis:t.trade.basis}}))((function(e){var t=e.amount_tab_idx,a=e.toggleModal,r=e.duration_units_list,n=e.duration_unit,o=e.duration_tab_idx,u=e.duration_min_max,s=e.has_amount_error,c=e.setDurationTabIdx,_=e.setDurationError,m=e.t_duration,p=e.s_duration,f=e.m_duration,v=e.h_duration,g=e.d_duration,y=e.setSelectedDuration,h=e.trade_basis,E=e.stake_value,x=e.payout_value,w={t_duration:m,s_duration:p,m_duration:f,h_duration:v,d_duration:g},k=void 0!==o?o:r.findIndex((function(e){return e.value===n})),j=K((0,b.getDurationMinMaxValues)(u,"daily","d"),2),S=j[0],C=j[1],A=function(e){y("d",e)},O=function(){return 0===t?"stake":1===t?"payout":h};return i().createElement("div",null,i().createElement(l.Tabs,{active_index:k,onTabItemClick:function(e){return function(e){c(e);var t=r[e].value;y(t,w["".concat(t,"_duration")])}(e)},single_tab_has_no_label:!0,top:!0},r.map((function(e){switch(e.value){case"t":return i().createElement("div",{label:e.text,key:e.value},i().createElement(ee,{basis_option:O(),has_amount_error:s,toggleModal:a,selected_duration:m,setDurationError:_,setSelectedDuration:y,stake_value:E,payout_value:x}));case"s":return i().createElement("div",{label:e.text,key:e.value},i().createElement(te,{basis_option:O(),has_amount_error:s,toggleModal:a,duration_unit_option:e,selected_duration:p,setDurationError:_,setSelectedDuration:y,stake_value:E,payout_value:x}));case"m":return i().createElement("div",{label:e.text,key:e.value},i().createElement(te,{basis_option:O(),has_amount_error:s,toggleModal:a,duration_unit_option:e,selected_duration:f,setDurationError:_,setSelectedDuration:y,stake_value:E,payout_value:x}));case"h":return i().createElement("div",{label:e.text,key:e.value},i().createElement(te,{basis_option:O(),has_amount_error:s,toggleModal:a,duration_unit_option:e,selected_duration:v,setDurationError:_,setSelectedDuration:y,stake_value:E,payout_value:x}));case"d":return i().createElement("div",{label:e.text,key:e.value},i().createElement(te,{basis_option:O(),has_amount_error:s,toggleModal:a,duration_unit_option:e,contract_expiry:"daily",selected_duration:g,setDurationError:_,setSelectedDuration:y,stake_value:E,payout_value:x}),i().createElement(l.RelativeDatepicker,{onChange:A,min_date:S,max_date:C,title:(0,d.localize)("Pick an end date")}));default:return null}}))))}));var re=a("./src/Modules/Trading/Components/Form/TradeParams/last-digit.jsx"),ne=a("mobx-react");function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(Object(a),!0).forEach((function(t){se(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function se(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==oe(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===oe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ce=Object.freeze({t:5,s:15,m:3,h:1,d:1}),de=function(e,t){return ue(ue({},e),t)},_e=function(e){var t,a,r=e.amount,n=e.duration,o=e.duration_unit,u=e.form_components,s=e.is_open,c=e.enableApp,_=e.disableApp,m=e.toggleModal,p=e.currency,f=e.duration_units_list,b=e.is_vanilla,v=i().useCallback((t=n,a=o,function(e){return a===e?t:ce[e]}),[]),g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i().useReducer(de,{trade_param_tab_idx:0,duration_tab_idx:void 0,amount_tab_idx:void 0,has_amount_error:!1,has_duration_error:!1,curr_duration_unit:o,curr_duration_value:n,t_duration:v("t"),s_duration:v("s"),m_duration:v("m"),h_duration:v("h"),d_duration:v("d"),stake_value:r,payout_value:r}),2),y=g[0],h=g[1];(0,l.usePreventIOSZoom)(),i().useEffect((function(){x(o,n),E(void 0)}),[n,o]);var E=function(e){return h({duration_tab_idx:e})},x=function(e,t){var a;h((se(a={},"".concat(e,"_duration"),t),se(a,"curr_duration_unit",e),se(a,"curr_duration_value",t),a))};return i().createElement(i().Fragment,null,i().createElement(l.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:c,is_open:s,header:i().createElement("div",null),disableApp:_,toggleModal:m,height:"auto",width:"calc(100vw - 32px)",renderTitle:function(){return b&&1===y.trade_param_tab_idx?i().createElement("div",{className:"trade-params__vanilla-ic-info-wrapper"},i().createElement(l.Popover,{alignment:"bottom",icon:"info",id:"dt_vanilla-stake__tooltip",zIndex:9999,is_bubble_hover_enabled:!0,arrow_styles:{top:"-9px"},message:i().createElement(d.Localize,{i18n_default_text:"Your stake is a non-refundable one-time premium to purchase this contract. Your total profit/loss equals the contract value minus your stake."}),classNameWrapper:"trade-params--modal-wrapper",classNameBubble:"trade-params--modal-wrapper__content--vanilla"})):null}},i().createElement(l.ThemedScrollbars,null,i().createElement(l.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"120px"},i().createElement(pe,{currency:p,toggleModal:m,isVisible:function(e){return u.includes(e)},setTradeParamTabIdx:function(e){return h({trade_param_tab_idx:e})},trade_param_tab_idx:y.trade_param_tab_idx,setDurationTabIdx:E,duration_tab_idx:y.duration_tab_idx,setAmountTabIdx:function(e){return h({amount_tab_idx:e})},amount_tab_idx:y.amount_tab_idx,setSelectedAmount:function(e,t){return h(se({},"".concat(e,"_value"),t))},stake_value:y.stake_value,payout_value:y.payout_value,duration_unit:y.curr_duration_unit,duration_value:y.curr_duration_value,duration_units_list:f,has_amount_error:y.has_amount_error,setAmountError:function(e){h({has_amount_error:e})},setSelectedDuration:x,has_duration_error:y.has_duration_error,setDurationError:function(e){h({has_duration_error:e})},t_duration:y.t_duration,s_duration:y.s_duration,m_duration:y.m_duration,h_duration:y.h_duration,d_duration:y.d_duration})))))};_e.propTypes={amount:n().oneOfType([n().number,n().string]),duration:n().oneOfType([n().string,n().number]),duration_unit:n().string,duration_units_list:ne.PropTypes.arrayOrObservableArray,form_components:ne.PropTypes.arrayOrObservableArray,is_open:n().bool,is_vanilla:n().bool,disableApp:n().func,enableApp:n().func,toggleModal:n().func,currency:n().string};const me=(0,_.$j)((function(e){var t=e.client,a=e.modules,r=e.ui;return{amount:a.trade.amount,form_components:a.trade.form_components,currency:t.currency,duration:a.trade.duration,duration_unit:a.trade.duration_unit,duration_units_list:a.trade.duration_units_list,expiry_type:a.trade.expiry_type,enableApp:r.enableApp,disableApp:r.disableApp,is_vanilla:a.trade.is_vanilla}}))(_e);var pe=(0,_.$j)((function(e){var t=e.modules;return{basis_list:t.trade.basis_list,basis:t.trade.basis,is_vanilla:t.trade.is_vanilla}}))((function(e){var t=e.currency,a=e.toggleModal,r=e.isVisible,n=e.setAmountTabIdx,o=e.amount_tab_idx,u=e.setTradeParamTabIdx,s=e.trade_param_tab_idx,_=e.setDurationTabIdx,m=e.duration_unit,p=e.duration_units_list,f=e.duration_value,b=e.duration_tab_idx,v=e.has_amount_error,g=e.has_duration_error,y=e.is_vanilla,h=e.setAmountError,E=e.setSelectedAmount,x=e.stake_value,w=e.payout_value,k=e.setDurationError,j=e.setSelectedDuration,C=e.t_duration,A=e.s_duration,O=e.m_duration,M=e.h_duration,T=e.d_duration,N=e.basis_list,z=e.basis,P=function(e){switch(e){case"duration":return i().createElement("div",{className:"trade-params__header"},i().createElement("div",{className:"trade-params__header-label"},(0,d.localize)("Duration")),i().createElement("div",{className:c()("trade-params__header-value",{"trade-params__header-value--has-error":g})},g?(0,d.localize)("Error"):(r=p.find((function(e){return e.value===m})),"".concat(f," ").concat(r&&(f>1?(0,d.localize)(r.text):(0,d.localize)(r.text.slice(0,-1)))))));case"amount":return i().createElement("div",{className:"trade-params__header"},i().createElement("div",{className:"trade-params__header-label"},y?(0,d.localize)("Stake"):(0,d.localize)("Amount")),i().createElement("div",{className:c()("trade-params__header-value",{"trade-params__header-value--has-error":v})},v?(0,d.localize)("Error"):(a=void 0!==o?o:N.findIndex((function(e){return e.value===z})),i().createElement(l.Money,{currency:t,show_currency:!0,amount:1===a?w:x}))));default:return null}var a,r};return i().createElement(l.Tabs,{active_index:s,className:"trade-params-duration-amount",onTabItemClick:u,top:!0},r("duration")&&i().createElement("div",{"data-header-content":P("duration")},i().createElement(ae,{toggleModal:a,amount_tab_idx:o,duration_tab_idx:b,setDurationTabIdx:_,setSelectedDuration:j,setDurationError:k,has_amount_error:v,t_duration:C,s_duration:A,m_duration:O,h_duration:M,d_duration:T,stake_value:x,payout_value:w})),r("amount")&&i().createElement("div",{"data-header-content":P("amount")},i().createElement(S,{duration_unit:m,duration_value:f,toggleModal:a,amount_tab_idx:o,setAmountTabIdx:n,has_duration_error:g,setSelectedAmount:E,setAmountError:h,stake_value:x,payout_value:w})))})),fe=(0,_.$j)((function(e){return{form_components:e.modules.trade.form_components}}))((function(e){return e.form_components.includes("last_digit")&&i().createElement(re.Z,null)})),be=(0,_.$j)((function(e){return{form_components:e.modules.trade.form_components}}))((function(e){return e.form_components.includes("barrier")&&i().createElement(Y.Z,null)})),ve=a("./src/Modules/Trading/Containers/contract-type.jsx");function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const he=(0,_.$j)((function(e){var t=e.modules,a=e.ui;return{amount:t.trade.amount,basis:t.trade.basis,currency:t.trade.currency,duration:t.trade.duration,duration_min_max:t.trade.duration_min_max,duration_unit:t.trade.duration_unit,form_components:t.trade.form_components,is_multiplier:t.trade.is_multiplier,last_digit:t.trade.last_digit,onChange:t.trade.onChange,onChangeUiStore:a.onChangeUiStore,trade_store:t.trade}}))((function(e){var t=e.amount,a=e.basis,r=e.currency,n=e.duration,o=e.duration_min_max,u=e.duration_unit,s=e.form_components,c=e.is_collapsed,_=e.is_multiplier,m=e.last_digit,p=e.onChange,f=e.onChangeUiStore,v=e.toggleDigitsWidget,g=e.trade_store,y=ge(i().useState(!1),2),h=y[0],E=y[1];i().useEffect((function(){x()}));var x=function(){var e=(0,b.getExpiryType)(g),t=ge((0,b.getDurationMinMaxValues)(o,e,u),2),a=t[0],r=t[1];"tick"===e&&n<a&&(f({name:"duration_".concat(u),value:a}),p({target:{name:"duration",value:a}})),!(n<a)&&n>r&&(f({name:"duration_".concat(u),value:r}),p({target:{name:"duration",value:r}}))},w=function(){return E(!h)},k=(0,b.getLocalizedBasis)();return i().createElement("div",{className:"mobile-widget__wrapper"},_?i().createElement(L,null):i().createElement("div",{id:"duration_amount_selector",className:"mobile-widget",onClick:w},i().createElement("div",{className:"mobile-widget__duration"},function(){if(!u)return"";var e={t:[(0,d.localize)("tick"),(0,d.localize)("ticks")],s:[(0,d.localize)("second"),(0,d.localize)("seconds")],m:[(0,d.localize)("min"),(0,d.localize)("mins")],h:[(0,d.localize)("hour"),(0,d.localize)("hours")],d:[(0,d.localize)("day"),(0,d.localize)("days")]};try{if(!u)return"";var t=1==+n?e[u][0]:e[u][1];return"".concat(n," ").concat(t)}catch(e){return""}}()),i().createElement("div",{className:"mobile-widget__amount"},i().createElement(l.Money,{amount:t,currency:r,show_currency:!0})),i().createElement("div",{className:"mobile-widget__type"},function(){switch(a){case"stake":return k.stake;case"payout":return k.payout;default:return a}}())),i().createElement(me,{is_open:h,toggleModal:w}),("last_digit",s.includes("last_digit")&&c&&i().createElement("div",{className:"mobile-widget",onClick:v},i().createElement("div",{className:"mobile-widget__amount"},i().createElement(d.Localize,{i18n_default_text:"Digit: {{last_digit}} ",values:{last_digit:m}})))))}));var Ee=a("./src/Modules/Trading/Containers/purchase.jsx"),xe=a("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/stop-loss.jsx"),we=a("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.jsx"),ke=a("./src/Stores/Modules/Trading/Helpers/multiplier.js"),je=a("./src/App/Components/Form/fieldset.jsx");function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Ce=(0,_.$j)((function(e){var t=e.ui;return{disableApp:t.disableApp,enableApp:t.enableApp,is_loading:t.is_loading,should_show_cancellation_warning:t.should_show_cancellation_warning,toggleCancellationWarning:t.toggleCancellationWarning}}))((function(e){var t=e.disableApp,a=e.enableApp,r=e.is_visible,n=e.onConfirm,o=e.onCancel,u=e.should_show_cancellation_warning,s=e.toggleCancellationWarning;return i().createElement(l.Dialog,{className:"trade-params__multiplier-deal-cancellation-dialog",title:(0,d.localize)("About deal cancellation"),confirm_button_text:(0,d.localize)("Got it"),cancel_button_text:(0,d.localize)("Cancel"),onConfirm:n,onCancel:o,is_mobile_full_width:!1,is_visible:r,disableApp:t,enableApp:a,portal_element_id:"modal_root"},i().createElement(l.Text,{size:"xxxs",color:"general"},i().createElement(d.Localize,{i18n_default_text:"Take profit and/or stop loss are not available while deal cancellation is active."})),i().createElement(l.Checkbox,{defaultChecked:!u,onChange:function(){return s()},name:"should_show_cancellation_warning",label:(0,d.localize)("Don't show this again")}))}));const Ae=(0,_.$j)((function(e){var t=e.ui;return{cancellation_range_list:e.modules.trade.cancellation_range_list,should_show_cancellation_warning:t.should_show_cancellation_warning}}))((function(e){var t=e.has_cancellation,a=e.has_take_profit,r=e.has_stop_loss,n=e.onChangeMultiple,o=e.cancellation_duration,u=e.cancellation_range_list,s=e.should_show_cancellation_warning,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i().useState(!1),2),_=c[0],m=c[1];return i().createElement(i().Fragment,null,i().createElement(Ce,{is_visible:_,onCancel:function(){return m(!1)},onConfirm:function(){m(!1),(0,ke.Lf)({has_cancellation:t,onChangeMultiple:n})}}),i().createElement(je.Z,{className:"trade-container__fieldset"},i().createElement("div",{className:"dc-input-wrapper--inline"},i().createElement(l.Checkbox,{id:"dt_cancellation-checkbox_input",onChange:function(){var e;(e=(a||r)&&s)&&m(e),e||(0,ke.Lf)({has_cancellation:t,onChangeMultiple:n})},name:"has_cancellation",label:(0,d.localize)("Deal cancellation"),defaultChecked:t}),i().createElement(l.Popover,{alignment:"left",icon:"info",id:"dt_multiplier-stake__tooltip",is_bubble_hover_enabled:!0,classNameBubble:"trade-container__deal-cancellation-popover",zIndex:9999,message:(0,d.localize)("Cancel your trade anytime within a chosen time-frame. Triggered automatically if your trade reaches the stop out level within the chosen time-frame.")})),t&&i().createElement(i().Fragment,null,i().createElement(l.RadioGroup,{className:"trade-params__multiplier-radio-group",name:"trade-params__multiplier-radio",selected:o,onToggle:function(e){return(0,ke.Qu)({event:e,onChangeMultiple:n})}},u.map((function(e){var t=e.text,a=e.value;return i().createElement(l.RadioGroup.Item,{key:a,id:t,label:t,value:a.toString()})}))))))}));function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){Ne(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ne(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==Oe(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Oe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const Ie=(0,_.$j)((function(e){var t=e.modules;return{take_profit:t.trade.take_profit,has_take_profit:t.trade.has_take_profit,stop_loss:t.trade.stop_loss,has_stop_loss:t.trade.has_stop_loss,has_cancellation:t.trade.has_cancellation,cancellation_range_list:t.trade.cancellation_range_list,cancellation_duration:t.trade.cancellation_duration,onChangeMultiple:t.trade.onChangeMultiple}}))((function(e){var t,a,r=e.is_open,n=e.onClose,o=e.take_profit,u=e.stop_loss,s=e.has_take_profit,_=e.has_stop_loss,m=e.has_cancellation,p=e.cancellation_duration,f=e.cancellation_range_list,v=e.onChangeMultiple,g=e.toggleDialog,y={take_profit:o,stop_loss:u,has_take_profit:s,has_stop_loss:_,has_cancellation:m,cancellation_duration:p},h=ze(i().useState(y),2),E=h[0],x=h[1],w=ze(i().useState({}),2),k=w[0],j=w[1],S=(null==f?void 0:f.length)>0,C=function(e){var t=["has_take_profit","has_stop_loss","has_cancellation",e.has_take_profit&&"take_profit",e.has_stop_loss&&"stop_loss",e.has_cancellation&&"cancellation_duration"];return(0,b.pick)(e,t)},A=function(e){j({take_profit:e.has_take_profit&&!e.take_profit?[(0,d.localize)("Please enter a take profit amount.")]:[],stop_loss:e.has_stop_loss&&!e.stop_loss?[(0,d.localize)("Please enter a stop loss amount.")]:[]})},O=function(e){var t=e.target,a=t.name,r=t.value,n=Te({},E);n[a]=r,x(n),A(n)},M=function(e){var t=Te({},E);Object.assign(t,e),x(t),A(t)};return i().createElement(i().Fragment,null,i().createElement(l.MobileDialog,{portal_element_id:"modal_root",visible:r,has_content_scroll:!0,onClose:function(){x(y),n.apply(void 0,arguments)}},i().createElement(l.Div100vhContainer,{className:c()("trade-params__multiplier-risk-management-dialog",{"trade-params__multiplier-risk-management-dialog--no-cancel":!S}),height_offset:"54px"},i().createElement(we.Z,{take_profit:E.take_profit,has_take_profit:E.has_take_profit,onChange:O,onChangeMultiple:M,validation_errors:k}),i().createElement(xe.Z,{stop_loss:E.stop_loss,has_stop_loss:E.has_stop_loss,onChange:O,onChangeMultiple:M,validation_errors:k}),S&&i().createElement(Ae,{has_take_profit:E.has_take_profit,has_stop_loss:E.has_stop_loss,has_cancellation:E.has_cancellation,cancellation_duration:E.cancellation_duration,onChangeMultiple:M}),i().createElement("div",{className:"trade-params__multiplier-risk-management-dialog-bottom-separator"}),i().createElement("div",{className:"trade-params__multiplier-risk-management-dialog-apply-button"},i().createElement(l.Button,{text:(0,d.localize)("Apply"),onClick:function(){v(E),g()},primary:!0,is_disabled:(null===(t=k.take_profit)||void 0===t?void 0:t.length)>0||(null===(a=k.stop_loss)||void 0===a?void 0:a.length)>0||(0,b.isDeepEqual)(C(E),C(y))})))))}));function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}const Fe=(0,_.$j)((function(e){var t=e.modules;return{currency:t.trade.currency,stop_loss:t.trade.stop_loss,has_stop_loss:t.trade.has_stop_loss,take_profit:t.trade.take_profit,has_take_profit:t.trade.has_take_profit,cancellation_duration:t.trade.cancellation_duration,cancellation_range_list:t.trade.cancellation_range_list,has_cancellation:t.trade.has_cancellation}}))((function(e){var t,a=e.currency,r=e.stop_loss,n=e.take_profit,o=e.has_take_profit,u=e.has_stop_loss,s=e.cancellation_duration,c=e.cancellation_range_list,_=e.has_cancellation,m=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,l=[],u=!0,s=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;u=!1}else for(;!(u=(r=o.call(a)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,n=e}finally{try{if(!u&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(s)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?De(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i().useState(!1),2),p=m[0],f=m[1],b=o||u||_,v=null===(t=c.find((function(e){return e.value===s})))||void 0===t?void 0:t.text;return i().createElement(i().Fragment,null,i().createElement(Ie,{is_open:p,toggleDialog:function(){f(!p)},onClose:function(){return f(!1)}}),i().createElement("div",{className:"mobile-widget mobile-widget__multiplier-risk-management",onClick:function(){return f(!p)}},!b&&i().createElement("div",{className:"mobile-widget__item"},i().createElement("div",{className:"mobile-widget__item-label"},(0,d.localize)("Risk management")),i().createElement("div",{className:"mobile-widget__item-value"},(0,d.localize)("Not set"))),o&&i().createElement("div",{className:"mobile-widget__item"},i().createElement("div",{className:"mobile-widget__item-label"},(0,d.localize)("Take profit")),i().createElement("div",{className:"mobile-widget__item-value"},i().createElement(l.Money,{amount:n,currency:a,show_currency:!0}))),u&&i().createElement("div",{className:"mobile-widget__item"},i().createElement("div",{className:"mobile-widget__item-label"},(0,d.localize)("Stop loss")),i().createElement("div",{className:"mobile-widget__item-value"},i().createElement(l.Money,{amount:r,currency:a,show_currency:!0}))),_&&i().createElement("div",{className:"mobile-widget__item"},i().createElement("div",{className:"mobile-widget__item-label"},(0,d.localize)("Deal Cancellation")),i().createElement("div",{className:"mobile-widget__item-value"},v))))}));var $e=a("./src/Modules/Contract/Components/AccumulatorsStats/index.js"),qe=a("./src/Modules/Trading/Components/Form/TradeParams/strike.jsx"),Ze=a("./src/Modules/Trading/Components/Form/TradeParams/vanilla-trade-types.jsx"),Le=["is_trade_enabled","duration_unit","contract_types_list","contract_type","expiry_type","contract_start_type"];function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ue.apply(this,arguments)}var We=function(e){var t=e.form_components,a=e.has_allow_equals,r=e.has_take_profit,n=e.previous_symbol,o=e.is_allow_equal,u=e.is_accumulator,s=e.is_trade_params_expanded,d=e.is_multiplier,_=e.is_vanilla,m=e.onChange,f=e.take_profit,b=e.setIsTradeParamsExpanded;i().useEffect((function(){n&&o&&a&&b(!0)}),[n]);var v=!s,g=function(e){return t.includes(e)};return i().createElement(l.Collapsible,{position:"top",is_collapsed:v,onClick:function(e){b(e)}},u&&v&&i().createElement($e.Z,null),i().createElement("div",{className:"trade-params__contract-type-container"},i().createElement(ve.Z,null),d&&i().createElement(W,null),u&&i().createElement(R,null),_&&i().createElement(Ze.Z,null)),g("last_digit")&&i().createElement("div",{"data-collapsible":"true"},i().createElement(fe,null)),g("barrier")&&i().createElement("div",{"data-collapsible":"true"},i().createElement(be,null)),g("strike")&&i().createElement("div",{"data-collapsible":"true"},i().createElement(qe.Z,null)),!u&&i().createElement(he,{is_collapsed:v,toggleDigitsWidget:function(){b(!0)}}),a&&i().createElement(p,{"data-collapsible":"true"}),d&&i().createElement("div",{"data-collapsible":"true"},i().createElement(Fe,null)),u&&[i().createElement(B,{key:"accu_amount"}),i().createElement("div",{"data-collapsible":"true",key:"accu_take_profit",className:c()("take-profit","mobile-widget")},i().createElement(we.Z,{take_profit:f,has_take_profit:r,onChange:m,has_info:!1})),i().createElement("div",{"data-collapsible":"true",key:"accu_info"},i().createElement(H.Z,null))],_?i().createElement(Ee.Z,null):i().createElement("div",{className:"purchase-container".concat(u?"--accumulator":"")},i().createElement(Ee.Z,null)))},Re=function(e){var t=e.is_trade_enabled,a=e.duration_unit,r=e.contract_types_list,n=e.contract_type,o=e.expiry_type,l=e.contract_start_type,s=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,Le),c=(0,f.OW)(r,a,l),d=(0,f.vy)(r),_=(0,f.i$)(n)&&(c||"endtime"===o)&&d;return t?i().createElement(We,Ue({has_allow_equals:_},s)):i().createElement("div",{className:"mobile-wrapper__content-loader"},i().createElement(u.G,{speed:2}))};Re.propTypes={contract_start_type:n().string,contract_type:n().string,contract_types_list:n().object,duration_unit:n().string,expiry_type:n().string,is_trade_enabled:n().bool};const Ve=(0,_.$j)((function(e){var t=e.modules;return{is_accumulator:t.trade.is_accumulator,is_allow_equal:!!t.trade.is_equal,is_multiplier:t.trade.is_multiplier,is_vanilla:t.trade.is_vanilla,duration_unit:t.trade.duration_unit,contract_types_list:t.trade.contract_types_list,contract_type:t.trade.contract_type,expiry_type:t.trade.expiry_type,contract_start_type:t.trade.contract_start_type,form_components:t.trade.form_components,has_take_profit:t.trade.has_take_profit,onChange:t.trade.onChange,previous_symbol:t.trade.previous_symbol,is_trade_params_expanded:t.trade.is_trade_params_expanded,setIsTradeParamsExpanded:t.trade.setIsTradeParamsExpanded,take_profit:t.trade.take_profit}}))(Re)}}]);